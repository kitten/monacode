var Bs=Object.defineProperty,kN=Object.prototype.hasOwnProperty,fd=(d,a)=>()=>(a||(a={exports:{}},d(a.exports,a)),a.exports),lN=d=>Bs(d,"__esModule",{value:!0}),gd=(d,a)=>{lN(d);for(var b in a)Bs(d,b,{get:a[b],enumerable:!0})},W4=(d,a)=>{lN(d);if(typeof a==="object"||typeof a==="function")for(let b in a)kN.call(a,b)&&!kN.call(d,b)&&b!=="default"&&Bs(d,b,{get:()=>a[b],enumerable:!0});return d},Ic=d=>d&&d.__esModule?d:W4(Bs({},"default",{value:d,enumerable:!0}),d);var uG=fd((d,a)=>{(function(b,c){typeof d==="object"&&typeof a!=="undefined"?c():typeof define==="function"&&define.amd?define(c):c()})(d,function(){"use strict";function b(o){var p=this.constructor;return this.then(function(q){return p.resolve(o()).then(function(){return q})},function(q){return p.resolve(o()).then(function(){return p.reject(q)})})}var c=setTimeout;function e(){}function f(o,p){return function(){o.apply(p,arguments)}}function g(o){if(!(this instanceof g))throw new TypeError("Promises must be constructed via new");if(typeof o!=="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(o,this)}function h(o,p){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(p);return}o._handled=!0,g._immediateFn(function(){var q=o._state===1?p.onFulfilled:p.onRejected;if(q===null){(o._state===1?i:j)(p.promise,o._value);return}var r;try{r=q(o._value)}catch(t){j(p.promise,t);return}i(p.promise,r)})}function i(o,p){try{if(p===o)throw new TypeError("A promise cannot be resolved with itself.");if(p&&(typeof p==="object"||typeof p==="function")){var q=p.then;if(p instanceof g){o._state=3,o._value=p,k(o);return}else if(typeof q==="function"){m(f(q,p),o);return}}o._state=1,o._value=p,k(o)}catch(r){j(o,r)}}function j(o,p){o._state=2,o._value=p,k(o)}function k(o){o._state===2&&o._deferreds.length===0&&g._immediateFn(function(){o._handled||g._unhandledRejectionFn(o._value)});for(var p=0,q=o._deferreds.length;p<q;p++)h(o,o._deferreds[p]);o._deferreds=null}function l(o,p,q){this.onFulfilled=typeof o==="function"?o:null,this.onRejected=typeof p==="function"?p:null,this.promise=q}function m(o,p){var q=!1;try{o(function(r){if(q)return;q=!0,i(p,r)},function(r){if(q)return;q=!0,j(p,r)})}catch(r){if(q)return;q=!0,j(p,r)}}g.prototype.catch=function(o){return this.then(null,o)},g.prototype.then=function(o,p){var q=new this.constructor(e);return h(this,new l(o,p,q)),q},g.prototype.finally=b,g.all=function(o){return new g(function(p,q){if(!o||typeof o.length==="undefined")throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(o);if(r.length===0)return p([]);var t=r.length;function v(x,u){try{if(u&&(typeof u==="object"||typeof u==="function")){var y=u.then;if(typeof y==="function"){y.call(u,function(A){v(x,A)},q);return}}r[x]=u,--t===0&&p(r)}catch(A){q(A)}}for(var w=0;w<r.length;w++)v(w,r[w])})},g.resolve=function(o){return o&&typeof o==="object"&&o.constructor===g?o:new g(function(p){p(o)})},g.reject=function(o){return new g(function(p,q){q(o)})},g.race=function(o){return new g(function(p,q){for(var r=0,t=o.length;r<t;r++)o[r].then(p,q)})},g._immediateFn=typeof setImmediate==="function"&&function(o){setImmediate(o)}||function(o){c(o,0)},g._unhandledRejectionFn=function o(p){typeof console!=="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)};var n=function(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("unable to locate global object")}();"Promise"in n?n.Promise.prototype.finally||(n.Promise.prototype.finally=b):n.Promise=g})});var vu=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*#pragma\\s+region\\b"),end:new RegExp("^\\s*#pragma\\s+endregion\\b")}}},a={defaultToken:"",tokenPostfix:".cpp",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["abstract","amp","array","auto","bool","break","case","catch","char","class","const","constexpr","const_cast","continue","cpu","decltype","default","delegate","delete","do","double","dynamic_cast","each","else","enum","event","explicit","export","extern","false","final","finally","float","for","friend","gcnew","generic","goto","if","in","initonly","inline","int","interface","interior_ptr","internal","literal","long","mutable","namespace","new","noexcept","nullptr","__nullptr","operator","override","partial","pascal","pin_ptr","private","property","protected","public","ref","register","reinterpret_cast","restrict","return","safe_cast","sealed","short","signed","sizeof","static","static_assert","static_cast","struct","switch","template","this","thread_local","throw","tile_static","true","try","typedef","typeid","typename","union","unsigned","using","virtual","void","volatile","wchar_t","where","while","_asm","_based","_cdecl","_declspec","_fastcall","_if_exists","_if_not_exists","_inline","_multiple_inheritance","_pascal","_single_inheritance","_stdcall","_virtual_inheritance","_w64","__abstract","__alignof","__asm","__assume","__based","__box","__builtin_alignof","__cdecl","__clrcall","__declspec","__delegate","__event","__except","__fastcall","__finally","__forceinline","__gc","__hook","__identifier","__if_exists","__if_not_exists","__inline","__int128","__int16","__int32","__int64","__int8","__interface","__leave","__m128","__m128d","__m128i","__m256","__m256d","__m256i","__m64","__multiple_inheritance","__newslot","__nogc","__noop","__nounwind","__novtordisp","__pascal","__pin","__pragma","__property","__ptr32","__ptr64","__raise","__restrict","__resume","__sealed","__single_inheritance","__stdcall","__super","__thiscall","__try","__try_cast","__typeof","__unaligned","__unhook","__uuidof","__value","__virtual_inheritance","__w64","__wchar_t"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,integersuffix:/(ll|LL|u|U|l|L)?(ll|LL|u|U|l|L)?/,floatsuffix:/[fFlL]?/,encoding:/u|u8|U|L/,tokenizer:{root:[[/@encoding?R\"(?:([^ ()\\\t]*))\(/,{token:"string.raw.begin",next:"@raw.$1"}],[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/\[\[.*\]\]/,"annotation"],[/^\s*#include/,{token:"keyword.directive.include",next:"@include"}],[/^\s*#\s*\w+/,"keyword"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\d+[eE]([\-+]?\d+)?(@floatsuffix)/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?(@floatsuffix)/,"number.float"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F](@integersuffix)/,"number.hex"],[/0[0-7']*[0-7](@integersuffix)/,"number.octal"],[/0[bB][0-1']*[0-1](@integersuffix)/,"number.binary"],[/\d[\d']*\d(@integersuffix)/,"number"],[/\d(@integersuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@doccomment"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],doccomment:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],raw:[[/(.*)(\))(?:([^ ()\\\t]*))(\")/,{cases:{"$3==$S2":["string.raw","string.raw.end","string.raw.end",{token:"string.raw.end",next:"@pop"}],"@default":["string.raw","string.raw","string.raw","string.raw"]}}],[/.*/,"string.raw"]],include:[[/(\s*)(<)([^<>]*)(>)/,["","keyword.directive.include.begin","string.include.identifier",{token:"keyword.directive.include.end",next:"@pop"}]],[/(\s*)(")([^"]*)(")/,["","keyword.directive.include.begin","string.include.identifier",{token:"keyword.directive.include.end",next:"@pop"}]]]}}});var vC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={wordPattern:/(#?-?\d*\.\d\w*%?)|((::|[@#.!:])?[\w-?]+%?)|::|[@#.!:]/g,comments:{blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},a={defaultToken:"",tokenPostfix:".css",ws:`[ 	
\r\f]*`,identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.bracket"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@selector"}],selector:[{include:"@comments"},{include:"@import"},{include:"@strings"},["[@](keyframes|-webkit-keyframes|-moz-keyframes|-o-keyframes)",{token:"keyword",next:"@keyframedeclaration"}],["[@](page|content|font-face|-moz-document)",{token:"keyword"}],["[@](charset|namespace)",{token:"keyword",next:"@declarationbody"}],["(url-prefix)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],["(url)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],{include:"@selectorname"},["[\\*]","tag"],["[>\\+,]","delimiter"],["\\[",{token:"delimiter.bracket",next:"@selectorattribute"}],["{",{token:"delimiter.bracket",next:"@selectorbody"}]],selectorbody:[{include:"@comments"},["[*_]?@identifier@ws:(?=(\\s|\\d|[^{;}]*[;}]))","attribute.name","@rulevalue"],["}",{token:"delimiter.bracket",next:"@pop"}]],selectorname:[["(\\.|#(?=[^{])|%|(@identifier)|:)+","tag"]],selectorattribute:[{include:"@term"},["]",{token:"delimiter.bracket",next:"@pop"}]],term:[{include:"@comments"},["(url-prefix)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],["(url)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],{include:"@functioninvocation"},{include:"@numbers"},{include:"@name"},["([<>=\\+\\-\\*\\/\\^\\|\\~,])","delimiter"],[",","delimiter"]],rulevalue:[{include:"@comments"},{include:"@strings"},{include:"@term"},["!important","keyword"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],warndebug:[["[@](warn|debug)",{token:"keyword",next:"@declarationbody"}]],import:[["[@](import)",{token:"keyword",next:"@declarationbody"}]],urldeclaration:[{include:"@strings"},[`[^)\r
]+`,"string"],["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],parenthizedterm:[{include:"@term"},["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],declarationbody:[{include:"@term"},[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[/[^*/]+/,"comment"],[/./,"comment"]],name:[["@identifier","attribute.value"]],numbers:[["-?(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"attribute.value.number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","attribute.value.hex"]],units:[["(em|ex|ch|rem|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","attribute.value.unit","@pop"]],keyframedeclaration:[["@identifier","attribute.value"],["{",{token:"delimiter.bracket",switchTo:"@keyframebody"}]],keyframebody:[{include:"@term"},["{",{token:"delimiter.bracket",next:"@selectorbody"}],["}",{token:"delimiter.bracket",next:"@pop"}]],functioninvocation:[["@identifier\\(",{token:"attribute.value",next:"@functionarguments"}]],functionarguments:[["\\$@identifier@ws:","attribute.name"],["[,]","delimiter"],{include:"@term"},["\\)",{token:"attribute.value",next:"@pop"}]],strings:[['~?"',{token:"string",next:"@stringenddoublequote"}],["~?'",{token:"string",next:"@stringendquote"}]],stringenddoublequote:[["\\\\.","string"],['"',{token:"string",next:"@pop"}],[/[^\\"]+/,"string"],[".","string"]],stringendquote:[["\\\\.","string"],["'",{token:"string",next:"@pop"}],[/[^\\']+/,"string"],[".","string"]]}}});var wC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"""',close:'"""',notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"""',close:'"""'},{open:'"',close:'"'}],folding:{offSide:!0}},a={defaultToken:"invalid",tokenPostfix:".gql",keywords:["null","true","false","query","mutation","subscription","extend","schema","directive","scalar","type","interface","union","enum","input","implements","fragment","on"],typeKeywords:["Int","Float","String","Boolean","ID"],directiveLocations:["SCHEMA","SCALAR","OBJECT","FIELD_DEFINITION","ARGUMENT_DEFINITION","INTERFACE","UNION","ENUM","ENUM_VALUE","INPUT_OBJECT","INPUT_FIELD_DEFINITION","QUERY","MUTATION","SUBSCRIPTION","FIELD","FRAGMENT_DEFINITION","FRAGMENT_SPREAD","INLINE_FRAGMENT","VARIABLE_DEFINITION"],operators:["=","!","?",":","&","|"],symbols:/[=!?:&|]+/,escapes:/\\(?:["\\\/bfnrt]|u[0-9A-Fa-f]{4})/,tokenizer:{root:[[/[a-z_][\w$]*/,{cases:{"@keywords":"keyword","@default":"key.identifier"}}],[/[$][\w$]*/,{cases:{"@keywords":"keyword","@default":"argument.identifier"}}],[/[A-Z][\w\$]*/,{cases:{"@typeKeywords":"keyword","@default":"type.identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,{token:"annotation",log:"annotation token: $0"}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"""/,{token:"string",next:"@mlstring",nextEmbedded:"markdown"}],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],mlstring:[[/[^"]+/,"string"],['"""',{token:"string",next:"@pop",nextEmbedded:"@pop"}]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/#.*$/,"comment"]]}}});var xC=fd(e=>{gd(e,{conf:()=>b,language:()=>c});"use strict";var d=typeof monaco==="undefined"?self.monaco:monaco,a=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],b={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,comments:{blockComment:["<!--","-->"]},brackets:[["<!--","-->"],["<",">"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"}],onEnterRules:[{beforeText:new RegExp("<(?!(?:"+a.join("|")+"))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$","i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>$/i,action:{indentAction:d.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp("<(?!(?:"+a.join("|")+"))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),action:{indentAction:d.languages.IndentAction.Indent}}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#endregion\\b.*-->")}}},c={defaultToken:"",tokenPostfix:".html",ignoreCase:!0,tokenizer:{root:[[/<!DOCTYPE/,"metatag","@doctype"],[/<!--/,"comment","@comment"],[/(<)((?:[\w\-]+:)?[\w\-]+)(\s*)(\/>)/,["delimiter","tag","","delimiter"]],[/(<)(script)/,["delimiter",{token:"tag",next:"@script"}]],[/(<)(style)/,["delimiter",{token:"tag",next:"@style"}]],[/(<)((?:[\w\-]+:)?[\w\-]+)/,["delimiter",{token:"tag",next:"@otherTag"}]],[/(<\/)((?:[\w\-]+:)?[\w\-]+)/,["delimiter",{token:"tag",next:"@otherTag"}]],[/</,"delimiter"],[/[^<]+/]],doctype:[[/[^>]+/,"metatag.content"],[/>/,"metatag","@pop"]],comment:[[/-->/,"comment","@pop"],[/[^-]+/,"comment.content"],[/./,"comment.content"]],otherTag:[[/\/?>/,"delimiter","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter","tag",{token:"delimiter",next:"@pop"}]]],scriptAfterType:[[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/>/,{token:"delimiter",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]],style:[[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter","tag",{token:"delimiter",next:"@pop"}]]],styleAfterType:[[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/>/,{token:"delimiter",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]]}}});var wu=fd(c=>{gd(c,{conf:()=>a,language:()=>b});"use strict";var d=typeof monaco==="undefined"?self.monaco:monaco,a={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:d.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:d.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:d.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:d.languages.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],folding:{markers:{start:new RegExp("^\\s*//\\s*#?region\\b"),end:new RegExp("^\\s*//\\s*#?endregion\\b")}}},b={defaultToken:"invalid",tokenPostfix:".ts",keywords:["abstract","as","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","infer","instanceof","interface","is","keyof","let","module","namespace","never","new","null","package","private","protected","public","readonly","require","global","return","set","static","super","switch","symbol","this","throw","true","try","type","typeof","unique","var","void","while","with","yield","async","await","of"],typeKeywords:["any","boolean","number","object","string","undefined"],operators:["<=",">=","==","!=","===","!==","=>","+","-","**","*","/","%","++","--","<<","</",">>",">>>","&","|","^","!","~","&&","||","??","?",":","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=","@"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[bBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/\/(?=([^\\\/]|\\.)+\/([gimsuy]*)(\s*)(\.|;|,|\)|\]|\}|$))/,{token:"regexp",bracket:"@open",next:"@regexp"}],[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/!(?=([^=]|$))/,"delimiter"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/0[xX](@hexdigits)n?/,"number.hex"],[/0[oO]?(@octaldigits)n?/,"number.octal"],[/0[bB](@binarydigits)n?/,"number.binary"],[/(@digits)n?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"],[/'/,"string","@string_single"],[/`/,"string","@string_backtick"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@jsdoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],jsdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],regexp:[[/(\{)(\d+(?:,\d*)?)(\})/,["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],[/(\[)(\^?)(?=(?:[^\]\\\/]|\\.)+)/,["regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?:|\?=|\?!)/,["regexp.escape.control","regexp.escape.control"]],[/[()]/,"regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/[^\\\/]/,"regexp"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/(\/)([gimsuy]*)/,[{token:"regexp",bracket:"@close",next:"@pop"},"keyword.other"]]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,{token:"regexp.escape.control",next:"@pop",bracket:"@close"}]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_backtick:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/[^\\`$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/`/,"string","@pop"]],bracketCounting:[[/\{/,"delimiter.bracket","@bracketCounting"],[/\}/,"delimiter.bracket","@pop"],{include:"common"}]}}});var yC=fd(g=>{gd(g,{conf:()=>e,language:()=>f});const d=Ic(wu());"use strict";var c=typeof monaco==="undefined"?self.monaco:monaco,e=d.conf,f={defaultToken:"invalid",tokenPostfix:".js",keywords:["break","case","catch","class","continue","const","constructor","debugger","default","delete","do","else","export","extends","false","finally","for","from","function","get","if","import","in","instanceof","let","new","null","return","set","super","switch","symbol","this","throw","true","try","typeof","undefined","var","void","while","with","yield","async","await","of"],typeKeywords:[],operators:d.language.operators,symbols:d.language.symbols,escapes:d.language.escapes,digits:d.language.digits,octaldigits:d.language.octaldigits,binarydigits:d.language.binarydigits,hexdigits:d.language.hexdigits,regexpctl:d.language.regexpctl,regexpesc:d.language.regexpesc,tokenizer:d.language.tokenizer}});var zC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={wordPattern:/(#?-?\d*\.\d\w*%?)|([@#!.:]?[\w-?]+%?)|[@#!.]/g,comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},a={defaultToken:"",tokenPostfix:".less",identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",identifierPlus:"-?-?([a-zA-Z:.]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-:.]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@nestedJSBegin"},["[ \\t\\r\\n]+",""],{include:"@comments"},{include:"@keyword"},{include:"@strings"},{include:"@numbers"},["[*_]?[a-zA-Z\\-\\s]+(?=:.*(;|(\\\\$)))","attribute.name","@attribute"],["url(\\-prefix)?\\(",{token:"tag",next:"@urldeclaration"}],["[{}()\\[\\]]","@brackets"],["[,:;]","delimiter"],["#@identifierPlus","tag.id"],["&","tag"],["\\.@identifierPlus(?=\\()","tag.class","@attribute"],["\\.@identifierPlus","tag.class"],["@identifierPlus","tag"],{include:"@operators"},["@(@identifier(?=[:,\\)]))","variable","@attribute"],["@(@identifier)","variable"],["@","key","@atRules"]],nestedJSBegin:[["``","delimiter.backtick"],["`",{token:"delimiter.backtick",next:"@nestedJSEnd",nextEmbedded:"text/javascript"}]],nestedJSEnd:[["`",{token:"delimiter.backtick",next:"@pop",nextEmbedded:"@pop"}]],operators:[["[<>=\\+\\-\\*\\/\\^\\|\\~]","operator"]],keyword:[["(@[\\s]*import|![\\s]*important|true|false|when|iscolor|isnumber|isstring|iskeyword|isurl|ispixel|ispercentage|isem|hue|saturation|lightness|alpha|lighten|darken|saturate|desaturate|fadein|fadeout|fade|spin|mix|round|ceil|floor|percentage)\\b","keyword"]],urldeclaration:[{include:"@strings"},[`[^)\r
]+`,"string"],["\\)",{token:"tag",next:"@pop"}]],attribute:[{include:"@nestedJSBegin"},{include:"@comments"},{include:"@strings"},{include:"@numbers"},{include:"@keyword"},["[a-zA-Z\\-]+(?=\\()","attribute.value","@attribute"],[">","operator","@pop"],["@identifier","attribute.value"],{include:"@operators"},["@(@identifier)","variable"],["[)\\}]","@brackets","@pop"],["[{}()\\[\\]>]","@brackets"],["[;]","delimiter","@pop"],["[,=:]","delimiter"],["\\s",""],[".","attribute.value"]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],numbers:[["(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"attribute.value.number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","attribute.value.hex"]],units:[["(em|ex|ch|rem|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","attribute.value.unit","@pop"]],strings:[['~?"',{token:"string.delimiter",next:"@stringsEndDoubleQuote"}],["~?'",{token:"string.delimiter",next:"@stringsEndQuote"}]],stringsEndDoubleQuote:[['\\\\"',"string"],['"',{token:"string.delimiter",next:"@popall"}],[".","string"]],stringsEndQuote:[["\\\\'","string"],["'",{token:"string.delimiter",next:"@popall"}],[".","string"]],atRules:[{include:"@comments"},{include:"@strings"},["[()]","delimiter"],["[\\{;]","delimiter","@pop"],[".","key"]]}}});var AC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={comments:{blockComment:["<!--","-->"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#?region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#?endregion\\b.*-->")}}},a={defaultToken:"",tokenPostfix:".md",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,jsescapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],tokenizer:{root:[[/^\s*\|/,"@rematch","@table_header"],[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/^\s*(=+|\-+)\s*$/,"keyword"],[/^\s*((\*[ ]?)+)\s*$/,"meta.separator"],[/^\s*>+/,"comment"],[/^\s*([\*\-+:]|\d+\.)\s/,"keyword"],[/^(\t|[ ]{4})[^ ].*$/,"string"],[/^\s*~~~\s*((?:\w|[\/\-#])+)?\s*$/,{token:"string",next:"@codeblock"}],[/^\s*```\s*((?:\w|[\/\-#])+).*$/,{token:"string",next:"@codeblockgh",nextEmbedded:"$1"}],[/^\s*```\s*$/,{token:"string",next:"@codeblock"}],{include:"@linecontent"}],table_header:[{include:"@table_common"},[/[^\|]+/,"keyword.table.header"]],table_body:[{include:"@table_common"},{include:"@linecontent"}],table_common:[[/\s*[\-:]+\s*/,{token:"keyword",switchTo:"table_body"}],[/^\s*\|/,"keyword.table.left"],[/^\s*[^\|]/,"@rematch","@pop"],[/^\s*$/,"@rematch","@pop"],[/\|/,{cases:{"@eos":"keyword.table.right","@default":"keyword.table.middle"}}]],codeblock:[[/^\s*~~~\s*$/,{token:"string",next:"@pop"}],[/^\s*```\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblockgh:[[/```\s*$/,{token:"variable.source",next:"@pop",nextEmbedded:"@pop"}],[/[^`]+/,"variable.source"]],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/\{+[^}]+\}+/,"string.target"],[/(!?\[)((?:[^\]\\]|@escapes)*)(\]\([^\)]+\))/,["string.link","","string.link"]],[/(!?\[)((?:[^\]\\]|@escapes)*)(\])/,"string.link"],{include:"html"}],html:[[/<(\w+)\/>/,"tag"],[/<(\w+)/,{cases:{"@empty":{token:"tag",next:"@tag.$1"},"@default":{token:"tag",next:"@tag.$1"}}}],[/<\/(\w+)\s*>/,{token:"tag"}],[/<!--/,"comment","@comment"]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,"comment","@pop"],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],tag:[[/[ \t\r\n]+/,"white"],[/(type)(\s*=\s*)(")([^"]+)(")/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(type)(\s*=\s*)(')([^']+)(')/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(\w+)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name.html","delimiter.html","string.html"]],[/\w+/,"attribute.name.html"],[/\/>/,"tag","@pop"],[/>/,{cases:{"$S2==style":{token:"tag",switchTo:"embeddedStyle",nextEmbedded:"text/css"},"$S2==script":{cases:{$S3:{token:"tag",switchTo:"embeddedScript",nextEmbedded:"$S3"},"@default":{token:"tag",switchTo:"embeddedScript",nextEmbedded:"text/javascript"}}},"@default":{token:"tag",next:"@pop"}}}]],embeddedStyle:[[/[^<]+/,""],[/<\/style\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]],embeddedScript:[[/[^<]+/,""],[/<\/script\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]]}}});var BC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:"(",close:")",notIn:["string"]},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],folding:{markers:{start:new RegExp("^\\s*(#|//)region\\b"),end:new RegExp("^\\s*(#|//)endregion\\b")}}},a={defaultToken:"",tokenPostfix:"",tokenizer:{root:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.root"}],[/<!DOCTYPE/,"metatag.html","@doctype"],[/<!--/,"comment.html","@comment"],[/(<)(\w+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)(script)/,["delimiter.html",{token:"tag.html",next:"@script"}]],[/(<)(style)/,["delimiter.html",{token:"tag.html",next:"@style"}]],[/(<)([:\w]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/(<\/)(\w+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/</,"delimiter.html"],[/[^<]+/]],doctype:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.comment"}],[/[^>]+/,"metatag.content.html"],[/>/,"metatag.html","@pop"]],comment:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.comment"}],[/-->/,"comment.html","@pop"],[/[^-]+/,"comment.content.html"],[/./,"comment.content.html"]],otherTag:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.otherTag"}],[/\/?>/,"delimiter.html","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.script"}],[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],scriptAfterType:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.scriptAfterType"}],[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.scriptAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.scriptWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInEmbeddedState.scriptEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],style:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.style"}],[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],styleAfterType:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.styleAfterType"}],[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.styleAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.styleWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInEmbeddedState.styleEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],phpInSimpleState:[[/<\?((php)|=)?/,"metatag.php"],[/\?>/,{token:"metatag.php",switchTo:"@$S2.$S3"}],{include:"phpRoot"}],phpInEmbeddedState:[[/<\?((php)|=)?/,"metatag.php"],[/\?>/,{token:"metatag.php",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}],{include:"phpRoot"}],phpRoot:[[/[a-zA-Z_]\w*/,{cases:{"@phpKeywords":{token:"keyword.php"},"@phpCompileTimeConstants":{token:"constant.php"},"@default":"identifier.php"}}],[/[$a-zA-Z_]\w*/,{cases:{"@phpPreDefinedVariables":{token:"variable.predefined.php"},"@default":"variable.php"}}],[/[{}]/,"delimiter.bracket.php"],[/[\[\]]/,"delimiter.array.php"],[/[()]/,"delimiter.parenthesis.php"],[/[ \t\r\n]+/],[/(#|\/\/)$/,"comment.php"],[/(#|\/\/)/,"comment.php","@phpLineComment"],[/\/\*/,"comment.php","@phpComment"],[/"/,"string.php","@phpDoubleQuoteString"],[/'/,"string.php","@phpSingleQuoteString"],[/[\+\-\*\%\&\|\^\~\!\=\<\>\/\?\;\:\.\,\@]/,"delimiter.php"],[/\d*\d+[eE]([\-+]?\d+)?/,"number.float.php"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float.php"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F]/,"number.hex.php"],[/0[0-7']*[0-7]/,"number.octal.php"],[/0[bB][0-1']*[0-1]/,"number.binary.php"],[/\d[\d']*/,"number.php"],[/\d/,"number.php"]],phpComment:[[/\*\//,"comment.php","@pop"],[/[^*]+/,"comment.php"],[/./,"comment.php"]],phpLineComment:[[/\?>/,{token:"@rematch",next:"@pop"}],[/.$/,"comment.php","@pop"],[/[^?]+$/,"comment.php","@pop"],[/[^?]+/,"comment.php"],[/./,"comment.php"]],phpDoubleQuoteString:[[/[^\\"]+/,"string.php"],[/@escapes/,"string.escape.php"],[/\\./,"string.escape.invalid.php"],[/"/,"string.php","@pop"]],phpSingleQuoteString:[[/[^\\']+/,"string.php"],[/@escapes/,"string.escape.php"],[/\\./,"string.escape.invalid.php"],[/'/,"string.php","@pop"]]},phpKeywords:["abstract","and","array","as","break","callable","case","catch","cfunction","class","clone","const","continue","declare","default","do","else","elseif","enddeclare","endfor","endforeach","endif","endswitch","endwhile","extends","false","final","for","foreach","function","global","goto","if","implements","interface","instanceof","insteadof","namespace","new","null","object","old_function","or","private","protected","public","resource","static","switch","throw","trait","try","true","use","var","while","xor","die","echo","empty","exit","eval","include","include_once","isset","list","require","require_once","return","print","unset","yield","__construct"],phpCompileTimeConstants:["__CLASS__","__DIR__","__FILE__","__LINE__","__NAMESPACE__","__METHOD__","__FUNCTION__","__TRAIT__"],phpPreDefinedVariables:["$GLOBALS","$_SERVER","$_GET","$_POST","$_FILES","$_REQUEST","$_SESSION","$_ENV","$_COOKIE","$php_errormsg","$HTTP_RAW_POST_DATA","$http_response_header","$argc","$argv"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/}});var CC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#?region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#?endregion\\b.*-->")}}},a={defaultToken:"",tokenPostfix:".rst",control:/[\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],alphanumerics:/[A-Za-z0-9]/,alphanumericsplus:/[A-Za-z0-9-_+:.]/,simpleRefNameWithoutBq:/(?:@alphanumerics@alphanumericsplus*@alphanumerics)+|(?:@alphanumerics+)/,simpleRefName:/(?:`@simpleRefNameWithoutBq`|@simpleRefNameWithoutBq)/,phrase:/@simpleRefName(?:\s@simpleRefName)*/,citationName:/[A-Za-z][A-Za-z0-9-_.]*/,blockLiteralStart:/(?:[!"#$%&'()*+,-./:;<=>?@\[\]^_`{|}~]|[\s])/,precedingChars:/(?:[ -:/'"<([{])/,followingChars:/(?:[ -.,:;!?/'")\]}>]|$)/,punctuation:/(=|-|~|`|#|"|\^|\+|\*|:|\.|'|_|\+)/,tokenizer:{root:[[/^(@punctuation{3,}$){1,1}?/,"keyword"],[/^\s*([\*\-+‣•]|[a-zA-Z0-9]+\.|\([a-zA-Z0-9]+\)|[a-zA-Z0-9]+\))\s/,"keyword"],[/([ ]::)\s*$/,"keyword","@blankLineOfLiteralBlocks"],[/(::)\s*$/,"keyword","@blankLineOfLiteralBlocks"],{include:"@tables"},{include:"@explicitMarkupBlocks"},{include:"@inlineMarkup"}],explicitMarkupBlocks:[{include:"@citations"},{include:"@footnotes"},[/^(\.\.\s)(@simpleRefName)(::\s)(.*)$/,[{token:"",next:"subsequentLines"},"keyword","",""]],[/^(\.\.)(\s+)(_)(@simpleRefName)(:)(\s+)(.*)/,[{token:"",next:"hyperlinks"},"","","string.link","","","string.link"]],[/^((?:(?:\.\.)(?:\s+))?)(__)(:)(\s+)(.*)/,[{token:"",next:"subsequentLines"},"","","","string.link"]],[/^(__\s+)(.+)/,["","string.link"]],[/^(\.\.)( \|)([^| ]+[^|]*[^| ]*)(\| )(@simpleRefName)(:: .*)/,[{token:"",next:"subsequentLines"},"","string.link","","keyword",""],"@rawBlocks"],[/(\|)([^| ]+[^|]*[^| ]*)(\|_{0,2})/,["","string.link",""]],[/^(\.\.)([ ].*)$/,[{token:"",next:"@comments"},"comment"]]],inlineMarkup:[{include:"@citationsReference"},{include:"@footnotesReference"},[/(@simpleRefName)(_{1,2})/,["string.link",""]],[/(`)([^<`]+\s+)(<)(.*)(>)(`)(_)/,["","string.link","","string.link","","",""]],[/\*\*([^\\*]|\*(?!\*))+\*\*/,"strong"],[/\*[^*]+\*/,"emphasis"],[/(``)((?:[^`]|\`(?!`))+)(``)/,["","keyword",""]],[/(__\s+)(.+)/,["","keyword"]],[/(:)((?:@simpleRefNameWithoutBq)?)(:`)([^`]+)(`)/,["","keyword","","",""]],[/(`)([^`]+)(`:)((?:@simpleRefNameWithoutBq)?)(:)/,["","","","keyword",""]],[/(`)([^`]+)(`)/,""],[/(_`)(@phrase)(`)/,["","string.link",""]]],citations:[[/^(\.\.\s+\[)((?:@citationName))(\]\s+)(.*)/,[{token:"",next:"@subsequentLines"},"string.link","",""]]],citationsReference:[[/(\[)(@citationName)(\]_)/,["","string.link",""]]],footnotes:[[/^(\.\.\s+\[)((?:[0-9]+))(\]\s+.*)/,[{token:"",next:"@subsequentLines"},"string.link",""]],[/^(\.\.\s+\[)((?:#@simpleRefName?))(\]\s+)(.*)/,[{token:"",next:"@subsequentLines"},"string.link","",""]],[/^(\.\.\s+\[)((?:\*))(\]\s+)(.*)/,[{token:"",next:"@subsequentLines"},"string.link","",""]]],footnotesReference:[[/(\[)([0-9]+)(\])(_)/,["","string.link","",""]],[/(\[)(#@simpleRefName?)(\])(_)/,["","string.link","",""]],[/(\[)(\*)(\])(_)/,["","string.link","",""]]],blankLineOfLiteralBlocks:[[/^$/,"","@subsequentLinesOfLiteralBlocks"],[/^.*$/,"","@pop"]],subsequentLinesOfLiteralBlocks:[[/(@blockLiteralStart+)(.*)/,["keyword",""]],[/^(?!blockLiteralStart)/,"","@popall"]],subsequentLines:[[/^[\s]+.*/,""],[/^(?!\s)/,"","@pop"]],hyperlinks:[[/^[\s]+.*/,"string.link"],[/^(?!\s)/,"","@pop"]],comments:[[/^[\s]+.*/,"comment"],[/^(?!\s)/,"","@pop"]],tables:[[/\+-[+-]+/,"keyword"],[/\+=[+=]+/,"keyword"]]}}});var DC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={wordPattern:/(#?-?\d*\.\d\w*%?)|([@$#!.:]?[\w-?]+%?)|[@#!.]/g,comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},a={defaultToken:"",tokenPostfix:".scss",ws:`[ 	
\r\f]*`,identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@selector"}],selector:[{include:"@comments"},{include:"@import"},{include:"@variabledeclaration"},{include:"@warndebug"},["[@](include)",{token:"keyword",next:"@includedeclaration"}],["[@](keyframes|-webkit-keyframes|-moz-keyframes|-o-keyframes)",{token:"keyword",next:"@keyframedeclaration"}],["[@](page|content|font-face|-moz-document)",{token:"keyword"}],["[@](charset|namespace)",{token:"keyword",next:"@declarationbody"}],["[@](function)",{token:"keyword",next:"@functiondeclaration"}],["[@](mixin)",{token:"keyword",next:"@mixindeclaration"}],["url(\\-prefix)?\\(",{token:"meta",next:"@urldeclaration"}],{include:"@controlstatement"},{include:"@selectorname"},["[&\\*]","tag"],["[>\\+,]","delimiter"],["\\[",{token:"delimiter.bracket",next:"@selectorattribute"}],["{",{token:"delimiter.curly",next:"@selectorbody"}]],selectorbody:[["[*_]?@identifier@ws:(?=(\\s|\\d|[^{;}]*[;}]))","attribute.name","@rulevalue"],{include:"@selector"},["[@](extend)",{token:"keyword",next:"@extendbody"}],["[@](return)",{token:"keyword",next:"@declarationbody"}],["}",{token:"delimiter.curly",next:"@pop"}]],selectorname:[["#{",{token:"meta",next:"@variableinterpolation"}],["(\\.|#(?=[^{])|%|(@identifier)|:)+","tag"]],selectorattribute:[{include:"@term"},["]",{token:"delimiter.bracket",next:"@pop"}]],term:[{include:"@comments"},["url(\\-prefix)?\\(",{token:"meta",next:"@urldeclaration"}],{include:"@functioninvocation"},{include:"@numbers"},{include:"@strings"},{include:"@variablereference"},["(and\\b|or\\b|not\\b)","operator"],{include:"@name"},["([<>=\\+\\-\\*\\/\\^\\|\\~,])","operator"],[",","delimiter"],["!default","literal"],["\\(",{token:"delimiter.parenthesis",next:"@parenthizedterm"}]],rulevalue:[{include:"@term"},["!important","literal"],[";","delimiter","@pop"],["{",{token:"delimiter.curly",switchTo:"@nestedproperty"}],["(?=})",{token:"",next:"@pop"}]],nestedproperty:[["[*_]?@identifier@ws:","attribute.name","@rulevalue"],{include:"@comments"},["}",{token:"delimiter.curly",next:"@pop"}]],warndebug:[["[@](warn|debug)",{token:"keyword",next:"@declarationbody"}]],import:[["[@](import)",{token:"keyword",next:"@declarationbody"}]],variabledeclaration:[["\\$@identifier@ws:","variable.decl","@declarationbody"]],urldeclaration:[{include:"@strings"},[`[^)\r
]+`,"string"],["\\)",{token:"meta",next:"@pop"}]],parenthizedterm:[{include:"@term"},["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],declarationbody:[{include:"@term"},[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],extendbody:[{include:"@selectorname"},["!optional","literal"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],variablereference:[["\\$@identifier","variable.ref"],["\\.\\.\\.","operator"],["#{",{token:"meta",next:"@variableinterpolation"}]],variableinterpolation:[{include:"@variablereference"},["}",{token:"meta",next:"@pop"}]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],name:[["@identifier","attribute.value"]],numbers:[["(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","number.hex"]],units:[["(em|ex|ch|rem|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","number","@pop"]],functiondeclaration:[["@identifier@ws\\(",{token:"meta",next:"@parameterdeclaration"}],["{",{token:"delimiter.curly",switchTo:"@functionbody"}]],mixindeclaration:[["@identifier@ws\\(",{token:"meta",next:"@parameterdeclaration"}],["@identifier","meta"],["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],parameterdeclaration:[["\\$@identifier@ws:","variable.decl"],["\\.\\.\\.","operator"],[",","delimiter"],{include:"@term"},["\\)",{token:"meta",next:"@pop"}]],includedeclaration:[{include:"@functioninvocation"},["@identifier","meta"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}],["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],keyframedeclaration:[["@identifier","meta"],["{",{token:"delimiter.curly",switchTo:"@keyframebody"}]],keyframebody:[{include:"@term"},["{",{token:"delimiter.curly",next:"@selectorbody"}],["}",{token:"delimiter.curly",next:"@pop"}]],controlstatement:[["[@](if|else|for|while|each|media)",{token:"keyword.flow",next:"@controlstatementdeclaration"}]],controlstatementdeclaration:[["(in|from|through|if|to)\\b",{token:"keyword.flow"}],{include:"@term"},["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],functionbody:[["[@](return)",{token:"keyword"}],{include:"@variabledeclaration"},{include:"@term"},{include:"@controlstatement"},[";","delimiter"],["}",{token:"delimiter.curly",next:"@pop"}]],functioninvocation:[["@identifier\\(",{token:"meta",next:"@functionarguments"}]],functionarguments:[["\\$@identifier@ws:","attribute.name"],["[,]","delimiter"],{include:"@term"},["\\)",{token:"meta",next:"@pop"}]],strings:[['~?"',{token:"string.delimiter",next:"@stringenddoublequote"}],["~?'",{token:"string.delimiter",next:"@stringendquote"}]],stringenddoublequote:[["\\\\.","string"],['"',{token:"string.delimiter",next:"@pop"}],[".","string"]],stringendquote:[["\\\\.","string"],["'",{token:"string.delimiter",next:"@pop"}],[".","string"]]}}});var EC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}]},a={defaultToken:"",ignoreCase:!0,tokenPostfix:".shell",brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],builtins:["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"],symbols:/[=><!~?&|+\-*\/\^;\.,]+/,tokenizer:{root:[{include:"@whitespace"},[/[a-zA-Z]\w*/,{cases:{"@keywords":"keyword","@builtins":"type.identifier","@default":""}}],{include:"@strings"},{include:"@parameters"},{include:"@heredoc"},[/[{}\[\]()]/,"@brackets"],[/-+\w+/,"attribute.name"],[/@symbols/,"delimiter"],{include:"@numbers"},[/[,;]/,"delimiter"]],whitespace:[[/\s+/,"white"],[/(^#!.*$)/,"metatag"],[/(^#.*$)/,"comment"]],numbers:[[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/,"number.hex"],[/\d+/,"number"]],strings:[[/'/,"string","@stringBody"],[/"/,"string","@dblStringBody"]],stringBody:[[/'/,"string","@popall"],[/./,"string"]],dblStringBody:[[/"/,"string","@popall"],[/./,"string"]],heredoc:[[/(<<[-<]?)(\s*)(['"`]?)([\w\-]+)(['"`]?)/,["constants","white","string.heredoc.delimiter","string.heredoc","string.heredoc.delimiter"]]],parameters:[[/\$\d+/,"variable.predefined"],[/\$\w+/,"variable"],[/\$[*@#?\-$!0_]/,"variable"],[/\$'/,"variable","@parameterBodyQuote"],[/\$"/,"variable","@parameterBodyDoubleQuote"],[/\$\(/,"variable","@parameterBodyParen"],[/\$\{/,"variable","@parameterBodyCurlyBrace"]],parameterBodyQuote:[[/[^#:%*@\-!_']+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[']/,"variable","@pop"]],parameterBodyDoubleQuote:[[/[^#:%*@\-!_"]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/["]/,"variable","@pop"]],parameterBodyParen:[[/[^#:%*@\-!_)]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[)]/,"variable","@pop"]],parameterBodyCurlyBrace:[[/[^#:%*@\-!_}]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[}]/,"variable","@pop"]]}}});var FC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},a={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ABORT_AFTER_WAIT","ABSENT","ABSOLUTE","ACCENT_SENSITIVITY","ACTION","ACTIVATION","ACTIVE","ADD","ADDRESS","ADMIN","AES","AES_128","AES_192","AES_256","AFFINITY","AFTER","AGGREGATE","ALGORITHM","ALL_CONSTRAINTS","ALL_ERRORMSGS","ALL_INDEXES","ALL_LEVELS","ALL_SPARSE_COLUMNS","ALLOW_CONNECTIONS","ALLOW_MULTIPLE_EVENT_LOSS","ALLOW_PAGE_LOCKS","ALLOW_ROW_LOCKS","ALLOW_SINGLE_EVENT_LOSS","ALLOW_SNAPSHOT_ISOLATION","ALLOWED","ALTER","ANONYMOUS","ANSI_DEFAULTS","ANSI_NULL_DEFAULT","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_NULLS","ANSI_PADDING","ANSI_WARNINGS","APPEND","APPLICATION","APPLICATION_LOG","ARITHABORT","ARITHIGNORE","AS","ASC","ASSEMBLY","ASYMMETRIC","ASYNCHRONOUS_COMMIT","AT","ATOMIC","ATTACH","ATTACH_REBUILD_LOG","AUDIT","AUDIT_GUID","AUTHENTICATION","AUTHORIZATION","AUTO","AUTO_CLEANUP","AUTO_CLOSE","AUTO_CREATE_STATISTICS","AUTO_SHRINK","AUTO_UPDATE_STATISTICS","AUTO_UPDATE_STATISTICS_ASYNC","AUTOMATED_BACKUP_PREFERENCE","AUTOMATIC","AVAILABILITY","AVAILABILITY_MODE","BACKUP","BACKUP_PRIORITY","BASE64","BATCHSIZE","BEGIN","BEGIN_DIALOG","BIGINT","BINARY","BINDING","BIT","BLOCKERS","BLOCKSIZE","BOUNDING_BOX","BREAK","BROKER","BROKER_INSTANCE","BROWSE","BUCKET_COUNT","BUFFER","BUFFERCOUNT","BULK","BULK_LOGGED","BY","CACHE","CALL","CALLED","CALLER","CAP_CPU_PERCENT","CASCADE","CASE","CATALOG","CATCH","CELLS_PER_OBJECT","CERTIFICATE","CHANGE_RETENTION","CHANGE_TRACKING","CHANGES","CHAR","CHARACTER","CHECK","CHECK_CONSTRAINTS","CHECK_EXPIRATION","CHECK_POLICY","CHECKALLOC","CHECKCATALOG","CHECKCONSTRAINTS","CHECKDB","CHECKFILEGROUP","CHECKIDENT","CHECKPOINT","CHECKTABLE","CLASSIFIER_FUNCTION","CLEANTABLE","CLEANUP","CLEAR","CLOSE","CLUSTER","CLUSTERED","CODEPAGE","COLLATE","COLLECTION","COLUMN","COLUMN_SET","COLUMNS","COLUMNSTORE","COLUMNSTORE_ARCHIVE","COMMIT","COMMITTED","COMPATIBILITY_LEVEL","COMPRESSION","COMPUTE","CONCAT","CONCAT_NULL_YIELDS_NULL","CONFIGURATION","CONNECT","CONSTRAINT","CONTAINMENT","CONTENT","CONTEXT","CONTINUE","CONTINUE_AFTER_ERROR","CONTRACT","CONTRACT_NAME","CONTROL","CONVERSATION","COOKIE","COPY_ONLY","COUNTER","CPU","CREATE","CREATE_NEW","CREATION_DISPOSITION","CREDENTIAL","CRYPTOGRAPHIC","CUBE","CURRENT","CURRENT_DATE","CURSOR","CURSOR_CLOSE_ON_COMMIT","CURSOR_DEFAULT","CYCLE","DATA","DATA_COMPRESSION","DATA_PURITY","DATABASE","DATABASE_DEFAULT","DATABASE_MIRRORING","DATABASE_SNAPSHOT","DATAFILETYPE","DATE","DATE_CORRELATION_OPTIMIZATION","DATEFIRST","DATEFORMAT","DATETIME","DATETIME2","DATETIMEOFFSET","DAY","DAYOFYEAR","DAYS","DB_CHAINING","DBCC","DBREINDEX","DDL_DATABASE_LEVEL_EVENTS","DEADLOCK_PRIORITY","DEALLOCATE","DEC","DECIMAL","DECLARE","DECRYPTION","DEFAULT","DEFAULT_DATABASE","DEFAULT_FULLTEXT_LANGUAGE","DEFAULT_LANGUAGE","DEFAULT_SCHEMA","DEFINITION","DELAY","DELAYED_DURABILITY","DELETE","DELETED","DENSITY_VECTOR","DENY","DEPENDENTS","DES","DESC","DESCRIPTION","DESX","DHCP","DIAGNOSTICS","DIALOG","DIFFERENTIAL","DIRECTORY_NAME","DISABLE","DISABLE_BROKER","DISABLED","DISK","DISTINCT","DISTRIBUTED","DOCUMENT","DOUBLE","DROP","DROP_EXISTING","DROPCLEANBUFFERS","DUMP","DURABILITY","DYNAMIC","EDITION","ELEMENTS","ELSE","EMERGENCY","EMPTY","EMPTYFILE","ENABLE","ENABLE_BROKER","ENABLED","ENCRYPTION","END","ENDPOINT","ENDPOINT_URL","ERRLVL","ERROR","ERROR_BROKER_CONVERSATIONS","ERRORFILE","ESCAPE","ESTIMATEONLY","EVENT","EVENT_RETENTION_MODE","EXEC","EXECUTABLE","EXECUTE","EXIT","EXPAND","EXPIREDATE","EXPIRY_DATE","EXPLICIT","EXTENDED_LOGICAL_CHECKS","EXTENSION","EXTERNAL","EXTERNAL_ACCESS","FAIL_OPERATION","FAILOVER","FAILOVER_MODE","FAILURE_CONDITION_LEVEL","FALSE","FAN_IN","FAST","FAST_FORWARD","FETCH","FIELDTERMINATOR","FILE","FILEGROUP","FILEGROWTH","FILELISTONLY","FILENAME","FILEPATH","FILESTREAM","FILESTREAM_ON","FILETABLE_COLLATE_FILENAME","FILETABLE_DIRECTORY","FILETABLE_FULLPATH_UNIQUE_CONSTRAINT_NAME","FILETABLE_NAMESPACE","FILETABLE_PRIMARY_KEY_CONSTRAINT_NAME","FILETABLE_STREAMID_UNIQUE_CONSTRAINT_NAME","FILLFACTOR","FILTERING","FIRE_TRIGGERS","FIRST","FIRSTROW","FLOAT","FMTONLY","FOLLOWING","FOR","FORCE","FORCE_FAILOVER_ALLOW_DATA_LOSS","FORCE_SERVICE_ALLOW_DATA_LOSS","FORCED","FORCEPLAN","FORCESCAN","FORCESEEK","FOREIGN","FORMATFILE","FORMSOF","FORWARD_ONLY","FREE","FREEPROCCACHE","FREESESSIONCACHE","FREESYSTEMCACHE","FROM","FULL","FULLSCAN","FULLTEXT","FUNCTION","GB","GEOGRAPHY_AUTO_GRID","GEOGRAPHY_GRID","GEOMETRY_AUTO_GRID","GEOMETRY_GRID","GET","GLOBAL","GO","GOTO","GOVERNOR","GRANT","GRIDS","GROUP","GROUP_MAX_REQUESTS","HADR","HASH","HASHED","HAVING","HEADERONLY","HEALTH_CHECK_TIMEOUT","HELP","HIERARCHYID","HIGH","HINT","HISTOGRAM","HOLDLOCK","HONOR_BROKER_PRIORITY","HOUR","HOURS","IDENTITY","IDENTITY_INSERT","IDENTITY_VALUE","IDENTITYCOL","IF","IGNORE_CONSTRAINTS","IGNORE_DUP_KEY","IGNORE_NONCLUSTERED_COLUMNSTORE_INDEX","IGNORE_TRIGGERS","IMAGE","IMMEDIATE","IMPERSONATE","IMPLICIT_TRANSACTIONS","IMPORTANCE","INCLUDE","INCREMENT","INCREMENTAL","INDEX","INDEXDEFRAG","INFINITE","INFLECTIONAL","INIT","INITIATOR","INPUT","INPUTBUFFER","INSENSITIVE","INSERT","INSERTED","INSTEAD","INT","INTEGER","INTO","IO","IP","ISABOUT","ISOLATION","JOB","KB","KEEP","KEEP_CDC","KEEP_NULLS","KEEP_REPLICATION","KEEPDEFAULTS","KEEPFIXED","KEEPIDENTITY","KEEPNULLS","KERBEROS","KEY","KEY_SOURCE","KEYS","KEYSET","KILL","KILOBYTES_PER_BATCH","LABELONLY","LANGUAGE","LAST","LASTROW","LEVEL","LEVEL_1","LEVEL_2","LEVEL_3","LEVEL_4","LIFETIME","LIMIT","LINENO","LIST","LISTENER","LISTENER_IP","LISTENER_PORT","LOAD","LOADHISTORY","LOB_COMPACTION","LOCAL","LOCAL_SERVICE_NAME","LOCK_ESCALATION","LOCK_TIMEOUT","LOGIN","LOGSPACE","LOOP","LOW","MANUAL","MARK","MARK_IN_USE_FOR_REMOVAL","MASTER","MAX_CPU_PERCENT","MAX_DISPATCH_LATENCY","MAX_DOP","MAX_DURATION","MAX_EVENT_SIZE","MAX_FILES","MAX_IOPS_PER_VOLUME","MAX_MEMORY","MAX_MEMORY_PERCENT","MAX_QUEUE_READERS","MAX_ROLLOVER_FILES","MAX_SIZE","MAXDOP","MAXERRORS","MAXLENGTH","MAXRECURSION","MAXSIZE","MAXTRANSFERSIZE","MAXVALUE","MB","MEDIADESCRIPTION","MEDIANAME","MEDIAPASSWORD","MEDIUM","MEMBER","MEMORY_OPTIMIZED","MEMORY_OPTIMIZED_DATA","MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT","MEMORY_PARTITION_MODE","MERGE","MESSAGE","MESSAGE_FORWARD_SIZE","MESSAGE_FORWARDING","MICROSECOND","MILLISECOND","MIN_CPU_PERCENT","MIN_IOPS_PER_VOLUME","MIN_MEMORY_PERCENT","MINUTE","MINUTES","MINVALUE","MIRROR","MIRROR_ADDRESS","MODIFY","MONEY","MONTH","MOVE","MULTI_USER","MUST_CHANGE","NAME","NANOSECOND","NATIONAL","NATIVE_COMPILATION","NCHAR","NEGOTIATE","NESTED_TRIGGERS","NEW_ACCOUNT","NEW_BROKER","NEW_PASSWORD","NEWNAME","NEXT","NO","NO_BROWSETABLE","NO_CHECKSUM","NO_COMPRESSION","NO_EVENT_LOSS","NO_INFOMSGS","NO_TRUNCATE","NO_WAIT","NOCHECK","NOCOUNT","NOEXEC","NOEXPAND","NOFORMAT","NOINDEX","NOINIT","NOLOCK","NON","NON_TRANSACTED_ACCESS","NONCLUSTERED","NONE","NORECOMPUTE","NORECOVERY","NORESEED","NORESET","NOREWIND","NORMAL","NOSKIP","NOTIFICATION","NOTRUNCATE","NOUNLOAD","NOWAIT","NTEXT","NTLM","NUMANODE","NUMERIC","NUMERIC_ROUNDABORT","NVARCHAR","OBJECT","OF","OFF","OFFLINE","OFFSET","OFFSETS","OLD_ACCOUNT","OLD_PASSWORD","ON","ON_FAILURE","ONLINE","ONLY","OPEN","OPEN_EXISTING","OPENTRAN","OPTIMISTIC","OPTIMIZE","OPTION","ORDER","OUT","OUTPUT","OUTPUTBUFFER","OVER","OVERRIDE","OWNER","OWNERSHIP","PAD_INDEX","PAGE","PAGE_VERIFY","PAGECOUNT","PAGLOCK","PARAMETERIZATION","PARSEONLY","PARTIAL","PARTITION","PARTITIONS","PARTNER","PASSWORD","PATH","PER_CPU","PER_NODE","PERCENT","PERMISSION_SET","PERSISTED","PHYSICAL_ONLY","PLAN","POISON_MESSAGE_HANDLING","POOL","POPULATION","PORT","PRECEDING","PRECISION","PRIMARY","PRIMARY_ROLE","PRINT","PRIOR","PRIORITY","PRIORITY_LEVEL","PRIVATE","PRIVILEGES","PROC","PROCCACHE","PROCEDURE","PROCEDURE_NAME","PROCESS","PROFILE","PROPERTY","PROPERTY_DESCRIPTION","PROPERTY_INT_ID","PROPERTY_SET_GUID","PROVIDER","PROVIDER_KEY_NAME","PUBLIC","PUT","QUARTER","QUERY","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUEUE_DELAY","QUOTED_IDENTIFIER","RAISERROR","RANGE","RAW","RC2","RC4","RC4_128","READ","READ_COMMITTED_SNAPSHOT","READ_ONLY","READ_ONLY_ROUTING_LIST","READ_ONLY_ROUTING_URL","READ_WRITE","READ_WRITE_FILEGROUPS","READCOMMITTED","READCOMMITTEDLOCK","READONLY","READPAST","READTEXT","READUNCOMMITTED","READWRITE","REAL","REBUILD","RECEIVE","RECOMPILE","RECONFIGURE","RECOVERY","RECURSIVE","RECURSIVE_TRIGGERS","REFERENCES","REGENERATE","RELATED_CONVERSATION","RELATED_CONVERSATION_GROUP","RELATIVE","REMOTE","REMOTE_PROC_TRANSACTIONS","REMOTE_SERVICE_NAME","REMOVE","REORGANIZE","REPAIR_ALLOW_DATA_LOSS","REPAIR_FAST","REPAIR_REBUILD","REPEATABLE","REPEATABLEREAD","REPLICA","REPLICATION","REQUEST_MAX_CPU_TIME_SEC","REQUEST_MAX_MEMORY_GRANT_PERCENT","REQUEST_MEMORY_GRANT_TIMEOUT_SEC","REQUIRED","RESAMPLE","RESEED","RESERVE_DISK_SPACE","RESET","RESOURCE","RESTART","RESTORE","RESTRICT","RESTRICTED_USER","RESULT","RESUME","RETAINDAYS","RETENTION","RETURN","RETURNS","REVERT","REVOKE","REWIND","REWINDONLY","ROBUST","ROLE","ROLLBACK","ROLLUP","ROOT","ROUTE","ROW","ROWCOUNT","ROWGUIDCOL","ROWLOCK","ROWS","ROWS_PER_BATCH","ROWTERMINATOR","ROWVERSION","RSA_1024","RSA_2048","RSA_512","RULE","SAFE","SAFETY","SAMPLE","SAVE","SCHEDULER","SCHEMA","SCHEMA_AND_DATA","SCHEMA_ONLY","SCHEMABINDING","SCHEME","SCROLL","SCROLL_LOCKS","SEARCH","SECOND","SECONDARY","SECONDARY_ONLY","SECONDARY_ROLE","SECONDS","SECRET","SECURITY_LOG","SECURITYAUDIT","SELECT","SELECTIVE","SELF","SEND","SENT","SEQUENCE","SERIALIZABLE","SERVER","SERVICE","SERVICE_BROKER","SERVICE_NAME","SESSION","SESSION_TIMEOUT","SET","SETS","SETUSER","SHOW_STATISTICS","SHOWCONTIG","SHOWPLAN","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SHRINKDATABASE","SHRINKFILE","SHUTDOWN","SID","SIGNATURE","SIMPLE","SINGLE_BLOB","SINGLE_CLOB","SINGLE_NCLOB","SINGLE_USER","SINGLETON","SIZE","SKIP","SMALLDATETIME","SMALLINT","SMALLMONEY","SNAPSHOT","SORT_IN_TEMPDB","SOURCE","SPARSE","SPATIAL","SPATIAL_WINDOW_MAX_CELLS","SPECIFICATION","SPLIT","SQL","SQL_VARIANT","SQLPERF","STANDBY","START","START_DATE","STARTED","STARTUP_STATE","STAT_HEADER","STATE","STATEMENT","STATIC","STATISTICAL_SEMANTICS","STATISTICS","STATISTICS_INCREMENTAL","STATISTICS_NORECOMPUTE","STATS","STATS_STREAM","STATUS","STATUSONLY","STOP","STOP_ON_ERROR","STOPAT","STOPATMARK","STOPBEFOREMARK","STOPLIST","STOPPED","SUBJECT","SUBSCRIPTION","SUPPORTED","SUSPEND","SWITCH","SYMMETRIC","SYNCHRONOUS_COMMIT","SYNONYM","SYSNAME","SYSTEM","TABLE","TABLERESULTS","TABLESAMPLE","TABLOCK","TABLOCKX","TAKE","TAPE","TARGET","TARGET_RECOVERY_TIME","TB","TCP","TEXT","TEXTIMAGE_ON","TEXTSIZE","THEN","THESAURUS","THROW","TIES","TIME","TIMEOUT","TIMER","TIMESTAMP","TINYINT","TO","TOP","TORN_PAGE_DETECTION","TRACEOFF","TRACEON","TRACESTATUS","TRACK_CAUSALITY","TRACK_COLUMNS_UPDATED","TRAN","TRANSACTION","TRANSFER","TRANSFORM_NOISE_WORDS","TRIGGER","TRIPLE_DES","TRIPLE_DES_3KEY","TRUE","TRUNCATE","TRUNCATEONLY","TRUSTWORTHY","TRY","TSQL","TWO_DIGIT_YEAR_CUTOFF","TYPE","TYPE_WARNING","UNBOUNDED","UNCHECKED","UNCOMMITTED","UNDEFINED","UNIQUE","UNIQUEIDENTIFIER","UNKNOWN","UNLIMITED","UNLOAD","UNSAFE","UPDATE","UPDATETEXT","UPDATEUSAGE","UPDLOCK","URL","USE","USED","USER","USEROPTIONS","USING","VALID_XML","VALIDATION","VALUE","VALUES","VARBINARY","VARCHAR","VARYING","VERIFYONLY","VERSION","VIEW","VIEW_METADATA","VIEWS","VISIBILITY","WAIT_AT_LOW_PRIORITY","WAITFOR","WEEK","WEIGHT","WELL_FORMED_XML","WHEN","WHERE","WHILE","WINDOWS","WITH","WITHIN","WITHOUT","WITNESS","WORK","WORKLOAD","WRITETEXT","XACT_ABORT","XLOCK","XMAX","XMIN","XML","XMLDATA","XMLNAMESPACES","XMLSCHEMA","XQUERY","XSINIL","YEAR","YMAX","YMIN"],operators:["ALL","AND","ANY","BETWEEN","EXISTS","IN","LIKE","NOT","OR","SOME","EXCEPT","INTERSECT","UNION","APPLY","CROSS","FULL","INNER","JOIN","LEFT","OUTER","RIGHT","CONTAINS","FREETEXT","IS","NULL","PIVOT","UNPIVOT","MATCHED"],builtinFunctions:["AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","SUM","STDEV","STDEVP","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","COLLATE","COLLATIONPROPERTY","TERTIARY_WEIGHTS","FEDERATION_FILTERING_VALUE","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","CURRENT_TIMESTAMP","DATEADD","DATEDIFF","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","CHOOSE","COALESCE","IIF","NULLIF","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASE_PRINCIPAL_ID","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHAR","CHARINDEX","CONCAT","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STUFF","SUBSTRING","UNICODE","UPPER","BINARY_CHECKSUM","CHECKSUM","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","ERROR_LINE","ERROR_NUMBER","ERROR_MESSAGE","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GETANSINULL","GET_FILESTREAM_TRANSACTION_CONTEXT","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","XACT_STATE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","CHANGETABLE","CHANGE_TRACKING_CONTEXT","CHANGE_TRACKING_CURRENT_VERSION","CHANGE_TRACKING_IS_COLUMN_IN_MASK","CHANGE_TRACKING_MIN_VALID_VERSION","CONTAINSTABLE","FREETEXTTABLE","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","FILETABLEROOTPATH","GETFILENAMESPACEPATH","GETPATHLOCATOR","PATHNAME","GET_TRANSMISSION_STATUS"],builtinVariables:["@@DATEFIRST","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","@@CURSOR_ROWS","@@FETCH_STATUS","@@DATEFIRST","@@PROCID","@@ERROR","@@IDENTITY","@@ROWCOUNT","@@TRANCOUNT","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACKET_ERRORS","@@PACK_RECEIVED","@@PACK_SENT","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE"],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$]+/,{cases:{"@keywords":"keyword","@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]]}}});var GC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});"use strict";var d={comments:{blockComment:["<!--","-->"]},brackets:[["<",">"]],autoClosingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],surroundingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}]},a={defaultToken:"",tokenPostfix:".xml",ignoreCase:!0,qualifiedName:/(?:[\w\.\-]+:)?[\w\.\-]+/,tokenizer:{root:[[/[^<&]+/,""],{include:"@whitespace"},[/(<)(@qualifiedName)/,[{token:"delimiter"},{token:"tag",next:"@tag"}]],[/(<\/)(@qualifiedName)(\s*)(>)/,[{token:"delimiter"},{token:"tag"},"",{token:"delimiter"}]],[/(<\?)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/(<\!)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/<\!\[CDATA\[/,{token:"delimiter.cdata",next:"@cdata"}],[/&\w+;/,"string.escape"]],cdata:[[/[^\]]+/,""],[/\]\]>/,{token:"delimiter.cdata",next:"@pop"}],[/\]/,""]],tag:[[/[ \t\r\n]+/,""],[/(@qualifiedName)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">?\/]*|'[^'>?\/]*)(?=[\?\/]\>)/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">]*|'[^'>]*)/,["attribute.name","","attribute.value"]],[/@qualifiedName/,"attribute.name"],[/\?>/,{token:"delimiter",next:"@pop"}],[/(\/)(>)/,[{token:"tag"},{token:"delimiter",next:"@pop"}]],[/>/,{token:"delimiter",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]]}}});var HC=fd(b=>{gd(b,{conf:()=>d,language:()=>a});var d={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{offSide:!0}},a={tokenPostfix:".yaml",brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["true","True","TRUE","false","False","FALSE","null","Null","Null","~"],numberInteger:/(?:0|[+-]?[0-9]+)/,numberFloat:/(?:0|[+-]?[0-9]+)(?:\.[0-9]+)?(?:e[-+][1-9][0-9]*)?/,numberOctal:/0o[0-7]+/,numberHex:/0x[0-9a-fA-F]+/,numberInfinity:/[+-]?\.(?:inf|Inf|INF)/,numberNaN:/\.(?:nan|Nan|NAN)/,numberDate:/\d{4}-\d\d-\d\d([Tt ]\d\d:\d\d:\d\d(\.\d+)?(( ?[+-]\d\d?(:\d\d)?)|Z)?)?/,escapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,tokenizer:{root:[{include:"@whitespace"},{include:"@comment"},[/%[^ ]+.*$/,"meta.directive"],[/---/,"operators.directivesEnd"],[/\.{3}/,"operators.documentEnd"],[/[-?:](?= )/,"operators"],{include:"@anchor"},{include:"@tagHandle"},{include:"@flowCollections"},{include:"@blockStyle"},[/@numberInteger(?![ \t]*\S+)/,"number"],[/@numberFloat(?![ \t]*\S+)/,"number.float"],[/@numberOctal(?![ \t]*\S+)/,"number.octal"],[/@numberHex(?![ \t]*\S+)/,"number.hex"],[/@numberInfinity(?![ \t]*\S+)/,"number.infinity"],[/@numberNaN(?![ \t]*\S+)/,"number.nan"],[/@numberDate(?![ \t]*\S+)/,"number.date"],[/(".*?"|'.*?'|.*?)([ \t]*)(:)( |$)/,["type","white","operators","white"]],{include:"@flowScalars"},[/.+$/,{cases:{"@keywords":"keyword","@default":"string"}}]],object:[{include:"@whitespace"},{include:"@comment"},[/\}/,"@brackets","@pop"],[/,/,"delimiter.comma"],[/:(?= )/,"operators"],[/(?:".*?"|'.*?'|[^,\{\[]+?)(?=: )/,"type"],{include:"@flowCollections"},{include:"@flowScalars"},{include:"@tagHandle"},{include:"@anchor"},{include:"@flowNumber"},[/[^\},]+/,{cases:{"@keywords":"keyword","@default":"string"}}]],array:[{include:"@whitespace"},{include:"@comment"},[/\]/,"@brackets","@pop"],[/,/,"delimiter.comma"],{include:"@flowCollections"},{include:"@flowScalars"},{include:"@tagHandle"},{include:"@anchor"},{include:"@flowNumber"},[/[^\],]+/,{cases:{"@keywords":"keyword","@default":"string"}}]],multiString:[[/^( +).+$/,"string","@multiStringContinued.$1"]],multiStringContinued:[[/^( *).+$/,{cases:{"$1==$S2":"string","@default":{token:"@rematch",next:"@popall"}}}]],whitespace:[[/[ \t\r\n]+/,"white"]],comment:[[/#.*$/,"comment"]],flowCollections:[[/\[/,"@brackets","@array"],[/\{/,"@brackets","@object"]],flowScalars:[[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'[^']*'/,"string"],[/"/,"string","@doubleQuotedString"]],doubleQuotedString:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],blockStyle:[[/[>|][0-9]*[+-]?$/,"operators","@multiString"]],flowNumber:[[/@numberInteger(?=[ \t]*[,\]\}])/,"number"],[/@numberFloat(?=[ \t]*[,\]\}])/,"number.float"],[/@numberOctal(?=[ \t]*[,\]\}])/,"number.octal"],[/@numberHex(?=[ \t]*[,\]\}])/,"number.hex"],[/@numberInfinity(?=[ \t]*[,\]\}])/,"number.infinity"],[/@numberNaN(?=[ \t]*[,\]\}])/,"number.nan"],[/@numberDate(?=[ \t]*[,\]\}])/,"number.date"]],tagHandle:[[/\![^ ]*/,"tag"]],anchor:[[/[&*][^ ]+/,"namespace"]]}}});function O3(d,a){var b;return a.length===0?b=d:b=d.replace(/\{(\d+)\}/g,function(c,e){var f=e[0];return typeof a[f]!=="undefined"?a[f]:c}),b}function s(d,a){for(var b=[],c=2;c<arguments.length;c++)b[c-2]=arguments[c];return O3(a,b)}var No="en",El=!1,Fl=!1,Oo=!1,hB=!1,iB=!1,jB=!1,Po=void 0,hu=No,MQ=void 0,Gl=void 0,NQ=typeof process!=="undefined"&&typeof process.versions!=="undefined"&&typeof process.versions.electron!=="undefined"&&process.type==="renderer";if(typeof navigator==="object"&&!NQ)Gl=navigator.userAgent,El=Gl.indexOf("Windows")>=0,Fl=Gl.indexOf("Macintosh")>=0,jB=Gl.indexOf("Macintosh")>=0&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Oo=Gl.indexOf("Linux")>=0,iB=!0,Po=navigator.language,hu=Po;else if(typeof process==="object"){El=process.platform==="win32",Fl=process.platform==="darwin",Oo=process.platform==="linux",Po=No,hu=No;var kB=process.env.VSCODE_NLS_CONFIG;if(kB)try{var iu=JSON.parse(kB),lB=iu.availableLanguages["*"];Po=iu.locale,hu=lB?lB:No,MQ=iu._translationsConfigFile}catch(d){}hB=!0}var ju=0;Fl?ju=1:El?ju=3:Oo&&(ju=2);var sb=El,ka=Fl,cc=Oo,lc=hB,$f=iB,ze=jB,OQ=typeof self==="object"?self:typeof global==="object"?global:{},yc=OQ,cj=function d(){if(yc.setImmediate)return yc.setImmediate.bind(yc);if(typeof yc.postMessage==="function"&&!yc.importScripts){var a=[];yc.addEventListener("message",function(e){if(e.data&&e.data.vscodeSetImmediateId)for(var f=0,g=a.length;f<g;f++){var h=a[f];if(h.id===e.data.vscodeSetImmediateId){a.splice(f,1),h.callback();return}}});var b=0;return function(e){var f=++b;a.push({id:f,callback:e}),yc.postMessage({vscodeSetImmediateId:f},"*")}}if(typeof process!=="undefined"&&typeof process.nextTick==="function")return process.nextTick.bind(process);var c=Promise.resolve();return function(e){return c.then(e)}}(),Gd=Fl?2:El?1:3;var fv="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function rV(d){d===void 0&&(d="");for(var a="(-?\\d*\\.\\d\\w*)|([^",b=0,c=fv;b<c.length;b++){var e=c[b];if(d.indexOf(e)>=0)continue;a+="\\"+e}return a+="\\s]+)",new RegExp(a,"g")}var Dv=rV();function wm(d){var a=Dv;if(d&&d instanceof RegExp)if(d.global)a=d;else{var b="g";d.ignoreCase&&(b+="i"),d.multiline&&(b+="m"),d.unicode&&(b+="u"),a=new RegExp(d.source,b)}return a.lastIndex=0,a}function sV(d,a,b,c){var e=d-1-c,f=b.lastIndexOf(" ",e-1)+1;a.lastIndex=f;for(var g;g=a.exec(b);){var h=g.index||0;if(h<=e&&a.lastIndex>=e)return{word:g[0],startColumn:c+1+h,endColumn:c+1+a.lastIndex}}return null}function tV(d,a,b,c){var e=d-1-c;a.lastIndex=0;for(var f;f=a.exec(b);){var g=f.index||0;if(g>e)return null;if(a.lastIndex>=e)return{word:f[0],startColumn:c+1+g,endColumn:c+1+a.lastIndex}}return null}function tm(d,a,b,c){a.lastIndex=0;var e=a.exec(b);if(!e)return null;var f=e[0].indexOf(" ")>=0?tV(d,a,b,c):sV(d,a,b,c);return a.lastIndex=0,f}var pb=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),qi=function(){return qi=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},qi.apply(this,arguments)},Nj=8,Ep=function(){function d(a){this._values=a}return d.prototype.hasChanged=function(a){return this._values[a]},d}(),NE=function(){function d(){this._values=[]}return d.prototype._read=function(a){return this._values[a]},d.prototype.get=function(a){return this._values[a]},d.prototype._write=function(a,b){this._values[a]=b},d}(),Ld=function(){function d(a,b,c,e){this.id=a,this.name=b,this.defaultValue=c,this.schema=e}return d.prototype.compute=function(a,b,c){return c},d}(),Zj=function(){function d(a,b){b===void 0&&(b=null),this.schema=void 0,this.id=a,this.name="_never_",this.defaultValue=void 0,this.deps=b}return d.prototype.validate=function(a){return this.defaultValue},d}(),jh=function(){function d(a,b,c,e){this.id=a,this.name=b,this.defaultValue=c,this.schema=e}return d.prototype.validate=function(a){return typeof a==="undefined"?this.defaultValue:a},d.prototype.compute=function(a,b,c){return c},d}(),ba=function(d){pb(a,d);function a(b,c,e,f){f===void 0&&(f=void 0);var g=this;return typeof f!=="undefined"&&(f.type="boolean",f.default=e),g=d.call(this,b,c,e,f)||this,g}return a.boolean=function(b,c){return typeof b==="undefined"?c:b==="false"?!1:Boolean(b)},a.prototype.validate=function(b){return a.boolean(b,this.defaultValue)},a}(jh),Rb=function(d){pb(a,d);function a(b,c,e,f,g,h){h===void 0&&(h=void 0);var i=this;return typeof h!=="undefined"&&(h.type="integer",h.default=e,h.minimum=f,h.maximum=g),i=d.call(this,b,c,e,h)||this,i.minimum=f,i.maximum=g,i}return a.clampedInt=function(b,c,e,f){var g;return typeof b==="undefined"?g=c:(g=parseInt(b,10),isNaN(g)&&(g=c)),g=Math.max(e,g),g=Math.min(f,g),g|0},a.prototype.validate=function(b){return a.clampedInt(b,this.defaultValue,this.minimum,this.maximum)},a}(jh),_j=function(d){pb(a,d);function a(b,c,e,f,g){var h=this;return typeof g!=="undefined"&&(g.type="number",g.default=e),h=d.call(this,b,c,e,g)||this,h.validationFn=f,h}return a.clamp=function(b,c,e){return b<c?c:b>e?e:b},a.float=function(b,c){if(typeof b==="number")return b;if(typeof b==="undefined")return c;var e=parseFloat(b);return isNaN(e)?c:e},a.prototype.validate=function(b){return this.validationFn(a.float(b,this.defaultValue))},a}(jh),ne=function(d){pb(a,d);function a(b,c,e,f){f===void 0&&(f=void 0);var g=this;return typeof f!=="undefined"&&(f.type="string",f.default=e),g=d.call(this,b,c,e,f)||this,g}return a.string=function(b,c){return typeof b!=="string"?c:b},a.prototype.validate=function(b){return a.string(b,this.defaultValue)},a}(jh),kb=function(d){pb(a,d);function a(b,c,e,f,g){g===void 0&&(g=void 0);var h=this;return typeof g!=="undefined"&&(g.type="string",g.enum=f,g.default=e),h=d.call(this,b,c,e,g)||this,h._allowedValues=f,h}return a.stringSet=function(b,c,e){return typeof b!=="string"?c:e.indexOf(b)===-1?c:b},a.prototype.validate=function(b){return a.stringSet(b,this.defaultValue,this._allowedValues)},a}(jh),im=function(d){pb(a,d);function a(b,c,e,f,g,h,i){i===void 0&&(i=void 0);var j=this;return typeof i!=="undefined"&&(i.type="string",i.enum=g,i.default=f),j=d.call(this,b,c,e,i)||this,j._allowedValues=g,j._convert=h,j}return a.prototype.validate=function(b){return typeof b!=="string"?this.defaultValue:this._allowedValues.indexOf(b)===-1?this.defaultValue:this._convert(b)},a}(Ld);function KT(d){switch(d){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var LT=function(d){pb(a,d);function a(){return d.call(this,2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[s("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),s("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),s("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:s("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")})||this}return a.prototype.validate=function(b){switch(b){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue},a.prototype.compute=function(b,c,e){return e===0?b.accessibilitySupport:e},a}(Ld),MT=function(d){pb(a,d);function a(){var b=this,c={insertSpace:!0};return b=d.call(this,13,"comments",c,{"editor.comments.insertSpace":{type:"boolean",default:c.insertSpace,description:s("comments.insertSpace","Controls whether a space character is inserted when commenting.")}})||this,b}return a.prototype.validate=function(b){if(typeof b!=="object")return this.defaultValue;var c=b;return{insertSpace:ba.boolean(c.insertSpace,this.defaultValue.insertSpace)}},a}(Ld);function NT(d){switch(d){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Vb;(function(d){d[d.Line=1]="Line",d[d.Block=2]="Block",d[d.Underline=3]="Underline",d[d.LineThin=4]="LineThin",d[d.BlockOutline=5]="BlockOutline",d[d.UnderlineThin=6]="UnderlineThin"})(Vb||(Vb={}));function OT(d){switch(d){case"line":return Vb.Line;case"block":return Vb.Block;case"underline":return Vb.Underline;case"line-thin":return Vb.LineThin;case"block-outline":return Vb.BlockOutline;case"underline-thin":return Vb.UnderlineThin}}var PT=function(d){pb(a,d);function a(){return d.call(this,104,[55,26])||this}return a.prototype.compute=function(b,c,e){var f="monaco-editor";return c.get(26)&&(f+=" "+c.get(26)),b.extraEditorClassName&&(f+=" "+b.extraEditorClassName),c.get(55)==="default"?f+=" mouse-default":c.get(55)==="copy"&&(f+=" mouse-copy"),c.get(85)&&(f+=" showUnused"),f},a}(Zj),QT=function(d){pb(a,d);function a(){return d.call(this,25,"emptySelectionClipboard",!0,{description:s("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})||this}return a.prototype.compute=function(b,c,e){return e&&b.emptySelectionClipboard},a}(ba),RT=function(d){pb(a,d);function a(){var b=this,c={seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0};return b=d.call(this,28,"find",c,{"editor.find.seedSearchStringFromSelection":{type:"boolean",default:c.seedSearchStringFromSelection,description:s("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:c.autoFindInSelection,enumDescriptions:[s("editor.find.autoFindInSelection.never","Never turn on Find in selection automatically (default)"),s("editor.find.autoFindInSelection.always","Always turn on Find in selection automatically"),s("editor.find.autoFindInSelection.multiline","Turn on Find in selection automatically when multiple lines of content are selected.")],description:s("find.autoFindInSelection","Controls whether the find operation is carried out on selected text or the entire file in the editor.")},"editor.find.globalFindClipboard":{type:"boolean",default:c.globalFindClipboard,description:s("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:ka},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:c.addExtraSpaceOnTop,description:s("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")}})||this,b}return a.prototype.validate=function(b){if(typeof b!=="object")return this.defaultValue;var c=b;return{seedSearchStringFromSelection:ba.boolean(c.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof b.autoFindInSelection==="boolean"?b.autoFindInSelection?"always":"never":kb.stringSet(c.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:ba.boolean(c.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:ba.boolean(c.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop)}},a}(Ld),bg=function(d){pb(a,d);function a(){return d.call(this,35,"fontLigatures",a.OFF,{anyOf:[{type:"boolean",description:s("fontLigatures","Enables/Disables font ligatures.")},{type:"string",description:s("fontFeatureSettings","Explicit font-feature-settings.")}],description:s("fontLigaturesGeneral","Configures font ligatures."),default:!1})||this}return a.prototype.validate=function(b){return typeof b==="undefined"?this.defaultValue:typeof b==="string"?b==="false"?a.OFF:b==="true"?a.ON:b:Boolean(b)?a.ON:a.OFF},a.OFF='"liga" off, "calt" off',a.ON='"liga" on, "calt" on',a}(Ld),ST=function(d){pb(a,d);function a(){return d.call(this,34)||this}return a.prototype.compute=function(b,c,e){return b.fontInfo},a}(Zj),TT=function(d){pb(a,d);function a(){return d.call(this,36,"fontSize",wf.fontSize,{type:"number",minimum:6,maximum:100,default:wf.fontSize,description:s("fontSize","Controls the font size in pixels.")})||this}return a.prototype.validate=function(b){var c=_j.float(b,this.defaultValue);return c===0?wf.fontSize:_j.clamp(c,6,100)},a.prototype.compute=function(b,c,e){return b.fontInfo.fontSize},a}(jh),UT=function(d){pb(a,d);function a(){var b=this,c={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},e={type:"string",enum:["peek","gotoAndPeek","goto"],default:c.multiple,enumDescriptions:[s("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),s("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),s("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]};return b=d.call(this,41,"gotoLocation",c,{"editor.gotoLocation.multiple":{deprecationMessage:s("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":qi({description:s("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},e),"editor.gotoLocation.multipleTypeDefinitions":qi({description:s("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},e),"editor.gotoLocation.multipleDeclarations":qi({description:s("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},e),"editor.gotoLocation.multipleImplementations":qi({description:s("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},e),"editor.gotoLocation.multipleReferences":qi({description:s("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},e),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:c.alternativeDefinitionCommand,description:s("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:c.alternativeTypeDefinitionCommand,description:s("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:c.alternativeDeclarationCommand,description:s("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:c.alternativeImplementationCommand,description:s("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:c.alternativeReferenceCommand,description:s("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})||this,b}return a.prototype.validate=function(b){var c,e,f,g,h;if(typeof b!=="object")return this.defaultValue;var i=b;return{multiple:kb.stringSet(i.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(c=i.multipleDefinitions)!==null&&c!==void 0?c:kb.stringSet(i.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(e=i.multipleTypeDefinitions)!==null&&e!==void 0?e:kb.stringSet(i.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(f=i.multipleDeclarations)!==null&&f!==void 0?f:kb.stringSet(i.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(g=i.multipleImplementations)!==null&&g!==void 0?g:kb.stringSet(i.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(h=i.multipleReferences)!==null&&h!==void 0?h:kb.stringSet(i.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:ne.string(i.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:ne.string(i.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:ne.string(i.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:ne.string(i.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:ne.string(i.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}},a}(Ld),VT=function(d){pb(a,d);function a(){var b=this,c={enabled:!0,delay:300,sticky:!0};return b=d.call(this,44,"hover",c,{"editor.hover.enabled":{type:"boolean",default:c.enabled,description:s("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:c.delay,description:s("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:c.sticky,description:s("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")}})||this,b}return a.prototype.validate=function(b){if(typeof b!=="object")return this.defaultValue;var c=b;return{enabled:ba.boolean(c.enabled,this.defaultValue.enabled),delay:Rb.clampedInt(c.delay,this.defaultValue.delay,0,1e4),sticky:ba.boolean(c.sticky,this.defaultValue.sticky)}},a}(Ld),WT=function(d){pb(a,d);function a(){return d.call(this,107,[40,48,30,54,78,50])||this}return a.prototype.compute=function(b,c,e){return a.computeLayout(c,{outerWidth:b.outerWidth,outerHeight:b.outerHeight,lineHeight:b.fontInfo.lineHeight,lineNumbersDigitCount:b.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:b.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:b.fontInfo.maxDigitWidth,pixelRatio:b.pixelRatio})},a.computeLayout=function(b,c){var e=c.outerWidth|0,f=c.outerHeight|0,g=c.lineHeight|0,h=c.lineNumbersDigitCount|0,i=c.typicalHalfwidthCharacterWidth,j=c.maxDigitWidth,k=c.pixelRatio,l=b.get(40),m=b.get(50).renderType!==0,n=b.get(51)|0,o=b.get(54),p=o.enabled,q=o.side,r=o.renderCharacters,t=k>=2?Math.round(o.scale*2):o.scale,v=o.maxColumn|0,w=b.get(78),x=w.verticalScrollbarSize|0,u=w.verticalHasArrows,y=w.arrowSize|0,A=w.horizontalScrollbarSize|0,F=b.get(48),B=b.get(30),D;if(typeof F==="string"&&/^\d+(\.\d+)?ch$/.test(F)){var H=parseFloat(F.substr(0,F.length-2));D=Rb.clampedInt(H*i,0,0,1e3)}else D=Rb.clampedInt(F,0,0,1e3);B&&(D+=16);var J=0;if(m){var L=Math.max(h,n);J=Math.round(L*j)}var O=0;l&&(O=g);var T=0,$=T+O,_=$+J,$a=_+D,Na=e-O-J-D,Nb,zc,Oa,Ac;if(!p)zc=0,Oa=0,Nb=0,Ac=Na;else{var al=t/k;Nb=r?1:2,Oa=Math.max(0,Math.floor((Na-x-2)*al/(i+al)))+Nj;var Fn=Oa/al;Fn>v&&(Oa=Math.floor(v*al)),Ac=Na-Oa,q==="left"?(zc=0,T+=Oa,$+=Oa,_+=Oa,$a+=Oa):zc=e-Oa-x}var Cs=Math.max(1,Math.floor((Ac-x-2)/i)),Ds=u?y:0;return{width:e,height:f,glyphMarginLeft:T,glyphMarginWidth:O,lineNumbersLeft:$,lineNumbersWidth:J,decorationsLeft:_,decorationsWidth:D,contentLeft:$a,contentWidth:Ac,renderMinimap:Nb,minimapLeft:zc,minimapWidth:Oa,viewportColumn:Cs,verticalScrollbarWidth:x,horizontalScrollbarHeight:A,overviewRuler:{top:Ds,width:x,height:f-2*Ds,right:0}}},a}(Zj),XT=function(d){pb(a,d);function a(){var b=this,c={enabled:!0};return b=d.call(this,47,"lightbulb",c,{"editor.lightbulb.enabled":{type:"boolean",default:c.enabled,description:s("codeActions","Enables the code action lightbulb in the editor.")}})||this,b}return a.prototype.validate=function(b){if(typeof b!=="object")return this.defaultValue;var c=b;return{enabled:ba.boolean(c.enabled,this.defaultValue.enabled)}},a}(Ld),YT=function(d){pb(a,d);function a(){return d.call(this,49,"lineHeight",wf.lineHeight,0,150,{description:s("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")})||this}return a.prototype.compute=function(b,c,e){return b.fontInfo.lineHeight},a}(Rb),ZT=function(d){pb(a,d);function a(){var b=this,c={enabled:!0,side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};return b=d.call(this,54,"minimap",c,{"editor.minimap.enabled":{type:"boolean",default:c.enabled,description:s("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:c.side,description:s("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:c.showSlider,description:s("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:c.scale,minimum:1,maximum:3,description:s("minimap.scale","Scale of content drawn in the minimap.")},"editor.minimap.renderCharacters":{type:"boolean",default:c.renderCharacters,description:s("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:c.maxColumn,description:s("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})||this,b}return a.prototype.validate=function(b){if(typeof b!=="object")return this.defaultValue;var c=b;return{enabled:ba.boolean(c.enabled,this.defaultValue.enabled),side:kb.stringSet(c.side,this.defaultValue.side,["right","left"]),showSlider:kb.stringSet(c.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:ba.boolean(c.renderCharacters,this.defaultValue.renderCharacters),scale:Rb.clampedInt(c.scale,1,1,3),maxColumn:Rb.clampedInt(c.maxColumn,this.defaultValue.maxColumn,1,1e4)}},a}(Ld);function _T(d){return d==="ctrlCmd"?ka?"metaKey":"ctrlKey":"altKey"}var $T=function(d){pb(a,d);function a(){var b=this,c={enabled:!0,cycle:!1};return b=d.call(this,64,"parameterHints",c,{"editor.parameterHints.enabled":{type:"boolean",default:c.enabled,description:s("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:c.cycle,description:s("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})||this,b}return a.prototype.validate=function(b){if(typeof b!=="object")return this.defaultValue;var c=b;return{enabled:ba.boolean(c.enabled,this.defaultValue.enabled),cycle:ba.boolean(c.cycle,this.defaultValue.cycle)}},a}(Ld),aU=function(d){pb(a,d);function a(){return d.call(this,105)||this}return a.prototype.compute=function(b,c,e){return b.pixelRatio},a}(Zj),bU=function(d){pb(a,d);function a(){var b=this,c={other:!0,comments:!1,strings:!1};return b=d.call(this,66,"quickSuggestions",c,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:c.strings,description:s("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:c.comments,description:s("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:c.other,description:s("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:c,description:s("quickSuggestions","Controls whether suggestions should automatically show up while typing.")})||this,b.defaultValue=c,b}return a.prototype.validate=function(b){if(typeof b==="boolean")return b;if(typeof b==="object"){var c=b,e={other:ba.boolean(c.other,this.defaultValue.other),comments:ba.boolean(c.comments,this.defaultValue.comments),strings:ba.boolean(c.strings,this.defaultValue.strings)};return e.other&&e.comments&&e.strings?!0:!e.other&&!e.comments&&!e.strings?!1:e}return this.defaultValue},a}(Ld),cU=function(d){pb(a,d);function a(){return d.call(this,50,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[s("lineNumbers.off","Line numbers are not rendered."),s("lineNumbers.on","Line numbers are rendered as absolute number."),s("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),s("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:s("lineNumbers","Controls the display of line numbers.")})||this}return a.prototype.validate=function(b){var c=this.defaultValue.renderType,e=this.defaultValue.renderFn;return typeof b!=="undefined"&&(typeof b==="function"?(c=4,e=b):b==="interval"?c=3:b==="relative"?c=2:b==="on"?c=1:c=0),{renderType:c,renderFn:e}},a}(Ld);function Oj(d){var a=d.get(73);return a==="editable"?d.get(68):a==="on"?!1:!0}var dU=function(d){pb(a,d);function a(){var b=this,c=[];return b=d.call(this,77,"rulers",c,{type:"array",items:{type:"number"},default:c,description:s("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})||this,b}return a.prototype.validate=function(b){if(Array.isArray(b)){for(var c=[],e=0,f=b;e<f.length;e++){var g=f[e];c.push(Rb.clampedInt(g,0,0,1e4))}return c.sort(function(h,i){return h-i}),c}return this.defaultValue},a}(jh);function VE(d,a){if(typeof d!=="string")return a;switch(d){case"hidden":return 2;case"visible":return 3;default:return 1}}var eU=function(d){pb(a,d);function a(){return d.call(this,78,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0})||this}return a.prototype.validate=function(b){if(typeof b!=="object")return this.defaultValue;var c=b,e=Rb.clampedInt(c.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),f=Rb.clampedInt(c.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Rb.clampedInt(c.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:VE(c.vertical,this.defaultValue.vertical),horizontal:VE(c.horizontal,this.defaultValue.horizontal),useShadows:ba.boolean(c.useShadows,this.defaultValue.useShadows),verticalHasArrows:ba.boolean(c.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:ba.boolean(c.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:ba.boolean(c.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:ba.boolean(c.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:e,horizontalSliderSize:Rb.clampedInt(c.horizontalSliderSize,e,0,1e3),verticalScrollbarSize:f,verticalSliderSize:Rb.clampedInt(c.verticalSliderSize,f,0,1e3)}},a}(Ld),fU=function(d){pb(a,d);function a(){var b=this,c={insertMode:"insert",insertHighlight:!1,filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,maxVisibleSuggestions:12,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,hideStatusBar:!0};return b=d.call(this,89,"suggest",c,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[s("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),s("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:c.insertMode,description:s("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.insertHighlight":{type:"boolean",default:c.insertHighlight,description:s("suggest.insertHighlight","Controls whether unexpected text modifications while accepting completions should be highlighted, e.g `insertMode` is `replace` but the completion only supports `insert`.")},"editor.suggest.filterGraceful":{type:"boolean",default:c.filterGraceful,description:s("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:c.localityBonus,description:s("suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:c.shareSuggestSelections,markdownDescription:s("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:c.snippetsPreventQuickSuggestions,description:s("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:c.showIcons,description:s("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.maxVisibleSuggestions":{type:"number",default:c.maxVisibleSuggestions,minimum:1,maximum:15,description:s("suggest.maxVisibleSuggestions","Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:s("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.hideStatusBar":{type:"boolean",default:!0,markdownDescription:s("editor.suggest.hideStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")}})||this,b}return a.prototype.validate=function(b){if(typeof b!=="object")return this.defaultValue;var c=b;return{insertMode:kb.stringSet(c.insertMode,this.defaultValue.insertMode,["insert","replace"]),insertHighlight:ba.boolean(c.insertHighlight,this.defaultValue.insertHighlight),filterGraceful:ba.boolean(c.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:ba.boolean(c.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:ba.boolean(c.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:ba.boolean(c.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:ba.boolean(c.showIcons,this.defaultValue.showIcons),maxVisibleSuggestions:Rb.clampedInt(c.maxVisibleSuggestions,this.defaultValue.maxVisibleSuggestions,1,15),showMethods:ba.boolean(c.showMethods,this.defaultValue.showMethods),showFunctions:ba.boolean(c.showFunctions,this.defaultValue.showFunctions),showConstructors:ba.boolean(c.showConstructors,this.defaultValue.showConstructors),showFields:ba.boolean(c.showFields,this.defaultValue.showFields),showVariables:ba.boolean(c.showVariables,this.defaultValue.showVariables),showClasses:ba.boolean(c.showClasses,this.defaultValue.showClasses),showStructs:ba.boolean(c.showStructs,this.defaultValue.showStructs),showInterfaces:ba.boolean(c.showInterfaces,this.defaultValue.showInterfaces),showModules:ba.boolean(c.showModules,this.defaultValue.showModules),showProperties:ba.boolean(c.showProperties,this.defaultValue.showProperties),showEvents:ba.boolean(c.showEvents,this.defaultValue.showEvents),showOperators:ba.boolean(c.showOperators,this.defaultValue.showOperators),showUnits:ba.boolean(c.showUnits,this.defaultValue.showUnits),showValues:ba.boolean(c.showValues,this.defaultValue.showValues),showConstants:ba.boolean(c.showConstants,this.defaultValue.showConstants),showEnums:ba.boolean(c.showEnums,this.defaultValue.showEnums),showEnumMembers:ba.boolean(c.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:ba.boolean(c.showKeywords,this.defaultValue.showKeywords),showWords:ba.boolean(c.showWords,this.defaultValue.showWords),showColors:ba.boolean(c.showColors,this.defaultValue.showColors),showFiles:ba.boolean(c.showFiles,this.defaultValue.showFiles),showReferences:ba.boolean(c.showReferences,this.defaultValue.showReferences),showFolders:ba.boolean(c.showFolders,this.defaultValue.showFolders),showTypeParameters:ba.boolean(c.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:ba.boolean(c.showSnippets,this.defaultValue.showSnippets),hideStatusBar:ba.boolean(c.hideStatusBar,this.defaultValue.hideStatusBar)}},a}(Ld),gU=function(d){pb(a,d);function a(){return d.call(this,106,[68])||this}return a.prototype.compute=function(b,c,e){var f=c.get(68);return f?!0:b.tabFocusMode},a}(Zj);function hU(d){switch(d){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}var iU=function(d){pb(a,d);function a(){return d.call(this,108,[97,100,101,107,2])||this}return a.prototype.compute=function(b,c,e){var f=c.get(97),g=c.get(100),h=c.get(101),i=c.get(107),j=c.get(2),k=null;return j===2?k={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:h&&b.isDominatedByLongLines?k={isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,i.viewportColumn)}:f==="on"?k={isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,i.viewportColumn)}:f==="bounded"?k={isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,i.viewportColumn),g)}:f==="wordWrapColumn"?k={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:g}:k={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1},{isDominatedByLongLines:b.isDominatedByLongLines,isWordWrapMinified:k.isWordWrapMinified,isViewportWrapping:k.isViewportWrapping,wrappingColumn:k.wrappingColumn}},a}(Zj),jU="Consolas, 'Courier New', monospace",kU="Menlo, Monaco, 'Courier New', monospace",lU="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",wf={fontFamily:ka?kU:cc?lU:jU,fontWeight:"normal",fontSize:ka?12:14,lineHeight:0,letterSpacing:0},Ec={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},pi=[];function Y(d){return pi[d.id]=d,d}var $c={acceptSuggestionOnCommitCharacter:Y(new ba(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:s("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Y(new kb(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",s("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:s("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Y(new LT()),accessibilityPageSize:Y(new Rb(3,"accessibilityPageSize",10,1,1073741824,{description:s("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Y(new ne(4,"ariaLabel",s("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Y(new kb(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",s("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),s("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:s("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingOvertype:Y(new kb(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",s("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:s("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Y(new kb(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",s("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),s("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:s("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Y(new im(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],KT,{enumDescriptions:[s("editor.autoIndent.none","The editor will not insert indentation automatically."),s("editor.autoIndent.keep","The editor will keep the current line's indentation."),s("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),s("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),s("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:s("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Y(new ba(9,"automaticLayout",!1)),autoSurround:Y(new kb(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[s("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),s("editor.autoSurround.quotes","Surround with quotes but not brackets."),s("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:s("autoSurround","Controls whether the editor should automatically surround selections.")})),codeLens:Y(new ba(11,"codeLens",!0,{description:s("codeLens","Controls whether the editor shows CodeLens.")})),colorDecorators:Y(new ba(12,"colorDecorators",!0,{description:s("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),comments:Y(new MT()),contextmenu:Y(new ba(14,"contextmenu",!0)),copyWithSyntaxHighlighting:Y(new ba(15,"copyWithSyntaxHighlighting",!0,{description:s("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Y(new im(16,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],NT,{description:s("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Y(new ba(17,"cursorSmoothCaretAnimation",!1,{description:s("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Y(new im(18,"cursorStyle",Vb.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],OT,{description:s("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Y(new Rb(19,"cursorSurroundingLines",0,0,1073741824,{description:s("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.")})),cursorSurroundingLinesStyle:Y(new kb(20,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[s("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),s("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:s("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Y(new Rb(21,"cursorWidth",0,0,1073741824,{markdownDescription:s("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Y(new ba(22,"disableLayerHinting",!1)),disableMonospaceOptimizations:Y(new ba(23,"disableMonospaceOptimizations",!1)),dragAndDrop:Y(new ba(24,"dragAndDrop",!0,{description:s("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Y(new QT()),extraEditorClassName:Y(new ne(26,"extraEditorClassName","")),fastScrollSensitivity:Y(new _j(27,"fastScrollSensitivity",5,function(d){return d<=0?5:d},{markdownDescription:s("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Y(new RT()),fixedOverflowWidgets:Y(new ba(29,"fixedOverflowWidgets",!1)),folding:Y(new ba(30,"folding",!0,{description:s("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Y(new kb(31,"foldingStrategy","auto",["auto","indentation"],{markdownDescription:s("foldingStrategy","Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.")})),foldingHighlight:Y(new ba(32,"foldingHighlight",!0,{description:s("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),fontFamily:Y(new ne(33,"fontFamily",wf.fontFamily,{description:s("fontFamily","Controls the font family.")})),fontInfo:Y(new ST()),fontLigatures2:Y(new bg()),fontSize:Y(new TT()),fontWeight:Y(new ne(37,"fontWeight",wf.fontWeight,{enum:["normal","bold","100","200","300","400","500","600","700","800","900"],description:s("fontWeight","Controls the font weight.")})),formatOnPaste:Y(new ba(38,"formatOnPaste",!1,{description:s("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Y(new ba(39,"formatOnType",!1,{description:s("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Y(new ba(40,"glyphMargin",!0,{description:s("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Y(new UT()),hideCursorInOverviewRuler:Y(new ba(42,"hideCursorInOverviewRuler",!1,{description:s("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:Y(new ba(43,"highlightActiveIndentGuide",!0,{description:s("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")})),hover:Y(new VT()),inDiffEditor:Y(new ba(45,"inDiffEditor",!1)),letterSpacing:Y(new _j(46,"letterSpacing",wf.letterSpacing,function(d){return _j.clamp(d,-5,20)},{description:s("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Y(new XT()),lineDecorationsWidth:Y(new jh(48,"lineDecorationsWidth",10)),lineHeight:Y(new YT()),lineNumbers:Y(new cU()),lineNumbersMinChars:Y(new Rb(51,"lineNumbersMinChars",5,1,300)),links:Y(new ba(52,"links",!0,{description:s("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Y(new kb(53,"matchBrackets","always",["always","near","never"],{description:s("matchBrackets","Highlight matching brackets.")})),minimap:Y(new ZT()),mouseStyle:Y(new kb(55,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Y(new _j(56,"mouseWheelScrollSensitivity",1,function(d){return d===0?1:d},{markdownDescription:s("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Y(new ba(57,"mouseWheelZoom",!1,{markdownDescription:s("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Y(new ba(58,"multiCursorMergeOverlapping",!0,{description:s("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Y(new im(59,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],_T,{markdownEnumDescriptions:[s("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),s("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:s({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Y(new kb(60,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[s("multiCursorPaste.spread","Each cursor pastes a single line of the text."),s("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:s("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Y(new ba(61,"occurrencesHighlight",!0,{description:s("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Y(new ba(62,"overviewRulerBorder",!0,{description:s("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Y(new Rb(63,"overviewRulerLanes",3,0,3)),parameterHints:Y(new $T()),peekWidgetDefaultFocus:Y(new kb(65,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[s("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),s("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:s("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),quickSuggestions:Y(new bU()),quickSuggestionsDelay:Y(new Rb(67,"quickSuggestionsDelay",10,0,1073741824,{description:s("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Y(new ba(68,"readOnly",!1)),renderControlCharacters:Y(new ba(69,"renderControlCharacters",!1,{description:s("renderControlCharacters","Controls whether the editor should render control characters.")})),renderIndentGuides:Y(new ba(70,"renderIndentGuides",!0,{description:s("renderIndentGuides","Controls whether the editor should render indent guides.")})),renderFinalNewline:Y(new ba(71,"renderFinalNewline",!0,{description:s("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Y(new kb(72,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",s("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:s("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderValidationDecorations:Y(new kb(73,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Y(new kb(74,"renderWhitespace","none",["none","boundary","selection","all"],{enumDescriptions:["",s("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),s("renderWhitespace.selection","Render whitespace characters only on selected text."),""],description:s("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Y(new Rb(75,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Y(new ba(76,"roundedSelection",!0,{description:s("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Y(new dU()),scrollbar:Y(new eU()),scrollBeyondLastColumn:Y(new Rb(79,"scrollBeyondLastColumn",5,0,1073741824,{description:s("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Y(new ba(80,"scrollBeyondLastLine",!0,{description:s("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),selectionClipboard:Y(new ba(81,"selectionClipboard",!0,{description:s("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:cc})),selectionHighlight:Y(new ba(82,"selectionHighlight",!0,{description:s("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Y(new ba(83,"selectOnLineNumbers",!0)),showFoldingControls:Y(new kb(84,"showFoldingControls","mouseover",["always","mouseover"],{description:s("showFoldingControls","Controls whether the fold controls on the gutter are automatically hidden.")})),showUnused:Y(new ba(85,"showUnused",!0,{description:s("showUnused","Controls fading out of unused code.")})),snippetSuggestions:Y(new kb(86,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[s("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),s("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),s("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),s("snippetSuggestions.none","Do not show snippet suggestions.")],description:s("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smoothScrolling:Y(new ba(87,"smoothScrolling",!1,{description:s("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Y(new Rb(88,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Y(new fU()),suggestFontSize:Y(new Rb(90,"suggestFontSize",0,0,1e3,{markdownDescription:s("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Y(new Rb(91,"suggestLineHeight",0,0,1e3,{markdownDescription:s("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")})),suggestOnTriggerCharacters:Y(new ba(92,"suggestOnTriggerCharacters",!0,{description:s("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Y(new kb(93,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[s("suggestSelection.first","Always select the first suggestion."),s("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),s("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:s("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Y(new kb(94,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[s("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),s("tabCompletion.off","Disable tab completions."),s("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:s("tabCompletion","Enables tab completions.")})),useTabStops:Y(new ba(95,"useTabStops",!0,{description:s("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Y(new ne(96,"wordSeparators",fv,{description:s("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Y(new kb(97,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[s("wordWrap.off","Lines will never wrap."),s("wordWrap.on","Lines will wrap at the viewport width."),s({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),s({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:s({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Y(new ne(98,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:Y(new ne(99,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:Y(new Rb(100,"wordWrapColumn",80,1,1073741824,{markdownDescription:s({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapMinified:Y(new ba(101,"wordWrapMinified",!0)),wrappingIndent:Y(new im(102,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],hU,{enumDescriptions:[s("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),s("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),s("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),s("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:s("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Y(new kb(103,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[s("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),s("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:s("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Y(new PT()),pixelRatio:Y(new aU()),tabFocusMode:Y(new gU()),layoutInfo:Y(new WT()),wrappingInfo:Y(new iU())};var LP=function(){function d(){this.listeners=[],this.unexpectedErrorHandler=function(a){setTimeout(function(){throw a.stack?new Error(a.message+`

`+a.stack):a},0)}}return d.prototype.emit=function(a){this.listeners.forEach(function(b){b(a)})},d.prototype.onUnexpectedError=function(a){this.unexpectedErrorHandler(a),this.emit(a)},d.prototype.onUnexpectedExternalError=function(a){this.unexpectedErrorHandler(a)},d}(),gA=new LP();function W(d){Lg(d)||gA.onUnexpectedError(d);return}function tb(d){Lg(d)||gA.onUnexpectedExternalError(d);return}function Et(d){if(d instanceof Error){var a=d.name,b=d.message,c=d.stacktrace||d.stack;return{$isError:!0,name:a,message:b,stack:c}}return d}var Ft="Canceled";function Lg(d){return d instanceof Error&&d.name===Ft&&d.message===Ft}function Og(){var d=new Error(Ft);return d.name=d.message,d}function Qb(d){return d?new Error("Illegal argument: "+d):new Error("Illegal argument")}function hA(d){return d?new Error("Illegal state: "+d):new Error("Illegal state")}function Xf(d){var a=this,b=!1,c;return function(){return b?c:(b=!0,c=d.apply(a,arguments),c)}}var UA=!1,VA="__is_disposable_tracked__";function Zf(d){if(!UA)return;if(d&&d!==I.None)try{d[VA]=!0}catch(a){}}function Go(d){if(!UA)return d;var a=new Error("Potentially leaked disposable").stack;return setTimeout(function(){d[VA]||console.log(a)},3e3),d}function Xh(d){return typeof d.dispose==="function"&&d.dispose.length===0}function ca(d){return Array.isArray(d)?(d.forEach(function(a){a&&(Zf(a),a.dispose())}),[]):d?(Zf(d),d.dispose(),d):void 0}function Mc(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];return d.forEach(Zf),Go({dispose:function(){return ca(d)}})}function va(d){var a=Go({dispose:function(){Zf(a),d()}});return a}var P=function(){function d(){this._toDispose=new Set(),this._isDisposed=!1}return d.prototype.dispose=function(){if(this._isDisposed)return;Zf(this),this._isDisposed=!0,this.clear()},d.prototype.clear=function(){this._toDispose.forEach(function(a){return a.dispose()}),this._toDispose.clear()},d.prototype.add=function(a){if(!a)return a;if(a===this)throw new Error("Cannot register a disposable on itself!");return Zf(a),this._isDisposed?console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(a),a},d}(),I=function(){function d(){this._store=new P(),Go(this)}return d.prototype.dispose=function(){Zf(this),this._store.dispose()},d.prototype._register=function(a){if(a===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(a)},d.None=Object.freeze({dispose:function(){}}),d}(),Pc=function(){function d(){this._isDisposed=!1,Go(this)}return Object.defineProperty(d.prototype,"value",{get:function(){return this._isDisposed?void 0:this._value},set:function(a){if(this._isDisposed||a===this._value)return;this._value&&this._value.dispose(),a&&Zf(a),this._value=a},enumerable:!0,configurable:!0}),d.prototype.clear=function(){this.value=void 0},d.prototype.dispose=function(){this._isDisposed=!0,Zf(this),this._value&&this._value.dispose(),this._value=void 0},d}(),WA=function(){function d(a){this.object=a}return d.prototype.dispose=function(){},d}();var vQ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Ge={done:!0,value:void 0},La;(function(d){var a={next:function(){return Ge}};function b(){return a}d.empty=b;function c(n){var o=!1;return{next:function(){return o?Ge:(o=!0,{done:!1,value:n})}}}d.single=c;function e(n,o,p){return o===void 0&&(o=0),p===void 0&&(p=n.length),{next:function(){return o>=p?Ge:{done:!1,value:n[o++]}}}}d.fromArray=e;function f(n){return{next:function(){var o=n.next();return o.done?Ge:{done:!1,value:o.value}}}}d.fromNativeIterator=f;function g(n){return n?Array.isArray(n)?d.fromArray(n):n:d.empty()}d.from=g;function h(n,o){return{next:function(){var p=n.next();return p.done?Ge:{done:!1,value:o(p.value)}}}}d.map=h;function i(n,o){return{next:function(){for(;;){var p=n.next();if(p.done)return Ge;if(o(p.value))return{done:!1,value:p.value}}}}}d.filter=i;function j(n,o){for(var p=n.next();!p.done;p=n.next())o(p.value)}d.forEach=j;function k(n,o){o===void 0&&(o=Number.POSITIVE_INFINITY);var p=[];if(o===0)return p;for(var q=0,r=n.next();!r.done;r=n.next()){p.push(r.value);if(++q>=o)break}return p}d.collect=k;function l(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var p=0;return{next:function(){if(p>=n.length)return Ge;var q=n[p],r=q.next();return r.done?(p++,this.next()):r}}}d.concat=l;function m(n){return new wQ(n)}d.chain=m})(La||(La={}));var wQ=function(){function d(a){this.it=a}return d.prototype.next=function(){return this.it.next()},d}();function Zz(d){return Array.isArray(d)?La.fromArray(d):d?d:La.empty()}var Tg=function(){function d(a,b,c,e){b===void 0&&(b=0),c===void 0&&(c=a.length),e===void 0&&(e=b-1),this.items=a,this.start=b,this.end=c,this.index=e}return d.prototype.first=function(){return this.index=this.start,this.current()},d.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},d.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},d}(),KA=function(d){vQ(a,d);function a(b,c,e,f){return c===void 0&&(c=0),e===void 0&&(e=b.length),f===void 0&&(f=c-1),d.call(this,b,c,e,f)||this}return a.prototype.current=function(){return d.prototype.current.call(this)},a.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},a.prototype.first=function(){return this.index=this.start,this.current()},a.prototype.last=function(){return this.index=this.end-1,this.current()},a.prototype.parent=function(){return null},a}(Tg),Ut=function(){function d(a,b){this.iterator=a,this.fn=b}return d.prototype.next=function(){return this.fn(this.iterator.next())},d}();var gc=function(){function d(a){this.element=a,this.next=d.Undefined,this.prev=d.Undefined}return d.Undefined=new d(void 0),d}(),Yc=function(){function d(){this._first=gc.Undefined,this._last=gc.Undefined,this._size=0}return Object.defineProperty(d.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),d.prototype.isEmpty=function(){return this._first===gc.Undefined},d.prototype.clear=function(){this._first=gc.Undefined,this._last=gc.Undefined,this._size=0},d.prototype.unshift=function(a){return this._insert(a,!1)},d.prototype.push=function(a){return this._insert(a,!0)},d.prototype._insert=function(a,b){var c=this,e=new gc(a);if(this._first===gc.Undefined)this._first=e,this._last=e;else if(b){var f=this._last;this._last=e,e.prev=f,f.next=e}else{var g=this._first;this._first=e,e.next=g,g.prev=e}this._size+=1;var h=!1;return function(){h||(h=!0,c._remove(e))}},d.prototype.shift=function(){if(this._first===gc.Undefined)return;{var a=this._first.element;return this._remove(this._first),a}},d.prototype.pop=function(){if(this._last===gc.Undefined)return;{var a=this._last.element;return this._remove(this._last),a}},d.prototype._remove=function(a){if(a.prev!==gc.Undefined&&a.next!==gc.Undefined){var b=a.prev;b.next=a.next,a.next.prev=b}else a.prev===gc.Undefined&&a.next===gc.Undefined?(this._first=gc.Undefined,this._last=gc.Undefined):a.next===gc.Undefined?(this._last=this._last.prev,this._last.next=gc.Undefined):a.prev===gc.Undefined&&(this._first=this._first.next,this._first.prev=gc.Undefined);this._size-=1},d.prototype.iterator=function(){var a,b=this._first;return{next:function(){return b===gc.Undefined?Ge:(a?a.value=b.element:a={done:!1,value:b.element},b=b.next,a)}}},d.prototype.toArray=function(){for(var a=[],b=this._first;b!==gc.Undefined;b=b.next)a.push(b.element);return a},d}();var MP=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),da;(function(d){d.None=function(){return I.None};function a(v){return function(w,x,u){x===void 0&&(x=null);var y=!1,A;return A=v(function(F){return y?void 0:(A?A.dispose():y=!0,w.call(x,F))},null,u),y&&A.dispose(),A}}d.once=a;function b(v,w){return i(function(x,u,y){return u===void 0&&(u=null),v(function(A){return x.call(u,w(A))},null,y)})}d.map=b;function c(v,w){return i(function(x,u,y){return u===void 0&&(u=null),v(function(A){w(A),x.call(u,A)},null,y)})}d.forEach=c;function e(v,w){return i(function(x,u,y){return u===void 0&&(u=null),v(function(A){return w(A)&&x.call(u,A)},null,y)})}d.filter=e;function f(v){return v}d.signal=f;function g(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];return function(x,u,y){return u===void 0&&(u=null),Mc.apply(void 0,v.map(function(A){return A(function(F){return x.call(u,F)},null,y)}))}}d.any=g;function h(v,w,x){var u=x;return b(v,function(y){return u=w(u,y),u})}d.reduce=h;function i(v){var w,x=new E({onFirstListenerAdd:function(){w=v(x.fire,x)},onLastListenerRemove:function(){w.dispose()}});return x.event}d.snapshot=i;function j(v,w,x,u,y){x===void 0&&(x=100),u===void 0&&(u=!1);var A,F=void 0,B=void 0,D=0,H=new E({leakWarningThreshold:y,onFirstListenerAdd:function(){A=v(function(J){D++,F=w(F,J),u&&!B&&(H.fire(F),F=void 0),clearTimeout(B),B=setTimeout(function(){var L=F;F=void 0,B=void 0,(!u||D>1)&&H.fire(L),D=0},x)})},onLastListenerRemove:function(){A.dispose()}});return H.event}d.debounce=j;function k(v){var w=new Date().getTime();return b(a(v),function(x){return new Date().getTime()-w})}d.stopwatch=k;function l(v){var w=!0,x;return e(v,function(u){var y=w||u!==x;return w=!1,x=u,y})}d.latch=l;function m(v,w,x){w===void 0&&(w=!1),x===void 0&&(x=[]);var u=x.slice(),y=v(function(B){u?u.push(B):F.fire(B)}),A=function(){u&&u.forEach(function(B){return F.fire(B)}),u=null},F=new E({onFirstListenerAdd:function(){y||(y=v(function(B){return F.fire(B)}))},onFirstListenerDidAdd:function(){u&&(w?setTimeout(A):A())},onLastListenerRemove:function(){y&&y.dispose(),y=null}});return F.event}d.buffer=m;var n=function(){function v(w){this.event=w}return v.prototype.map=function(w){return new v(b(this.event,w))},v.prototype.forEach=function(w){return new v(c(this.event,w))},v.prototype.filter=function(w){return new v(e(this.event,w))},v.prototype.reduce=function(w,x){return new v(h(this.event,w,x))},v.prototype.latch=function(){return new v(l(this.event))},v.prototype.debounce=function(w,x,u,y){return x===void 0&&(x=100),u===void 0&&(u=!1),new v(j(this.event,w,x,u,y))},v.prototype.on=function(w,x,u){return this.event(w,x,u)},v.prototype.once=function(w,x,u){return a(this.event)(w,x,u)},v}();function o(v){return new n(v)}d.chain=o;function p(v,w,x){x===void 0&&(x=function(B){return B});var u=function(){for(var B=[],D=0;D<arguments.length;D++)B[D]=arguments[D];return F.fire(x.apply(void 0,B))},y=function(){return v.on(w,u)},A=function(){return v.removeListener(w,u)},F=new E({onFirstListenerAdd:y,onLastListenerRemove:A});return F.event}d.fromNodeEventEmitter=p;function q(v,w,x){x===void 0&&(x=function(B){return B});var u=function(){for(var B=[],D=0;D<arguments.length;D++)B[D]=arguments[D];return F.fire(x.apply(void 0,B))},y=function(){return v.addEventListener(w,u)},A=function(){return v.removeEventListener(w,u)},F=new E({onFirstListenerAdd:y,onLastListenerRemove:A});return F.event}d.fromDOMEventEmitter=q;function r(v){var w=new E(),x=!1;return v.then(void 0,function(){return null}).then(function(){x?w.fire(void 0):setTimeout(function(){return w.fire(void 0)},0)}),x=!0,w.event}d.fromPromise=r;function t(v){return new Promise(function(w){return a(v)(w)})}d.toPromise=t})(da||(da={}));var iA=-1,NP=function(){function d(a,b){b===void 0&&(b=Math.random().toString(18).slice(2,5)),this.customThreshold=a,this.name=b,this._warnCountdown=0}return d.prototype.dispose=function(){this._stacks&&this._stacks.clear()},d.prototype.check=function(a){var b=this,c=iA;typeof this.customThreshold==="number"&&(c=this.customThreshold);if(c<=0||a<c)return;this._stacks||(this._stacks=new Map());var e=new Error().stack.split(`
`).slice(3).join(`
`),f=this._stacks.get(e)||0;this._stacks.set(e,f+1),this._warnCountdown-=1;if(this._warnCountdown<=0){this._warnCountdown=c*.5;var g,h=0;this._stacks.forEach(function(i,j){(!g||h<i)&&(g=j,h=i)}),console.warn("["+this.name+"] potential listener LEAK detected, having "+a+" listeners already. MOST frequent listener ("+h+"):"),console.warn(g)}return function(){var i=b._stacks.get(e)||0;b._stacks.set(e,i-1)}},d}(),E=function(){function d(a){this._disposed=!1,this._options=a,this._leakageMon=iA>0?new NP(this._options&&this._options.leakWarningThreshold):void 0}return Object.defineProperty(d.prototype,"event",{get:function(){var a=this;return this._event||(this._event=function(b,c,e){a._listeners||(a._listeners=new Yc());var f=a._listeners.isEmpty();f&&a._options&&a._options.onFirstListenerAdd&&a._options.onFirstListenerAdd(a);var g=a._listeners.push(c?[b,c]:b);f&&a._options&&a._options.onFirstListenerDidAdd&&a._options.onFirstListenerDidAdd(a),a._options&&a._options.onListenerDidAdd&&a._options.onListenerDidAdd(a,b,c);var h;a._leakageMon&&(h=a._leakageMon.check(a._listeners.size));var i;return i={dispose:function(){h&&h(),i.dispose=d._noop;if(!a._disposed){g();if(a._options&&a._options.onLastListenerRemove){var j=a._listeners&&!a._listeners.isEmpty();j||a._options.onLastListenerRemove(a)}}}},e instanceof P?e.add(i):Array.isArray(e)&&e.push(i),i}),this._event},enumerable:!0,configurable:!0}),d.prototype.fire=function(a){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Yc());for(var b=this._listeners.iterator(),c=b.next();!c.done;c=b.next())this._deliveryQueue.push([c.value,a]);for(;this._deliveryQueue.size>0;){var e=this._deliveryQueue.shift(),f=e[0],g=e[1];try{typeof f==="function"?f.call(void 0,g):f[0].call(f[1],g)}catch(h){W(h)}}}},d.prototype.dispose=function(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0},d._noop=function(){},d}(),jA=function(d){MP(a,d);function a(b){var c=d.call(this,b)||this;return c._isPaused=0,c._eventQueue=new Yc(),c._mergeFn=b&&b.merge,c}return a.prototype.pause=function(){this._isPaused++},a.prototype.resume=function(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){var b=this._eventQueue.toArray();this._eventQueue.clear(),d.prototype.fire.call(this,this._mergeFn(b))}else for(;!this._isPaused&&this._eventQueue.size!==0;)d.prototype.fire.call(this,this._eventQueue.shift())},a.prototype.fire=function(b){this._listeners&&(this._isPaused!==0?this._eventQueue.push(b):d.prototype.fire.call(this,b))},a}(E),fe=function(){function d(){var a=this;this.hasListeners=!1,this.events=[],this.emitter=new E({onFirstListenerAdd:function(){return a.onFirstListenerAdd()},onLastListenerRemove:function(){return a.onLastListenerRemove()}})}return Object.defineProperty(d.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),d.prototype.add=function(a){var b=this,c={event:a,listener:null};this.events.push(c),this.hasListeners&&this.hook(c);var e=function(){b.hasListeners&&b.unhook(c);var f=b.events.indexOf(c);b.events.splice(f,1)};return va(Xf(e))},d.prototype.onFirstListenerAdd=function(){var a=this;this.hasListeners=!0,this.events.forEach(function(b){return a.hook(b)})},d.prototype.onLastListenerRemove=function(){var a=this;this.hasListeners=!1,this.events.forEach(function(b){return a.unhook(b)})},d.prototype.hook=function(a){var b=this;a.listener=a.event(function(c){return b.emitter.fire(c)})},d.prototype.unhook=function(a){a.listener&&a.listener.dispose(),a.listener=null},d.prototype.dispose=function(){this.emitter.dispose()},d}(),ij=function(){function d(){this.buffers=[]}return d.prototype.wrapEvent=function(a){var b=this;return function(c,e,f){return a(function(g){var h=b.buffers[b.buffers.length-1];h?h.push(function(){return c.call(e,g)}):c.call(e,g)},void 0,f)}},d.prototype.bufferEvents=function(a){var b=[];this.buffers.push(b);var c=a();return this.buffers.pop(),b.forEach(function(e){return e()}),c},d}(),ec=function(){function d(){var a=this;this.listening=!1,this.inputEvent=da.None,this.inputEventListener=I.None,this.emitter=new E({onFirstListenerDidAdd:function(){a.listening=!0,a.inputEventListener=a.inputEvent(a.emitter.fire,a.emitter)},onLastListenerRemove:function(){a.listening=!1,a.inputEventListener.dispose()}}),this.event=this.emitter.event}return Object.defineProperty(d.prototype,"input",{set:function(a){this.inputEvent=a,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=a(this.emitter.fire,this.emitter))},enumerable:!0,configurable:!0}),d.prototype.dispose=function(){this.inputEventListener.dispose(),this.emitter.dispose()},d}();var bA=Object.freeze(function(d,a){var b=setTimeout(d.bind(a),0);return{dispose:function(){clearTimeout(b)}}}),xa;(function(d){function a(b){return b===d.None||b===d.Cancelled?!0:b instanceof wo?!0:!b||typeof b!=="object"?!1:typeof b.isCancellationRequested==="boolean"&&typeof b.onCancellationRequested==="function"}d.isCancellationToken=a,d.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:da.None}),d.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:bA})})(xa||(xa={}));var wo=function(){function d(){this._isCancelled=!1,this._emitter=null}return d.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(d.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?bA:(this._emitter||(this._emitter=new E()),this._emitter.event)},enumerable:!0,configurable:!0}),d.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)},d}(),Oc=function(){function d(a){this._token=void 0,this._parentListener=void 0,this._parentListener=a&&a.onCancellationRequested(this.cancel,this)}return Object.defineProperty(d.prototype,"token",{get:function(){return this._token||(this._token=new wo()),this._token},enumerable:!0,configurable:!0}),d.prototype.cancel=function(){this._token?this._token instanceof wo&&this._token.cancel():this._token=xa.Cancelled},d.prototype.dispose=function(a){a===void 0&&(a=!1),a&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof wo&&this._token.dispose():this._token=xa.None},d}();var Vt=function(){function d(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return d.prototype.define=function(a,b){this._keyCodeToStr[a]=b,this._strToKeyCode[b.toLowerCase()]=a},d.prototype.keyCodeToStr=function(a){return this._keyCodeToStr[a]},d.prototype.strToKeyCode=function(a){return this._strToKeyCode[a.toLowerCase()]||0},d}(),Wt=new Vt(),Xt=new Vt(),Yt=new Vt();(function(){function d(a,b,c,e){c===void 0&&(c=b),e===void 0&&(e=c),Wt.define(a,b),Xt.define(a,c),Yt.define(a,e)}d(0,"unknown"),d(1,"Backspace"),d(2,"Tab"),d(3,"Enter"),d(4,"Shift"),d(5,"Ctrl"),d(6,"Alt"),d(7,"PauseBreak"),d(8,"CapsLock"),d(9,"Escape"),d(10,"Space"),d(11,"PageUp"),d(12,"PageDown"),d(13,"End"),d(14,"Home"),d(15,"LeftArrow","Left"),d(16,"UpArrow","Up"),d(17,"RightArrow","Right"),d(18,"DownArrow","Down"),d(19,"Insert"),d(20,"Delete"),d(21,"0"),d(22,"1"),d(23,"2"),d(24,"3"),d(25,"4"),d(26,"5"),d(27,"6"),d(28,"7"),d(29,"8"),d(30,"9"),d(31,"A"),d(32,"B"),d(33,"C"),d(34,"D"),d(35,"E"),d(36,"F"),d(37,"G"),d(38,"H"),d(39,"I"),d(40,"J"),d(41,"K"),d(42,"L"),d(43,"M"),d(44,"N"),d(45,"O"),d(46,"P"),d(47,"Q"),d(48,"R"),d(49,"S"),d(50,"T"),d(51,"U"),d(52,"V"),d(53,"W"),d(54,"X"),d(55,"Y"),d(56,"Z"),d(57,"Meta"),d(58,"ContextMenu"),d(59,"F1"),d(60,"F2"),d(61,"F3"),d(62,"F4"),d(63,"F5"),d(64,"F6"),d(65,"F7"),d(66,"F8"),d(67,"F9"),d(68,"F10"),d(69,"F11"),d(70,"F12"),d(71,"F13"),d(72,"F14"),d(73,"F15"),d(74,"F16"),d(75,"F17"),d(76,"F18"),d(77,"F19"),d(78,"NumLock"),d(79,"ScrollLock"),d(80,";",";","OEM_1"),d(81,"=","=","OEM_PLUS"),d(82,",",",","OEM_COMMA"),d(83,"-","-","OEM_MINUS"),d(84,".",".","OEM_PERIOD"),d(85,"/","/","OEM_2"),d(86,"`","`","OEM_3"),d(110,"ABNT_C1"),d(111,"ABNT_C2"),d(87,"[","[","OEM_4"),d(88,"\\","\\","OEM_5"),d(89,"]","]","OEM_6"),d(90,"'","'","OEM_7"),d(91,"OEM_8"),d(92,"OEM_102"),d(93,"NumPad0"),d(94,"NumPad1"),d(95,"NumPad2"),d(96,"NumPad3"),d(97,"NumPad4"),d(98,"NumPad5"),d(99,"NumPad6"),d(100,"NumPad7"),d(101,"NumPad8"),d(102,"NumPad9"),d(103,"NumPad_Multiply"),d(104,"NumPad_Add"),d(105,"NumPad_Separator"),d(106,"NumPad_Subtract"),d(107,"NumPad_Decimal"),d(108,"NumPad_Divide")})();var Bg;(function(d){function a(g){return Wt.keyCodeToStr(g)}d.toString=a;function b(g){return Wt.strToKeyCode(g)}d.fromString=b;function c(g){return Xt.keyCodeToStr(g)}d.toUserSettingsUS=c;function e(g){return Yt.keyCodeToStr(g)}d.toUserSettingsGeneral=e;function f(g){return Xt.strToKeyCode(g)||Yt.strToKeyCode(g)}d.fromUserSettings=f})(Bg||(Bg={}));function Bb(d,a){var b=(a&65535)<<16>>>0;return(d|b)>>>0}function Vh(d,a){if(d===0)return null;var b=(d&65535)>>>0,c=(d&4294901760)>>>16;return c!==0?new _t([Zt(b,a),Zt(c,a)]):new _t([Zt(b,a)])}function Zt(d,a){var b=d&2048?!0:!1,c=d&256?!0:!1,e=a===2?c:b,f=d&1024?!0:!1,g=d&512?!0:!1,h=a===2?b:c,i=d&255;return new Cg(e,f,g,h,i)}var Cg=function(){function d(a,b,c,e,f){this.ctrlKey=a,this.shiftKey=b,this.altKey=c,this.metaKey=e,this.keyCode=f}return d.prototype.equals=function(a){return this.ctrlKey===a.ctrlKey&&this.shiftKey===a.shiftKey&&this.altKey===a.altKey&&this.metaKey===a.metaKey&&this.keyCode===a.keyCode},d.prototype.isModifierKey=function(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4},d.prototype.toChord=function(){return new _t([this])},d.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57},d}(),_t=function(){function d(a){if(a.length===0)throw Qb("parts");this.parts=a}return d.prototype.equals=function(a){if(a===null)return!1;if(this.parts.length!==a.parts.length)return!1;for(var b=0;b<this.parts.length;b++)if(!this.parts[b].equals(a.parts[b]))return!1;return!0},d}(),OA=function(){function d(a,b,c,e,f,g){this.ctrlKey=a,this.shiftKey=b,this.altKey=c,this.metaKey=e,this.keyLabel=f,this.keyAriaLabel=g}return d}(),PA=function(){function d(){}return d}();var dR=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),ic,eR=/^\w[\w\d+.-]*$/,fR=/^\//,gR=/^\/\//;function hR(d,a){if(!d.scheme&&a)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+d.authority+'", path: "'+d.path+'", query: "'+d.query+'", fragment: "'+d.fragment+'"}');if(d.scheme&&!eR.test(d.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(d.path){if(d.authority){if(!fR.test(d.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(gR.test(d.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function iR(d,a){return!d&&!a?"file":d}function jR(d,a){switch(d){case"https":case"http":case"file":a?a[0]!==Je&&(a=Je+a):a=Je;break}return a}var Db="",Je="/",kR=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,ja=function(){function d(a,b,c,e,f,g){g===void 0&&(g=!1),typeof a==="object"?(this.scheme=a.scheme||Db,this.authority=a.authority||Db,this.path=a.path||Db,this.query=a.query||Db,this.fragment=a.fragment||Db):(this.scheme=iR(a,g),this.authority=b||Db,this.path=jR(this.scheme,c||Db),this.query=e||Db,this.fragment=f||Db,hR(this,g))}return d.isUri=function(a){return a instanceof d?!0:a?typeof a.authority==="string"&&typeof a.fragment==="string"&&typeof a.path==="string"&&typeof a.query==="string"&&typeof a.scheme==="string"&&typeof a.fsPath==="function"&&typeof a.with==="function"&&typeof a.toString==="function":!1},Object.defineProperty(d.prototype,"fsPath",{get:function(){return LB(this)},enumerable:!0,configurable:!0}),d.prototype.with=function(a){if(!a)return this;var b=a.scheme,c=a.authority,e=a.path,f=a.query,g=a.fragment;return b===void 0?b=this.scheme:b===null&&(b=Db),c===void 0?c=this.authority:c===null&&(c=Db),e===void 0?e=this.path:e===null&&(e=Db),f===void 0?f=this.query:f===null&&(f=Db),g===void 0?g=this.fragment:g===null&&(g=Db),b===this.scheme&&c===this.authority&&e===this.path&&f===this.query&&g===this.fragment?this:new Bj(b,c,e,f,g)},d.parse=function(a,b){b===void 0&&(b=!1);var c=kR.exec(a);return c?new Bj(c[2]||Db,Yo(c[4]||Db),Yo(c[5]||Db),Yo(c[7]||Db),Yo(c[9]||Db),b):new Bj(Db,Db,Db,Db,Db)},d.file=function(a){var b=Db;sb&&(a=a.replace(/\\/g,Je));if(a[0]===Je&&a[1]===Je){var c=a.indexOf(Je,2);c===-1?(b=a.substring(2),a=Je):(b=a.substring(2,c),a=a.substring(c)||Je)}return new Bj("file",b,a,Db,Db)},d.from=function(a){return new Bj(a.scheme,a.authority,a.path,a.query,a.fragment)},d.prototype.toString=function(a){return a===void 0&&(a=!1),su(this,a)},d.prototype.toJSON=function(){return this},d.revive=function(a){if(a){if(a instanceof d)return a;{var b=new Bj(a);return b._formatted=a.external,b._fsPath=a._sep===IB?a.fsPath:null,b}}else return a},d}(),IB=sb?1:void 0,Bj=function(d){dR(a,d);function a(){var b=d!==null&&d.apply(this,arguments)||this;return b._formatted=null,b._fsPath=null,b}return Object.defineProperty(a.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=LB(this)),this._fsPath},enumerable:!0,configurable:!0}),a.prototype.toString=function(b){return b===void 0&&(b=!1),b?su(this,!0):(this._formatted||(this._formatted=su(this,!1)),this._formatted)},a.prototype.toJSON=function(){var b={$mid:1};return this._fsPath&&(b.fsPath=this._fsPath,b._sep=IB),this._formatted&&(b.external=this._formatted),this.path&&(b.path=this.path),this.scheme&&(b.scheme=this.scheme),this.authority&&(b.authority=this.authority),this.query&&(b.query=this.query),this.fragment&&(b.fragment=this.fragment),b},a}(ja),JB=(ic={},ic[58]="%3A",ic[47]="%2F",ic[63]="%3F",ic[35]="%23",ic[91]="%5B",ic[93]="%5D",ic[64]="%40",ic[33]="%21",ic[36]="%24",ic[38]="%26",ic[39]="%27",ic[40]="%28",ic[41]="%29",ic[42]="%2A",ic[43]="%2B",ic[44]="%2C",ic[59]="%3B",ic[61]="%3D",ic[32]="%20",ic);function KB(d,a){for(var b=void 0,c=-1,e=0;e<d.length;e++){var f=d.charCodeAt(e);if(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||f===45||f===46||f===95||f===126||a&&f===47)c!==-1&&(b+=encodeURIComponent(d.substring(c,e)),c=-1),b!==void 0&&(b+=d.charAt(e));else{b===void 0&&(b=d.substr(0,e));var g=JB[f];g!==void 0?(c!==-1&&(b+=encodeURIComponent(d.substring(c,e)),c=-1),b+=g):c===-1&&(c=e)}}return c!==-1&&(b+=encodeURIComponent(d.substring(c))),b!==void 0?b:d}function lR(d){for(var a=void 0,b=0;b<d.length;b++){var c=d.charCodeAt(b);c===35||c===63?(a===void 0&&(a=d.substr(0,b)),a+=JB[c]):a!==void 0&&(a+=d[b])}return a!==void 0?a:d}function LB(d){var a;return d.authority&&d.path.length>1&&d.scheme==="file"?a="//"+d.authority+d.path:d.path.charCodeAt(0)===47&&(d.path.charCodeAt(1)>=65&&d.path.charCodeAt(1)<=90||d.path.charCodeAt(1)>=97&&d.path.charCodeAt(1)<=122)&&d.path.charCodeAt(2)===58?a=d.path[1].toLowerCase()+d.path.substr(2):a=d.path,sb&&(a=a.replace(/\//g,"\\")),a}function su(d,a){var b=a?lR:KB,c="",e=d.scheme,f=d.authority,g=d.path,h=d.query,i=d.fragment;e&&(c+=e,c+=":"),(f||e==="file")&&(c+=Je,c+=Je);if(f){var j=f.indexOf("@");if(j!==-1){var k=f.substr(0,j);f=f.substr(j+1),j=k.indexOf(":"),j===-1?c+=b(k,!1):(c+=b(k.substr(0,j),!1),c+=":",c+=b(k.substr(j+1),!1)),c+="@"}f=f.toLowerCase(),j=f.indexOf(":"),j===-1?c+=b(f,!1):(c+=b(f.substr(0,j),!1),c+=f.substr(j))}if(g){if(g.length>=3&&g.charCodeAt(0)===47&&g.charCodeAt(2)===58){var l=g.charCodeAt(1);l>=65&&l<=90&&(g="/"+String.fromCharCode(l+32)+":"+g.substr(3))}else if(g.length>=2&&g.charCodeAt(1)===58){var l=g.charCodeAt(0);l>=65&&l<=90&&(g=String.fromCharCode(l+32)+":"+g.substr(2))}c+=b(g,!0)}return h&&(c+="?",c+=b(h,!1)),i&&(c+="#",c+=a?i:KB(i,!1)),c}function MB(d){try{return decodeURIComponent(d)}catch(a){return d.length>3?d.substr(0,3)+MB(d.substr(3)):d}}var NB=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Yo(d){return d.match(NB)?d.replace(NB,function(a){return MB(a)}):d}var G=function(){function d(a,b){this.lineNumber=a,this.column=b}return d.prototype.with=function(a,b){return a===void 0&&(a=this.lineNumber),b===void 0&&(b=this.column),a===this.lineNumber&&b===this.column?this:new d(a,b)},d.prototype.delta=function(a,b){return a===void 0&&(a=0),b===void 0&&(b=0),this.with(this.lineNumber+a,this.column+b)},d.prototype.equals=function(a){return d.equals(this,a)},d.equals=function(a,b){return!a&&!b?!0:!!a&&!!b&&a.lineNumber===b.lineNumber&&a.column===b.column},d.prototype.isBefore=function(a){return d.isBefore(this,a)},d.isBefore=function(a,b){return a.lineNumber<b.lineNumber?!0:b.lineNumber<a.lineNumber?!1:a.column<b.column},d.prototype.isBeforeOrEqual=function(a){return d.isBeforeOrEqual(this,a)},d.isBeforeOrEqual=function(a,b){return a.lineNumber<b.lineNumber?!0:b.lineNumber<a.lineNumber?!1:a.column<=b.column},d.compare=function(a,b){var c=a.lineNumber|0,e=b.lineNumber|0;if(c===e){var f=a.column|0,g=b.column|0;return f-g}return c-e},d.prototype.clone=function(){return new d(this.lineNumber,this.column)},d.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},d.lift=function(a){return new d(a.lineNumber,a.column)},d.isIPosition=function(a){return a&&typeof a.lineNumber==="number"&&typeof a.column==="number"},d}();var z=function(){function d(a,b,c,e){a>c||a===c&&b>e?(this.startLineNumber=c,this.startColumn=e,this.endLineNumber=a,this.endColumn=b):(this.startLineNumber=a,this.startColumn=b,this.endLineNumber=c,this.endColumn=e)}return d.prototype.isEmpty=function(){return d.isEmpty(this)},d.isEmpty=function(a){return a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn},d.prototype.containsPosition=function(a){return d.containsPosition(this,a)},d.containsPosition=function(a,b){return b.lineNumber<a.startLineNumber||b.lineNumber>a.endLineNumber?!1:b.lineNumber===a.startLineNumber&&b.column<a.startColumn?!1:b.lineNumber===a.endLineNumber&&b.column>a.endColumn?!1:!0},d.prototype.containsRange=function(a){return d.containsRange(this,a)},d.containsRange=function(a,b){return b.startLineNumber<a.startLineNumber||b.endLineNumber<a.startLineNumber?!1:b.startLineNumber>a.endLineNumber||b.endLineNumber>a.endLineNumber?!1:b.startLineNumber===a.startLineNumber&&b.startColumn<a.startColumn?!1:b.endLineNumber===a.endLineNumber&&b.endColumn>a.endColumn?!1:!0},d.prototype.strictContainsRange=function(a){return d.strictContainsRange(this,a)},d.strictContainsRange=function(a,b){return b.startLineNumber<a.startLineNumber||b.endLineNumber<a.startLineNumber?!1:b.startLineNumber>a.endLineNumber||b.endLineNumber>a.endLineNumber?!1:b.startLineNumber===a.startLineNumber&&b.startColumn<=a.startColumn?!1:b.endLineNumber===a.endLineNumber&&b.endColumn>=a.endColumn?!1:!0},d.prototype.plusRange=function(a){return d.plusRange(this,a)},d.plusRange=function(a,b){var c,e,f,g;return b.startLineNumber<a.startLineNumber?(c=b.startLineNumber,e=b.startColumn):b.startLineNumber===a.startLineNumber?(c=b.startLineNumber,e=Math.min(b.startColumn,a.startColumn)):(c=a.startLineNumber,e=a.startColumn),b.endLineNumber>a.endLineNumber?(f=b.endLineNumber,g=b.endColumn):b.endLineNumber===a.endLineNumber?(f=b.endLineNumber,g=Math.max(b.endColumn,a.endColumn)):(f=a.endLineNumber,g=a.endColumn),new d(c,e,f,g)},d.prototype.intersectRanges=function(a){return d.intersectRanges(this,a)},d.intersectRanges=function(a,b){var c=a.startLineNumber,e=a.startColumn,f=a.endLineNumber,g=a.endColumn,h=b.startLineNumber,i=b.startColumn,j=b.endLineNumber,k=b.endColumn;return c<h?(c=h,e=i):c===h&&(e=Math.max(e,i)),f>j?(f=j,g=k):f===j&&(g=Math.min(g,k)),c>f?null:c===f&&e>g?null:new d(c,e,f,g)},d.prototype.equalsRange=function(a){return d.equalsRange(this,a)},d.equalsRange=function(a,b){return!!a&&!!b&&a.startLineNumber===b.startLineNumber&&a.startColumn===b.startColumn&&a.endLineNumber===b.endLineNumber&&a.endColumn===b.endColumn},d.prototype.getEndPosition=function(){return new G(this.endLineNumber,this.endColumn)},d.prototype.getStartPosition=function(){return new G(this.startLineNumber,this.startColumn)},d.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},d.prototype.setEndPosition=function(a,b){return new d(this.startLineNumber,this.startColumn,a,b)},d.prototype.setStartPosition=function(a,b){return new d(a,b,this.endLineNumber,this.endColumn)},d.prototype.collapseToStart=function(){return d.collapseToStart(this)},d.collapseToStart=function(a){return new d(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn)},d.fromPositions=function(a,b){return b===void 0&&(b=a),new d(a.lineNumber,a.column,b.lineNumber,b.column)},d.lift=function(a){return a?new d(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn):null},d.isIRange=function(a){return a&&typeof a.startLineNumber==="number"&&typeof a.startColumn==="number"&&typeof a.endLineNumber==="number"&&typeof a.endColumn==="number"},d.areIntersectingOrTouching=function(a,b){return a.endLineNumber<b.startLineNumber||a.endLineNumber===b.startLineNumber&&a.endColumn<b.startColumn?!1:b.endLineNumber<a.startLineNumber||b.endLineNumber===a.startLineNumber&&b.endColumn<a.startColumn?!1:!0},d.areIntersecting=function(a,b){return a.endLineNumber<b.startLineNumber||a.endLineNumber===b.startLineNumber&&a.endColumn<=b.startColumn?!1:b.endLineNumber<a.startLineNumber||b.endLineNumber===a.startLineNumber&&b.endColumn<=a.startColumn?!1:!0},d.compareRangesUsingStarts=function(a,b){if(a&&b){var c=a.startLineNumber|0,e=b.startLineNumber|0;if(c===e){var f=a.startColumn|0,g=b.startColumn|0;if(f===g){var h=a.endLineNumber|0,i=b.endLineNumber|0;if(h===i){var j=a.endColumn|0,k=b.endColumn|0;return j-k}return h-i}return f-g}return c-e}var l=a?1:0,m=b?1:0;return l-m},d.compareRangesUsingEnds=function(a,b){return a.endLineNumber===b.endLineNumber?a.endColumn===b.endColumn?a.startLineNumber===b.startLineNumber?a.startColumn-b.startColumn:a.startLineNumber-b.startLineNumber:a.endColumn-b.endColumn:a.endLineNumber-b.endLineNumber},d.spansMultipleLines=function(a){return a.endLineNumber>a.startLineNumber},d}();var CU=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),V=function(d){CU(a,d);function a(b,c,e,f){var g=d.call(this,b,c,e,f)||this;return g.selectionStartLineNumber=b,g.selectionStartColumn=c,g.positionLineNumber=e,g.positionColumn=f,g}return a.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},a.prototype.equalsSelection=function(b){return a.selectionsEqual(this,b)},a.selectionsEqual=function(b,c){return b.selectionStartLineNumber===c.selectionStartLineNumber&&b.selectionStartColumn===c.selectionStartColumn&&b.positionLineNumber===c.positionLineNumber&&b.positionColumn===c.positionColumn},a.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1},a.prototype.setEndPosition=function(b,c){return this.getDirection()===0?new a(this.startLineNumber,this.startColumn,b,c):new a(b,c,this.startLineNumber,this.startColumn)},a.prototype.getPosition=function(){return new G(this.positionLineNumber,this.positionColumn)},a.prototype.setStartPosition=function(b,c){return this.getDirection()===0?new a(b,c,this.endLineNumber,this.endColumn):new a(this.endLineNumber,this.endColumn,b,c)},a.fromPositions=function(b,c){return c===void 0&&(c=b),new a(b.lineNumber,b.column,c.lineNumber,c.column)},a.liftSelection=function(b){return new a(b.selectionStartLineNumber,b.selectionStartColumn,b.positionLineNumber,b.positionColumn)},a.selectionsArrEqual=function(b,c){if(b&&!c||!b&&c)return!1;if(!b&&!c)return!0;if(b.length!==c.length)return!1;for(var e=0,f=b.length;e<f;e++)if(!this.selectionsEqual(b[e],c[e]))return!1;return!0},a.isISelection=function(b){return b&&typeof b.selectionStartLineNumber==="number"&&typeof b.selectionStartColumn==="number"&&typeof b.positionLineNumber==="number"&&typeof b.positionColumn==="number"},a.createWithDirection=function(b,c,e,f,g){return g===0?new a(b,c,e,f):new a(e,f,b,c)},a}(z);var lh=function(){function d(a,b,c){this.offset=a|0,this.type=b,this.language=c}return d.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},d}(),$j=function(){function d(a,b){this.tokens=a,this.endState=b}return d}(),si=function(){function d(a,b){this.tokens=a,this.endState=b}return d}();var iq;(function(d){d[d.Unknown=0]="Unknown",d[d.Disabled=1]="Disabled",d[d.Enabled=2]="Enabled"})(iq||(iq={}));var jq;(function(d){d[d.KeepWhitespace=1]="KeepWhitespace",d[d.InsertAsSnippet=4]="InsertAsSnippet"})(jq||(jq={}));var kq;(function(d){d[d.Method=0]="Method",d[d.Function=1]="Function",d[d.Constructor=2]="Constructor",d[d.Field=3]="Field",d[d.Variable=4]="Variable",d[d.Class=5]="Class",d[d.Struct=6]="Struct",d[d.Interface=7]="Interface",d[d.Module=8]="Module",d[d.Property=9]="Property",d[d.Event=10]="Event",d[d.Operator=11]="Operator",d[d.Unit=12]="Unit",d[d.Value=13]="Value",d[d.Constant=14]="Constant",d[d.Enum=15]="Enum",d[d.EnumMember=16]="EnumMember",d[d.Keyword=17]="Keyword",d[d.Text=18]="Text",d[d.Color=19]="Color",d[d.File=20]="File",d[d.Reference=21]="Reference",d[d.Customcolor=22]="Customcolor",d[d.Folder=23]="Folder",d[d.TypeParameter=24]="TypeParameter",d[d.Snippet=25]="Snippet"})(kq||(kq={}));var lq;(function(d){d[d.Deprecated=1]="Deprecated"})(lq||(lq={}));var mq;(function(d){d[d.Invoke=0]="Invoke",d[d.TriggerCharacter=1]="TriggerCharacter",d[d.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(mq||(mq={}));var nq;(function(d){d[d.EXACT=0]="EXACT",d[d.ABOVE=1]="ABOVE",d[d.BELOW=2]="BELOW"})(nq||(nq={}));var oq;(function(d){d[d.NotSet=0]="NotSet",d[d.ContentFlush=1]="ContentFlush",d[d.RecoverFromMarkers=2]="RecoverFromMarkers",d[d.Explicit=3]="Explicit",d[d.Paste=4]="Paste",d[d.Undo=5]="Undo",d[d.Redo=6]="Redo"})(oq||(oq={}));var pq;(function(d){d[d.LF=1]="LF",d[d.CRLF=2]="CRLF"})(pq||(pq={}));var qq;(function(d){d[d.Text=0]="Text",d[d.Read=1]="Read",d[d.Write=2]="Write"})(qq||(qq={}));var rq;(function(d){d[d.None=0]="None",d[d.Keep=1]="Keep",d[d.Brackets=2]="Brackets",d[d.Advanced=3]="Advanced",d[d.Full=4]="Full"})(rq||(rq={}));var sq;(function(d){d[d.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",d[d.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",d[d.accessibilitySupport=2]="accessibilitySupport",d[d.accessibilityPageSize=3]="accessibilityPageSize",d[d.ariaLabel=4]="ariaLabel",d[d.autoClosingBrackets=5]="autoClosingBrackets",d[d.autoClosingOvertype=6]="autoClosingOvertype",d[d.autoClosingQuotes=7]="autoClosingQuotes",d[d.autoIndent=8]="autoIndent",d[d.automaticLayout=9]="automaticLayout",d[d.autoSurround=10]="autoSurround",d[d.codeLens=11]="codeLens",d[d.colorDecorators=12]="colorDecorators",d[d.comments=13]="comments",d[d.contextmenu=14]="contextmenu",d[d.copyWithSyntaxHighlighting=15]="copyWithSyntaxHighlighting",d[d.cursorBlinking=16]="cursorBlinking",d[d.cursorSmoothCaretAnimation=17]="cursorSmoothCaretAnimation",d[d.cursorStyle=18]="cursorStyle",d[d.cursorSurroundingLines=19]="cursorSurroundingLines",d[d.cursorSurroundingLinesStyle=20]="cursorSurroundingLinesStyle",d[d.cursorWidth=21]="cursorWidth",d[d.disableLayerHinting=22]="disableLayerHinting",d[d.disableMonospaceOptimizations=23]="disableMonospaceOptimizations",d[d.dragAndDrop=24]="dragAndDrop",d[d.emptySelectionClipboard=25]="emptySelectionClipboard",d[d.extraEditorClassName=26]="extraEditorClassName",d[d.fastScrollSensitivity=27]="fastScrollSensitivity",d[d.find=28]="find",d[d.fixedOverflowWidgets=29]="fixedOverflowWidgets",d[d.folding=30]="folding",d[d.foldingStrategy=31]="foldingStrategy",d[d.foldingHighlight=32]="foldingHighlight",d[d.fontFamily=33]="fontFamily",d[d.fontInfo=34]="fontInfo",d[d.fontLigatures=35]="fontLigatures",d[d.fontSize=36]="fontSize",d[d.fontWeight=37]="fontWeight",d[d.formatOnPaste=38]="formatOnPaste",d[d.formatOnType=39]="formatOnType",d[d.glyphMargin=40]="glyphMargin",d[d.gotoLocation=41]="gotoLocation",d[d.hideCursorInOverviewRuler=42]="hideCursorInOverviewRuler",d[d.highlightActiveIndentGuide=43]="highlightActiveIndentGuide",d[d.hover=44]="hover",d[d.inDiffEditor=45]="inDiffEditor",d[d.letterSpacing=46]="letterSpacing",d[d.lightbulb=47]="lightbulb",d[d.lineDecorationsWidth=48]="lineDecorationsWidth",d[d.lineHeight=49]="lineHeight",d[d.lineNumbers=50]="lineNumbers",d[d.lineNumbersMinChars=51]="lineNumbersMinChars",d[d.links=52]="links",d[d.matchBrackets=53]="matchBrackets",d[d.minimap=54]="minimap",d[d.mouseStyle=55]="mouseStyle",d[d.mouseWheelScrollSensitivity=56]="mouseWheelScrollSensitivity",d[d.mouseWheelZoom=57]="mouseWheelZoom",d[d.multiCursorMergeOverlapping=58]="multiCursorMergeOverlapping",d[d.multiCursorModifier=59]="multiCursorModifier",d[d.multiCursorPaste=60]="multiCursorPaste",d[d.occurrencesHighlight=61]="occurrencesHighlight",d[d.overviewRulerBorder=62]="overviewRulerBorder",d[d.overviewRulerLanes=63]="overviewRulerLanes",d[d.parameterHints=64]="parameterHints",d[d.peekWidgetDefaultFocus=65]="peekWidgetDefaultFocus",d[d.quickSuggestions=66]="quickSuggestions",d[d.quickSuggestionsDelay=67]="quickSuggestionsDelay",d[d.readOnly=68]="readOnly",d[d.renderControlCharacters=69]="renderControlCharacters",d[d.renderIndentGuides=70]="renderIndentGuides",d[d.renderFinalNewline=71]="renderFinalNewline",d[d.renderLineHighlight=72]="renderLineHighlight",d[d.renderValidationDecorations=73]="renderValidationDecorations",d[d.renderWhitespace=74]="renderWhitespace",d[d.revealHorizontalRightPadding=75]="revealHorizontalRightPadding",d[d.roundedSelection=76]="roundedSelection",d[d.rulers=77]="rulers",d[d.scrollbar=78]="scrollbar",d[d.scrollBeyondLastColumn=79]="scrollBeyondLastColumn",d[d.scrollBeyondLastLine=80]="scrollBeyondLastLine",d[d.selectionClipboard=81]="selectionClipboard",d[d.selectionHighlight=82]="selectionHighlight",d[d.selectOnLineNumbers=83]="selectOnLineNumbers",d[d.showFoldingControls=84]="showFoldingControls",d[d.showUnused=85]="showUnused",d[d.snippetSuggestions=86]="snippetSuggestions",d[d.smoothScrolling=87]="smoothScrolling",d[d.stopRenderingLineAfter=88]="stopRenderingLineAfter",d[d.suggest=89]="suggest",d[d.suggestFontSize=90]="suggestFontSize",d[d.suggestLineHeight=91]="suggestLineHeight",d[d.suggestOnTriggerCharacters=92]="suggestOnTriggerCharacters",d[d.suggestSelection=93]="suggestSelection",d[d.tabCompletion=94]="tabCompletion",d[d.useTabStops=95]="useTabStops",d[d.wordSeparators=96]="wordSeparators",d[d.wordWrap=97]="wordWrap",d[d.wordWrapBreakAfterCharacters=98]="wordWrapBreakAfterCharacters",d[d.wordWrapBreakBeforeCharacters=99]="wordWrapBreakBeforeCharacters",d[d.wordWrapColumn=100]="wordWrapColumn",d[d.wordWrapMinified=101]="wordWrapMinified",d[d.wrappingIndent=102]="wrappingIndent",d[d.wrappingStrategy=103]="wrappingStrategy",d[d.editorClassName=104]="editorClassName",d[d.pixelRatio=105]="pixelRatio",d[d.tabFocusMode=106]="tabFocusMode",d[d.layoutInfo=107]="layoutInfo",d[d.wrappingInfo=108]="wrappingInfo"})(sq||(sq={}));var tq;(function(d){d[d.TextDefined=0]="TextDefined",d[d.LF=1]="LF",d[d.CRLF=2]="CRLF"})(tq||(tq={}));var uq;(function(d){d[d.LF=0]="LF",d[d.CRLF=1]="CRLF"})(uq||(uq={}));var vq;(function(d){d[d.None=0]="None",d[d.Indent=1]="Indent",d[d.IndentOutdent=2]="IndentOutdent",d[d.Outdent=3]="Outdent"})(vq||(vq={}));var eq;(function(d){d[d.Unknown=0]="Unknown",d[d.Backspace=1]="Backspace",d[d.Tab=2]="Tab",d[d.Enter=3]="Enter",d[d.Shift=4]="Shift",d[d.Ctrl=5]="Ctrl",d[d.Alt=6]="Alt",d[d.PauseBreak=7]="PauseBreak",d[d.CapsLock=8]="CapsLock",d[d.Escape=9]="Escape",d[d.Space=10]="Space",d[d.PageUp=11]="PageUp",d[d.PageDown=12]="PageDown",d[d.End=13]="End",d[d.Home=14]="Home",d[d.LeftArrow=15]="LeftArrow",d[d.UpArrow=16]="UpArrow",d[d.RightArrow=17]="RightArrow",d[d.DownArrow=18]="DownArrow",d[d.Insert=19]="Insert",d[d.Delete=20]="Delete",d[d.KEY_0=21]="KEY_0",d[d.KEY_1=22]="KEY_1",d[d.KEY_2=23]="KEY_2",d[d.KEY_3=24]="KEY_3",d[d.KEY_4=25]="KEY_4",d[d.KEY_5=26]="KEY_5",d[d.KEY_6=27]="KEY_6",d[d.KEY_7=28]="KEY_7",d[d.KEY_8=29]="KEY_8",d[d.KEY_9=30]="KEY_9",d[d.KEY_A=31]="KEY_A",d[d.KEY_B=32]="KEY_B",d[d.KEY_C=33]="KEY_C",d[d.KEY_D=34]="KEY_D",d[d.KEY_E=35]="KEY_E",d[d.KEY_F=36]="KEY_F",d[d.KEY_G=37]="KEY_G",d[d.KEY_H=38]="KEY_H",d[d.KEY_I=39]="KEY_I",d[d.KEY_J=40]="KEY_J",d[d.KEY_K=41]="KEY_K",d[d.KEY_L=42]="KEY_L",d[d.KEY_M=43]="KEY_M",d[d.KEY_N=44]="KEY_N",d[d.KEY_O=45]="KEY_O",d[d.KEY_P=46]="KEY_P",d[d.KEY_Q=47]="KEY_Q",d[d.KEY_R=48]="KEY_R",d[d.KEY_S=49]="KEY_S",d[d.KEY_T=50]="KEY_T",d[d.KEY_U=51]="KEY_U",d[d.KEY_V=52]="KEY_V",d[d.KEY_W=53]="KEY_W",d[d.KEY_X=54]="KEY_X",d[d.KEY_Y=55]="KEY_Y",d[d.KEY_Z=56]="KEY_Z",d[d.Meta=57]="Meta",d[d.ContextMenu=58]="ContextMenu",d[d.F1=59]="F1",d[d.F2=60]="F2",d[d.F3=61]="F3",d[d.F4=62]="F4",d[d.F5=63]="F5",d[d.F6=64]="F6",d[d.F7=65]="F7",d[d.F8=66]="F8",d[d.F9=67]="F9",d[d.F10=68]="F10",d[d.F11=69]="F11",d[d.F12=70]="F12",d[d.F13=71]="F13",d[d.F14=72]="F14",d[d.F15=73]="F15",d[d.F16=74]="F16",d[d.F17=75]="F17",d[d.F18=76]="F18",d[d.F19=77]="F19",d[d.NumLock=78]="NumLock",d[d.ScrollLock=79]="ScrollLock",d[d.US_SEMICOLON=80]="US_SEMICOLON",d[d.US_EQUAL=81]="US_EQUAL",d[d.US_COMMA=82]="US_COMMA",d[d.US_MINUS=83]="US_MINUS",d[d.US_DOT=84]="US_DOT",d[d.US_SLASH=85]="US_SLASH",d[d.US_BACKTICK=86]="US_BACKTICK",d[d.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",d[d.US_BACKSLASH=88]="US_BACKSLASH",d[d.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",d[d.US_QUOTE=90]="US_QUOTE",d[d.OEM_8=91]="OEM_8",d[d.OEM_102=92]="OEM_102",d[d.NUMPAD_0=93]="NUMPAD_0",d[d.NUMPAD_1=94]="NUMPAD_1",d[d.NUMPAD_2=95]="NUMPAD_2",d[d.NUMPAD_3=96]="NUMPAD_3",d[d.NUMPAD_4=97]="NUMPAD_4",d[d.NUMPAD_5=98]="NUMPAD_5",d[d.NUMPAD_6=99]="NUMPAD_6",d[d.NUMPAD_7=100]="NUMPAD_7",d[d.NUMPAD_8=101]="NUMPAD_8",d[d.NUMPAD_9=102]="NUMPAD_9",d[d.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",d[d.NUMPAD_ADD=104]="NUMPAD_ADD",d[d.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",d[d.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",d[d.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",d[d.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",d[d.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",d[d.ABNT_C1=110]="ABNT_C1",d[d.ABNT_C2=111]="ABNT_C2",d[d.MAX_VALUE=112]="MAX_VALUE"})(eq||(eq={}));var gq;(function(d){d[d.Hint=1]="Hint",d[d.Info=2]="Info",d[d.Warning=4]="Warning",d[d.Error=8]="Error"})(gq||(gq={}));var hq;(function(d){d[d.Unnecessary=1]="Unnecessary",d[d.Deprecated=2]="Deprecated"})(hq||(hq={}));var wq;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(wq||(wq={}));var xq;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.TEXTAREA=1]="TEXTAREA",d[d.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",d[d.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",d[d.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",d[d.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",d[d.CONTENT_TEXT=6]="CONTENT_TEXT",d[d.CONTENT_EMPTY=7]="CONTENT_EMPTY",d[d.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",d[d.CONTENT_WIDGET=9]="CONTENT_WIDGET",d[d.OVERVIEW_RULER=10]="OVERVIEW_RULER",d[d.SCROLLBAR=11]="SCROLLBAR",d[d.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",d[d.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(xq||(xq={}));var yq;(function(d){d[d.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",d[d.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",d[d.TOP_CENTER=2]="TOP_CENTER"})(yq||(yq={}));var zq;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(zq||(zq={}));var Aq;(function(d){d[d.Off=0]="Off",d[d.On=1]="On",d[d.Relative=2]="Relative",d[d.Interval=3]="Interval",d[d.Custom=4]="Custom"})(Aq||(Aq={}));var Bq;(function(d){d[d.None=0]="None",d[d.Text=1]="Text",d[d.Blocks=2]="Blocks"})(Bq||(Bq={}));var Cq;(function(d){d[d.Smooth=0]="Smooth",d[d.Immediate=1]="Immediate"})(Cq||(Cq={}));var Dq;(function(d){d[d.Auto=1]="Auto",d[d.Hidden=2]="Hidden",d[d.Visible=3]="Visible"})(Dq||(Dq={}));var fq;(function(d){d[d.LTR=0]="LTR",d[d.RTL=1]="RTL"})(fq||(fq={}));var Eq;(function(d){d[d.Invoke=1]="Invoke",d[d.TriggerCharacter=2]="TriggerCharacter",d[d.ContentChange=3]="ContentChange"})(Eq||(Eq={}));var Fq;(function(d){d[d.File=0]="File",d[d.Module=1]="Module",d[d.Namespace=2]="Namespace",d[d.Package=3]="Package",d[d.Class=4]="Class",d[d.Method=5]="Method",d[d.Property=6]="Property",d[d.Field=7]="Field",d[d.Constructor=8]="Constructor",d[d.Enum=9]="Enum",d[d.Interface=10]="Interface",d[d.Function=11]="Function",d[d.Variable=12]="Variable",d[d.Constant=13]="Constant",d[d.String=14]="String",d[d.Number=15]="Number",d[d.Boolean=16]="Boolean",d[d.Array=17]="Array",d[d.Object=18]="Object",d[d.Key=19]="Key",d[d.Null=20]="Null",d[d.EnumMember=21]="EnumMember",d[d.Struct=22]="Struct",d[d.Event=23]="Event",d[d.Operator=24]="Operator",d[d.TypeParameter=25]="TypeParameter"})(Fq||(Fq={}));var Gq;(function(d){d[d.Deprecated=1]="Deprecated"})(Gq||(Gq={}));var Hq;(function(d){d[d.Hidden=0]="Hidden",d[d.Blink=1]="Blink",d[d.Smooth=2]="Smooth",d[d.Phase=3]="Phase",d[d.Expand=4]="Expand",d[d.Solid=5]="Solid"})(Hq||(Hq={}));var Iq;(function(d){d[d.Line=1]="Line",d[d.Block=2]="Block",d[d.Underline=3]="Underline",d[d.LineThin=4]="LineThin",d[d.BlockOutline=5]="BlockOutline",d[d.UnderlineThin=6]="UnderlineThin"})(Iq||(Iq={}));var Jq;(function(d){d[d.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",d[d.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",d[d.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",d[d.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Jq||(Jq={}));var Kq;(function(d){d[d.None=0]="None",d[d.Same=1]="Same",d[d.Indent=2]="Indent",d[d.DeepIndent=3]="DeepIndent"})(Kq||(Kq={}));const uua=Ic(uG());var vW=function(){function d(){}return d.chord=function(a,b){return Bb(a,b)},d.CtrlCmd=2048,d.Shift=1024,d.Alt=512,d.WinCtrl=256,d}();function Zp(){return{editor:void 0,languages:void 0,CancellationTokenSource:Oc,Emitter:E,KeyCode:eq,KeyMod:vW,Position:G,Range:z,Selection:V,SelectionDirection:fq,MarkerSeverity:gq,MarkerTag:hq,Uri:ja,Token:lh}}var we;(function(d){d.serviceIds=new Map(),d.DI_TARGET="$di$target",d.DI_DEPENDENCIES="$di$dependencies";function a(b){return b[d.DI_DEPENDENCIES]||[]}d.getServiceDependencies=a})(we||(we={}));var Aa=ia("instantiationService");function CM(d,a,b,c){a[we.DI_TARGET]===a?a[we.DI_DEPENDENCIES].push({id:d,index:b,optional:c}):(a[we.DI_DEPENDENCIES]=[{id:d,index:b,optional:c}],a[we.DI_TARGET]=a)}function ia(d){if(we.serviceIds.has(d))return we.serviceIds.get(d);var a=function(b,c,e){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");CM(a,b,e,!1)};return a.toString=function(){return d},we.serviceIds.set(d,a),a}function pe(d){return function(a,b,c){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");CM(d,a,c,!0)}}var ya=ia("codeEditorService");var Hn=function(){function d(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new E(),this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return d.prototype.getZoomLevel=function(){return this._zoomLevel},d.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},d.prototype.getPixelRatio=function(){var a=document.createElement("canvas").getContext("2d"),b=window.devicePixelRatio||1,c=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return b/c},d.INSTANCE=new d(),d}();function In(){return Hn.INSTANCE.getZoomLevel()}function xy(){return Hn.INSTANCE.getTimeSinceLastZoomLevelChanged()}function Jn(d){return Hn.INSTANCE.onDidChangeZoomLevel(d)}function yy(){return Hn.INSTANCE.getPixelRatio()}var yg=navigator.userAgent,xb=yg.indexOf("Trident")>=0,zg=yg.indexOf("Edge/")>=0,Jc=xb||zg,uc=yg.indexOf("Firefox")>=0,xe=yg.indexOf("AppleWebKit")>=0,Hh=yg.indexOf("Chrome")>=0,Ze=!Hh&&yg.indexOf("Safari")>=0,zy=!Hh&&!Ze&&xe,Ih=yg.indexOf("iPad")>=0||Ze&&navigator.maxTouchPoints>0,Ay=zg&&yg.indexOf("WebView/")>=0,Ui=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches;var ua=function(d,a,b){var c=function(f){return e.fire(f)},e=new E({onFirstListenerAdd:function(){d.addEventListener(a,c,b)},onLastListenerRemove:function(){d.removeEventListener(a,c,b)}});return e.event};function Rs(d){return da.map(d,function(a){return a.preventDefault(),a.stopPropagation(),a})}var Ty=new Array(230),Vs=new Array(112);(function(){for(var d=0;d<Vs.length;d++)Vs[d]=-1;function a(b,c){Ty[b]=c,Vs[c]=b}a(3,7),a(8,1),a(9,2),a(13,3),a(16,4),a(17,5),a(18,6),a(19,7),a(20,8),a(27,9),a(32,10),a(33,11),a(34,12),a(35,13),a(36,14),a(37,15),a(38,16),a(39,17),a(40,18),a(45,19),a(46,20),a(48,21),a(49,22),a(50,23),a(51,24),a(52,25),a(53,26),a(54,27),a(55,28),a(56,29),a(57,30),a(65,31),a(66,32),a(67,33),a(68,34),a(69,35),a(70,36),a(71,37),a(72,38),a(73,39),a(74,40),a(75,41),a(76,42),a(77,43),a(78,44),a(79,45),a(80,46),a(81,47),a(82,48),a(83,49),a(84,50),a(85,51),a(86,52),a(87,53),a(88,54),a(89,55),a(90,56),a(93,58),a(96,93),a(97,94),a(98,95),a(99,96),a(100,97),a(101,98),a(102,99),a(103,100),a(104,101),a(105,102),a(106,103),a(107,104),a(108,105),a(109,106),a(110,107),a(111,108),a(112,59),a(113,60),a(114,61),a(115,62),a(116,63),a(117,64),a(118,65),a(119,66),a(120,67),a(121,68),a(122,69),a(123,70),a(124,71),a(125,72),a(126,73),a(127,74),a(128,75),a(129,76),a(130,77),a(144,78),a(145,79),a(186,80),a(187,81),a(188,82),a(189,83),a(190,84),a(191,85),a(192,86),a(193,110),a(194,111),a(219,87),a(220,88),a(221,89),a(222,90),a(223,91),a(226,92),a(229,109),xb?a(91,57):uc?(a(59,80),a(107,81),a(109,83),ka&&a(224,57)):xe&&(a(91,57),ka?a(93,57):a(92,57))})();function IN(d){if(d.charCode){var a=String.fromCharCode(d.charCode).toUpperCase();return Bg.fromString(a)}return Ty[d.keyCode]||0}var JN=ka?256:2048,KN=512,LN=1024,MN=ka?2048:256,Pa=function(){function d(a){this._standardKeyboardEventBrand=!0;var b=a;this.browserEvent=b,this.target=b.target,this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,this.keyCode=IN(b),this.code=b.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return d.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},d.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},d.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},d.prototype.equals=function(a){return this._asKeybinding===a},d.prototype._computeKeybinding=function(){var a=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(a=this.keyCode);var b=0;return this.ctrlKey&&(b|=JN),this.altKey&&(b|=KN),this.shiftKey&&(b|=LN),this.metaKey&&(b|=MN),b|=a,b},d.prototype._computeRuntimeKeybinding=function(){var a=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(a=this.keyCode),new Cg(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,a)},d}();var Us=!1,aj=null;function GN(d){if(!d.parent||d.parent===d)return null;try{var a=d.location,b=d.parent.location;if(a.protocol!==b.protocol||a.hostname!==b.hostname||a.port!==b.port)return Us=!0,null}catch(c){return Us=!0,null}return d.parent}function HN(d,a){for(var b=d.document.getElementsByTagName("iframe"),c,e=0,f=b.length;e<f;e++){c=b[e];if(c.contentWindow===a)return c}return null}var gl=function(){function d(){}return d.getSameOriginWindowChain=function(){if(!aj){aj=[];var a=window,b;do b=GN(a),b?aj.push({window:a,iframeElement:HN(b,a)}):aj.push({window:a,iframeElement:null}),a=b;while(a)}return aj.slice(0)},d.hasDifferentOriginAncestor=function(){return aj||this.getSameOriginWindowChain(),Us},d.getPositionOfChildWindowRelativeToAncestorWindow=function(a,b){if(!b||a===b)return{top:0,left:0};for(var c=0,e=0,f=this.getSameOriginWindowChain(),g=0,h=f;g<h.length;g++){var i=h[g];if(i.window===b)break;if(!i.iframeElement)break;var j=i.iframeElement.getBoundingClientRect();c+=j.top,e+=j.left}return{top:c,left:e}},d}();var NN=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),yb=function(){function d(a){this.timestamp=Date.now(),this.browserEvent=a,this.leftButton=a.button===0,this.middleButton=a.button===1,this.rightButton=a.button===2,this.buttons=a.buttons,this.target=a.target,this.detail=a.detail||1,a.type==="dblclick"&&(this.detail=2),this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.altKey=a.altKey,this.metaKey=a.metaKey,typeof a.pageX==="number"?(this.posx=a.pageX,this.posy=a.pageY):(this.posx=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);var b=gl.getPositionOfChildWindowRelativeToAncestorWindow(self,a.view);this.posx-=b.left,this.posy-=b.top}return d.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},d.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},d}(),Sn=function(d){NN(a,d);function a(b){var c=d.call(this,b)||this;return c.dataTransfer=b.dataTransfer,c}return a}(yb),af=function(){function d(a,b,c){b===void 0&&(b=0),c===void 0&&(c=0),this.browserEvent=a||null,this.target=a?a.target||a.targetNode||a.srcElement:null,this.deltaY=c,this.deltaX=b;if(a){var e=a,f=a;if(typeof e.wheelDeltaY!=="undefined")this.deltaY=e.wheelDeltaY/120;else if(typeof f.VERTICAL_AXIS!=="undefined"&&f.axis===f.VERTICAL_AXIS)this.deltaY=-f.detail/3;else if(a.type==="wheel"){var g=a;g.deltaMode===g.DOM_DELTA_LINE?this.deltaY=-a.deltaY:this.deltaY=-a.deltaY/40}if(typeof e.wheelDeltaX!=="undefined")Ze&&sb?this.deltaX=-(e.wheelDeltaX/120):this.deltaX=e.wheelDeltaX/120;else if(typeof f.HORIZONTAL_AXIS!=="undefined"&&f.axis===f.HORIZONTAL_AXIS)this.deltaX=-a.detail/3;else if(a.type==="wheel"){var g=a;g.deltaMode===g.DOM_DELTA_LINE?this.deltaX=-a.deltaX:this.deltaX=-a.deltaX/40}this.deltaY===0&&this.deltaX===0&&a.wheelDelta&&(this.deltaY=a.wheelDelta/120)}}return d.prototype.preventDefault=function(){this.browserEvent&&(this.browserEvent.preventDefault&&this.browserEvent.preventDefault())},d.prototype.stopPropagation=function(){this.browserEvent&&(this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation())},d}();function aA(d){return d&&typeof d.then==="function"}function bb(d){var a=new Oc(),b=d(a.token),c=new Promise(function(e,f){a.token.onCancellationRequested(function(){f(Og())}),Promise.resolve(b).then(function(g){a.dispose(),e(g)},function(g){a.dispose(),f(g)})});return new(function(){function e(){}return e.prototype.cancel=function(){a.cancel()},e.prototype.then=function(f,g){return c.then(f,g)},e.prototype.catch=function(f){return this.then(void 0,f)},e.prototype.finally=function(f){return c.finally(f)},e}())()}function vo(d,a,b){return Promise.race([d,new Promise(function(c){return a.onCancellationRequested(function(){return c(b)})})])}var ee=function(){function d(a){this.defaultDelay=a,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}return d.prototype.trigger=function(a,b){var c=this;return b===void 0&&(b=this.defaultDelay),this.task=a,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(function(e,f){c.doResolve=e,c.doReject=f}).then(function(){c.completionPromise=null,c.doResolve=null;if(c.task){var e=c.task;return c.task=null,e()}return})),this.timeout=setTimeout(function(){c.timeout=null,c.doResolve&&c.doResolve(null)},b),this.completionPromise},d.prototype.isTriggered=function(){return this.timeout!==null},d.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(Og()),this.completionPromise=null)},d.prototype.cancelTimeout=function(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)},d.prototype.dispose=function(){this.cancelTimeout()},d}();function Sf(d,a){return a?new Promise(function(b,c){var e=setTimeout(b,d);a.onCancellationRequested(function(){clearTimeout(e),c(Og())})}):bb(function(b){return Sf(d,b)})}function cf(d,a){a===void 0&&(a=0);var b=setTimeout(d,a);return va(function(){return clearTimeout(b)})}function mj(d,a,b){a===void 0&&(a=function(g){return!!g}),b===void 0&&(b=null);var c=0,e=d.length,f=function(){if(c>=e)return Promise.resolve(b);var g=d[c++],h=Promise.resolve(g());return h.then(function(i){return a(i)?Promise.resolve(i):f()})};return f()}var rb=function(){function d(a,b){this._token=-1,typeof a==="function"&&typeof b==="number"&&this.setIfNotSet(a,b)}return d.prototype.dispose=function(){this.cancel()},d.prototype.cancel=function(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)},d.prototype.cancelAndSet=function(a,b){var c=this;this.cancel(),this._token=setTimeout(function(){c._token=-1,a()},b)},d.prototype.setIfNotSet=function(a,b){var c=this;if(this._token!==-1)return;this._token=setTimeout(function(){c._token=-1,a()},b)},d}(),Qf=function(){function d(){this._token=-1}return d.prototype.dispose=function(){this.cancel()},d.prototype.cancel=function(){this._token!==-1&&(clearInterval(this._token),this._token=-1)},d.prototype.cancelAndSet=function(a,b){this.cancel(),this._token=setInterval(function(){a()},b)},d}(),Ka=function(){function d(a,b){this.timeoutToken=-1,this.runner=a,this.timeout=b,this.timeoutHandler=this.onTimeout.bind(this)}return d.prototype.dispose=function(){this.cancel(),this.runner=null},d.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},d.prototype.schedule=function(a){a===void 0&&(a=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,a)},d.prototype.isScheduled=function(){return this.timeoutToken!==-1},d.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},d.prototype.doRun=function(){this.runner&&this.runner()},d}(),wl;(function(){if(typeof requestIdleCallback!=="function"||typeof cancelIdleCallback!=="function"){var d=Object.freeze({didTimeout:!0,timeRemaining:function(){return 15}});wl=function(a){var b=setTimeout(function(){return a(d)}),c=!1;return{dispose:function(){if(c)return;c=!0,clearTimeout(b)}}}}else wl=function(a,b){var c=requestIdleCallback(a,typeof b==="number"?{timeout:b}:void 0),e=!1;return{dispose:function(){if(e)return;e=!0,cancelIdleCallback(c)}}}})();var Th=function(){function d(a){var b=this;this._didRun=!1,this._executor=function(){try{b._value=a()}catch(c){b._error=c}finally{b._didRun=!0}},this._handle=wl(function(){return b._executor()})}return d.prototype.dispose=function(){this._handle.dispose()},d.prototype.getValue=function(){this._didRun||(this._handle.dispose(),this._executor());if(this._error)throw this._error;return this._value},d}();function Ed(d,a){return a===void 0&&(a=0),d[d.length-(1+a)]}function Wz(d){if(d.length===0)throw new Error("Invalid tail call");return[d.slice(0,d.length-1),d[d.length-1]]}function xc(d,a,b){b===void 0&&(b=function(f,g){return f===g});if(d===a)return!0;if(!d||!a)return!1;if(d.length!==a.length)return!1;for(var c=0,e=d.length;c<e;c++)if(!b(d[c],a[c]))return!1;return!0}function Ph(d,a,b){for(var c=0,e=d.length-1;c<=e;){var f=(c+e)/2|0,g=b(d[f],a);if(g<0)c=f+1;else if(g>0)e=f-1;else return f}return-(c+1)}function $z(d,a){var b=0,c=d.length;if(c===0)return 0;for(;b<c;){var e=Math.floor((b+c)/2);a(d[e])?c=e:b=e+1}return b}function Tf(d,a){return yt(d,a,0,d.length-1,[]),d}function FP(d,a,b,c,e,f){for(var g=b,h=c+1,i=b;i<=e;i++)f[i]=d[i];for(var i=b;i<=e;i++)g>c?d[i]=f[h++]:h>e?d[i]=f[g++]:a(f[h],f[g])<0?d[i]=f[h++]:d[i]=f[g++]}function yt(d,a,b,c,e){if(c<=b)return;var f=b+(c-b)/2|0;yt(d,a,b,f,e),yt(d,a,f+1,c,e);if(a(d[f],d[f+1])<=0)return;FP(d,a,b,f,c,e)}function zt(d,a){for(var b=[],c=void 0,e=0,f=Tf(d.slice(0),a);e<f.length;e++){var g=f[e];!c||a(c[0],g)!==0?(c=[g],b.push(c)):c.push(g)}return b}function Cd(d){return d.filter(function(a){return!!a})}function ro(d){return!Array.isArray(d)||d.length===0}function Ib(d){return Array.isArray(d)&&d.length>0}function ml(d,a){if(!a)return d.filter(function(c,e){return d.indexOf(c)===e});var b=Object.create(null);return d.filter(function(c){var e=a(c);return b[e]?!1:(b[e]=!0,!0)})}function nt(d){var a=new Set();return d.filter(function(b){return a.has(b)?!1:(a.add(b),!0)})}function Kz(d){var a=[];return d.forEach(function(b){return a.push(b)}),a}function Ce(d,a){for(var b=0;b<d.length;b++){var c=d[b];if(a(c))return b}return-1}function so(d,a,b){b===void 0&&(b=void 0);var c=Ce(d,a);return c<0?b:d[c]}function At(d,a){return d.length>0?d[0]:a}function Ng(d){var a;return(a=[]).concat.apply(a,d)}function Bc(d,a){var b=typeof a==="number"?d:0;typeof a==="number"?b=d:(b=0,a=d);var c=[];if(b<=a)for(var e=b;e<a;e++)c.push(e);else for(var e=b;e>a;e--)c.push(e);return c}function Sh(d,a,b){var c=d.slice(0,a),e=d.slice(a);return c.concat(b,e)}function jo(d,a){var b=d.indexOf(a);b>-1&&(d.splice(b,1),d.unshift(a))}function ql(d,a){var b=d.indexOf(a);b>-1&&(d.splice(b,1),d.push(a))}function to(d,a){for(var b=0;b<d.length;b++){var c=d[b];if(a(c,b,d))return c}return}function uo(d){return Array.isArray(d)?d:[d]}var wa;(function(d){d.inMemory="inmemory",d.vscode="vscode",d.internal="private",d.walkThrough="walkThrough",d.walkThroughSnippet="walkThroughSnippet",d.http="http",d.https="https",d.file="file",d.mailto="mailto",d.untitled="untitled",d.data="data",d.command="command",d.vscodeRemote="vscode-remote",d.vscodeRemoteResource="vscode-remote-resource",d.userData="vscode-userdata"})(wa||(wa={}));var FQ=function(){function d(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}return d.prototype.setPreferredWebSchema=function(a){this._preferredWebSchema=a},d.prototype.rewrite=function(a){if(this._delegate)return this._delegate(a);var b=a.authority,c=this._hosts[b];c&&c.indexOf(":")!==-1&&(c="["+c+"]");var e=this._ports[b],f=this._connectionTokens[b],g="path="+encodeURIComponent(a.path);return typeof f==="string"&&(g+="&tkn="+encodeURIComponent(f)),ja.from({scheme:$f?this._preferredWebSchema:wa.vscodeRemoteResource,authority:c+":"+e,path:"/vscode-remote-resource",query:g})},d}(),Hs=new FQ();var ae={clipboard:{writeText:lc||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:lc||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText),richText:function(){if(xb)return!1;if(zg){var d=navigator.userAgent.indexOf("Edge/"),a=parseInt(navigator.userAgent.substring(d+5,navigator.userAgent.indexOf(".",d)),10);if(!a||a>=12&&a<=16)return!1}return!0}()},keyboard:function(){return lc||Ui?0:navigator.keyboard||Ze?1:2}(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)};var Dy=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Gs=function(){return Gs=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},Gs.apply(this,arguments)},Ey=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c};function $b(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function bl(d){d.parentNode&&d.parentNode.removeChild(d)}function Wi(d){for(;d;){if(d===document.body)return!0;d=d.parentNode||d.host}return!1}var rN=new(function(){function d(){this._lastStart=-1,this._lastEnd=-1}return d.prototype._findClassName=function(a,b){var c=a.className;if(!c){this._lastStart=-1;return}b=b.trim();var e=c.length,f=b.length;if(f===0){this._lastStart=-1;return}if(e<f){this._lastStart=-1;return}if(c===b){this._lastStart=0,this._lastEnd=e;return}for(var g=-1,h;(g=c.indexOf(b,g+1))>=0;){h=g+f;if((g===0||c.charCodeAt(g-1)===32)&&c.charCodeAt(h)===32){this._lastStart=g,this._lastEnd=h+1;return}if(g>0&&c.charCodeAt(g-1)===32&&h===e){this._lastStart=g-1,this._lastEnd=h;return}if(g===0&&h===e){this._lastStart=0,this._lastEnd=h;return}}this._lastStart=-1},d.prototype.hasClass=function(a,b){return this._findClassName(a,b),this._lastStart!==-1},d.prototype.addClasses=function(a){for(var b=this,c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];c.forEach(function(f){return f.split(" ").forEach(function(g){return b.addClass(a,g)})})},d.prototype.addClass=function(a,b){a.className?(this._findClassName(a,b),this._lastStart===-1&&(a.className=a.className+" "+b)):a.className=b},d.prototype.removeClass=function(a,b){this._findClassName(a,b);if(this._lastStart===-1)return;a.className=a.className.substring(0,this._lastStart)+a.className.substring(this._lastEnd)},d.prototype.removeClasses=function(a){for(var b=this,c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];c.forEach(function(f){return f.split(" ").forEach(function(g){return b.removeClass(a,g)})})},d.prototype.toggleClass=function(a,b,c){this._findClassName(a,b),this._lastStart!==-1&&(c===void 0||!c)&&this.removeClass(a,b),this._lastStart===-1&&(c===void 0||c)&&this.addClass(a,b)},d}())(),sN=new(function(){function d(){}return d.prototype.hasClass=function(a,b){return Boolean(b)&&a.classList&&a.classList.contains(b)},d.prototype.addClasses=function(a){for(var b=this,c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];c.forEach(function(f){return f.split(" ").forEach(function(g){return b.addClass(a,g)})})},d.prototype.addClass=function(a,b){b&&a.classList&&a.classList.add(b)},d.prototype.removeClass=function(a,b){b&&a.classList&&a.classList.remove(b)},d.prototype.removeClasses=function(a){for(var b=this,c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];c.forEach(function(f){return f.split(" ").forEach(function(g){return b.removeClass(a,g)})})},d.prototype.toggleClass=function(a,b,c){a.classList&&a.classList.toggle(b,c)},d}())(),be=xb?rN:sN,Kc=be.hasClass.bind(be),U=be.addClass.bind(be),Lf=be.addClasses.bind(be),fa=be.removeClass.bind(be),_e=be.removeClasses.bind(be),qa=be.toggleClass.bind(be),tN=function(){function d(a,b,c,e){this._node=a,this._type=b,this._handler=c,this._options=e||!1,this._node.addEventListener(this._type,this._handler,this._options)}return d.prototype.dispose=function(){if(!this._handler)return;this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null},d}();function R(d,a,b,c){return new tN(d,a,b,c)}function Fy(d){return function(a){return d(new yb(a))}}function uN(d){return function(a){return d(new Pa(a))}}var Ua=function d(a,b,c,e){var f=c;return b==="click"||b==="mousedown"?f=Fy(c):(b==="keydown"||b==="keypress"||b==="keyup")&&(f=uN(c)),R(a,b,f,e)},Gy=function d(a,b,c){var e=Fy(b);return Kn(a,e,c)};function Kn(d,a,b){return R(d,ze&&ae.pointerEvents?pa.POINTER_DOWN:pa.MOUSE_DOWN,a,b)}function Is(d,a,b){return R(d,ze&&ae.pointerEvents?pa.POINTER_UP:pa.MOUSE_UP,a,b)}function Xi(d,a){return R(d,"mouseout",function(b){for(var c=b.relatedTarget;c&&c!==d;)c=c.parentNode;if(c===d)return;a(b)})}function Hy(d,a){return R(d,"pointerout",function(b){for(var c=b.relatedTarget;c&&c!==d;)c=c.parentNode;if(c===d)return;a(b)})}var Js=null;function vN(d){if(!Js){var a=function(b){return setTimeout(function(){return b(new Date().getTime())},0)};Js=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||a}return Js.call(self,d)}var Ks,ce,Ls=function(){function d(a,b){b===void 0&&(b=0),this._runner=a,this.priority=b,this._canceled=!1}return d.prototype.dispose=function(){this._canceled=!0},d.prototype.execute=function(){if(this._canceled)return;try{this._runner()}catch(a){W(a)}},d.sort=function(a,b){return b.priority-a.priority},d}();(function(){var d=[],a=null,b=!1,c=!1,e=function(){for(b=!1,a=d,d=[],c=!0;a.length>0;){a.sort(Ls.sort);var f=a.shift();f.execute()}c=!1};ce=function(f,g){g===void 0&&(g=0);var h=new Ls(f,g);return d.push(h),b||(b=!0,vN(e)),h},Ks=function(f,g){if(c){var h=new Ls(f,g);return a.push(h),h}else return ce(f,g)}})();var wN=16,xN=function(d,a){return a},yN=function(d){Dy(a,d);function a(b,c,e,f,g){f===void 0&&(f=xN),g===void 0&&(g=wN);var h=d.call(this)||this,i=null,j=0,k=h._register(new rb()),l=function(){j=new Date().getTime(),e(i),i=null};return h._register(R(b,c,function(m){i=f(i,m);var n=new Date().getTime()-j;n>=g?(k.cancel(),l()):k.setIfNotSet(l,g-n)})),h}return a}(I);function $e(d,a,b,c,e){return new yN(d,a,b,c,e)}function Ln(d){return document.defaultView.getComputedStyle(d,null)}function Iy(d){if(d!==document.body)return new Jh(d.clientWidth,d.clientHeight);if(ze&&window.visualViewport){var a=window.visualViewport.width,b=window.visualViewport.height-(Ui?20+4:0);return new Jh(a,b)}if(window.innerWidth&&window.innerHeight)return new Jh(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Jh(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Jh(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}var Dd=function(){function d(){}return d.convertToPixels=function(a,b){return parseFloat(b)||0},d.getDimension=function(a,b,c){var e=Ln(a),f="0";return e&&(e.getPropertyValue?f=e.getPropertyValue(b):f=e.getAttribute(c)),d.convertToPixels(a,f)},d.getBorderLeftWidth=function(a){return d.getDimension(a,"border-left-width","borderLeftWidth")},d.getBorderRightWidth=function(a){return d.getDimension(a,"border-right-width","borderRightWidth")},d.getBorderTopWidth=function(a){return d.getDimension(a,"border-top-width","borderTopWidth")},d.getBorderBottomWidth=function(a){return d.getDimension(a,"border-bottom-width","borderBottomWidth")},d.getPaddingLeft=function(a){return d.getDimension(a,"padding-left","paddingLeft")},d.getPaddingRight=function(a){return d.getDimension(a,"padding-right","paddingRight")},d.getPaddingTop=function(a){return d.getDimension(a,"padding-top","paddingTop")},d.getPaddingBottom=function(a){return d.getDimension(a,"padding-bottom","paddingBottom")},d.getMarginLeft=function(a){return d.getDimension(a,"margin-left","marginLeft")},d.getMarginTop=function(a){return d.getDimension(a,"margin-top","marginTop")},d.getMarginRight=function(a){return d.getDimension(a,"margin-right","marginRight")},d.getMarginBottom=function(a){return d.getDimension(a,"margin-bottom","marginBottom")},d}(),Jh=function(){function d(a,b){this.width=a,this.height=b}return d}();function Yi(d){for(var a=d.offsetParent,b=d.offsetTop,c=d.offsetLeft;(d=d.parentNode)!==null&&d!==document.body&&d!==document.documentElement;){b-=d.scrollTop;var e=Jy(d)?null:Ln(d);e&&(c-=e.direction!=="rtl"?d.scrollLeft:-d.scrollLeft),d===a&&(c+=Dd.getBorderLeftWidth(d),b+=Dd.getBorderTopWidth(d),b+=d.offsetTop,c+=d.offsetLeft,a=d.offsetParent)}return{left:c,top:b}}function ab(d){var a=d.getBoundingClientRect();return{left:a.left+ye.scrollX,top:a.top+ye.scrollY,width:a.width,height:a.height}}var ye=new(function(){function d(){}return Object.defineProperty(d.prototype,"scrollX",{get:function(){return typeof window.scrollX==="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"scrollY",{get:function(){return typeof window.scrollY==="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),d}())();function hd(d){var a=Dd.getMarginLeft(d)+Dd.getMarginRight(d);return d.offsetWidth+a}function Zi(d){var a=Dd.getBorderLeftWidth(d)+Dd.getBorderRightWidth(d),b=Dd.getPaddingLeft(d)+Dd.getPaddingRight(d);return d.offsetWidth-a-b}function Mn(d){var a=Dd.getBorderTopWidth(d)+Dd.getBorderBottomWidth(d),b=Dd.getPaddingTop(d)+Dd.getPaddingBottom(d);return d.offsetHeight-a-b}function cl(d){var a=Dd.getMarginTop(d)+Dd.getMarginBottom(d);return d.offsetHeight+a}function Xc(d,a){for(;d;){if(d===a)return!0;d=d.parentNode}return!1}function dl(d,a,b){for(;d&&d.nodeType===d.ELEMENT_NODE;){if(Kc(d,a))return d;if(b){if(typeof b==="string"){if(Kc(d,b))return null}else if(d===b)return null}d=d.parentNode}return null}function Jy(d){return d&&!!d.host&&!!d.mode}function _i(d){return!!Ag(d)}function Ag(d){for(;d.parentNode;){if(d===document.body)return null;d=d.parentNode}return Jy(d)?d:null}function vc(d){d===void 0&&(d=document.getElementsByTagName("head")[0]);var a=document.createElement("style");return a.type="text/css",a.media="screen",d.appendChild(a),a}var Ms=null;function Ky(){return Ms||(Ms=vc()),Ms}function zN(d){return d&&d.sheet&&d.sheet.rules?d.sheet.rules:d&&d.sheet&&d.sheet.cssRules?d.sheet.cssRules:[]}function Ly(d,a,b){b===void 0&&(b=Ky());if(!b||!a)return;b.sheet.insertRule(d+"{"+a+"}",0)}function el(d,a){a===void 0&&(a=Ky());if(!a)return;for(var b=zN(a),c=[],e=0;e<b.length;e++){var f=b[e];f.selectorText.indexOf(d)!==-1&&c.push(e)}for(var e=c.length-1;e>=0;e--)a.sheet.deleteRule(c[e])}function My(d){return typeof HTMLElement==="object"?d instanceof HTMLElement:d&&typeof d==="object"&&d.nodeType===1&&typeof d.nodeName==="string"}var pa={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:xe?"webkitAnimationStart":"animationstart",ANIMATION_END:xe?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:xe?"webkitAnimationIteration":"animationiteration"},Ma={stop:function(d,a){d.preventDefault?d.preventDefault():d.returnValue=!1,a&&(d.stopPropagation?d.stopPropagation():d.cancelBubble=!0)}};function Ny(d){for(var a=[],b=0;d&&d.nodeType===d.ELEMENT_NODE;b++)a[b]=d.scrollTop,d=d.parentNode;return a}function Oy(d,a){for(var b=0;d&&d.nodeType===d.ELEMENT_NODE;b++)d.scrollTop!==a[b]&&(d.scrollTop=a[b]),d=d.parentNode}var AN=function(d){Dy(a,d);function a(b){var c=d.call(this)||this;c._onDidFocus=c._register(new E()),c.onDidFocus=c._onDidFocus.event,c._onDidBlur=c._register(new E()),c.onDidBlur=c._onDidBlur.event;var e=Xc(document.activeElement,b),f=!1,g=function(){f=!1,e||(e=!0,c._onDidFocus.fire())},h=function(){e&&(f=!0,window.setTimeout(function(){f&&(f=!1,e=!1,c._onDidBlur.fire())},0))};return c._refreshStateHandler=function(){var i=Xc(document.activeElement,b);i!==e&&(e?h():g())},c._register(ua(b,pa.FOCUS,!0)(g)),c._register(ua(b,pa.BLUR,!0)(h)),c}return a}(I);function Mf(d){return new AN(d)}function S(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];return a.forEach(function(c){return d.appendChild(c)}),a[a.length-1]}var BN=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/,fl;(function(d){d.HTML="http://www.w3.org/1999/xhtml",d.SVG="http://www.w3.org/2000/svg"})(fl||(fl={}));function Py(d,a,b){for(var c=[],e=3;e<arguments.length;e++)c[e-3]=arguments[e];var f=BN.exec(a);if(!f)throw new Error("Bad use of emmet");b=Gs({},b||{});var g=f[1]||"div",h;return d!==fl.HTML?h=document.createElementNS(d,g):h=document.createElement(g),f[3]&&(h.id=f[3]),f[4]&&(h.className=f[4].replace(/\./g," ").trim()),Object.keys(b).forEach(function(i){var j=b[i];if(typeof j==="undefined")return;/^on\w+$/.test(i)?h[i]=j:i==="selected"?j&&h.setAttribute(i,"true"):h.setAttribute(i,j)}),Cd(c).forEach(function(i){i instanceof Node?h.appendChild(i):h.appendChild(document.createTextNode(i))}),h}function X(d,a){for(var b=[],c=2;c<arguments.length;c++)b[c-2]=arguments[c];return Py.apply(void 0,Ey([fl.HTML,d,a],b))}X.SVG=function(d,a){for(var b=[],c=2;c<arguments.length;c++)b[c-2]=arguments[c];return Py.apply(void 0,Ey([fl.SVG,d,a],b))};function Ob(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];for(var b=0,c=d;b<c.length;b++){var e=c[b];e.style.display="",e.removeAttribute("aria-hidden")}}function zb(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];for(var b=0,c=d;b<c.length;b++){var e=c[b];e.style.display="none",e.setAttribute("aria-hidden","true")}}function CN(d,a){for(;d&&d.nodeType===d.ELEMENT_NODE;){if(d instanceof HTMLElement&&d.hasAttribute(a))return d;d=d.parentNode}return null}function $i(d){if(!d||!d.hasAttribute("tabIndex"))return;if(document.activeElement===d){var a=CN(d.parentElement,"tabIndex");a&&a.focus()}d.removeAttribute("tabindex")}function Ns(d){return Array.prototype.slice.call(document.getElementsByTagName(d),0)}function Os(d){var a=window.devicePixelRatio*d;return Math.max(1,Math.floor(a))/window.devicePixelRatio}function Nn(d){if(lc||Ay)window.open(d);else{var a=window.open();a&&(a.opener=null,a.location.href=d)}}function Qy(d){var a=function(){d(),b=ce(a)},b=ce(a);return va(function(){return b.dispose()})}Hs.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ps(d){return d?wa.vscodeRemote===d.scheme?Hs.rewrite(d):d:d}function Qs(d){return d?"url('"+Ps(d).toString(!0).replace(/'/g,"%27")+"')":"url('')"}function hl(d){var a=JSON.parse(d);return a=XA(a),a}function XA(d,a){a===void 0&&(a=0);if(!d||a>200)return d;if(typeof d==="object"){switch(d.$mid){case 1:return ja.revive(d);case 2:return new RegExp(d.source,d.flags)}for(var b in d)Object.hasOwnProperty.call(d,b)&&(d[b]=XA(d[b],a+1))}return d}function Ro(d){return!d||typeof d!=="string"?!0:d.trim().length===0}function Zg(d,a,b){b===void 0&&(b="0");for(var c=""+d,e=[c],f=c.length;f<a;f++)e.push(b);return e.reverse().join("")}var WQ=/{(\d+)}/g;function Ba(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];return a.length===0?d:d.replace(WQ,function(c,e){var f=parseInt(e,10);return isNaN(f)||f<0||f>=a.length?c:a[f]})}function Xb(d){return d.replace(/[<>&]/g,function(a){switch(a){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return a}})}function Zc(d){return d.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function vB(d,a){a===void 0&&(a=" ");var b=XQ(d,a);return $t(b,a)}function XQ(d,a){if(!d||!a)return d;var b=a.length;if(b===0||d.length===0)return d;for(var c=0;d.indexOf(a,c)===c;)c=c+b;return d.substring(c)}function $t(d,a){if(!d||!a)return d;var b=a.length,c=d.length;if(b===0||c===0)return d;for(var e=c,f=-1;;){f=d.lastIndexOf(a,e-1);if(f===-1||f+b!==e)break;if(f===0)return"";e=f}return d.substring(0,e)}function AA(d){return d.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Ug(d,a){if(d.length<a.length)return!1;if(d===a)return!0;for(var b=0;b<a.length;b++)if(d[b]!==a[b])return!1;return!0}function Sd(d,a){var b=d.length-a.length;return b>0?d.indexOf(a,b)===b:b===0?d===a:!1}function So(d,a,b){b===void 0&&(b={});if(!d)throw new Error("Cannot create regex from empty string");a||(d=Zc(d)),b.wholeWord&&(/\B/.test(d.charAt(0))||(d="\\b"+d),/\B/.test(d.charAt(d.length-1))||(d=d+"\\b"));var c="";return b.global&&(c+="g"),b.matchCase||(c+="i"),b.multiline&&(c+="m"),b.unicode&&(c+="u"),new RegExp(d,c)}function wB(d){if(d.source==="^"||d.source==="^$"||d.source==="$"||d.source==="^\\s*$")return!1;var a=d.exec("");return!!(a&&d.lastIndex===0)}function To(d){return(d.global?"g":"")+(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")}function Jb(d){for(var a=0,b=d.length;a<b;a++){var c=d.charCodeAt(a);if(c!==32&&c!==9)return a}return-1}function cb(d,a,b){a===void 0&&(a=0),b===void 0&&(b=d.length);for(var c=a;c<b;c++){var e=d.charCodeAt(c);if(e!==32&&e!==9)return d.substring(a,c)}return d.substring(a,b)}function _c(d,a){a===void 0&&(a=d.length-1);for(var b=a;b>=0;b--){var c=d.charCodeAt(b);if(c!==32&&c!==9)return b}return-1}function Il(d,a){return d<a?-1:d>a?1:0}function xB(d,a){for(var b=Math.min(d.length,a.length),c=0;c<b;c++){var e=d.charCodeAt(c),f=a.charCodeAt(c);if(e===f)continue;Ud(e)&&(e+=32),Ud(f)&&(f+=32);var g=e-f;if(g===0)continue;return Ie(e)&&Ie(f)?g:Il(d.toLowerCase(),a.toLowerCase())}return d.length<a.length?-1:d.length>a.length?1:0}function Ie(d){return d>=97&&d<=122}function Ud(d){return d>=65&&d<=90}function yB(d){return Ie(d)||Ud(d)}function jf(d,a){return d.length===a.length&&zB(d,a)}function zB(d,a,b){b===void 0&&(b=d.length);for(var c=0;c<b;c++){var e=d.charCodeAt(c),f=a.charCodeAt(c);if(e===f)continue;if(yB(e)&&yB(f)){var g=Math.abs(e-f);if(g!==0&&g!==32)return!1}else if(String.fromCharCode(e).toLowerCase()!==String.fromCharCode(f).toLowerCase())return!1}return!0}function Qg(d,a){var b=a.length;return a.length>d.length?!1:zB(d,a,b)}function xj(d,a){var b,c=Math.min(d.length,a.length);for(b=0;b<c;b++)if(d.charCodeAt(b)!==a.charCodeAt(b))return b;return c}function AB(d,a){var b,c=Math.min(d.length,a.length),e=d.length-1,f=a.length-1;for(b=0;b<c;b++)if(d.charCodeAt(e-b)!==a.charCodeAt(f-b))return b;return c}function Cb(d){return 55296<=d&&d<=56319}function yj(d){return 56320<=d&&d<=57343}function Yh(d,a,b){var c=d.charCodeAt(b);if(Cb(c)&&b+1<a){var e=d.charCodeAt(b+1);if(yj(e))return(c-55296<<10)+(e-56320)+65536}return c}function BB(d,a){var b=d.charCodeAt(a-1);if(yj(b)&&a>1){var c=d.charCodeAt(a-2);if(Cb(c))return(c-55296<<10)+(b-56320)+65536}return b}function Zh(d,a){var b=qu.getInstance(),c=a,e=d.length,f=Yh(d,e,a);a+=f>=65536?2:1;for(var g=b.getGraphemeBreakType(f);a<e;){var h=Yh(d,e,a),i=b.getGraphemeBreakType(h);if(Kl(g,i))break;a+=h>=65536?2:1,g=i}return a-c}function CB(d,a){var b=qu.getInstance(),c=a,e=BB(d,a);a-=e>=65536?2:1;for(var f=b.getGraphemeBreakType(e);a>0;){var g=BB(d,a),h=b.getGraphemeBreakType(g);if(Kl(h,f))break;a-=g>=65536?2:1,f=h}return c-a}var YQ=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function zj(d){return YQ.test(d)}var ZQ=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDE73\uDE78-\uDE82\uDE90-\uDE95])/;function DB(d){return ZQ.test(d)}var _Q=/^[\t\n\r\x20-\x7E]*$/;function Uo(d){return _Q.test(d)}function EB(d){for(var a=0,b=d.length;a<b;a++)if(nd(d.charCodeAt(a)))return!0;return!1}function nd(d){return d=+d,d>=11904&&d<=55215||d>=63744&&d<=64255||d>=65281&&d<=65374}function ou(d){return d>=127462&&d<=127487||d>=9728&&d<=10175||d>=127744&&d<=128591||d>=128640&&d<=128764||d>=128992&&d<=129003||d>=129280&&d<=129535||d>=129648&&d<=129651||d>=129656&&d<=129666||d>=129680&&d<=129685}var FB=String.fromCharCode(65279);function uj(d){return!!(d&&d.length>0&&d.charCodeAt(0)===65279)}function pu(d){return btoa(encodeURIComponent(d))}function GB(d,a){for(var b="",c=0;c<a;c++)b+=d;return b}function uB(d,a){return a===void 0&&(a=!1),d?(a&&(d=d.replace(/\\./g,"")),d.toLowerCase()!==d):!1}function Vo(d){var a=90-65+1;return d=d%(2*a),d<a?String.fromCharCode(97+d):String.fromCharCode(65+d-a)}function Jl(d){var a=qu.getInstance();return a.getGraphemeBreakType(d)}function Kl(d,a){if(d===0)return a!==5&&a!==7;if(d===2){if(a===3)return!1}if(d===4||d===2||d===3)return!0;if(a===4||a===2||a===3)return!0;if(d===8){if(a===8||a===9||a===11||a===12)return!1}if(d===11||d===9){if(a===9||a===10)return!1}if(d===12||d===10){if(a===10)return!1}return a===5||a===13?!1:a===7?!1:d===1?!1:d===13&&a===14?!1:d===6&&a===6?!1:!0}var qu=function(){function d(){this._data=$Q()}return d.getInstance=function(){return d._INSTANCE||(d._INSTANCE=new d()),d._INSTANCE},d.prototype.getGraphemeBreakType=function(a){if(a<32)return a===10?3:a===13?2:4;if(a<127)return 0;for(var b=this._data,c=b.length/3,e=1;e<=c;)if(a<b[3*e])e=2*e;else if(a>b[3*e+1])e=2*e+1;else return b[3*e+2];return 0},d._INSTANCE=null,d}();function $Q(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}var ku=typeof process==="undefined"?{cwd:function(){return"/"},env:Object.create(null),get platform(){return sb?"win32":ka?"darwin":"linux"},nextTick:function(d){return cj(d)}}:process,Mo=ku.cwd,gB=ku.env,Yg=ku.platform;const gu={};gd(gu,{basename:()=>Ee,dirname:()=>Dl,extname:()=>Rt,join:()=>fu,normalize:()=>tj,posix:()=>nb,relative:()=>zl,sep:()=>Uh,win32:()=>md});var GQ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),HQ=65,IQ=97,JQ=90,KQ=122,Vg=46,hc=47,Td=92,Wg=58,LQ=63,eu=function(d){GQ(a,d);function a(b,c,e){var f=this,g;typeof c==="string"&&c.indexOf("not ")===0?(g="must not be",c=c.replace(/^not /,"")):g="must be";var h=b.indexOf(".")!==-1?"property":"argument",i='The "'+b+'" '+h+" "+g+" of type "+c;return i+=". Received type "+typeof e,f=d.call(this,i)||this,f.code="ERR_INVALID_ARG_TYPE",f}return a}(Error);function Yb(d,a){if(typeof d!=="string")throw new eu(a,"string",d)}function Ea(d){return d===hc||d===Td}function eB(d){return d===hc}function Xg(d){return d>=HQ&&d<=JQ||d>=IQ&&d<=KQ}function Lo(d,a,b,c){for(var e="",f=0,g=-1,h=0,i,j=0;j<=d.length;++j){if(j<d.length)i=d.charCodeAt(j);else{if(c(i))break;i=hc}if(c(i)){if(!(g===j-1||h===1))if(g!==j-1&&h===2){if(e.length<2||f!==2||e.charCodeAt(e.length-1)!==Vg||e.charCodeAt(e.length-2)!==Vg){if(e.length>2){var k=e.lastIndexOf(b);k===-1?(e="",f=0):(e=e.slice(0,k),f=e.length-1-e.lastIndexOf(b)),g=j,h=0;continue}else if(e.length===2||e.length===1){e="",f=0,g=j,h=0;continue}}a&&(e.length>0?e+=b+"..":e="..",f=2)}else e.length>0?e+=b+d.slice(g+1,j):e=d.slice(g+1,j),f=j-g-1;g=j,h=0}else i===Vg&&h!==-1?++h:h=-1}return e}function fB(d,a){var b=a.dir||a.root,c=a.base||(a.name||"")+(a.ext||"");return b?b===a.root?b+c:b+d+c:c}var md={resolve:function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];for(var b="",c="",e=!1,f=d.length-1;f>=-1;f--){var g=void 0;f>=0?g=d[f]:b?(g=gB["="+b]||Mo(),(g===void 0||g.slice(0,3).toLowerCase()!==b.toLowerCase()+"\\")&&(g=b+"\\")):g=Mo(),Yb(g,"path");if(g.length===0)continue;var h=g.length,i=0,j="",k=!1,l=g.charCodeAt(0);if(h>1)if(Ea(l)){k=!0;if(Ea(g.charCodeAt(1))){for(var m=2,n=m;m<h;++m)if(Ea(g.charCodeAt(m)))break;if(m<h&&m!==n){var o=g.slice(n,m);for(n=m;m<h;++m)if(!Ea(g.charCodeAt(m)))break;if(m<h&&m!==n){for(n=m;m<h;++m)if(Ea(g.charCodeAt(m)))break;m===h?(j="\\\\"+o+"\\"+g.slice(n),i=m):m!==n&&(j="\\\\"+o+"\\"+g.slice(n,m),i=m)}}}else i=1}else Xg(l)&&(g.charCodeAt(1)===Wg&&(j=g.slice(0,2),i=2,h>2&&(Ea(g.charCodeAt(2))&&(k=!0,i=3))));else Ea(l)&&(i=1,k=!0);if(j.length>0&&b.length>0&&j.toLowerCase()!==b.toLowerCase())continue;b.length===0&&j.length>0&&(b=j),e||(c=g.slice(i)+"\\"+c,e=k);if(b.length>0&&e)break}return c=Lo(c,!e,"\\",Ea),b+(e?"\\":"")+c||"."},normalize:function(d){Yb(d,"path");var a=d.length;if(a===0)return".";var b=0,c,e=!1,f=d.charCodeAt(0);if(a>1)if(Ea(f)){e=!0;if(Ea(d.charCodeAt(1))){for(var g=2,h=g;g<a;++g)if(Ea(d.charCodeAt(g)))break;if(g<a&&g!==h){var i=d.slice(h,g);for(h=g;g<a;++g)if(!Ea(d.charCodeAt(g)))break;if(g<a&&g!==h){for(h=g;g<a;++g)if(Ea(d.charCodeAt(g)))break;if(g===a)return"\\\\"+i+"\\"+d.slice(h)+"\\";g!==h&&(c="\\\\"+i+"\\"+d.slice(h,g),b=g)}}}else b=1}else Xg(f)&&(d.charCodeAt(1)===Wg&&(c=d.slice(0,2),b=2,a>2&&(Ea(d.charCodeAt(2))&&(e=!0,b=3))));else if(Ea(f))return"\\";var j;return b<a?j=Lo(d.slice(b),!e,"\\",Ea):j="",j.length===0&&!e&&(j="."),j.length>0&&Ea(d.charCodeAt(a-1))&&(j+="\\"),c===void 0?e?j.length>0?"\\"+j:"\\":j.length>0?j:"":e?j.length>0?c+"\\"+j:c+"\\":j.length>0?c+j:c},isAbsolute:function(d){Yb(d,"path");var a=d.length;if(a===0)return!1;var b=d.charCodeAt(0);if(Ea(b))return!0;if(Xg(b)){if(a>2&&d.charCodeAt(1)===Wg){if(Ea(d.charCodeAt(2)))return!0}}return!1},join:function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];if(d.length===0)return".";for(var b,c,e=0;e<d.length;++e){var f=d[e];Yb(f,"path"),f.length>0&&(b===void 0?b=c=f:b+="\\"+f)}if(b===void 0)return".";var g=!0,h=0;if(typeof c==="string"&&Ea(c.charCodeAt(0))){++h;var i=c.length;i>1&&(Ea(c.charCodeAt(1))&&(++h,i>2&&(Ea(c.charCodeAt(2))?++h:g=!1)))}if(g){for(;h<b.length;++h)if(!Ea(b.charCodeAt(h)))break;h>=2&&(b="\\"+b.slice(h))}return md.normalize(b)},relative:function(d,a){Yb(d,"from"),Yb(a,"to");if(d===a)return"";var b=md.resolve(d),c=md.resolve(a);if(b===c)return"";d=b.toLowerCase(),a=c.toLowerCase();if(d===a)return"";for(var e=0;e<d.length;++e)if(d.charCodeAt(e)!==Td)break;for(var f=d.length;f-1>e;--f)if(d.charCodeAt(f-1)!==Td)break;for(var g=f-e,h=0;h<a.length;++h)if(a.charCodeAt(h)!==Td)break;for(var i=a.length;i-1>h;--i)if(a.charCodeAt(i-1)!==Td)break;for(var j=i-h,k=g<j?g:j,l=-1,m=0;m<=k;++m){if(m===k){if(j>k){if(a.charCodeAt(h+m)===Td)return c.slice(h+m+1);if(m===2)return c.slice(h+m)}g>k&&(d.charCodeAt(e+m)===Td?l=m:m===2&&(l=3));break}var n=d.charCodeAt(e+m),o=a.charCodeAt(h+m);if(n!==o)break;n===Td&&(l=m)}if(m!==k&&l===-1)return c;var p="";for(l===-1&&(l=0),m=e+l+1;m<=f;++m)(m===f||d.charCodeAt(m)===Td)&&(p.length===0?p+="..":p+="\\..");return p.length>0?p+c.slice(h+l,i):(h+=l,c.charCodeAt(h)===Td&&++h,c.slice(h,i))},toNamespacedPath:function(d){if(typeof d!=="string")return d;if(d.length===0)return"";var a=md.resolve(d);if(a.length>=3){if(a.charCodeAt(0)===Td){if(a.charCodeAt(1)===Td){var b=a.charCodeAt(2);if(b!==LQ&&b!==Vg)return"\\\\?\\UNC\\"+a.slice(2)}}else if(Xg(a.charCodeAt(0))){if(a.charCodeAt(1)===Wg&&a.charCodeAt(2)===Td)return"\\\\?\\"+a}}return d},dirname:function(d){Yb(d,"path");var a=d.length;if(a===0)return".";var b=-1,c=-1,e=!0,f=0,g=d.charCodeAt(0);if(a>1)if(Ea(g)){b=f=1;if(Ea(d.charCodeAt(1))){for(var h=2,i=h;h<a;++h)if(Ea(d.charCodeAt(h)))break;if(h<a&&h!==i){for(i=h;h<a;++h)if(!Ea(d.charCodeAt(h)))break;if(h<a&&h!==i){for(i=h;h<a;++h)if(Ea(d.charCodeAt(h)))break;if(h===a)return d;h!==i&&(b=f=h+1)}}}}else Xg(g)&&(d.charCodeAt(1)===Wg&&(b=f=2,a>2&&(Ea(d.charCodeAt(2))&&(b=f=3))));else if(Ea(g))return d;for(var j=a-1;j>=f;--j)if(Ea(d.charCodeAt(j))){if(!e){c=j;break}}else e=!1;if(c===-1){if(b===-1)return".";c=b}return d.slice(0,c)},basename:function(d,a){a!==void 0&&Yb(a,"ext"),Yb(d,"path");var b=0,c=-1,e=!0,f;if(d.length>=2){var g=d.charCodeAt(0);Xg(g)&&(d.charCodeAt(1)===Wg&&(b=2))}if(a!==void 0&&a.length>0&&a.length<=d.length){if(a.length===d.length&&a===d)return"";var h=a.length-1,i=-1;for(f=d.length-1;f>=b;--f){var j=d.charCodeAt(f);if(Ea(j)){if(!e){b=f+1;break}}else i===-1&&(e=!1,i=f+1),h>=0&&(j===a.charCodeAt(h)?--h===-1&&(c=f):(h=-1,c=i))}return b===c?c=i:c===-1&&(c=d.length),d.slice(b,c)}else{for(f=d.length-1;f>=b;--f)if(Ea(d.charCodeAt(f))){if(!e){b=f+1;break}}else c===-1&&(e=!1,c=f+1);return c===-1?"":d.slice(b,c)}},extname:function(d){Yb(d,"path");var a=0,b=-1,c=0,e=-1,f=!0,g=0;d.length>=2&&d.charCodeAt(1)===Wg&&Xg(d.charCodeAt(0))&&(a=c=2);for(var h=d.length-1;h>=a;--h){var i=d.charCodeAt(h);if(Ea(i)){if(!f){c=h+1;break}continue}e===-1&&(f=!1,e=h+1),i===Vg?b===-1?b=h:g!==1&&(g=1):b!==-1&&(g=-1)}return b===-1||e===-1||g===0||g===1&&b===e-1&&b===c+1?"":d.slice(b,e)},format:function(d){if(d===null||typeof d!=="object")throw new eu("pathObject","Object",d);return fB("\\",d)},parse:function(d){Yb(d,"path");var a={root:"",dir:"",base:"",ext:"",name:""};if(d.length===0)return a;var b=d.length,c=0,e=d.charCodeAt(0);if(b>1){if(Ea(e)){c=1;if(Ea(d.charCodeAt(1))){for(var f=2,g=f;f<b;++f)if(Ea(d.charCodeAt(f)))break;if(f<b&&f!==g){for(g=f;f<b;++f)if(!Ea(d.charCodeAt(f)))break;if(f<b&&f!==g){for(g=f;f<b;++f)if(Ea(d.charCodeAt(f)))break;f===b?c=f:f!==g&&(c=f+1)}}}}else if(Xg(e)){if(d.charCodeAt(1)===Wg){c=2;if(b>2){if(Ea(d.charCodeAt(2))){if(b===3)return a.root=a.dir=d,a;c=3}}else return a.root=a.dir=d,a}}}else if(Ea(e))return a.root=a.dir=d,a;c>0&&(a.root=d.slice(0,c));for(var h=-1,i=c,j=-1,k=!0,l=d.length-1,m=0;l>=c;--l){e=d.charCodeAt(l);if(Ea(e)){if(!k){i=l+1;break}continue}j===-1&&(k=!1,j=l+1),e===Vg?h===-1?h=l:m!==1&&(m=1):h!==-1&&(m=-1)}return h===-1||j===-1||m===0||m===1&&h===j-1&&h===i+1?j!==-1&&(a.base=a.name=d.slice(i,j)):(a.name=d.slice(i,h),a.base=d.slice(i,j),a.ext=d.slice(h,j)),i>0&&i!==c?a.dir=d.slice(0,i-1):a.dir=a.root,a},sep:"\\",delimiter:";",win32:null,posix:null},nb={resolve:function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];for(var b="",c=!1,e=d.length-1;e>=-1&&!c;e--){var f=void 0;e>=0?f=d[e]:f=Mo(),Yb(f,"path");if(f.length===0)continue;b=f+"/"+b,c=f.charCodeAt(0)===hc}return b=Lo(b,!c,"/",eB),c?b.length>0?"/"+b:"/":b.length>0?b:"."},normalize:function(d){Yb(d,"path");if(d.length===0)return".";var a=d.charCodeAt(0)===hc,b=d.charCodeAt(d.length-1)===hc;return d=Lo(d,!a,"/",eB),d.length===0&&!a&&(d="."),d.length>0&&b&&(d+="/"),a?"/"+d:d},isAbsolute:function(d){return Yb(d,"path"),d.length>0&&d.charCodeAt(0)===hc},join:function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];if(d.length===0)return".";for(var b,c=0;c<d.length;++c){var e=arguments[c];Yb(e,"path"),e.length>0&&(b===void 0?b=e:b+="/"+e)}return b===void 0?".":nb.normalize(b)},relative:function(d,a){Yb(d,"from"),Yb(a,"to");if(d===a)return"";d=nb.resolve(d),a=nb.resolve(a);if(d===a)return"";for(var b=1;b<d.length;++b)if(d.charCodeAt(b)!==hc)break;for(var c=d.length,e=c-b,f=1;f<a.length;++f)if(a.charCodeAt(f)!==hc)break;for(var g=a.length,h=g-f,i=e<h?e:h,j=-1,k=0;k<=i;++k){if(k===i){if(h>i){if(a.charCodeAt(f+k)===hc)return a.slice(f+k+1);if(k===0)return a.slice(f+k)}else e>i&&(d.charCodeAt(b+k)===hc?j=k:k===0&&(j=0));break}var l=d.charCodeAt(b+k),m=a.charCodeAt(f+k);if(l!==m)break;l===hc&&(j=k)}var n="";for(k=b+j+1;k<=c;++k)(k===c||d.charCodeAt(k)===hc)&&(n.length===0?n+="..":n+="/..");return n.length>0?n+a.slice(f+j):(f+=j,a.charCodeAt(f)===hc&&++f,a.slice(f))},toNamespacedPath:function(d){return d},dirname:function(d){Yb(d,"path");if(d.length===0)return".";for(var a=d.charCodeAt(0)===hc,b=-1,c=!0,e=d.length-1;e>=1;--e)if(d.charCodeAt(e)===hc){if(!c){b=e;break}}else c=!1;return b===-1?a?"/":".":a&&b===1?"//":d.slice(0,b)},basename:function(d,a){a!==void 0&&Yb(a,"ext"),Yb(d,"path");var b=0,c=-1,e=!0,f;if(a!==void 0&&a.length>0&&a.length<=d.length){if(a.length===d.length&&a===d)return"";var g=a.length-1,h=-1;for(f=d.length-1;f>=0;--f){var i=d.charCodeAt(f);if(i===hc){if(!e){b=f+1;break}}else h===-1&&(e=!1,h=f+1),g>=0&&(i===a.charCodeAt(g)?--g===-1&&(c=f):(g=-1,c=h))}return b===c?c=h:c===-1&&(c=d.length),d.slice(b,c)}else{for(f=d.length-1;f>=0;--f)if(d.charCodeAt(f)===hc){if(!e){b=f+1;break}}else c===-1&&(e=!1,c=f+1);return c===-1?"":d.slice(b,c)}},extname:function(d){Yb(d,"path");for(var a=-1,b=0,c=-1,e=!0,f=0,g=d.length-1;g>=0;--g){var h=d.charCodeAt(g);if(h===hc){if(!e){b=g+1;break}continue}c===-1&&(e=!1,c=g+1),h===Vg?a===-1?a=g:f!==1&&(f=1):a!==-1&&(f=-1)}return a===-1||c===-1||f===0||f===1&&a===c-1&&a===b+1?"":d.slice(a,c)},format:function(d){if(d===null||typeof d!=="object")throw new eu("pathObject","Object",d);return fB("/",d)},parse:function(d){Yb(d,"path");var a={root:"",dir:"",base:"",ext:"",name:""};if(d.length===0)return a;var b=d.charCodeAt(0)===hc,c;b?(a.root="/",c=1):c=0;for(var e=-1,f=0,g=-1,h=!0,i=d.length-1,j=0;i>=c;--i){var k=d.charCodeAt(i);if(k===hc){if(!h){f=i+1;break}continue}g===-1&&(h=!1,g=i+1),k===Vg?e===-1?e=i:j!==1&&(j=1):e!==-1&&(j=-1)}return e===-1||g===-1||j===0||j===1&&e===g-1&&e===f+1?g!==-1&&(f===0&&b?a.base=a.name=d.slice(1,g):a.base=a.name=d.slice(f,g)):(f===0&&b?(a.name=d.slice(1,e),a.base=d.slice(1,g)):(a.name=d.slice(f,e),a.base=d.slice(f,g)),a.ext=d.slice(e,g)),f>0?a.dir=d.slice(0,f-1):b&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};nb.win32=md.win32=md;nb.posix=md.posix=nb;var tj=Yg==="win32"?md.normalize:nb.normalize,fu=Yg==="win32"?md.join:nb.join,zl=Yg==="win32"?md.relative:nb.relative,Dl=Yg==="win32"?md.dirname:nb.dirname,Ee=Yg==="win32"?md.basename:nb.basename,Rt=Yg==="win32"?md.extname:nb.extname,Uh=Yg==="win32"?md.sep:nb.sep;function kA(d){return d.replace(/[\\/]/g,nb.sep)}function lA(d,a,b,c){c===void 0&&(c=Uh);if(d===a)return!0;if(!d||!a)return!1;if(a.length>d.length)return!1;if(b){var e=Qg(d,a);if(!e)return!1;if(a.length===d.length)return!0;var f=a.length;return a.charAt(a.length-1)===c&&f--,d.charAt(f)===c}return a.charAt(a.length-1)!==c&&(a+=c),d.indexOf(a)===0}function mA(d){return d>=65&&d<=90||d>=97&&d<=122}var mB=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c};function nB(d){return d&&d.scheme===wa.file?!cc:!0}function Qo(d){return ld(d)||d.authority}function oB(d,a){return d===a||jf(d,a)}function He(d,a,b){b===void 0&&(b=nB(d));if(d===a)return!0;if(!d||!a)return!1;if(d.scheme!==a.scheme||!oB(d.authority,a.authority))return!1;var c=d.path||"/",e=a.path||"/";return c===e||b&&jf(c||"/",e||"/")}function ld(d){return nb.basename(d.path)}function vj(d){if(d.path.length===0)return d;if(d.scheme===wa.file)return ja.file(Dl(lu(d)));var a=nb.dirname(d.path);return d.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error('dirname("'+d.toString+")) resulted in a relative path"),a="/"),d.with({path:a})}function pB(d){for(var a,b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var e;return d.scheme===wa.file?e=ja.file(fu.apply(gu,mB([lu(d)],b))).path:e=(a=nb).join.apply(a,mB([d.path||"/"],b)),d.with({path:e})}function qB(d){if(!d.path.length)return d;var a;return d.scheme===wa.file?a=ja.file(tj(lu(d))).path:a=nb.normalize(d.path),d.with({path:a})}function lu(d){var a,b=d.path;return d.authority&&b.length>1&&d.scheme===wa.file?a="//"+d.authority+b:sb&&b.charCodeAt(0)===47&&mA(b.charCodeAt(1))&&b.charCodeAt(2)===58?a=b.substr(1):a=b,sb&&(a=a.replace(/\//g,"\\")),a}function SA(d,a,b){b===void 0&&(b=nB(d));if(d.scheme!==a.scheme||!oB(d.authority,a.authority))return;if(d.scheme===wa.file){var c=zl(d.path,a.path);return sb?kA(c):c}var e=d.path||"/",f=a.path||"/";if(b){for(var g=0,h=Math.min(e.length,f.length);g<h;g++)if(e.charCodeAt(g)!==f.charCodeAt(g)){if(e.charAt(g).toLowerCase()!==f.charAt(g).toLowerCase())break}e=f.substr(0,g)+e.substr(g)}return nb.relative(e,f)}var hf;(function(d){d.META_DATA_LABEL="label",d.META_DATA_DESCRIPTION="description",d.META_DATA_SIZE="size",d.META_DATA_MIME="mime";function a(b){var c=new Map(),e=b.path.substring(b.path.indexOf(";")+1,b.path.lastIndexOf(";"));e.split(";").forEach(function(g){var h=g.split(":"),i=h[0],j=h[1];i&&j&&c.set(i,j)});var f=b.path.substring(0,b.path.indexOf(";"));return f&&c.set(d.META_DATA_MIME,f),c}d.parseMetaData=a})(hf||(hf={}));var Aj={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function Ko(d){return Array.isArray?Array.isArray(d):d&&typeof d.length===Aj.number&&d.constructor===Array?!0:!1}function od(d){return typeof d===Aj.string||d instanceof String?!0:!1}function Ab(d){return typeof d===Aj.object&&d!==null&&!Array.isArray(d)&&!(d instanceof RegExp)&&!(d instanceof Date)}function id(d){return(typeof d===Aj.number||d instanceof Number)&&!isNaN(d)?!0:!1}function Wo(d){return d===!0||d===!1}function dc(d){return typeof d===Aj.undefined}function de(d){return dc(d)||d===null}function Ub(d,a){if(!d)throw new Error(a?"Unexpected type, expected '"+a+"'":"Unexpected type")}var aR=Object.prototype.hasOwnProperty;function Xo(d){if(!Ab(d))return!1;for(var a in d)if(aR.call(d,a))return!1;return!0}function Kh(d){return typeof d===Aj.function}function HB(d,a){for(var b=Math.min(d.length,a.length),c=0;c<b;c++)bR(d[c],a[c])}function bR(d,a){if(od(a)){if(typeof d!==a)throw new Error("argument does not match constraint: typeof "+a)}else if(Kh(a)){try{if(d instanceof a)return}catch(b){}if(!de(d)&&d.constructor===a)return;if(a.length===1&&a.call(void 0,d)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function cR(d){for(var a=[],b=Object.getPrototypeOf(d);Object.prototype!==b;)a=a.concat(Object.getOwnPropertyNames(b)),b=Object.getPrototypeOf(b);return a}function _g(d){for(var a=[],b=0,c=cR(d);b<c.length;b++){var e=c[b];typeof d[e]==="function"&&a.push(e)}return a}function Ll(d,a){for(var b=function(h){return function(){var i=Array.prototype.slice.call(arguments,0);return a(h,i)}},c={},e=0,f=d;e<f.length;e++){var g=f[e];c[g]=b(g)}return c}function $g(d){return d===null?void 0:d}function ag(d){return typeof d==="undefined"?null:d}var zQ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function Ig(d){var a=[];return d.forEach(function(b){return a.push(b)}),a}function _f(d){var a=[];return d.forEach(function(b,c){return a.push(c)}),a}var AQ=function(){function d(){this._value="",this._pos=0}return d.prototype.reset=function(a){return this._value=a,this._pos=0,this},d.prototype.next=function(){return this._pos+=1,this},d.prototype.hasNext=function(){return this._pos<this._value.length-1},d.prototype.cmp=function(a){var b=a.charCodeAt(0),c=this._value.charCodeAt(this._pos);return b-c},d.prototype.value=function(){return this._value[this._pos]},d}(),BQ=function(){function d(a){a===void 0&&(a=!0),this._splitOnBackslash=a}return d.prototype.reset=function(a){return this._value=a.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},d.prototype.hasNext=function(){return this._to<this._value.length},d.prototype.next=function(){this._from=this._to;for(var a=!0;this._to<this._value.length;this._to++){var b=this._value.charCodeAt(this._to);if(b===47||this._splitOnBackslash&&b===92)if(a)this._from++;else break;else a=!1}return this},d.prototype.cmp=function(a){for(var b=0,c=a.length,e=this._from;b<c&&e<this._to;){var f=a.charCodeAt(b)-this._value.charCodeAt(e);if(f!==0)return f;b+=1,e+=1}return c===this._to-this._from?0:b<c?-1:1},d.prototype.value=function(){return this._value.substring(this._from,this._to)},d}(),Ho=function(){function d(){}return d}(),Bl=function(){function d(a){this._iter=a}return d.forPaths=function(){return new d(new BQ())},d.forStrings=function(){return new d(new AQ())},d.prototype.clear=function(){this._root=void 0},d.prototype.set=function(a,b){var c=this._iter.reset(a),e;for(this._root||(this._root=new Ho(),this._root.segment=c.value()),e=this._root;;){var f=c.cmp(e.segment);if(f>0)e.left||(e.left=new Ho(),e.left.segment=c.value()),e=e.left;else if(f<0)e.right||(e.right=new Ho(),e.right.segment=c.value()),e=e.right;else if(c.hasNext())c.next(),e.mid||(e.mid=new Ho(),e.mid.segment=c.value()),e=e.mid;else break}var g=e.value;return e.value=b,e.key=a,g},d.prototype.get=function(a){for(var b=this._iter.reset(a),c=this._root;c;){var e=b.cmp(c.segment);if(e>0)c=c.left;else if(e<0)c=c.right;else if(b.hasNext())b.next(),c=c.mid;else break}return c?c.value:void 0},d.prototype.findSubstr=function(a){for(var b=this._iter.reset(a),c=this._root,e=void 0;c;){var f=b.cmp(c.segment);if(f>0)c=c.left;else if(f<0)c=c.right;else if(b.hasNext())b.next(),e=c.value||e,c=c.mid;else break}return c&&c.value||e},d.prototype.forEach=function(a){this._forEach(this._root,a)},d.prototype._forEach=function(a,b){a&&(this._forEach(a.left,b),a.value&&b(a.value,a.key),this._forEach(a.mid,b),this._forEach(a.right,b))},d}(),Io=function(){function d(){this.map=new Map(),this.ignoreCase=!1}return d.prototype.set=function(a,b){this.map.set(this.toKey(a),b)},d.prototype.get=function(a){return this.map.get(this.toKey(a))},d.prototype.toKey=function(a){var b=a.toString();return this.ignoreCase&&(b=b.toLowerCase()),b},d}(),CQ=function(){function d(){this._map=new Map(),this._head=void 0,this._tail=void 0,this._size=0}return d.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},Object.defineProperty(d.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),d.prototype.get=function(a,b){b===void 0&&(b=0);var c=this._map.get(a);return c?(b!==0&&this.touch(c,b),c.value):void 0},d.prototype.set=function(a,b,c){c===void 0&&(c=0);var e=this._map.get(a);if(e)e.value=b,c!==0&&this.touch(e,c);else{e={key:a,value:b,next:void 0,previous:void 0};switch(c){case 0:this.addItemLast(e);break;case 1:this.addItemFirst(e);break;case 2:this.addItemLast(e);break;default:this.addItemLast(e);break}this._map.set(a,e),this._size++}},d.prototype.delete=function(a){return!!this.remove(a)},d.prototype.remove=function(a){var b=this._map.get(a);return b?(this._map.delete(a),this.removeItem(b),this._size--,b.value):void 0},d.prototype.forEach=function(a,b){for(var c=this._head;c;)b?a.bind(b)(c.value,c.key,this):a(c.value,c.key,this),c=c.next},d.prototype.trimOld=function(a){if(a>=this.size)return;if(a===0){this.clear();return}for(var b=this._head,c=this.size;b&&c>a;)this._map.delete(b.key),b=b.next,c--;this._head=b,this._size=c,b&&(b.previous=void 0)},d.prototype.addItemFirst=function(a){if(!this._head&&!this._tail)this._tail=a;else if(this._head)a.next=this._head,this._head.previous=a;else throw new Error("Invalid list");this._head=a},d.prototype.addItemLast=function(a){if(!this._head&&!this._tail)this._head=a;else if(this._tail)a.previous=this._tail,this._tail.next=a;else throw new Error("Invalid list");this._tail=a},d.prototype.removeItem=function(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{var b=a.next,c=a.previous;if(!b||!c)throw new Error("Invalid list");b.previous=c,c.next=b}a.next=void 0,a.previous=void 0},d.prototype.touch=function(a,b){if(!this._head||!this._tail)throw new Error("Invalid list");if(b!==1&&b!==2)return;if(b===1){if(a===this._head)return;var c=a.next,e=a.previous;a===this._tail?(e.next=void 0,this._tail=e):(c.previous=e,e.next=c),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a}else if(b===2){if(a===this._tail)return;var c=a.next,e=a.previous;a===this._head?(c.previous=void 0,this._head=c):(c.previous=e,e.next=c),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a}},d.prototype.toJSON=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),a},d}(),De=function(d){zQ(a,d);function a(b,c){c===void 0&&(c=1);var e=d.call(this)||this;return e._limit=b,e._ratio=Math.min(Math.max(0,c),1),e}return a.prototype.get=function(b){return d.prototype.get.call(this,b,2)},a.prototype.peek=function(b){return d.prototype.get.call(this,b,0)},a.prototype.set=function(b,c){d.prototype.set.call(this,b,c,2),this.checkTrim()},a.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},a}(CQ);var aM=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},db=ia("commandService"),Ca=new(function(){function d(){this._commands=new Map(),this._onDidRegisterCommand=new E(),this.onDidRegisterCommand=this._onDidRegisterCommand.event}return d.prototype.registerCommand=function(a,b){var c=this;if(!a)throw new Error("invalid command");if(typeof a==="string"){if(!b)throw new Error("invalid command");return this.registerCommand({id:a,handler:b})}if(a.description){for(var e=[],f=0,g=a.description.args;f<g.length;f++){var h=g[f];e.push(h.constraint)}var i=a.handler;a.handler=function(n){for(var o=[],p=1;p<arguments.length;p++)o[p-1]=arguments[p];return HB(o,e),i.apply(void 0,aM([n],o))}}var j=a.id,k=this._commands.get(j);k||(k=new Yc(),this._commands.set(j,k));var l=k.unshift(a),m=va(function(){l();var n=c._commands.get(j);(n===null||n===void 0?void 0:n.isEmpty())&&c._commands.delete(j)});return this._onDidRegisterCommand.fire(j),m},d.prototype.registerCommandAlias=function(a,b){return Ca.registerCommand(a,function(c){for(var e,f=[],g=1;g<arguments.length;g++)f[g-1]=arguments[g];return(e=c.get(db)).executeCommand.apply(e,aM([b],f))})},d.prototype.getCommand=function(a){var b=this._commands.get(a);return!b||b.isEmpty()?void 0:b.iterator().next().value},d.prototype.getCommands=function(){for(var a=new Map(),b=0,c=_f(this._commands);b<c.length;b++){var e=c[b],f=this.getCommand(e);f&&a.set(e,f)}return a},d}())();var JM=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},KM=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},Uc=ia("openerService"),Mk=Object.freeze({_serviceBrand:void 0,registerOpener:function(){return I.None},registerValidator:function(){return I.None},registerExternalUriResolver:function(){return I.None},setExternalOpener:function(){},open:function(){return JM(this,void 0,void 0,function(){return KM(this,function(d){return[2,!1]})})},resolveExternalUri:function(d){return JM(this,void 0,void 0,function(){return KM(this,function(a){return[2,{resolved:d,dispose:function(){}}]})})}});function Yl(d,a){return ja.isUri(d)?jf(d.scheme,a):Qg(d,a+":")}var Zl;(function(d){d[d.API=0]="API",d[d.USER=1]="USER"})(Zl||(Zl={}));var Gu=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},np=function(d,a){return function(b,c){a(b,c,d)}},Jj=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},Kj=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},hS=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},iS=function(){function d(a){this._commandService=a}return d.prototype.open=function(a){return Jj(this,void 0,void 0,function(){var b,c;return Kj(this,function(e){switch(e.label){case 0:if(!Yl(a,wa.command))return[2,!1];typeof a==="string"&&(a=ja.parse(a));if(!Ca.getCommand(a.path))throw new Error("command '"+a.path+"' NOT known");b=[];try{b=hl(decodeURIComponent(a.query))}catch(f){try{b=hl(a.query)}catch(g){}}return Array.isArray(b)||(b=[b]),[4,(c=this._commandService).executeCommand.apply(c,hS([a.path],b))];case 1:return e.sent(),[2,!0]}})})},d=Gu([np(0,db)],d),d}(),jS=function(){function d(a){this._editorService=a}return d.prototype.open=function(a,b){return Jj(this,void 0,void 0,function(){var c,e;return Kj(this,function(f){switch(f.label){case 0:return typeof a==="string"&&(a=ja.parse(a)),c=void 0,e=/^L?(\d+)(?:,(\d+))?/.exec(a.fragment),e&&(c={startLineNumber:parseInt(e[1]),startColumn:e[2]?parseInt(e[2]):1},a=a.with({fragment:""})),a.scheme===wa.file&&(a=qB(a)),[4,this._editorService.openCodeEditor({resource:a,options:{selection:c,context:(b===null||b===void 0?void 0:b.fromUserGesture)?Zl.USER:Zl.API}},this._editorService.getFocusedCodeEditor(),b===null||b===void 0?void 0:b.openToSide)];case 1:return f.sent(),[2,!0]}})})},d=Gu([np(0,ya)],d),d}(),jD=function(){function d(a,b){var c=this;this._openers=new Yc(),this._validators=new Yc(),this._resolvers=new Yc(),this._externalOpener={openExternal:function(e){return Nn(e),Promise.resolve(!0)}},this._openers.push({open:function(e,f){return Jj(c,void 0,void 0,function(){return Kj(this,function(g){switch(g.label){case 0:return(f===null||f===void 0?void 0:f.openExternal)||Yl(e,wa.mailto)||Yl(e,wa.http)||Yl(e,wa.https)?[4,this._doOpenExternal(e,f)]:[3,2];case 1:return g.sent(),[2,!0];case 2:return[2,!1]}})})}}),this._openers.push(new iS(b)),this._openers.push(new jS(a))}return d.prototype.open=function(a,b){return Jj(this,void 0,void 0,function(){var c,e,f,g,h,i,j;return Kj(this,function(k){switch(k.label){case 0:c=0,e=this._validators.toArray(),k.label=1;case 1:return c<e.length?(f=e[c],[4,f.shouldOpen(a)]):[3,4];case 2:if(!k.sent())return[2,!1];k.label=3;case 3:return c++,[3,1];case 4:g=0,h=this._openers.toArray(),k.label=5;case 5:return g<h.length?(i=h[g],[4,i.open(a,b)]):[3,8];case 6:j=k.sent();if(j)return[2,!0];k.label=7;case 7:return g++,[3,5];case 8:return[2,!1]}})})},d.prototype.resolveExternalUri=function(a,b){return Jj(this,void 0,void 0,function(){var c,e,f,g;return Kj(this,function(h){switch(h.label){case 0:c=0,e=this._resolvers.toArray(),h.label=1;case 1:return c<e.length?(f=e[c],[4,f.resolveExternalUri(a,b)]):[3,4];case 2:g=h.sent();if(g)return[2,g];h.label=3;case 3:return c++,[3,1];case 4:return[2,{resolved:a,dispose:function(){}}]}})})},d.prototype._doOpenExternal=function(a,b){return Jj(this,void 0,void 0,function(){var c,e;return Kj(this,function(f){switch(f.label){case 0:return c=typeof a==="string"?ja.parse(a):a,[4,this.resolveExternalUri(c,b)];case 1:e=f.sent().resolved;if(typeof a==="string"&&c.toString()===e.toString())return[2,this._externalOpener.openExternal(a)];return[2,this._externalOpener.openExternal(encodeURI(e.toString(!0)))];return[2]}})})},d.prototype.dispose=function(){this._validators.clear()},d=Gu([np(0,ya),np(1,db)],d),d}();function Uf(d,a){if(!d)throw new Error(a?"Assertion failed ("+a+")":"Assertion Failed")}function jd(d){if(!d||typeof d!=="object")return d;if(d instanceof RegExp)return d;var a=Array.isArray(d)?[]:{};return Object.keys(d).forEach(function(b){d[b]&&typeof d[b]==="object"?a[b]=jd(d[b]):a[b]=d[b]}),a}function bB(d){if(!d||typeof d!=="object")return d;for(var a=[d];a.length>0;){var b=a.shift();Object.freeze(b);for(var c in b)if(cB.call(b,c)){var e=b[c];typeof e==="object"&&!Object.isFrozen(e)&&a.push(e)}}return d}var cB=Object.prototype.hasOwnProperty;function Wy(d,a){return du(d,a,new Set())}function du(d,a,b){if(de(d))return d;var c=a(d);if(typeof c!=="undefined")return c;if(Ko(d)){for(var e=[],f=0,g=d;f<g.length;f++){var h=g[f];e.push(du(h,a,b))}return e}if(Ab(d)){if(b.has(d))throw new Error("Cannot clone recursive data-structure");b.add(d);var i={};for(var j in d)cB.call(d,j)&&(i[j]=du(d[j],a,b));return b.delete(d),i}return d}function Pb(d,a,b){return b===void 0&&(b=!0),Ab(d)?(Ab(a)&&Object.keys(a).forEach(function(c){c in d?b&&(Ab(d[c])&&Ab(a[c])?Pb(d[c],a[c],b):d[c]=a[c]):d[c]=a[c]}),d):a}function dB(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];return a.forEach(function(c){return Object.keys(c).forEach(function(e){return d[e]=c[e]})}),d}function Be(d,a){if(d===a)return!0;if(d===null||d===void 0||a===null||a===void 0)return!1;if(typeof d!==typeof a)return!1;if(typeof d!=="object")return!1;if(Array.isArray(d)!==Array.isArray(a))return!1;var b,c;if(Array.isArray(d)){if(d.length!==a.length)return!1;for(b=0;b<d.length;b++)if(!Be(d[b],a[b]))return!1}else{var e=[];for(c in d)e.push(c);e.sort();var f=[];for(c in a)f.push(c);f.sort();if(!Be(e,f))return!1;for(b=0;b<e.length;b++)if(!Be(d[e[b]],a[e[b]]))return!1}return!0}function Mh(d,a,b){var c=a(d);return typeof c==="undefined"?b:c}var vT=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),wT={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},IE=function(d){vT(a,d);function a(b,c){c===void 0&&(c={});var e=d.call(this)||this;return e._onDidUpdate=e._register(new E()),e._editor=b,e._options=Pb(c,wT,!1),e.disposed=!1,e.nextIdx=-1,e.ranges=[],e.ignoreSelectionChange=!1,e.revealFirst=Boolean(e._options.alwaysRevealFirst),e._register(e._editor.onDidDispose(function(){return e.dispose()})),e._register(e._editor.onDidUpdateDiff(function(){return e._onDiffUpdated()})),e._options.followsCaret&&e._register(e._editor.getModifiedEditor().onDidChangeCursorPosition(function(f){if(e.ignoreSelectionChange)return;e.nextIdx=-1})),e._options.alwaysRevealFirst&&e._register(e._editor.getModifiedEditor().onDidChangeModel(function(f){e.revealFirst=!0})),e._init(),e}return a.prototype._init=function(){var b=this._editor.getLineChanges();if(!b)return},a.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&(this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1)))},a.prototype._compute=function(b){var c=this;this.ranges=[],b&&b.forEach(function(e){!c._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(function(f){c.ranges.push({rhs:!0,range:new z(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn)})}):c.ranges.push({rhs:!0,range:new z(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort(function(e,f){return e.range.getStartPosition().isBeforeOrEqual(f.range.getStartPosition())?-1:f.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0}),this._onDidUpdate.fire(this)},a.prototype._initIdx=function(b){var c=!1,e=this._editor.getPosition();if(!e){this.nextIdx=0;return}for(var f=0,g=this.ranges.length;f<g&&!c;f++){var h=this.ranges[f].range;e.isBeforeOrEqual(h.getStartPosition())&&(this.nextIdx=f+(b?0:-1),c=!0)}c||(this.nextIdx=b?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},a.prototype._move=function(b,c){Uf(!this.disposed,"Illegal State - diff navigator has been disposed");if(!this.canNavigate())return;this.nextIdx===-1?this._initIdx(b):b?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var e=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var f=e.range.getStartPosition();this._editor.setPosition(f),this._editor.revealPositionInCenter(f,c)}finally{this.ignoreSelectionChange=!1}},a.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},a.prototype.next=function(b){b===void 0&&(b=0),this._move(!0,b)},a.prototype.previous=function(b){b===void 0&&(b=0),this._move(!1,b)},a.prototype.dispose=function(){d.prototype.dispose.call(this),this.ranges=[],this.disposed=!0},a}(I);var Vd=new(function(){function d(){this._zoomLevel=0,this._onDidChangeZoomLevel=new E(),this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return d.prototype.getZoomLevel=function(){return this._zoomLevel},d.prototype.setZoomLevel=function(a){a=Math.min(Math.max(-5,a),20);if(this._zoomLevel===a)return;this._zoomLevel=a,this._onDidChangeZoomLevel.fire(this._zoomLevel)},d}())();var mU=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),nU=ka?1.5:1.35,WE=8,gm=function(){function d(a){this.zoomLevel=a.zoomLevel,this.fontFamily=String(a.fontFamily),this.fontWeight=String(a.fontWeight),this.fontSize=a.fontSize,this.fontFeatureSettings=a.fontFeatureSettings,this.lineHeight=a.lineHeight|0,this.letterSpacing=a.letterSpacing}return d.createFromValidatedSettings=function(a,b,c){var e=a.get(33),f=a.get(37),g=a.get(36),h=a.get(35),i=a.get(49),j=a.get(46);return d._create(e,f,g,h,i,j,b,c)},d._create=function(a,b,c,e,f,g,h,i){f===0?f=Math.round(nU*c):f<WE&&(f=WE);var j=1+(i?0:Vd.getZoomLevel()*.1);return c*=j,f*=j,new d({zoomLevel:h,fontFamily:a,fontWeight:b,fontSize:c,fontFeatureSettings:e,lineHeight:f,letterSpacing:g})},d.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing},d.prototype.getMassagedFontFamily=function(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?'"'+this.fontFamily+'"':this.fontFamily},d}(),Nl=function(d){mU(a,d);function a(b,c){var e=d.call(this,b)||this;return e.isTrusted=c,e.isMonospace=b.isMonospace,e.typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,e.typicalFullwidthCharacterWidth=b.typicalFullwidthCharacterWidth,e.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,e.spaceWidth=b.spaceWidth,e.middotWidth=b.middotWidth,e.maxDigitWidth=b.maxDigitWidth,e}return a.prototype.equals=function(b){return this.fontFamily===b.fontFamily&&this.fontWeight===b.fontWeight&&this.fontSize===b.fontSize&&this.fontFeatureSettings===b.fontFeatureSettings&&this.lineHeight===b.lineHeight&&this.letterSpacing===b.letterSpacing&&this.typicalHalfwidthCharacterWidth===b.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===b.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===b.canUseHalfwidthRightwardsArrow&&this.spaceWidth===b.spaceWidth&&this.middotWidth===b.middotWidth&&this.maxDigitWidth===b.maxDigitWidth},a}(gm);function gD(d){return d&&typeof d.id==="string"}var bh={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},Qa={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"};var oc;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(oc||(oc={}));var Ne;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(Ne||(Ne={}));var ak=function(){function d(a){this.tabSize=Math.max(1,a.tabSize|0),this.indentSize=a.tabSize|0,this.insertSpaces=Boolean(a.insertSpaces),this.defaultEOL=a.defaultEOL|0,this.trimAutoWhitespace=Boolean(a.trimAutoWhitespace)}return d.prototype.equals=function(a){return this.tabSize===a.tabSize&&this.indentSize===a.indentSize&&this.insertSpaces===a.insertSpaces&&this.defaultEOL===a.defaultEOL&&this.trimAutoWhitespace===a.trimAutoWhitespace},d.prototype.createChangeEvent=function(a){return{tabSize:this.tabSize!==a.tabSize,indentSize:this.indentSize!==a.indentSize,insertSpaces:this.insertSpaces!==a.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==a.trimAutoWhitespace}},d}(),mh=function(){function d(a,b){this.range=a,this.matches=b}return d}(),cF=function(){function d(a,b,c){this.reverseEdits=a,this.changes=b,this.trimAutoWhitespaceLineNumbers=c}return d}();var Ot="**",BA="/",Co="[/\\\\]",Do="[^/\\\\]",eQ=/\//g;function CA(d){switch(d){case 0:return"";case 1:return Do+"*?";default:return"(?:"+Co+"|"+Do+"+"+Co+"|"+Co+Do+"+)*?"}}function DA(d,a){if(!d)return[];for(var b=[],c=!1,e=!1,f="",g=0,h=d;g<h.length;g++){var i=h[g];switch(i){case a:if(!c&&!e){b.push(f),f="";continue}break;case"{":c=!0;break;case"}":c=!1;break;case"[":e=!0;break;case"]":e=!1;break}f+=i}return f&&b.push(f),b}function EA(d){if(!d)return"";var a="",b=DA(d,BA);if(b.every(function(e){return e===Ot}))a=".*";else{var c=!1;b.forEach(function(e,f){if(e===Ot){c||(a+=CA(2),c=!0);return}for(var g=!1,h="",i=!1,j="",k=0,l=e;k<l.length;k++){var m=l[k];if(m!=="}"&&g){h+=m;continue}if(i&&(m!=="]"||!j)){var n=void 0;m==="-"?n=m:(m==="^"||m==="!")&&!j?n="^":m===BA?n="":n=Zc(m),j+=n;continue}switch(m){case"{":g=!0;continue;case"[":i=!0;continue;case"}":var o=DA(h,","),p="(?:"+o.map(function(q){return EA(q)}).join("|")+")";a+=p,g=!1,h="";break;case"]":a+="["+j+"]",i=!1,j="";break;case"?":a+=Do;continue;case"*":a+=CA(1);continue;default:a+=Zc(m)}}f<b.length-1&&(b[f+1]!==Ot||f+2<b.length)&&(a+=Co),c=!1})}return a}var fQ=/^\*\*\/\*\.[\w\.-]+$/,gQ=/^\*\*\/([\w\.-]+)\/?$/,hQ=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,iQ=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,jQ=/^\*\*((\/[\w\.-]+)+)\/?$/,kQ=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,FA=new De(1e4),GA=function(){return!1},ff=function(){return null};function Pt(d,a){if(!d)return ff;var b;typeof d!=="string"?b=d.pattern:b=d,b=b.trim();var c=b+"_"+!!a.trimForExclusions,e=FA.get(c);if(e)return HA(e,d);var f;if(fQ.test(b)){var g=b.substr(4);e=function(h,i){return typeof h==="string"&&Sd(h,g)?b:null}}else(f=gQ.exec(Qt(b,a)))?e=lQ(f[1],b):(a.trimForExclusions?iQ:hQ).test(b)?e=mQ(b,a):(f=jQ.exec(Qt(b,a)))?e=IA(f[1].substr(1),b,!0):(f=kQ.exec(Qt(b,a)))?e=IA(f[1],b,!1):e=nQ(b);return FA.set(c,e),HA(e,d)}function HA(d,a){return typeof a==="string"?d:function(b,c){return lA(b,a.base)?d(zl(a.base,b),c):null}}function Qt(d,a){return a.trimForExclusions&&Sd(d,"/**")?d.substr(0,d.length-2):d}function lQ(d,a){var b="/"+d,c="\\"+d,e=function(g,h){return typeof g!=="string"?null:h?h===d?a:null:g===d||Sd(g,b)||Sd(g,c)?a:null},f=[d];return e.basenames=f,e.patterns=[a],e.allBasenames=f,e}function mQ(d,a){var b=JA(d.slice(1,-1).split(",").map(function(h){return Pt(h,a)}).filter(function(h){return h!==ff}),d),c=b.length;if(!c)return ff;if(c===1)return b[0];var e=function(h,i){for(var j=0,k=b.length;j<k;j++)if(b[j](h,i))return d;return null},f=so(b,function(h){return!!h.allBasenames});f&&(e.allBasenames=f.allBasenames);var g=b.reduce(function(h,i){return i.allPaths?h.concat(i.allPaths):h},[]);return g.length&&(e.allPaths=g),e}function IA(d,a,b){var c=Uh!==nb.sep?d.replace(eQ,Uh):d,e=Uh+c,f=b?function(g,h){return typeof g==="string"&&(g===c||Sd(g,e))?a:null}:function(g,h){return typeof g==="string"&&g===c?a:null};return f.allPaths=[(b?"*/":"./")+d],f}function nQ(d){try{var a=new RegExp("^"+EA(d)+"$");return function(b,c){return a.lastIndex=0,typeof b==="string"&&a.test(b)?d:null}}catch(b){return ff}}function Eo(d,a,b){return!d||typeof a!=="string"?!1:oQ(d)(a,void 0,b)}function oQ(d,a){a===void 0&&(a={});if(!d)return GA;if(typeof d==="string"||pQ(d)){var b=Pt(d,a);if(b===ff)return GA;var c=function(e,f){return!!b(e,f)};return b.allBasenames&&(c.allBasenames=b.allBasenames),b.allPaths&&(c.allPaths=b.allPaths),c}return qQ(d,a)}function pQ(d){var a=d;return a&&typeof a.base==="string"&&typeof a.pattern==="string"}function qQ(d,a){var b=JA(Object.getOwnPropertyNames(d).map(function(k){return rQ(k,d[k],a)}).filter(function(k){return k!==ff})),c=b.length;if(!c)return ff;if(!b.some(function(k){return!!k.requiresSiblings})){if(c===1)return b[0];var e=function(k,l){for(var m=0,n=b.length;m<n;m++){var o=b[m](k,l);if(o)return o}return null},f=so(b,function(k){return!!k.allBasenames});f&&(e.allBasenames=f.allBasenames);var g=b.reduce(function(k,l){return l.allPaths?k.concat(l.allPaths):k},[]);return g.length&&(e.allPaths=g),e}var h=function(k,l,m){for(var n=void 0,o=0,p=b.length;o<p;o++){var q=b[o];q.requiresSiblings&&m&&(l||(l=Ee(k)),n||(n=l.substr(0,l.length-Rt(k).length)));var r=q(k,l,n,m);if(r)return r}return null},i=so(b,function(k){return!!k.allBasenames});i&&(h.allBasenames=i.allBasenames);var j=b.reduce(function(k,l){return l.allPaths?k.concat(l.allPaths):k},[]);return j.length&&(h.allPaths=j),h}function rQ(d,a,b){if(a===!1)return ff;var c=Pt(d,b);if(c===ff)return ff;if(typeof a==="boolean")return c;if(a){var e=a.when;if(typeof e==="string"){var f=function(g,h,i,j){if(!j||!c(g,h))return null;var k=e.replace("$(basename)",i),l=j(k);return aA(l)?l.then(function(m){return m?d:null}):l?d:null};return f.requiresSiblings=!0,f}}return c}function JA(d,a){var b=d.filter(function(j){return!!j.basenames});if(b.length<2)return d;var c=b.reduce(function(j,k){var l=k.basenames;return l?j.concat(l):j},[]),e;if(a){e=[];for(var f=0,g=c.length;f<g;f++)e.push(a)}else e=b.reduce(function(j,k){var l=k.patterns;return l?j.concat(l):j},[]);var h=function(j,k){if(typeof j!=="string")return null;if(!k){var l=void 0;for(l=j.length;l>0;l--){var m=j.charCodeAt(l-1);if(m===47||m===92)break}k=j.substr(l)}var n=c.indexOf(k);return n!==-1?e[n]:null};h.basenames=c,h.patterns=e,h.allBasenames=c;var i=d.filter(function(j){return!j.basenames});return i.push(h),i}function Gv(d,a,b,c){if(Array.isArray(d)){for(var e=0,f=0,g=d;f<g.length;f++){var h=g[f],i=Gv(h,a,b,c);if(i===10)return i;i>e&&(e=i)}return e}else{if(typeof d==="string")return c?d==="*"?5:d===b?10:0:0;if(d){var j=d.language,k=d.pattern,l=d.scheme,m=d.hasAccessToAllModels;if(!c&&!m)return 0;var e=0;if(l)if(l===a.scheme)e=10;else if(l==="*")e=5;else return 0;if(j)if(j===b)e=10;else if(j==="*")e=Math.max(e,5);else return 0;if(k)if(k===a.fsPath||Eo(k,a.fsPath))e=10;else return 0;return e}else return 0}}var ub=ia("modelService");function VF(d){return!d.isTooLargeForSyncing()&&!d.isForSimpleWidget}function WF(d){return typeof d==="string"?!1:Array.isArray(d)?d.every(WF):!!d.exclusive}var Wb=function(){function d(){this._clock=0,this._entries=[],this._onDidChange=new E()}return Object.defineProperty(d.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),d.prototype.register=function(a,b){var c=this,e={selector:a,provider:b,_score:-1,_time:this._clock++};return this._entries.push(e),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),va(function(){if(e){var f=c._entries.indexOf(e);f>=0&&(c._entries.splice(f,1),c._lastCandidate=void 0,c._onDidChange.fire(c._entries.length),e=void 0)}})},d.prototype.has=function(a){return this.all(a).length>0},d.prototype.all=function(a){if(!a)return[];this._updateScores(a);for(var b=[],c=0,e=this._entries;c<e.length;c++){var f=e[c];f._score>0&&b.push(f.provider)}return b},d.prototype.ordered=function(a){var b=[];return this._orderedForEach(a,function(c){return b.push(c.provider)}),b},d.prototype.orderedGroups=function(a){var b=[],c,e;return this._orderedForEach(a,function(f){c&&e===f._score?c.push(f.provider):(e=f._score,c=[f.provider],b.push(c))}),b},d.prototype._orderedForEach=function(a,b){if(!a)return;this._updateScores(a);for(var c=0,e=this._entries;c<e.length;c++){var f=e[c];f._score>0&&b(f)}},d.prototype._updateScores=function(a){var b={uri:a.uri.toString(),language:a.getLanguageIdentifier().language};if(this._lastCandidate&&this._lastCandidate.language===b.language&&this._lastCandidate.uri===b.uri)return;this._lastCandidate=b;for(var c=0,e=this._entries;c<e.length;c++){var f=e[c];f._score=Gv(f.selector,a.uri,a.getLanguageIdentifier().language,VF(a));if(WF(f.selector)&&f._score>0){for(var g=0,h=this._entries;g<h.length;g++){var i=h[g];i._score=0}f._score=1e3;break}}this._entries.sort(d._compareByScoreAndTime)},d._compareByScoreAndTime=function(a,b){return a._score<b._score?1:a._score>b._score?-1:a._time<b._time?1:a._time>b._time?-1:0},d}();var LF=function(){function d(){this._map=new Map(),this._promises=new Map(),this._onDidChange=new E(),this.onDidChange=this._onDidChange.event,this._colorMap=null}return d.prototype.fire=function(a){this._onDidChange.fire({changedLanguages:a,changedColorMap:!1})},d.prototype.register=function(a,b){var c=this;return this._map.set(a,b),this.fire([a]),va(function(){if(c._map.get(a)!==b)return;c._map.delete(a),c.fire([a])})},d.prototype.registerPromise=function(a,b){var c=this,e=null,f=!1;return this._promises.set(a,b.then(function(g){c._promises.delete(a);if(f||!g)return;e=c.register(a,g)})),va(function(){f=!0,e&&e.dispose()})},d.prototype.getPromise=function(a){var b=this,c=this.get(a);if(c)return Promise.resolve(c);var e=this._promises.get(a);return e?e.then(function(f){return b.get(a)}):null},d.prototype.get=function(a){return ag(this._map.get(a))},d.prototype.setColorMap=function(a){this._colorMap=a,this._onDidChange.fire({changedLanguages:_f(this._map),changedColorMap:!0})},d.prototype.getColorMap=function(){return this._colorMap},d.prototype.getDefaultBackground=function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null},d}();var ek=function(){function d(a,b){this.language=a,this.id=b}return d}(),Sc=function(){function d(){}return d.getLanguageId=function(a){return(a&255)>>>0},d.getTokenType=function(a){return(a&1792)>>>8},d.getFontStyle=function(a){return(a&14336)>>>11},d.getForeground=function(a){return(a&8372224)>>>14},d.getBackground=function(a){return(a&4286578688)>>>23},d.getClassNameFromMetadata=function(a){var b=this.getForeground(a),c="mtk"+b,e=this.getFontStyle(a);return e&1&&(c+=" mtki"),e&2&&(c+=" mtkb"),e&4&&(c+=" mtku"),c},d.getInlineStyleFromMetadata=function(a,b){var c=this.getForeground(a),e=this.getFontStyle(a),f="color: "+b[c]+";";return e&1&&(f+="font-style: italic;"),e&2&&(f+="font-weight: bold;"),e&4&&(f+="text-decoration: underline;"),f},d}(),Ev=function(){var d=Object.create(null);return d[0]="method",d[1]="function",d[2]="constructor",d[3]="field",d[4]="variable",d[5]="class",d[6]="struct",d[7]="interface",d[8]="module",d[9]="property",d[10]="event",d[11]="operator",d[12]="unit",d[13]="value",d[14]="constant",d[15]="enum",d[16]="enum-member",d[17]="keyword",d[25]="snippet",d[18]="text",d[19]="color",d[20]="file",d[21]="reference",d[22]="customcolor",d[23]="folder",d[24]="type-parameter",function(a){return d[a]||"property"}}(),Fv=function(){var d=Object.create(null);return d.method=0,d.function=1,d.constructor=2,d.field=3,d.variable=4,d.class=5,d.struct=6,d.interface=7,d.module=8,d.property=9,d.event=10,d.operator=11,d.unit=12,d.value=13,d.constant=14,d.enum=15,d["enum-member"]=16,d.enumMember=16,d.keyword=17,d.snippet=25,d.text=18,d.color=19,d.file=20,d.reference=21,d.customcolor=22,d.folder=23,d["type-parameter"]=24,d.typeParameter=24,function(a,b){var c=d[a];return typeof c==="undefined"&&!b&&(c=9),c}}(),Wd;(function(d){d[d.Invoke=1]="Invoke",d[d.TriggerCharacter=2]="TriggerCharacter",d[d.ContentChange=3]="ContentChange"})(Wd||(Wd={}));var fk;(function(d){d[d.Text=0]="Text",d[d.Read=1]="Read",d[d.Write=2]="Write"})(fk||(fk={}));function MF(d){return d&&ja.isUri(d.uri)&&z.isIRange(d.range)&&(z.isIRange(d.originSelectionRange)||z.isIRange(d.targetSelectionRange))}var Rp;(function(d){var a=new Map();a.set("file",0),a.set("module",1),a.set("namespace",2),a.set("package",3),a.set("class",4),a.set("method",5),a.set("property",6),a.set("field",7),a.set("constructor",8),a.set("enum",9),a.set("interface",10),a.set("function",11),a.set("variable",12),a.set("constant",13),a.set("string",14),a.set("number",15),a.set("boolean",16),a.set("array",17),a.set("object",18),a.set("key",19),a.set("null",20),a.set("enum-member",21),a.set("struct",22),a.set("event",23),a.set("operator",24),a.set("type-parameter",25);var b=new Map();b.set(0,"file"),b.set(1,"module"),b.set(2,"namespace"),b.set(3,"package"),b.set(4,"class"),b.set(5,"method"),b.set(6,"property"),b.set(7,"field"),b.set(8,"constructor"),b.set(9,"enum"),b.set(10,"interface"),b.set(11,"function"),b.set(12,"variable"),b.set(13,"constant"),b.set(14,"string"),b.set(15,"number"),b.set(16,"boolean"),b.set(17,"array"),b.set(18,"object"),b.set(19,"key"),b.set(20,"null"),b.set(21,"enum-member"),b.set(22,"struct"),b.set(23,"event"),b.set(24,"operator"),b.set(25,"type-parameter");function c(g){return a.get(g)}d.fromString=c;function e(g){return b.get(g)}d.toString=e;function f(g,h){return"codicon "+(h?"inline":"block")+" codicon-symbol-"+(b.get(g)||"property")}d.toCssClassName=f})(Rp||(Rp={}));var gk=function(){function d(a){this.value=a}return d.Comment=new d("comment"),d.Imports=new d("imports"),d.Region=new d("region"),d}(),NF;(function(d){function a(b){return Ab(b)&&(Boolean(b.newUri)||Boolean(b.oldUri))}d.is=a})(NF||(NF={}));var Sp;(function(d){function a(b){return Ab(b)&&ja.isUri(b.resource)&&Ab(b.edit)}d.is=a})(Sp||(Sp={}));var ki=new Wb(),li=new Wb(),sd=new Wb(),Pe=new Wb(),fg=new Wb(),ke=new Wb(),vf=new Wb(),eg=new Wb(),hi=new Wb(),ii=new Wb(),ji=new Wb(),Oe=new Wb(),td=new Wb(),gh=new Wb(),ud=new Wb(),wi=new Wb(),ng=new Wb(),og=new Wb(),hk=new Wb(),xm=new Wb(),ym=new Wb(),OF=new Wb(),Ga=new LF();var DV=function(){function d(){}return d.prototype.clone=function(){return this},d.prototype.equals=function(a){return this===a},d}(),qg=new DV(),Bm="vs.editor.nullMode",ti=new ek(Bm,0);function Wp(d,a,b,c){return new $j([new lh(c,"",d)],b)}function dk(d,a,b,c){var e=new Uint32Array(2);return e[0]=c,e[1]=(d<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new si(e,b===null?qg:b)}var ZV="editorWorkerService",pc=ia(ZV);var rd=ia("textModelService");var mR=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),OB="$initialize",PB=!1;function Ml(d){if(!$f)return;PB||(PB=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(d.message)}var QB=function(){function d(a){this._workerId=-1,this._handler=a,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return d.prototype.setWorkerId=function(a){this._workerId=a},d.prototype.sendMessage=function(a,b){var c=this,e=String(++this._lastSentReq);return new Promise(function(f,g){c._pendingReplies[e]={resolve:f,reject:g},c._send({vsWorker:c._workerId,req:e,method:a,args:b})})},d.prototype.handleMessage=function(a){if(!a||!a.vsWorker)return;if(this._workerId!==-1&&a.vsWorker!==this._workerId)return;this._handleMessage(a)},d.prototype._handleMessage=function(a){var b=this;if(a.seq){var c=a;if(!this._pendingReplies[c.seq]){console.warn("Got reply to unknown seq");return}var e=this._pendingReplies[c.seq];delete this._pendingReplies[c.seq];if(c.err){var f=c.err;c.err.$isError&&(f=new Error(),f.name=c.err.name,f.message=c.err.message,f.stack=c.err.stack),e.reject(f);return}e.resolve(c.res);return}var g=a,h=g.req,i=this._handler.handleMessage(g.method,g.args);i.then(function(j){b._send({vsWorker:b._workerId,seq:h,res:j,err:void 0})},function(j){j.detail instanceof Error&&(j.detail=Et(j.detail)),b._send({vsWorker:b._workerId,seq:h,res:void 0,err:Et(j)})})},d.prototype._send=function(a){var b=[];if(a.req)for(var c=a,e=0;e<c.args.length;e++)c.args[e]instanceof ArrayBuffer&&b.push(c.args[e]);else{var c=a;c.res instanceof ArrayBuffer&&b.push(c.res)}this._handler.sendMessage(a,b)},d}(),RB=function(d){mR(a,d);function a(b,c,e){var f=d.call(this)||this,g=null;f._worker=f._register(b.create("vs/base/common/worker/simpleWorker",function(k){f._protocol.handleMessage(k)},function(k){g&&g(k)})),f._protocol=new QB({sendMessage:function(k,l){f._worker.postMessage(k,l)},handleMessage:function(k,l){if(typeof e[k]!=="function")return Promise.reject(new Error("Missing method "+k+" on main thread host."));try{return Promise.resolve(e[k].apply(e,l))}catch(m){return Promise.reject(m)}}}),f._protocol.setWorkerId(f._worker.getId());var h=null;typeof self.require!=="undefined"&&typeof self.require.getConfig==="function"?h=self.require.getConfig():typeof self.requirejs!=="undefined"&&(h=self.requirejs.s.contexts._.config);var i=_g(e);f._onModuleLoaded=f._protocol.sendMessage(OB,[f._worker.getId(),JSON.parse(JSON.stringify(h)),c,i]);var j=function(k,l){return f._request(k,l)};return f._lazyProxy=new Promise(function(k,l){g=l,f._onModuleLoaded.then(function(m){k(Ll(m,j))},function(m){l(m),f._onError("Worker failed to load "+c,m)})}),f}return a.prototype.getProxyObject=function(){return this._lazyProxy},a.prototype._request=function(b,c){var e=this;return new Promise(function(f,g){e._onModuleLoaded.then(function(){e._protocol.sendMessage(b,c).then(f,g)},g)})},a.prototype._onError=function(b,c){console.error(b),console.info(c)},a}(I),bda=function(){function d(a,b){var c=this;this._requestHandlerFactory=b,this._requestHandler=null,this._protocol=new QB({sendMessage:function(e,f){a(e,f)},handleMessage:function(e,f){return c._handleMessage(e,f)}})}return d.prototype.onmessage=function(a){this._protocol.handleMessage(a)},d.prototype._handleMessage=function(a,b){if(a===OB)return this.initialize(b[0],b[1],b[2],b[3]);if(!this._requestHandler||typeof this._requestHandler[a]!=="function")return Promise.reject(new Error("Missing requestHandler or method: "+a));try{return Promise.resolve(this._requestHandler[a].apply(this._requestHandler,b))}catch(c){return Promise.reject(c)}},d.prototype.initialize=function(a,b,c,e){var f=this;this._protocol.setWorkerId(a);var g=function(i,j){return f._protocol.sendMessage(i,j)},h=Ll(e,g);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(h),Promise.resolve(_g(this._requestHandler))):(b&&(typeof b.baseUrl!=="undefined"&&delete b.baseUrl,typeof b.paths!=="undefined"&&(typeof b.paths.vs!=="undefined"&&delete b.paths.vs),b.catchError=!0,self.require.config(b)),new Promise(function(i,j){self.require([c],function(k){f._requestHandler=k.create(h);if(!f._requestHandler){j(new Error("No RequestHandler!"));return}i(_g(f._requestHandler))},j)}))},d}();function CR(d,a){if(yc.MonacoEnvironment){if(typeof yc.MonacoEnvironment.getWorker==="function")return yc.MonacoEnvironment.getWorker(d,a);if(typeof yc.MonacoEnvironment.getWorkerUrl==="function")return new Worker(yc.MonacoEnvironment.getWorkerUrl(d,a),{type:"module"})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function DR(d){return typeof d.then==="function"?!0:!1}var ER=function(){function d(a,b,c,e,f){this.id=b;var g=CR("workerMain.js",c);DR(g)?this.worker=g:this.worker=Promise.resolve(g),this.postMessage(a,[]),this.worker.then(function(h){h.onmessage=function(i){e(i.data)},h.onmessageerror=f,typeof h.addEventListener==="function"&&h.addEventListener("error",f)})}return d.prototype.getId=function(){return this.id},d.prototype.postMessage=function(a,b){this.worker&&this.worker.then(function(c){return c.postMessage(a,b)})},d.prototype.dispose=function(){this.worker&&this.worker.then(function(a){return a.terminate()}),this.worker=null},d}(),tC=function(){function d(a){this._label=a,this._webWorkerFailedBeforeError=!1}return d.prototype.create=function(a,b,c){var e=this,f=++d.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ER(a,f,this._label||"anonymous"+f,b,function(g){Ml(g),e._webWorkerFailedBeforeError=g,c(g)})},d.LAST_WORKER_ID=0,d}();var qb;(function(d){d[d.None=0]="None",d[d.Indent=1]="Indent",d[d.IndentOutdent=2]="IndentOutdent",d[d.Outdent=3]="Outdent"})(qb||(qb={}));var Tp=function(){function d(a){this.open=a.open,this.close=a.close,this._standardTokenMask=0;if(Array.isArray(a.notIn))for(var b=0,c=a.notIn.length;b<c;b++){var e=a.notIn[b];switch(e){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}}return d.prototype.isOK=function(a){return(this._standardTokenMask&a)===0},d}();function zm(d,a){for(var b=d.getCount(),c=d.findTokenIndexAtOffset(a),e=d.getLanguageId(c),f=c;f+1<b&&d.getLanguageId(f+1)===e;)f++;for(var g=c;g>0&&d.getLanguageId(g-1)===e;)g--;return new EV(d,e,g,f+1,d.getStartOffset(g),d.getEndOffset(f))}var EV=function(){function d(a,b,c,e,f,g){this._actual=a,this.languageId=b,this._firstTokenIndex=c,this._lastTokenIndex=e,this.firstCharOffset=f,this._lastCharOffset=g}return d.prototype.getLineContent=function(){var a=this._actual.getLineContent();return a.substring(this.firstCharOffset,this._lastCharOffset)},d.prototype.getActualLineContentBefore=function(a){var b=this._actual.getLineContent();return b.substring(0,this.firstCharOffset+a)},d.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},d.prototype.findTokenIndexAtOffset=function(a){return this._actual.findTokenIndexAtOffset(a+this.firstCharOffset)-this._firstTokenIndex},d.prototype.getStandardTokenType=function(a){return this._actual.getStandardTokenType(a+this._firstTokenIndex)},d}();function oe(d){return(d&7)!==0}var Up=function(){function d(a){a.autoClosingPairs?this._autoClosingPairs=a.autoClosingPairs.map(function(c){return new Tp(c)}):a.brackets?this._autoClosingPairs=a.brackets.map(function(c){return new Tp({open:c[0],close:c[1]})}):this._autoClosingPairs=[];if(a.__electricCharacterSupport&&a.__electricCharacterSupport.docComment){var b=a.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new Tp({open:b.open,close:b.close||""}))}this._autoCloseBefore=typeof a.autoCloseBefore==="string"?a.autoCloseBefore:d.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=a.surroundingPairs||this._autoClosingPairs}return d.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},d.prototype.getAutoCloseBeforeSet=function(){return this._autoCloseBefore},d.shouldAutoClosePair=function(a,b,c){if(b.getTokenCount()===0)return!0;var e=b.findTokenIndexAtOffset(c-2),f=b.getStandardTokenType(e);return a.isOK(f)},d.prototype.getSurroundingPairs=function(){return this._surroundingPairs},d.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`,d}();var FV=function(){function d(a,b,c,e,f,g){this.languageIdentifier=a,this.index=b,this.open=c,this.close=e,this.forwardRegex=f,this.reversedRegex=g,this._openSet=d._toSet(this.open),this._closeSet=d._toSet(this.close)}return d.prototype.isOpen=function(a){return this._openSet.has(a)},d.prototype.isClose=function(a){return this._closeSet.has(a)},d._toSet=function(a){for(var b=new Set(),c=0,e=a;c<e.length;c++){var f=e[c];b.add(f)}return b},d}();function GV(d){var a=d.length;d=d.map(function(q){return[q[0].toLowerCase(),q[1].toLowerCase()]});for(var b=[],c=0;c<a;c++)b[c]=c;for(var e=function(q,r){var t=q[0],v=q[1],w=r[0],x=r[1];return t===w||t===x||v===w||v===x},f=function(q,r){for(var t=Math.min(q,r),v=Math.max(q,r),w=0;w<a;w++)b[w]===v&&(b[w]=t)},c=0;c<a;c++)for(var g=d[c],h=c+1;h<a;h++){var i=d[h];e(g,i)&&f(b[c],b[h])}for(var j=[],k=0;k<a;k++){for(var l=[],m=[],c=0;c<a;c++)if(b[c]===k){var n=d[c],o=n[0],p=n[1];l.push(o),m.push(p)}l.length>0&&j.push({open:l,close:m})}return j}var TF=function(){function d(a,b){var c=GV(b);this.brackets=c.map(function(n,o){return new FV(a,o,n.open,n.close,HV(n.open,n.close,c,o),IV(n.open,n.close,c,o))}),this.forwardRegex=JV(this.brackets),this.reversedRegex=KV(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(var e=0,f=this.brackets;e<f.length;e++){for(var g=f[e],h=0,i=g.open;h<i.length;h++){var j=i[h];this.textIsBracket[j]=g,this.textIsOpenBracket[j]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,j.length)}for(var k=0,l=g.close;k<l.length;k++){var m=l[k];this.textIsBracket[m]=g,this.textIsOpenBracket[m]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,m.length)}}}return d}();function ZF(d,a,b,c){for(var e=0,f=a.length;e<f;e++){if(e===b)continue;for(var g=a[e],h=0,i=g.open;h<i.length;h++){var j=i[h];j.indexOf(d)>=0&&c.push(j)}for(var k=0,l=g.close;k<l.length;k++){var m=l[k];m.indexOf(d)>=0&&c.push(m)}}}function _F(d,a){return d.length-a.length}function Xp(d){if(d.length<=1)return d;for(var a=[],b=new Set(),c=0,e=d;c<e.length;c++){var f=e[c];if(b.has(f))continue;a.push(f),b.add(f)}return a}function HV(d,a,b,c){var e=[];e=e.concat(d),e=e.concat(a);for(var f=0,g=e.length;f<g;f++)ZF(e[f],b,c,e);return e=Xp(e),e.sort(_F),e.reverse(),Yp(e)}function IV(d,a,b,c){var e=[];e=e.concat(d),e=e.concat(a);for(var f=0,g=e.length;f<g;f++)ZF(e[f],b,c,e);return e=Xp(e),e.sort(_F),e.reverse(),Yp(e.map(Jv))}function JV(d){for(var a=[],b=0,c=d;b<c.length;b++){for(var e=c[b],f=0,g=e.open;f<g.length;f++){var h=g[f];a.push(h)}for(var i=0,j=e.close;i<j.length;i++){var k=j[i];a.push(k)}}return a=Xp(a),Yp(a)}function KV(d){for(var a=[],b=0,c=d;b<c.length;b++){for(var e=c[b],f=0,g=e.open;f<g.length;f++){var h=g[f];a.push(h)}for(var i=0,j=e.close;i<j.length;i++){var k=j[i];a.push(k)}}return a=Xp(a),Yp(a.map(Jv))}function LV(d){var a=/^[\w ]+$/.test(d);return d=Zc(d),a?"\\b"+d+"\\b":d}function Yp(d){var a="("+d.map(LV).join(")|(")+")";return So(a,!0)}var Jv=function(){function d(c){for(var e="",f=c.length-1;f>=0;f--)e+=c.charAt(f);return e}var a=null,b=null;return function c(e){return a!==e&&(a=e,b=d(a)),b}}(),Md=function(){function d(){}return d._findPrevBracketInText=function(a,b,c,e){var f=c.match(a);if(!f)return null;var g=c.length-(f.index||0),h=f[0].length,i=e+g;return new z(b,i-h+1,b,i+1)},d.findPrevBracketInRange=function(a,b,c,e,f){var g=Jv(c),h=g.substring(c.length-f,c.length-e);return this._findPrevBracketInText(a,b,h,e)},d.findNextBracketInText=function(a,b,c,e){var f=c.match(a);if(!f)return null;var g=f.index||0,h=f[0].length;if(h===0)return null;var i=e+g;return new z(b,i+1,b,i+1+h)},d.findNextBracketInRange=function(a,b,c,e,f){var g=c.substring(e,f);return this.findNextBracketInText(a,b,g,e)},d}();var QF=function(){function d(a){this._richEditBrackets=a}return d.prototype.getElectricCharacters=function(){var a=[];if(this._richEditBrackets)for(var b=0,c=this._richEditBrackets.brackets;b<c.length;b++)for(var e=c[b],f=0,g=e.close;f<g.length;f++){var h=g[f],i=h.charAt(h.length-1);a.push(i)}return a=a.filter(function(j,k,l){return l.indexOf(j)===k}),a},d.prototype.onElectricCharacter=function(a,b,c){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;var e=b.findTokenIndexAtOffset(c-1);if(oe(b.getStandardTokenType(e)))return null;var f=this._richEditBrackets.reversedRegex,g=b.getLineContent().substring(0,c-1)+a,h=Md.findPrevBracketInRange(f,1,g,0,g.length);if(!h)return null;var i=g.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),j=this._richEditBrackets.textIsOpenBracket[i];if(j)return null;var k=b.getActualLineContentBefore(h.startColumn-1);return/^\s*$/.test(k)?{matchOpenBracket:i}:null},d}();var RF=function(){function d(a){this._indentationRules=a}return d.prototype.shouldIncrease=function(a){if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(a))return!0}return!1},d.prototype.shouldDecrease=function(a){return this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(a)?!0:!1},d.prototype.shouldIndentNextLine=function(a){return this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(a)?!0:!1},d.prototype.shouldIgnore=function(a){return this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(a)?!0:!1},d.prototype.getIndentMetadata=function(a){var b=0;return this.shouldIncrease(a)&&(b+=1),this.shouldDecrease(a)&&(b+=2),this.shouldIndentNextLine(a)&&(b+=4),this.shouldIgnore(a)&&(b+=8),b},d}();var SF=function(){function d(a){var b=this;a=a||{},a.brackets=a.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],a.brackets.forEach(function(c){var e=d._createOpenBracketRegExp(c[0]),f=d._createCloseBracketRegExp(c[1]);e&&f&&b._brackets.push({open:c[0],openRegExp:e,close:c[1],closeRegExp:f})}),this._regExpRules=a.onEnterRules||[]}return d.prototype.onEnter=function(a,b,c,e){if(a>=3)for(var f=0,g=this._regExpRules.length;f<g;f++){var h=this._regExpRules[f],i=[{reg:h.beforeText,text:c},{reg:h.afterText,text:e},{reg:h.oneLineAboveText,text:b}].every(function(k){return k.reg?k.reg.test(k.text):!0});if(i)return h.action}if(a>=2){if(c.length>0&&e.length>0)for(var f=0,g=this._brackets.length;f<g;f++){var j=this._brackets[f];if(j.openRegExp.test(c)&&j.closeRegExp.test(e))return{indentAction:qb.IndentOutdent}}}if(a>=2){if(c.length>0)for(var f=0,g=this._brackets.length;f<g;f++){var j=this._brackets[f];if(j.openRegExp.test(c))return{indentAction:qb.Indent}}}return null},d._createOpenBracketRegExp=function(a){var b=Zc(a);return/\B/.test(b.charAt(0))||(b="\\b"+b),b+="\\s*$",d._safeRegExp(b)},d._createCloseBracketRegExp=function(a){var b=Zc(a);return/\B/.test(b.charAt(b.length-1))||(b=b+"\\b"),b="^\\s*"+b,d._safeRegExp(b)},d._safeRegExp=function(a){try{return new RegExp(a)}catch(b){return W(b),null}},d}();var uV=function(){function d(a,b,c){this._languageIdentifier=a,this._brackets=null,this._electricCharacter=null;var e=null;b&&(e=b._conf),this._conf=d._mergeConf(e,c),this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new SF(this._conf):null,this.comments=d._handleComments(this._conf),this.characterPair=new Up(this._conf),this.wordDefinition=this._conf.wordPattern||Dv,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new RF(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}return Object.defineProperty(d.prototype,"brackets",{get:function(){return!this._brackets&&this._conf.brackets&&(this._brackets=new TF(this._languageIdentifier,this._conf.brackets)),this._brackets},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"electricCharacter",{get:function(){return this._electricCharacter||(this._electricCharacter=new QF(this.brackets)),this._electricCharacter},enumerable:!0,configurable:!0}),d.prototype.onEnter=function(a,b,c,e){return this._onEnterSupport?this._onEnterSupport.onEnter(a,b,c,e):null},d._mergeConf=function(a,b){return{comments:a?b.comments||a.comments:b.comments,brackets:a?b.brackets||a.brackets:b.brackets,wordPattern:a?b.wordPattern||a.wordPattern:b.wordPattern,indentationRules:a?b.indentationRules||a.indentationRules:b.indentationRules,onEnterRules:a?b.onEnterRules||a.onEnterRules:b.onEnterRules,autoClosingPairs:a?b.autoClosingPairs||a.autoClosingPairs:b.autoClosingPairs,surroundingPairs:a?b.surroundingPairs||a.surroundingPairs:b.surroundingPairs,autoCloseBefore:a?b.autoCloseBefore||a.autoCloseBefore:b.autoCloseBefore,folding:a?b.folding||a.folding:b.folding,__electricCharacterSupport:a?b.__electricCharacterSupport||a.__electricCharacterSupport:b.__electricCharacterSupport}},d._handleComments=function(a){var b=a.comments;if(!b)return null;var c={};b.lineComment&&(c.lineCommentToken=b.lineComment);if(b.blockComment){var e=b.blockComment,f=e[0],g=e[1];c.blockCommentStartToken=f,c.blockCommentEndToken=g}return c},d}(),UF=function(){function d(a){this.languageIdentifier=a}return d}(),vV=function(){function d(){this._entries=new Map(),this._onDidChange=new E(),this.onDidChange=this._onDidChange.event}return d.prototype.register=function(a,b){var c=this,e=this._getRichEditSupport(a.id),f=new uV(a,e,b);return this._entries.set(a.id,f),this._onDidChange.fire(new UF(a)),va(function(){c._entries.get(a.id)===f&&(c._entries.set(a.id,e),c._onDidChange.fire(new UF(a)))})},d.prototype._getRichEditSupport=function(a){return this._entries.get(a)},d.prototype._getElectricCharacterSupport=function(a){var b=this._getRichEditSupport(a);return b?b.electricCharacter||null:null},d.prototype.getElectricCharacters=function(a){var b=this._getElectricCharacterSupport(a);return b?b.getElectricCharacters():[]},d.prototype.onElectricCharacter=function(a,b,c){var e=zm(b,c-1),f=this._getElectricCharacterSupport(e.languageId);return f?f.onElectricCharacter(a,e,c-e.firstCharOffset):null},d.prototype.getComments=function(a){var b=this._getRichEditSupport(a);return b?b.comments||null:null},d.prototype._getCharacterPairSupport=function(a){var b=this._getRichEditSupport(a);return b?b.characterPair||null:null},d.prototype.getAutoClosingPairs=function(a){var b=this._getCharacterPairSupport(a);return b?b.getAutoClosingPairs():[]},d.prototype.getAutoCloseBeforeSet=function(a){var b=this._getCharacterPairSupport(a);return b?b.getAutoCloseBeforeSet():Up.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED},d.prototype.getSurroundingPairs=function(a){var b=this._getCharacterPairSupport(a);return b?b.getSurroundingPairs():[]},d.prototype.shouldAutoClosePair=function(a,b,c){var e=zm(b,c-1);return Up.shouldAutoClosePair(a,e,c-e.firstCharOffset)},d.prototype.getWordDefinition=function(a){var b=this._getRichEditSupport(a);return b?wm(b.wordDefinition||null):wm(null)},d.prototype.getFoldingRules=function(a){var b=this._getRichEditSupport(a);return b?b.foldingRules:{}},d.prototype.getIndentRulesSupport=function(a){var b=this._getRichEditSupport(a);return b?b.indentRulesSupport||null:null},d.prototype.getPrecedingValidLine=function(a,b,c){var e=a.getLanguageIdAtPosition(b,0);if(b>1){var f=void 0,g=-1;for(f=b-1;f>=1;f--){if(a.getLanguageIdAtPosition(f,0)!==e)return g;var h=a.getLineContent(f);if(c.shouldIgnore(h)||/^\s+$/.test(h)||h===""){g=f;continue}return f}}return-1},d.prototype.getInheritIndentForLine=function(a,b,c,e){e===void 0&&(e=!0);if(a<4)return null;var f=this.getIndentRulesSupport(b.getLanguageIdentifier().id);if(!f)return null;if(c<=1)return{indentation:"",action:null};var g=this.getPrecedingValidLine(b,c,f);if(g<0)return null;if(g<1)return{indentation:"",action:null};var h=b.getLineContent(g);if(f.shouldIncrease(h)||f.shouldIndentNextLine(h))return{indentation:cb(h),action:qb.Indent,line:g};{if(f.shouldDecrease(h))return{indentation:cb(h),action:null,line:g};{if(g===1)return{indentation:cb(b.getLineContent(g)),action:null,line:g};var i=g-1,j=f.getIndentMetadata(b.getLineContent(i));if(!(j&(1|2))&&j&4){for(var k=0,l=i-1;l>0;l--){if(f.shouldIndentNextLine(b.getLineContent(l)))continue;k=l;break}return{indentation:cb(b.getLineContent(k+1)),action:null,line:k+1}}if(e)return{indentation:cb(b.getLineContent(g)),action:null,line:g};{for(var l=g;l>0;l--){var m=b.getLineContent(l);if(f.shouldIncrease(m))return{indentation:cb(m),action:qb.Indent,line:l};if(f.shouldIndentNextLine(m)){for(var k=0,n=l-1;n>0;n--){if(f.shouldIndentNextLine(b.getLineContent(l)))continue;k=n;break}return{indentation:cb(b.getLineContent(k+1)),action:null,line:k+1}}else if(f.shouldDecrease(m))return{indentation:cb(m),action:null,line:l}}return{indentation:cb(b.getLineContent(1)),action:null,line:1}}}}},d.prototype.getGoodIndentForLine=function(a,b,c,e,f){if(a<4)return null;var g=this._getRichEditSupport(c);if(!g)return null;var h=this.getIndentRulesSupport(c);if(!h)return null;var i=this.getInheritIndentForLine(a,b,e),j=b.getLineContent(e);if(i){var k=i.line;if(k!==void 0){var l=g.onEnter(a,"",b.getLineContent(k),"");if(l){var m=cb(b.getLineContent(k));return l.removeText&&(m=m.substring(0,m.length-l.removeText)),l.indentAction===qb.Indent||l.indentAction===qb.IndentOutdent?m=f.shiftIndent(m):l.indentAction===qb.Outdent&&(m=f.unshiftIndent(m)),h.shouldDecrease(j)&&(m=f.unshiftIndent(m)),l.appendText&&(m+=l.appendText),cb(m)}}return h.shouldDecrease(j)?i.action===qb.Indent?i.indentation:f.unshiftIndent(i.indentation):i.action===qb.Indent?f.shiftIndent(i.indentation):i.indentation}return null},d.prototype.getIndentForEnter=function(a,b,c,e){if(a<4)return null;b.forceTokenization(c.startLineNumber);var f=b.getLineTokens(c.startLineNumber),g=zm(f,c.startColumn-1),h=g.getLineContent(),i=!1,j;g.firstCharOffset>0&&f.getLanguageId(0)!==g.languageId?(i=!0,j=h.substr(0,c.startColumn-1-g.firstCharOffset)):j=f.getLineContent().substring(0,c.startColumn-1);var k;if(c.isEmpty())k=h.substr(c.startColumn-1-g.firstCharOffset);else{var l=this.getScopedLineTokens(b,c.endLineNumber,c.endColumn);k=l.getLineContent().substr(c.endColumn-1-g.firstCharOffset)}var m=this.getIndentRulesSupport(g.languageId);if(!m)return null;var n=j,o=cb(j),p={getLineTokens:function(w){return b.getLineTokens(w)},getLanguageIdentifier:function(){return b.getLanguageIdentifier()},getLanguageIdAtPosition:function(w,x){return b.getLanguageIdAtPosition(w,x)},getLineContent:function(w){return w===c.startLineNumber?n:b.getLineContent(w)}},q=cb(f.getLineContent()),r=this.getInheritIndentForLine(a,p,c.startLineNumber+1);if(!r){var t=i?q:o;return{beforeEnter:t,afterEnter:t}}var v=i?q:r.indentation;return r.action===qb.Indent&&(v=e.shiftIndent(v)),m.shouldDecrease(k)&&(v=e.unshiftIndent(v)),{beforeEnter:i?q:o,afterEnter:v}},d.prototype.getIndentActionForType=function(a,b,c,e,f){if(a<4)return null;var g=this.getScopedLineTokens(b,c.startLineNumber,c.startColumn),h=this.getIndentRulesSupport(g.languageId);if(!h)return null;var i=g.getLineContent(),j=i.substr(0,c.startColumn-1-g.firstCharOffset),k;if(c.isEmpty())k=i.substr(c.startColumn-1-g.firstCharOffset);else{var l=this.getScopedLineTokens(b,c.endLineNumber,c.endColumn);k=l.getLineContent().substr(c.endColumn-1-g.firstCharOffset)}if(!h.shouldDecrease(j+k)&&h.shouldDecrease(j+e+k)){var m=this.getInheritIndentForLine(a,b,c.startLineNumber,!1);if(!m)return null;var n=m.indentation;return m.action!==qb.Indent&&(n=f.unshiftIndent(n)),n}return null},d.prototype.getIndentMetadata=function(a,b){var c=this.getIndentRulesSupport(a.getLanguageIdentifier().id);return c?b<1||b>a.getLineCount()?null:c.getIndentMetadata(a.getLineContent(b)):null},d.prototype.getEnterAction=function(a,b,c){var e=this.getScopedLineTokens(b,c.startLineNumber,c.startColumn),f=this._getRichEditSupport(e.languageId);if(!f)return null;var g=e.getLineContent(),h=g.substr(0,c.startColumn-1-e.firstCharOffset),i;if(c.isEmpty())i=g.substr(c.startColumn-1-e.firstCharOffset);else{var j=this.getScopedLineTokens(b,c.endLineNumber,c.endColumn);i=j.getLineContent().substr(c.endColumn-1-e.firstCharOffset)}var k="";if(c.startLineNumber>1&&e.firstCharOffset===0){var l=this.getScopedLineTokens(b,c.startLineNumber-1);l.languageId===e.languageId&&(k=l.getLineContent())}var m=f.onEnter(a,k,h,i);if(!m)return null;var n=m.indentAction,o=m.appendText,p=m.removeText||0;o||(n===qb.Indent||n===qb.IndentOutdent?o="	":o="");var q=this.getIndentationAtPosition(b,c.startLineNumber,c.startColumn);return p&&(q=q.substring(0,q.length-p)),{indentAction:n,appendText:o,removeText:p,indentation:q}},d.prototype.getIndentationAtPosition=function(a,b,c){var e=a.getLineContent(b),f=cb(e);return f.length>c-1&&(f=f.substring(0,c-1)),f},d.prototype.getScopedLineTokens=function(a,b,c){a.forceTokenization(b);var e=a.getLineTokens(b),f=typeof c==="undefined"?a.getLineMaxColumn(b)-1:c-1;return zm(e,f)},d.prototype.getBracketsSupport=function(a){var b=this._getRichEditSupport(a);return b?b.brackets||null:null},d}(),sa=new vV();var Wf=function(){function d(a,b,c,e){this.originalStart=a,this.originalLength=b,this.modifiedStart=c,this.modifiedLength=e}return d.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},d.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},d}();function rj(d,a){a===void 0&&(a=0);switch(typeof d){case"object":return d===null?Yf(349,a):Array.isArray(d)?tQ(d,a):uQ(d,a);case"string":return xo(d,a);case"boolean":return sQ(d,a);case"number":return Yf(d,a);case"undefined":return Yf(0,937);default:return Yf(0,617)}}function Yf(d,a){return(a<<5)-a+d|0}function sQ(d,a){return Yf(d?433:863,a)}function xo(d,a){a=Yf(149417,a);for(var b=0,c=d.length;b<c;b++)a=Yf(d.charCodeAt(b),a);return a}function tQ(d,a){return a=Yf(104579,a),d.reduce(function(b,c){return rj(c,b)},a)}function uQ(d,a){return a=Yf(181387,a),Object.keys(d).sort().reduce(function(b,c){return b=xo(c,b),rj(d[c],b)},a)}var dA=function(){function d(a){this.source=a}return d.prototype.getElements=function(){for(var a=this.source,b=new Int32Array(a.length),c=0,e=a.length;c<e;c++)b[c]=a.charCodeAt(c);return b},d}();function eA(d,a,b){return new xl(new dA(d),new dA(a)).ComputeDiff(b).changes}var pj=function(){function d(){}return d.Assert=function(a,b){if(!a)throw new Error(b)},d}(),qj=function(){function d(){}return d.Copy=function(a,b,c,e,f){for(var g=0;g<f;g++)c[e+g]=a[b+g]},d.Copy2=function(a,b,c,e,f){for(var g=0;g<f;g++)c[e+g]=a[b+g]},d}(),fA=function(){function d(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}return d.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Wf(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824},d.prototype.AddOriginalElement=function(a,b){this.m_originalStart=Math.min(this.m_originalStart,a),this.m_modifiedStart=Math.min(this.m_modifiedStart,b),this.m_originalCount++},d.prototype.AddModifiedElement=function(a,b){this.m_originalStart=Math.min(this.m_originalStart,a),this.m_modifiedStart=Math.min(this.m_modifiedStart,b),this.m_modifiedCount++},d.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},d.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},d}(),xl=function(){function d(a,b,c){c===void 0&&(c=null),this.ContinueProcessingPredicate=c;var e=d._getElements(a),f=e[0],g=e[1],h=e[2],i=d._getElements(b),j=i[0],k=i[1],l=i[2];this._hasStrings=h&&l,this._originalStringElements=f,this._originalElementsOrHash=g,this._modifiedStringElements=j,this._modifiedElementsOrHash=k,this.m_forwardHistory=[],this.m_reverseHistory=[]}return d._isStringArray=function(a){return a.length>0&&typeof a[0]==="string"},d._getElements=function(a){var b=a.getElements();if(d._isStringArray(b)){for(var c=new Int32Array(b.length),e=0,f=b.length;e<f;e++)c[e]=xo(b[e],0);return[b,c,!0]}return b instanceof Int32Array?[[],b,!1]:[[],new Int32Array(b),!1]},d.prototype.ElementsAreEqual=function(a,b){return this._originalElementsOrHash[a]!==this._modifiedElementsOrHash[b]?!1:this._hasStrings?this._originalStringElements[a]===this._modifiedStringElements[b]:!0},d.prototype.OriginalElementsAreEqual=function(a,b){return this._originalElementsOrHash[a]!==this._originalElementsOrHash[b]?!1:this._hasStrings?this._originalStringElements[a]===this._originalStringElements[b]:!0},d.prototype.ModifiedElementsAreEqual=function(a,b){return this._modifiedElementsOrHash[a]!==this._modifiedElementsOrHash[b]?!1:this._hasStrings?this._modifiedStringElements[a]===this._modifiedStringElements[b]:!0},d.prototype.ComputeDiff=function(a){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,a)},d.prototype._ComputeDiff=function(a,b,c,e,f){var g=[!1],h=this.ComputeDiffRecursive(a,b,c,e,g);return f&&(h=this.PrettifyChanges(h)),{quitEarly:g[0],changes:h}},d.prototype.ComputeDiffRecursive=function(a,b,c,e,f){for(f[0]=!1;a<=b&&c<=e&&this.ElementsAreEqual(a,c);)a++,c++;for(;b>=a&&e>=c&&this.ElementsAreEqual(b,e);)b--,e--;if(a>b||c>e){var g=void 0;return c<=e?(pj.Assert(a===b+1,"originalStart should only be one more than originalEnd"),g=[new Wf(a,0,c,e-c+1)]):a<=b?(pj.Assert(c===e+1,"modifiedStart should only be one more than modifiedEnd"),g=[new Wf(a,b-a+1,c,0)]):(pj.Assert(a===b+1,"originalStart should only be one more than originalEnd"),pj.Assert(c===e+1,"modifiedStart should only be one more than modifiedEnd"),g=[]),g}var h=[0],i=[0],j=this.ComputeRecursionPoint(a,b,c,e,h,i,f),k=h[0],l=i[0];if(j!==null)return j;if(!f[0]){var m=this.ComputeDiffRecursive(a,k,c,l,f),n=[];return f[0]?n=[new Wf(k+1,b-(k+1)+1,l+1,e-(l+1)+1)]:n=this.ComputeDiffRecursive(k+1,b,l+1,e,f),this.ConcatenateChanges(m,n)}return[new Wf(a,b-a+1,c,e-c+1)]},d.prototype.WALKTRACE=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t){var v=null,w=null,x=new fA(),u=b,y=c,A=n[0]-q[0]-e,F=-1073741824,B=this.m_forwardHistory.length-1;do{var D=A+a;D===u||D<y&&j[D-1]<j[D+1]?(l=j[D+1],o=l-A-e,l<F&&x.MarkNextChange(),F=l,x.AddModifiedElement(l+1,o),A=D+1-a):(l=j[D-1]+1,o=l-A-e,l<F&&x.MarkNextChange(),F=l-1,x.AddOriginalElement(l,o+1),A=D-1-a),B>=0&&(j=this.m_forwardHistory[B],a=j[0],u=1,y=j.length-1)}while(--B>=-1);v=x.getReverseChanges();if(t[0]){var H=n[0]+1,J=q[0]+1;if(v!==null&&v.length>0){var L=v[v.length-1];H=Math.max(H,L.getOriginalEnd()),J=Math.max(J,L.getModifiedEnd())}w=[new Wf(H,m-H+1,J,p-J+1)]}else{x=new fA(),u=g,y=h,A=n[0]-q[0]-i,F=1073741824,B=r?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{var D=A+f;D===u||D<y&&k[D-1]>=k[D+1]?(l=k[D+1]-1,o=l-A-i,l>F&&x.MarkNextChange(),F=l+1,x.AddOriginalElement(l+1,o+1),A=D+1-f):(l=k[D-1],o=l-A-i,l>F&&x.MarkNextChange(),F=l,x.AddModifiedElement(l+1,o+1),A=D-1-f),B>=0&&(k=this.m_reverseHistory[B],f=k[0],u=1,y=k.length-1)}while(--B>=-1);w=x.getChanges()}return this.ConcatenateChanges(v,w)},d.prototype.ComputeRecursionPoint=function(a,b,c,e,f,g,h){var i=0,j=0,k=0,l=0,m=0,n=0;a--,c--,f[0]=0,g[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var o=b-a+(e-c),p=o+1,q=new Int32Array(p),r=new Int32Array(p),t=e-c,v=b-a,w=a-c,x=b-e,u=v-t,y=u%2===0;q[t]=a,r[v]=b,h[0]=!1;for(var A=1;A<=o/2+1;A++){var F=0,B=0;k=this.ClipDiagonalBound(t-A,A,t,p),l=this.ClipDiagonalBound(t+A,A,t,p);for(var D=k;D<=l;D+=2){D===k||D<l&&q[D-1]<q[D+1]?i=q[D+1]:i=q[D-1]+1,j=i-(D-t)-w;for(var H=i;i<b&&j<e&&this.ElementsAreEqual(i+1,j+1);)i++,j++;q[D]=i,i+j>F+B&&(F=i,B=j);if(!y&&Math.abs(D-v)<=A-1){if(i>=r[D])return f[0]=i,g[0]=j,H<=r[D]&&1447>0&&A<=1447+1?this.WALKTRACE(t,k,l,w,v,m,n,x,q,r,i,b,f,j,e,g,y,h):null}}var J=(F-a+(B-c)-A)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(F,J))return h[0]=!0,f[0]=F,g[0]=B,J>0&&1447>0&&A<=1447+1?this.WALKTRACE(t,k,l,w,v,m,n,x,q,r,i,b,f,j,e,g,y,h):(a++,c++,[new Wf(a,b-a+1,c,e-c+1)]);m=this.ClipDiagonalBound(v-A,A,v,p),n=this.ClipDiagonalBound(v+A,A,v,p);for(var D=m;D<=n;D+=2){D===m||D<n&&r[D-1]>=r[D+1]?i=r[D+1]-1:i=r[D-1],j=i-(D-v)-x;for(var H=i;i>a&&j>c&&this.ElementsAreEqual(i,j);)i--,j--;r[D]=i;if(y&&Math.abs(D-t)<=A){if(i<=q[D])return f[0]=i,g[0]=j,H>=q[D]&&1447>0&&A<=1447+1?this.WALKTRACE(t,k,l,w,v,m,n,x,q,r,i,b,f,j,e,g,y,h):null}}if(A<=1447){var L=new Int32Array(l-k+2);L[0]=t-k+1,qj.Copy2(q,k,L,1,l-k+1),this.m_forwardHistory.push(L),L=new Int32Array(n-m+2),L[0]=v-m+1,qj.Copy2(r,m,L,1,n-m+1),this.m_reverseHistory.push(L)}}return this.WALKTRACE(t,k,l,w,v,m,n,x,q,r,i,b,f,j,e,g,y,h)},d.prototype.PrettifyChanges=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],e=b<a.length-1?a[b+1].originalStart:this._originalElementsOrHash.length,f=b<a.length-1?a[b+1].modifiedStart:this._modifiedElementsOrHash.length,g=c.originalLength>0,h=c.modifiedLength>0;c.originalStart+c.originalLength<e&&c.modifiedStart+c.modifiedLength<f&&(!g||this.OriginalElementsAreEqual(c.originalStart,c.originalStart+c.originalLength))&&(!h||this.ModifiedElementsAreEqual(c.modifiedStart,c.modifiedStart+c.modifiedLength));)c.originalStart++,c.modifiedStart++;var i=[null];if(b<a.length-1&&this.ChangesOverlap(a[b],a[b+1],i)){a[b]=i[0],a.splice(b+1,1),b--;continue}}for(var b=a.length-1;b>=0;b--){var c=a[b],e=0,f=0;if(b>0){var j=a[b-1];j.originalLength>0&&(e=j.originalStart+j.originalLength),j.modifiedLength>0&&(f=j.modifiedStart+j.modifiedLength)}for(var g=c.originalLength>0,h=c.modifiedLength>0,k=0,l=this._boundaryScore(c.originalStart,c.originalLength,c.modifiedStart,c.modifiedLength),m=1;;m++){var n=c.originalStart-m,o=c.modifiedStart-m;if(n<e||o<f)break;if(g&&!this.OriginalElementsAreEqual(n,n+c.originalLength))break;if(h&&!this.ModifiedElementsAreEqual(o,o+c.modifiedLength))break;var p=this._boundaryScore(n,c.originalLength,o,c.modifiedLength);p>l&&(l=p,k=m)}c.originalStart-=k,c.modifiedStart-=k}return a},d.prototype._OriginalIsBoundary=function(a){return a<=0||a>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[a])},d.prototype._OriginalRegionIsBoundary=function(a,b){if(this._OriginalIsBoundary(a)||this._OriginalIsBoundary(a-1))return!0;if(b>0){var c=a+b;if(this._OriginalIsBoundary(c-1)||this._OriginalIsBoundary(c))return!0}return!1},d.prototype._ModifiedIsBoundary=function(a){return a<=0||a>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[a])},d.prototype._ModifiedRegionIsBoundary=function(a,b){if(this._ModifiedIsBoundary(a)||this._ModifiedIsBoundary(a-1))return!0;if(b>0){var c=a+b;if(this._ModifiedIsBoundary(c-1)||this._ModifiedIsBoundary(c))return!0}return!1},d.prototype._boundaryScore=function(a,b,c,e){var f=this._OriginalRegionIsBoundary(a,b)?1:0,g=this._ModifiedRegionIsBoundary(c,e)?1:0;return f+g},d.prototype.ConcatenateChanges=function(a,b){var c=[];if(a.length===0||b.length===0)return b.length>0?b:a;if(this.ChangesOverlap(a[a.length-1],b[0],c)){var e=new Array(a.length+b.length-1);return qj.Copy(a,0,e,0,a.length-1),e[a.length-1]=c[0],qj.Copy(b,1,e,a.length,b.length-1),e}else{var e=new Array(a.length+b.length);return qj.Copy(a,0,e,0,a.length),qj.Copy(b,0,e,a.length,b.length),e}},d.prototype.ChangesOverlap=function(a,b,c){pj.Assert(a.originalStart<=b.originalStart,"Left change is not less than or equal to right change"),pj.Assert(a.modifiedStart<=b.modifiedStart,"Left change is not less than or equal to right change");if(a.originalStart+a.originalLength>=b.originalStart||a.modifiedStart+a.modifiedLength>=b.modifiedStart){var e=a.originalStart,f=a.originalLength,g=a.modifiedStart,h=a.modifiedLength;return a.originalStart+a.originalLength>=b.originalStart&&(f=b.originalStart+b.originalLength-a.originalStart),a.modifiedStart+a.modifiedLength>=b.modifiedStart&&(h=b.modifiedStart+b.modifiedLength-a.modifiedStart),c[0]=new Wf(e,f,g,h),!0}else return c[0]=null,!1},d.prototype.ClipDiagonalBound=function(a,b,c,e){if(a>=0&&a<e)return a;var f=c,g=e-c-1,h=b%2===0;if(a<0){var i=f%2===0;return h===i?0:1}else{var j=g%2===0;return h===j?e-1:e-2}},d}();var FU=3;function _E(d,a,b,c){var e=new xl(d,a,b);return e.ComputeDiff(c)}var $E=function(){function d(a){for(var b=[],c=[],e=0,f=a.length;e<f;e++)b[e]=pv(a[e],1),c[e]=qv(a[e],1);this.lines=a,this._startColumns=b,this._endColumns=c}return d.prototype.getElements=function(){for(var a=[],b=0,c=this.lines.length;b<c;b++)a[b]=this.lines[b].substring(this._startColumns[b]-1,this._endColumns[b]-1);return a},d.prototype.getStartLineNumber=function(a){return a+1},d.prototype.getEndLineNumber=function(a){return a+1},d.prototype.createCharSequence=function(a,b,c){for(var e=[],f=[],g=[],h=0,i=b;i<=c;i++)for(var j=this.lines[i],k=a?this._startColumns[i]:1,l=a?this._endColumns[i]:j.length+1,m=k;m<l;m++)e[h]=j.charCodeAt(m-1),f[h]=i+1,g[h]=m,h++;return new GU(e,f,g)},d}(),GU=function(){function d(a,b,c){this._charCodes=a,this._lineNumbers=b,this._columns=c}return d.prototype.getElements=function(){return this._charCodes},d.prototype.getStartLineNumber=function(a){return this._lineNumbers[a]},d.prototype.getStartColumn=function(a){return this._columns[a]},d.prototype.getEndLineNumber=function(a){return this._lineNumbers[a]},d.prototype.getEndColumn=function(a){return this._columns[a]+1},d}(),nv=function(){function d(a,b,c,e,f,g,h,i){this.originalStartLineNumber=a,this.originalStartColumn=b,this.originalEndLineNumber=c,this.originalEndColumn=e,this.modifiedStartLineNumber=f,this.modifiedStartColumn=g,this.modifiedEndLineNumber=h,this.modifiedEndColumn=i}return d.createFromDiffChange=function(a,b,c){var e,f,g,h,i,j,k,l;return a.originalLength===0?(e=0,f=0,g=0,h=0):(e=b.getStartLineNumber(a.originalStart),f=b.getStartColumn(a.originalStart),g=b.getEndLineNumber(a.originalStart+a.originalLength-1),h=b.getEndColumn(a.originalStart+a.originalLength-1)),a.modifiedLength===0?(i=0,j=0,k=0,l=0):(i=c.getStartLineNumber(a.modifiedStart),j=c.getStartColumn(a.modifiedStart),k=c.getEndLineNumber(a.modifiedStart+a.modifiedLength-1),l=c.getEndColumn(a.modifiedStart+a.modifiedLength-1)),new d(e,f,g,h,i,j,k,l)},d}();function HU(d){if(d.length<=1)return d;for(var a=[d[0]],b=a[0],c=1,e=d.length;c<e;c++){var f=d[c],g=f.originalStart-(b.originalStart+b.originalLength),h=f.modifiedStart-(b.modifiedStart+b.modifiedLength),i=Math.min(g,h);i<FU?(b.originalLength=f.originalStart+f.originalLength-b.originalStart,b.modifiedLength=f.modifiedStart+f.modifiedLength-b.modifiedStart):(a.push(f),b=f)}return a}var ov=function(){function d(a,b,c,e,f){this.originalStartLineNumber=a,this.originalEndLineNumber=b,this.modifiedStartLineNumber=c,this.modifiedEndLineNumber=e,this.charChanges=f}return d.createFromDiffResult=function(a,b,c,e,f,g,h){var i,j,k,l,m=void 0;b.originalLength===0?(i=c.getStartLineNumber(b.originalStart)-1,j=0):(i=c.getStartLineNumber(b.originalStart),j=c.getEndLineNumber(b.originalStart+b.originalLength-1)),b.modifiedLength===0?(k=e.getStartLineNumber(b.modifiedStart)-1,l=0):(k=e.getStartLineNumber(b.modifiedStart),l=e.getEndLineNumber(b.modifiedStart+b.modifiedLength-1));if(g&&b.originalLength>0&&b.originalLength<20&&b.modifiedLength>0&&b.modifiedLength<20&&f()){var n=c.createCharSequence(a,b.originalStart,b.originalStart+b.originalLength-1),o=e.createCharSequence(a,b.modifiedStart,b.modifiedStart+b.modifiedLength-1),p=_E(n,o,f,!0).changes;h&&(p=HU(p)),m=[];for(var q=0,r=p.length;q<r;q++)m.push(nv.createFromDiffChange(p[q],n,o))}return new d(i,j,k,l,m)},d}(),aF=function(){function d(a,b,c){this.shouldComputeCharChanges=c.shouldComputeCharChanges,this.shouldPostProcessCharChanges=c.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=c.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=c.shouldMakePrettyDiff,this.originalLines=a,this.modifiedLines=b,this.original=new $E(a),this.modified=new $E(b),this.continueLineDiff=bF(c.maxComputationTime),this.continueCharDiff=bF(c.maxComputationTime===0?0:Math.min(c.maxComputationTime,5e3))}return d.prototype.computeDiff=function(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};var a=_E(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),b=a.changes,c=a.quitEarly;if(this.shouldIgnoreTrimWhitespace){for(var e=[],f=0,g=b.length;f<g;f++)e.push(ov.createFromDiffResult(this.shouldIgnoreTrimWhitespace,b[f],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:c,changes:e}}for(var h=[],i=0,j=0,f=-1,k=b.length;f<k;f++){for(var l=f+1<k?b[f+1]:null,m=l?l.originalStart:this.originalLines.length,n=l?l.modifiedStart:this.modifiedLines.length;i<m&&j<n;){var o=this.originalLines[i],p=this.modifiedLines[j];if(o!==p){{for(var q=pv(o,1),r=pv(p,1);q>1&&r>1;){var t=o.charCodeAt(q-2),v=p.charCodeAt(r-2);if(t!==v)break;q--,r--}(q>1||r>1)&&this._pushTrimWhitespaceCharChange(h,i+1,1,q,j+1,1,r)}{for(var w=qv(o,1),x=qv(p,1),u=o.length+1,y=p.length+1;w<u&&x<y;){var t=o.charCodeAt(w-1),v=o.charCodeAt(x-1);if(t!==v)break;w++,x++}(w<u||x<y)&&this._pushTrimWhitespaceCharChange(h,i+1,w,u,j+1,x,y)}}i++,j++}l&&(h.push(ov.createFromDiffResult(this.shouldIgnoreTrimWhitespace,l,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),i+=l.originalLength,j+=l.modifiedLength)}return{quitEarly:c,changes:h}},d.prototype._pushTrimWhitespaceCharChange=function(a,b,c,e,f,g,h){if(this._mergeTrimWhitespaceCharChange(a,b,c,e,f,g,h))return;var i=void 0;this.shouldComputeCharChanges&&(i=[new nv(b,c,b,e,f,g,f,h)]),a.push(new ov(b,b,f,f,i))},d.prototype._mergeTrimWhitespaceCharChange=function(a,b,c,e,f,g,h){var i=a.length;if(i===0)return!1;var j=a[i-1];return j.originalEndLineNumber===0||j.modifiedEndLineNumber===0?!1:j.originalEndLineNumber+1===b&&j.modifiedEndLineNumber+1===f?(j.originalEndLineNumber=b,j.modifiedEndLineNumber=f,this.shouldComputeCharChanges&&j.charChanges&&j.charChanges.push(new nv(b,c,b,e,f,g,f,h)),!0):!1},d}();function pv(d,a){var b=Jb(d);return b===-1?a:b+1}function qv(d,a){var b=_c(d);return b===-1?a:b+2}function bF(d){if(d===0)return function(){return!0};var a=Date.now();return function(){return Date.now()-a<d}}function ru(d){return d<0?0:d>255?255:d|0}function _h(d){return d<0?0:d>4294967295?4294967295:d|0}var Wv=function(){function d(a,b){this.index=a,this.remainder=b}return d}(),mF=function(){function d(a){this.values=a,this.prefixSum=new Uint32Array(a.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return d.prototype.insertValues=function(a,b){a=_h(a);var c=this.values,e=this.prefixSum,f=b.length;return f===0?!1:(this.values=new Uint32Array(c.length+f),this.values.set(c.subarray(0,a),0),this.values.set(c.subarray(a),a+f),this.values.set(b,a),a-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=a-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(e.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},d.prototype.changeValue=function(a,b){return a=_h(a),b=_h(b),this.values[a]===b?!1:(this.values[a]=b,a-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=a-1),!0)},d.prototype.removeValues=function(a,b){a=_h(a),b=_h(b);var c=this.values,e=this.prefixSum;if(a>=c.length)return!1;var f=c.length-a;return b>=f&&(b=f),b===0?!1:(this.values=new Uint32Array(c.length-b),this.values.set(c.subarray(0,a),0),this.values.set(c.subarray(a+b),a),this.prefixSum=new Uint32Array(this.values.length),a-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=a-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(e.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},d.prototype.getTotalValue=function(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)},d.prototype.getAccumulatedValue=function(a){return a<0?0:(a=_h(a),this._getAccumulatedValue(a))},d.prototype._getAccumulatedValue=function(a){if(a<=this.prefixSumValidIndex[0])return this.prefixSum[a];var b=this.prefixSumValidIndex[0]+1;b===0&&(this.prefixSum[0]=this.values[0],b++),a>=this.values.length&&(a=this.values.length-1);for(var c=b;c<=a;c++)this.prefixSum[c]=this.prefixSum[c-1]+this.values[c];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],a),this.prefixSum[a]},d.prototype.getIndexOf=function(a){a=Math.floor(a),this.getTotalValue();for(var b=0,c=this.values.length-1,e=0,f=0,g=0;b<=c;){e=b+(c-b)/2|0,f=this.prefixSum[e],g=f-this.values[e];if(a<g)c=e-1;else if(a>=f)b=e+1;else break}return new Wv(e,a-g)},d}();var nF=function(){function d(a,b,c,e){this._uri=a,this._lines=b,this._eol=c,this._versionId=e,this._lineStarts=null}return d.prototype.dispose=function(){this._lines.length=0},d.prototype.getText=function(){return this._lines.join(this._eol)},d.prototype.onEvents=function(a){a.eol&&a.eol!==this._eol&&(this._eol=a.eol,this._lineStarts=null);for(var b=a.changes,c=0,e=b;c<e.length;c++){var f=e[c];this._acceptDeleteRange(f.range),this._acceptInsertText(new G(f.range.startLineNumber,f.range.startColumn),f.text)}this._versionId=a.versionId},d.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var a=this._eol.length,b=this._lines.length,c=new Uint32Array(b),e=0;e<b;e++)c[e]=this._lines[e].length+a;this._lineStarts=new mF(c)}},d.prototype._setLineText=function(a,b){this._lines[a]=b,this._lineStarts&&this._lineStarts.changeValue(a,this._lines[a].length+this._eol.length)},d.prototype._acceptDeleteRange=function(a){if(a.startLineNumber===a.endLineNumber){if(a.startColumn===a.endColumn)return;this._setLineText(a.startLineNumber-1,this._lines[a.startLineNumber-1].substring(0,a.startColumn-1)+this._lines[a.startLineNumber-1].substring(a.endColumn-1));return}this._setLineText(a.startLineNumber-1,this._lines[a.startLineNumber-1].substring(0,a.startColumn-1)+this._lines[a.endLineNumber-1].substring(a.endColumn-1)),this._lines.splice(a.startLineNumber,a.endLineNumber-a.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(a.startLineNumber,a.endLineNumber-a.startLineNumber)},d.prototype._acceptInsertText=function(a,b){if(b.length===0)return;var c=b.split(/\r\n|\r|\n/);if(c.length===1){this._setLineText(a.lineNumber-1,this._lines[a.lineNumber-1].substring(0,a.column-1)+c[0]+this._lines[a.lineNumber-1].substring(a.column-1));return}c[c.length-1]+=this._lines[a.lineNumber-1].substring(a.column-1),this._setLineText(a.lineNumber-1,this._lines[a.lineNumber-1].substring(0,a.column-1)+c[0]);for(var e=new Uint32Array(c.length-1),f=1;f<c.length;f++)this._lines.splice(a.lineNumber+f-1,0,c[f]),e[f-1]=c[f].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(a.lineNumber,e)},d}();var ri=function(){function d(a){var b=ru(a);this._defaultValue=b,this._asciiMap=d._createAsciiMap(b),this._map=new Map()}return d._createAsciiMap=function(a){for(var b=new Uint8Array(256),c=0;c<256;c++)b[c]=a;return b},d.prototype.set=function(a,b){var c=ru(b);a>=0&&a<256?this._asciiMap[a]=c:this._map.set(a,c)},d.prototype.get=function(a){return a>=0&&a<256?this._asciiMap[a]:this._map.get(a)||this._defaultValue},d}(),ig=function(){function d(){this._actual=new ri(0)}return d.prototype.add=function(a){this._actual.set(a,1)},d.prototype.has=function(a){return this._actual.get(a)===1},d}();var wV=function(){function d(a,b,c){for(var e=new Uint8Array(a*b),f=0,g=a*b;f<g;f++)e[f]=c;this._data=e,this.rows=a,this.cols=b}return d.prototype.get=function(a,b){return this._data[a*this.cols+b]},d.prototype.set=function(a,b,c){this._data[a*this.cols+b]=c},d}(),xV=function(){function d(a){for(var b=0,c=0,e=0,f=a.length;e<f;e++){var g=a[e],h=g[0],i=g[1],j=g[2];i>b&&(b=i),h>c&&(c=h),j>c&&(c=j)}b++,c++;for(var k=new wV(c,b,0),e=0,f=a.length;e<f;e++){var l=a[e],h=l[0],i=l[1],j=l[2];k.set(h,i,j)}this._states=k,this._maxCharCode=b}return d.prototype.nextState=function(a,b){return b<0||b>=this._maxCharCode?0:this._states.get(a,b)},d}(),Hv=null;function yV(){return Hv===null&&(Hv=new xV([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Hv}var Am=null;function zV(){if(Am===null){Am=new ri(0);for(var d=` 	<>'"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…`,a=0;a<d.length;a++)Am.set(d.charCodeAt(a),1);for(var b=".,;",a=0;a<b.length;a++)Am.set(b.charCodeAt(a),2)}return Am}var AV=function(){function d(){}return d._createLink=function(a,b,c,e,f){var g=f-1;do{var h=b.charCodeAt(g),i=a.get(h);if(i!==2)break;g--}while(g>e);if(e>0){var j=b.charCodeAt(e-1),k=b.charCodeAt(g);(j===40&&k===41||j===91&&k===93||j===123&&k===125)&&g--}return{range:{startLineNumber:c,startColumn:e+1,endLineNumber:c,endColumn:g+2},url:b.substring(e,g+1)}},d.computeLinks=function(a,b){b===void 0&&(b=yV());for(var c=zV(),e=[],f=1,g=a.getLineCount();f<=g;f++){for(var h=a.getLineContent(f),i=h.length,j=0,k=0,l=0,m=1,n=!1,o=!1,p=!1;j<i;){var q=!1,r=h.charCodeAt(j);if(m===13){var t=void 0;switch(r){case 40:n=!0,t=0;break;case 41:t=n?0:1;break;case 91:o=!0,t=0;break;case 93:t=o?0:1;break;case 123:p=!0,t=0;break;case 125:t=p?0:1;break;case 39:t=l===34||l===96?0:1;break;case 34:t=l===39||l===96?0:1;break;case 96:t=l===39||l===34?0:1;break;case 42:t=l===42?1:0;break;case 124:t=l===124?1:0;break;default:t=c.get(r)}t===1&&(e.push(d._createLink(c,h,f,k,j)),q=!0)}else if(m===12){var t=void 0;r===91?(o=!0,t=0):t=c.get(r),t===1?q=!0:m=13}else m=b.nextState(m,r),m===0&&(q=!0);q&&(m=1,n=!1,o=!1,p=!1,k=j+1,l=r),j++}m===13&&e.push(d._createLink(c,h,f,k,i))}return e},d}();function XF(d){return!d||typeof d.getLineCount!=="function"||typeof d.getLineContent!=="function"?[]:AV.computeLinks(d)}var YF=function(){function d(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return d.prototype.navigateValueSet=function(a,b,c,e,f){if(a&&b){var g=this.doNavigateValueSet(b,f);if(g)return{range:a,value:g}}if(c&&e){var g=this.doNavigateValueSet(e,f);if(g)return{range:c,value:g}}return null},d.prototype.doNavigateValueSet=function(a,b){var c=this.numberReplace(a,b);return c!==null?c:this.textReplace(a,b)},d.prototype.numberReplace=function(a,b){var c=Math.pow(10,a.length-(a.lastIndexOf(".")+1)),e=Number(a),f=parseFloat(a);return!isNaN(e)&&!isNaN(f)&&e===f?e===0&&!b?null:(e=Math.floor(e*c),e+=b?c:-c,String(e/c)):null},d.prototype.textReplace=function(a,b){return this.valueSetsReplace(this._defaultValueSet,a,b)},d.prototype.valueSetsReplace=function(a,b,c){for(var e=null,f=0,g=a.length;e===null&&f<g;f++)e=this.valueSetReplace(a[f],b,c);return e},d.prototype.valueSetReplace=function(a,b,c){var e=a.indexOf(b);return e>=0?(e+=c?1:-1,e<0?e=a.length-1:e%=a.length,a[e]):null},d.INSTANCE=new d(),d}();var XV=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),ik=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},jk=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},YV=function(d){XV(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),a.prototype.getValue=function(){return this.getText()},a.prototype.getLinesContent=function(){return this._lines.slice(0)},a.prototype.getLineCount=function(){return this._lines.length},a.prototype.getLineContent=function(b){return this._lines[b-1]},a.prototype.getWordAtPosition=function(b,c){var e=tm(b.column,wm(c),this._lines[b.lineNumber-1],0);return e?new z(b.lineNumber,e.startColumn,b.lineNumber,e.endColumn):null},a.prototype.createWordIterator=function(b){var c=this,e,f=0,g,h=0,i=[],j=function(){if(h<i.length){var k=g.substring(i[h].start,i[h].end);return h+=1,e?e.value=k:e={done:!1,value:k},e}else return f>=c._lines.length?Ge:(g=c._lines[f],i=c._wordenize(g,b),h=0,f+=1,j())};return{next:j}},a.prototype.getLineWords=function(b,c){for(var e=this._lines[b-1],f=this._wordenize(e,c),g=[],h=0,i=f;h<i.length;h++){var j=i[h];g.push({word:e.substring(j.start,j.end),startColumn:j.start+1,endColumn:j.end+1})}return g},a.prototype._wordenize=function(b,c){var e=[],f;for(c.lastIndex=0;f=c.exec(b);){if(f[0].length===0)break;e.push({start:f.index,end:f.index+f[0].length})}return e},a.prototype.getValueInRange=function(b){b=this._validateRange(b);if(b.startLineNumber===b.endLineNumber)return this._lines[b.startLineNumber-1].substring(b.startColumn-1,b.endColumn-1);var c=this._eol,e=b.startLineNumber-1,f=b.endLineNumber-1,g=[];g.push(this._lines[e].substring(b.startColumn-1));for(var h=e+1;h<f;h++)g.push(this._lines[h]);return g.push(this._lines[f].substring(0,b.endColumn-1)),g.join(c)},a.prototype.offsetAt=function(b){return b=this._validatePosition(b),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(b.lineNumber-2)+(b.column-1)},a.prototype.positionAt=function(b){b=Math.floor(b),b=Math.max(0,b),this._ensureLineStarts();var c=this._lineStarts.getIndexOf(b),e=this._lines[c.index].length;return{lineNumber:1+c.index,column:1+Math.min(c.remainder,e)}},a.prototype._validateRange=function(b){var c=this._validatePosition({lineNumber:b.startLineNumber,column:b.startColumn}),e=this._validatePosition({lineNumber:b.endLineNumber,column:b.endColumn});return c.lineNumber!==b.startLineNumber||c.column!==b.startColumn||e.lineNumber!==b.endLineNumber||e.column!==b.endColumn?{startLineNumber:c.lineNumber,startColumn:c.column,endLineNumber:e.lineNumber,endColumn:e.column}:b},a.prototype._validatePosition=function(b){if(!G.isIPosition(b))throw new Error("bad position");var c=b.lineNumber,e=b.column,f=!1;if(c<1)c=1,e=1,f=!0;else if(c>this._lines.length)c=this._lines.length,e=this._lines[c-1].length+1,f=!0;else{var g=this._lines[c-1].length+1;e<1?(e=1,f=!0):e>g&&(e=g,f=!0)}return f?{lineNumber:c,column:e}:b},a}(nF),Mv=function(){function d(a,b){this._host=a,this._models=Object.create(null),this._foreignModuleFactory=b,this._foreignModule=null}return d.prototype.dispose=function(){this._models=Object.create(null)},d.prototype._getModel=function(a){return this._models[a]},d.prototype._getModels=function(){var a=this,b=[];return Object.keys(this._models).forEach(function(c){return b.push(a._models[c])}),b},d.prototype.acceptNewModel=function(a){this._models[a.url]=new YV(ja.parse(a.url),a.lines,a.EOL,a.versionId)},d.prototype.acceptModelChanged=function(a,b){if(!this._models[a])return;var c=this._models[a];c.onEvents(b)},d.prototype.acceptRemovedModel=function(a){if(!this._models[a])return;delete this._models[a]},d.prototype.computeDiff=function(a,b,c,e){return ik(this,void 0,void 0,function(){var f,g,h,i,j,k,l;return jk(this,function(m){return f=this._getModel(a),g=this._getModel(b),!f||!g?[2,null]:(h=f.getLinesContent(),i=g.getLinesContent(),j=new aF(h,i,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:c,shouldMakePrettyDiff:!0,maxComputationTime:e}),k=j.computeDiff(),l=k.changes.length>0?!1:this._modelsAreIdentical(f,g),[2,{quitEarly:k.quitEarly,identical:l,changes:k.changes}])})})},d.prototype._modelsAreIdentical=function(a,b){var c=a.getLineCount(),e=b.getLineCount();if(c!==e)return!1;for(var f=1;f<=c;f++){var g=a.getLineContent(f),h=b.getLineContent(f);if(g!==h)return!1}return!0},d.prototype.computeMoreMinimalEdits=function(a,b){return ik(this,void 0,void 0,function(){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,v,w;return jk(this,function(x){c=this._getModel(a);if(!c)return[2,b];for(e=[],f=void 0,b=Tf(b,function(u,y){if(u.range&&y.range)return z.compareRangesUsingStarts(u.range,y.range);var A=u.range?0:1,F=y.range?0:1;return A-F}),g=0,h=b;g<h.length;g++){i=h[g],j=i.range,k=i.text,l=i.eol,typeof l==="number"&&(f=l);if(z.isEmpty(j)&&!k)continue;m=c.getValueInRange(j),k=k.replace(/\r\n|\n|\r/g,c.eol);if(m===k)continue;if(Math.max(k.length,m.length)>d._diffLimit){e.push({range:j,text:k});continue}for(n=eA(m,k,!1),o=c.offsetAt(z.lift(j).getStartPosition()),p=0,q=n;p<q.length;p++)r=q[p],t=c.positionAt(o+r.originalStart),v=c.positionAt(o+r.originalStart+r.originalLength),w={text:k.substr(r.modifiedStart,r.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:v.lineNumber,endColumn:v.column}},c.getValueInRange(w.range)!==w.text&&e.push(w)}return typeof f==="number"&&e.push({eol:f,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),[2,e]})})},d.prototype.computeLinks=function(a){return ik(this,void 0,void 0,function(){var b;return jk(this,function(c){return b=this._getModel(a),b?[2,XF(b)]:[2,null]})})},d.prototype.textualSuggest=function(a,b,c,e){return ik(this,void 0,void 0,function(){var f,g,h,i,j,k,l,m;return jk(this,function(n){f=this._getModel(a);if(!f)return[2,null];for(g=[],h=new Set(),i=new RegExp(c,e),j=f.getWordAtPosition(b,i),j&&h.add(f.getValueInRange(j)),k=f.createWordIterator(i),l=k.next();!l.done&&h.size<=d._suggestionsLimit;l=k.next()){m=l.value;if(h.has(m))continue;h.add(m);if(!isNaN(Number(m)))continue;g.push(m)}return[2,g]})})},d.prototype.computeWordRanges=function(a,b,c,e){return ik(this,void 0,void 0,function(){var f,g,h,i,j,k,l,m,n;return jk(this,function(o){f=this._getModel(a);if(!f)return[2,Object.create(null)];for(g=new RegExp(c,e),h=Object.create(null),i=b.startLineNumber;i<b.endLineNumber;i++)for(j=f.getLineWords(i,g),k=0,l=j;k<l.length;k++){m=l[k];if(!isNaN(Number(m.word)))continue;n=h[m.word],n||(n=[],h[m.word]=n),n.push({startLineNumber:i,startColumn:m.startColumn,endLineNumber:i,endColumn:m.endColumn})}return[2,h]})})},d.prototype.navigateValueSet=function(a,b,c,e,f){return ik(this,void 0,void 0,function(){var g,h,i,j,k,l;return jk(this,function(m){return g=this._getModel(a),g?(h=new RegExp(e,f),b.startColumn===b.endColumn&&(b={startLineNumber:b.startLineNumber,startColumn:b.startColumn,endLineNumber:b.endLineNumber,endColumn:b.endColumn+1}),i=g.getValueInRange(b),j=g.getWordAtPosition({lineNumber:b.startLineNumber,column:b.startColumn},h),j?(k=g.getValueInRange(j),l=YF.INSTANCE.navigateValueSet(b,i,j,k,c),[2,l]):[2,null]):[2,null]})})},d.prototype.loadForeignModule=function(a,b,c){var e=this,f=function(i,j){return e._host.fhr(i,j)},g=Ll(c,f),h={host:g,getMirrorModels:function(){return e._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(h,b),Promise.resolve(_g(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))},d.prototype.fmr=function(a,b){if(!this._foreignModule||typeof this._foreignModule[a]!=="function")return Promise.reject(new Error("Missing requestHandler or method: "+a));try{return Promise.resolve(this._foreignModule[a].apply(this._foreignModule,b))}catch(c){return Promise.reject(c)}},d._diffLimit=1e5,d._suggestionsLimit=1e4,d}();typeof importScripts==="function"&&(yc.monaco=Zp());var kk=ia("textResourceConfigurationService"),cq=ia("textResourcePropertiesService");var zf=ia("logService"),Em;(function(d){d[d.Trace=0]="Trace",d[d.Debug=1]="Debug",d[d.Info=2]="Info",d[d.Warning=3]="Warning",d[d.Error=4]="Error",d[d.Critical=5]="Critical",d[d.Off=6]="Off"})(Em||(Em={}));var CL=function(){function d(){}return d.prototype.getLevel=function(){return Em.Info},d.prototype.trace=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c]},d.prototype.error=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c]},d.prototype.dispose=function(){},d}();var VQ=yc.performance&&typeof yc.performance.now==="function",wj=function(){function d(a){this._highResolution=VQ&&a,this._startTime=this._now(),this._stopTime=-1}return d.create=function(a){return a===void 0&&(a=!0),new d(a)},d.prototype.stop=function(){this._stopTime=this._now()},d.prototype.elapsed=function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime},d.prototype._now=function(){return this._highResolution?yc.performance.now():new Date().getTime()},d}();var _p=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),_V=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Nv=function(d,a){return function(b,c){a(b,c,d)}},$V=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},aW=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},cG=60*1e3,dG=5*60*1e3;function xi(d,a){var b=d.getModel(a);return b?b.isTooLargeForSyncing()?!1:!0:!1}var eG=function(d){_p(a,d);function a(b,c,e){var f=d.call(this)||this;return f._modelService=b,f._workerManager=f._register(new cW(f._modelService)),f._logService=e,f._register(ng.register("*",{provideLinks:function(g,h){return xi(f._modelService,g.uri)?f._workerManager.withWorker().then(function(i){return i.computeLinks(g.uri)}).then(function(i){return i&&{links:i}}):Promise.resolve({links:[]})}})),f._register(sd.register("*",new bW(f._workerManager,c,f._modelService))),f}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.canComputeDiff=function(b,c){return xi(this._modelService,b)&&xi(this._modelService,c)},a.prototype.computeDiff=function(b,c,e,f){return this._workerManager.withWorker().then(function(g){return g.computeDiff(b,c,e,f)})},a.prototype.computeMoreMinimalEdits=function(b,c){var e=this;if(Ib(c)){if(!xi(this._modelService,b))return Promise.resolve(c);var f=wj.create(!0),g=this._workerManager.withWorker().then(function(h){return h.computeMoreMinimalEdits(b,c)});return g.finally(function(){return e._logService.trace("FORMAT#computeMoreMinimalEdits",b.toString(!0),f.elapsed())}),g}else return Promise.resolve(void 0)},a.prototype.canNavigateValueSet=function(b){return xi(this._modelService,b)},a.prototype.navigateValueSet=function(b,c,e){return this._workerManager.withWorker().then(function(f){return f.navigateValueSet(b,c,e)})},a.prototype.canComputeWordRanges=function(b){return xi(this._modelService,b)},a.prototype.computeWordRanges=function(b,c){return this._workerManager.withWorker().then(function(e){return e.computeWordRanges(b,c)})},a=_V([Nv(0,ub),Nv(1,kk),Nv(2,zf)],a),a}(I),bW=function(){function d(a,b,c){this._debugDisplayName="wordbasedCompletions",this._workerManager=a,this._configurationService=b,this._modelService=c}return d.prototype.provideCompletionItems=function(a,b){return $V(this,void 0,void 0,function(){var c,e,f,g,h,i;return aW(this,function(j){switch(j.label){case 0:return c=this._configurationService.getValue(a.uri,b,"editor").wordBasedSuggestions,c?xi(this._modelService,a.uri)?(e=a.getWordAtPosition(b),f=e?new z(b.lineNumber,e.startColumn,b.lineNumber,e.endColumn):z.fromPositions(b),g=f.setEndPosition(b.lineNumber,b.column),[4,this._workerManager.withWorker()]):[2,void 0]:[2,void 0];case 1:return h=j.sent(),[4,h.textualSuggest(a.uri,b)];case 2:return i=j.sent(),i?[2,{suggestions:i.map(function(k){return{kind:18,label:k,insertText:k,range:{insert:g,replace:f}}})}]:[2,void 0]}})})},d}(),cW=function(d){_p(a,d);function a(b){var c=d.call(this)||this;c._modelService=b,c._editorWorkerClient=null,c._lastWorkerUsedTime=new Date().getTime();var e=c._register(new Qf());return e.cancelAndSet(function(){return c._checkStopIdleWorker()},Math.round(dG/2)),c._register(c._modelService.onModelRemoved(function(f){return c._checkStopEmptyWorker()})),c}return a.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),d.prototype.dispose.call(this)},a.prototype._checkStopEmptyWorker=function(){if(!this._editorWorkerClient)return;var b=this._modelService.getModels();b.length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},a.prototype._checkStopIdleWorker=function(){if(!this._editorWorkerClient)return;var b=new Date().getTime()-this._lastWorkerUsedTime;b>dG&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},a.prototype.withWorker=function(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Pv(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)},a}(I),dW=function(d){_p(a,d);function a(b,c,e){var f=d.call(this)||this;f._syncedModels=Object.create(null),f._syncedModelsLastUsedTime=Object.create(null),f._proxy=b,f._modelService=c;if(!e){var g=new Qf();g.cancelAndSet(function(){return f._checkStopModelSync()},Math.round(cG/2)),f._register(g)}return f}return a.prototype.dispose=function(){for(var b in this._syncedModels)ca(this._syncedModels[b]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),d.prototype.dispose.call(this)},a.prototype.ensureSyncedResources=function(b){for(var c=0,e=b;c<e.length;c++){var f=e[c],g=f.toString();this._syncedModels[g]||this._beginModelSync(f),this._syncedModels[g]&&(this._syncedModelsLastUsedTime[g]=new Date().getTime())}},a.prototype._checkStopModelSync=function(){var b=new Date().getTime(),c=[];for(var e in this._syncedModelsLastUsedTime){var f=b-this._syncedModelsLastUsedTime[e];f>cG&&c.push(e)}for(var g=0,h=c;g<h.length;g++){var i=h[g];this._stopModelSync(i)}},a.prototype._beginModelSync=function(b){var c=this,e=this._modelService.getModel(b);if(!e)return;if(e.isTooLargeForSyncing())return;var f=b.toString();this._proxy.acceptNewModel({url:e.uri.toString(),lines:e.getLinesContent(),EOL:e.getEOL(),versionId:e.getVersionId()});var g=new P();g.add(e.onDidChangeContent(function(h){c._proxy.acceptModelChanged(f.toString(),h)})),g.add(e.onWillDispose(function(){c._stopModelSync(f)})),g.add(va(function(){c._proxy.acceptRemovedModel(f)})),this._syncedModels[f]=g},a.prototype._stopModelSync=function(b){var c=this._syncedModels[b];delete this._syncedModels[b],delete this._syncedModelsLastUsedTime[b],ca(c)},a}(I),fG=function(){function d(a){this._instance=a,this._proxyObj=Promise.resolve(this._instance)}return d.prototype.dispose=function(){this._instance.dispose()},d.prototype.getProxyObject=function(){return this._proxyObj},d}(),Ov=function(){function d(a){this._workerClient=a}return d.prototype.fhr=function(a,b){return this._workerClient.fhr(a,b)},d}(),Pv=function(d){_p(a,d);function a(b,c,e){var f=d.call(this)||this;return f._modelService=b,f._keepIdleModels=c,f._workerFactory=new tC(e),f._worker=null,f._modelManager=null,f}return a.prototype.fhr=function(b,c){throw new Error("Not implemented!")},a.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new RB(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Ov(this)))}catch(b){Ml(b),this._worker=new fG(new Mv(new Ov(this),null))}return this._worker},a.prototype._getProxy=function(){var b=this;return this._getOrCreateWorker().getProxyObject().then(void 0,function(c){return Ml(c),b._worker=new fG(new Mv(new Ov(b),null)),b._getOrCreateWorker().getProxyObject()})},a.prototype._getOrCreateModelManager=function(b){return this._modelManager||(this._modelManager=this._register(new dW(b,this._modelService,this._keepIdleModels))),this._modelManager},a.prototype._withSyncedResources=function(b){var c=this;return this._getProxy().then(function(e){return c._getOrCreateModelManager(e).ensureSyncedResources(b),e})},a.prototype.computeDiff=function(b,c,e,f){return this._withSyncedResources([b,c]).then(function(g){return g.computeDiff(b.toString(),c.toString(),e,f)})},a.prototype.computeMoreMinimalEdits=function(b,c){return this._withSyncedResources([b]).then(function(e){return e.computeMoreMinimalEdits(b.toString(),c)})},a.prototype.computeLinks=function(b){return this._withSyncedResources([b]).then(function(c){return c.computeLinks(b.toString())})},a.prototype.textualSuggest=function(b,c){var e=this;return this._withSyncedResources([b]).then(function(f){var g=e._modelService.getModel(b);if(!g)return null;var h=sa.getWordDefinition(g.getLanguageIdentifier().id),i=h.source,j=To(h);return f.textualSuggest(b.toString(),c,i,j)})},a.prototype.computeWordRanges=function(b,c){var e=this;return this._withSyncedResources([b]).then(function(f){var g=e._modelService.getModel(b);if(!g)return Promise.resolve(null);var h=sa.getWordDefinition(g.getLanguageIdentifier().id),i=h.source,j=To(h);return f.computeWordRanges(b.toString(),c,i,j)})},a.prototype.navigateValueSet=function(b,c,e){var f=this;return this._withSyncedResources([b]).then(function(g){var h=f._modelService.getModel(b);if(!h)return null;var i=sa.getWordDefinition(h.getLanguageIdentifier().id),j=i.source,k=To(i);return g.navigateValueSet(b.toString(),c,e,j,k)})},a}(I);var tW=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function tG(d,a){return new uW(d,a)}var uW=function(d){tW(a,d);function a(b,c){var e=d.call(this,b,c.keepIdleModels||!1,c.label)||this;return e._foreignModuleId=c.moduleId,e._foreignModuleCreateData=c.createData||null,e._foreignModuleHost=c.host||null,e._foreignProxy=null,e}return a.prototype.fhr=function(b,c){if(!this._foreignModuleHost||typeof this._foreignModuleHost[b]!=="function")return Promise.reject(new Error("Missing method "+b+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[b].apply(this._foreignModuleHost,c))}catch(e){return Promise.reject(e)}},a.prototype._getForeignProxy=function(){var b=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then(function(c){var e=b._foreignModuleHost?_g(b._foreignModuleHost):[];return c.loadForeignModule(b._foreignModuleId,b._foreignModuleCreateData,e).then(function(f){b._foreignModuleCreateData=null;for(var g=function(m,n){return c.fmr(m,n)},h=function(m,n){return function(){var o=Array.prototype.slice.call(arguments,0);return n(m,o)}},i={},j=0,k=f;j<k.length;j++){var l=k[j];i[l]=h(l,g)}return i})})),this._foreignProxy},a.prototype.getProxy=function(){return this._getForeignProxy()},a.prototype.withSyncedResources=function(b){var c=this;return this._withSyncedResources(b).then(function(e){return c.getProxy()})},a}(Pv);var Rc=function(){function d(a,b){this._tokens=a,this._tokensCount=this._tokens.length>>>1,this._text=b}return d.prototype.equals=function(a){return a instanceof d?this.slicedEquals(a,0,this._tokensCount):!1},d.prototype.slicedEquals=function(a,b,c){if(this._text!==a._text)return!1;if(this._tokensCount!==a._tokensCount)return!1;for(var e=b<<1,f=e+(c<<1),g=e;g<f;g++)if(this._tokens[g]!==a._tokens[g])return!1;return!0},d.prototype.getLineContent=function(){return this._text},d.prototype.getCount=function(){return this._tokensCount},d.prototype.getStartOffset=function(a){return a>0?this._tokens[a-1<<1]:0},d.prototype.getMetadata=function(a){var b=this._tokens[(a<<1)+1];return b},d.prototype.getLanguageId=function(a){var b=this._tokens[(a<<1)+1];return Sc.getLanguageId(b)},d.prototype.getStandardTokenType=function(a){var b=this._tokens[(a<<1)+1];return Sc.getTokenType(b)},d.prototype.getForeground=function(a){var b=this._tokens[(a<<1)+1];return Sc.getForeground(b)},d.prototype.getClassName=function(a){var b=this._tokens[(a<<1)+1];return Sc.getClassNameFromMetadata(b)},d.prototype.getInlineStyle=function(a,b){var c=this._tokens[(a<<1)+1];return Sc.getInlineStyleFromMetadata(c,b)},d.prototype.getEndOffset=function(a){return this._tokens[a<<1]},d.prototype.findTokenIndexAtOffset=function(a){return d.findIndexInTokensArray(this._tokens,a)},d.prototype.inflate=function(){return this},d.prototype.sliceAndInflate=function(a,b,c){return new BU(this,a,b,c)},d.convertToEndOffset=function(a,b){for(var c=a.length>>>1,e=c-1,f=0;f<e;f++)a[f<<1]=a[f+1<<1];a[e<<1]=b},d.findIndexInTokensArray=function(a,b){if(a.length<=2)return 0;for(var c=0,e=(a.length>>>1)-1;c<e;){var f=c+Math.floor((e-c)/2),g=a[f<<1];if(g===b)return f+1;g<b?c=f+1:g>b&&(e=f)}return c},d}(),BU=function(){function d(a,b,c,e){this._source=a,this._startOffset=b,this._endOffset=c,this._deltaOffset=e,this._firstTokenIndex=a.findTokenIndexAtOffset(b),this._tokensCount=0;for(var f=this._firstTokenIndex,g=a.getCount();f<g;f++){var h=a.getStartOffset(f);if(h>=c)break;this._tokensCount++}}return d.prototype.equals=function(a){return a instanceof d?this._startOffset===a._startOffset&&this._endOffset===a._endOffset&&this._deltaOffset===a._deltaOffset&&this._source.slicedEquals(a._source,this._firstTokenIndex,this._tokensCount):!1},d.prototype.getCount=function(){return this._tokensCount},d.prototype.getForeground=function(a){return this._source.getForeground(this._firstTokenIndex+a)},d.prototype.getEndOffset=function(a){var b=this._source.getEndOffset(this._firstTokenIndex+a);return Math.min(this._endOffset,b)-this._startOffset+this._deltaOffset},d.prototype.getClassName=function(a){return this._source.getClassName(this._firstTokenIndex+a)},d.prototype.getInlineStyle=function(a,b){return this._source.getInlineStyle(this._firstTokenIndex+a,b)},d.prototype.findTokenIndexAtOffset=function(a){return this._source.findTokenIndexAtOffset(a+this._startOffset-this._deltaOffset)-this._firstTokenIndex},d}();var pf;typeof TextDecoder!=="undefined"?pf=function(d){return new DU(d)}:pf=function(d){return new EU()};var DU=function(){function d(a){this._decoder=new TextDecoder("UTF-16LE"),this._capacity=a|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return d.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0},d.prototype.build=function(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()},d.prototype._buildBuffer=function(){if(this._bufferLength===0)return"";var a=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(a)},d.prototype._flushBuffer=function(){var a=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[a]:this._completedStrings[this._completedStrings.length]=a},d.prototype.write1=function(a){var b=this._capacity-this._bufferLength;b<=1&&((b===0||Cb(a))&&this._flushBuffer()),this._buffer[this._bufferLength++]=a},d.prototype.appendASCII=function(a){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=a},d.prototype.appendASCIIString=function(a){var b=a.length;if(this._bufferLength+b>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=a;return}for(var c=0;c<b;c++)this._buffer[this._bufferLength++]=a.charCodeAt(c)},d}(),EU=function(){function d(){this._pieces=[],this._piecesLen=0}return d.prototype.reset=function(){this._pieces=[],this._piecesLen=0},d.prototype.build=function(){return this._pieces.join("")},d.prototype.write1=function(a){this._pieces[this._piecesLen++]=String.fromCharCode(a)},d.prototype.appendASCII=function(a){this._pieces[this._piecesLen++]=String.fromCharCode(a)},d.prototype.appendASCIIString=function(a){this._pieces[this._piecesLen++]=a},d}();var eh=function(){function d(a,b,c,e){this.startColumn=a,this.endColumn=b,this.className=c,this.type=e}return d._equals=function(a,b){return a.startColumn===b.startColumn&&a.endColumn===b.endColumn&&a.className===b.className&&a.type===b.type},d.equalsArr=function(a,b){var c=a.length,e=b.length;if(c!==e)return!1;for(var f=0;f<c;f++)if(!d._equals(a[f],b[f]))return!1;return!0},d.filter=function(a,b,c,e){if(a.length===0)return[];for(var f=[],g=0,h=0,i=a.length;h<i;h++){var j=a[h],k=j.range;if(k.endLineNumber<b||k.startLineNumber>b)continue;if(k.isEmpty()&&(j.type===0||j.type===3))continue;var l=k.startLineNumber===b?k.startColumn:c,m=k.endLineNumber===b?k.endColumn:e;f[g++]=new d(l,m,j.inlineClassName,j.type)}return f},d.compare=function(a,b){return a.startColumn===b.startColumn?a.endColumn===b.endColumn?a.className<b.className?-1:a.className>b.className?1:0:a.endColumn-b.endColumn:a.startColumn-b.startColumn},d}(),EG=function(){function d(a,b,c){this.startOffset=a,this.endOffset=b,this.className=c}return d}(),GW=function(){function d(){this.stopOffsets=[],this.classNames=[],this.count=0}return d.prototype.consumeLowerThan=function(a,b,c){for(;this.count>0&&this.stopOffsets[0]<a;){for(var e=0;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;c.push(new EG(b,this.stopOffsets[e],this.classNames.join(" "))),b=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.count-=e+1}return this.count>0&&b<a&&(c.push(new EG(b,a-1,this.classNames.join(" "))),b=a),b},d.prototype.insert=function(a,b){if(this.count===0||this.stopOffsets[this.count-1]<=a)this.stopOffsets.push(a),this.classNames.push(b);else for(var c=0;c<this.count;c++)if(this.stopOffsets[c]>=a){this.stopOffsets.splice(c,0,a),this.classNames.splice(c,0,b);break}this.count++;return},d}(),FG=function(){function d(){}return d.normalize=function(a,b){if(b.length===0)return[];for(var c=[],e=new GW(),f=0,g=0,h=b.length;g<h;g++){var i=b[g],j=i.startColumn,k=i.endColumn,l=i.className;if(j>1){var m=a.charCodeAt(j-2);Cb(m)&&j--}if(k>1){var m=a.charCodeAt(k-2);Cb(m)&&k--}var n=j-1,o=k-2;f=e.consumeLowerThan(n,f,c),e.count===0&&(f=n),e.insert(o,l)}return e.consumeLowerThan(1073741824,f,c),c},d}();var yd=function(){function d(a,b){this.endIndex=a,this.type=b}return d}(),WD=function(){function d(a,b){this.startOffset=a,this.endOffset=b}return d.prototype.equals=function(a){return this.startOffset===a.startOffset&&this.endOffset===a.endOffset},d}(),qf=function(){function d(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t){this.useMonospaceOptimizations=a,this.canUseHalfwidthRightwardsArrow=b,this.lineContent=c,this.continuesWithWrappedLine=e,this.isBasicASCII=f,this.containsRTL=g,this.fauxIndentLength=h,this.lineTokens=i,this.lineDecorations=j,this.tabSize=k,this.startVisibleColumn=l,this.spaceWidth=m,this.middotWidth=n,this.stopRenderingLineAfter=o,this.renderWhitespace=p==="all"?3:p==="boundary"?1:p==="selection"?2:0,this.renderControlCharacters=q,this.fontLigatures=r,this.selectionsOnLine=t&&t.sort(function(v,w){return v.startOffset<w.startOffset?-1:1})}return d.prototype.sameSelection=function(a){if(this.selectionsOnLine===null)return a===null;if(a===null)return!1;if(a.length!==this.selectionsOnLine.length)return!1;for(var b=0;b<this.selectionsOnLine.length;b++)if(!this.selectionsOnLine[b].equals(a[b]))return!1;return!0},d.prototype.equals=function(a){return this.useMonospaceOptimizations===a.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===a.canUseHalfwidthRightwardsArrow&&this.lineContent===a.lineContent&&this.continuesWithWrappedLine===a.continuesWithWrappedLine&&this.isBasicASCII===a.isBasicASCII&&this.containsRTL===a.containsRTL&&this.fauxIndentLength===a.fauxIndentLength&&this.tabSize===a.tabSize&&this.startVisibleColumn===a.startVisibleColumn&&this.spaceWidth===a.spaceWidth&&this.stopRenderingLineAfter===a.stopRenderingLineAfter&&this.renderWhitespace===a.renderWhitespace&&this.renderControlCharacters===a.renderControlCharacters&&this.fontLigatures===a.fontLigatures&&eh.equalsArr(this.lineDecorations,a.lineDecorations)&&this.lineTokens.equals(a.lineTokens)&&this.sameSelection(a.selectionsOnLine)},d}(),dg=function(){function d(a,b){this.length=a,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}return d.getPartIndex=function(a){return(a&4294901760)>>>16},d.getCharIndex=function(a){return(a&65535)>>>0},d.prototype.setPartData=function(a,b,c,e){var f=(b<<16|c<<0)>>>0;this._data[a]=f,this._absoluteOffsets[a]=e+c},d.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets},d.prototype.charOffsetToPartData=function(a){return this.length===0?0:a<0?this._data[0]:a>=this.length?this._data[this.length-1]:this._data[a]},d.prototype.partDataToCharOffset=function(a,b,c){if(this.length===0)return 0;for(var e=(a<<16|c<<0)>>>0,f=0,g=this.length-1;f+1<g;){var h=f+g>>>1,i=this._data[h];if(i===e)return h;i>e?g=h:f=h}if(f===g)return f;var j=this._data[f],k=this._data[g];if(j===e)return f;if(k===e)return g;var l=d.getPartIndex(j),m=d.getCharIndex(j),n=d.getPartIndex(k),o;l!==n?o=b:o=d.getCharIndex(k);var p=c-m,q=o-c;return p<=q?f:g},d}(),JG=function(){function d(a,b,c){this.characterMapping=a,this.containsRTL=b,this.containsForeignElements=c}return d}();function bm(d,a){if(d.lineContent.length===0){var b=0,c="<span><span> </span></span>";if(d.lineDecorations.length>0){for(var e=[],f=[],g=0,h=d.lineDecorations.length;g<h;g++){var i=d.lineDecorations[g];i.type===1&&(e.push(d.lineDecorations[g].className),b|=1),i.type===2&&(f.push(d.lineDecorations[g].className),b|=2)}if(b!==0){var j=e.length>0?'<span class="'+e.join(" ")+'"></span>':"",k=f.length>0?'<span class="'+f.join(" ")+'"></span>':"";c="<span>"+j+k+"</span>"}}return a.appendASCIIString(c),new JG(new dg(0,0),!1,b)}return SW(NW(d),a)}var LW=function(){function d(a,b,c,e){this.characterMapping=a,this.html=b,this.containsRTL=c,this.containsForeignElements=e}return d}();function Wj(d){var a=pf(1e4),b=bm(d,a);return new LW(b.characterMapping,a.build(),b.containsRTL,b.containsForeignElements)}var MW=function(){function d(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p){this.fontIsMonospace=a,this.canUseHalfwidthRightwardsArrow=b,this.lineContent=c,this.len=e,this.isOverflowing=f,this.parts=g,this.containsForeignElements=h,this.fauxIndentLength=i,this.tabSize=j,this.startVisibleColumn=k,this.containsRTL=l,this.spaceWidth=m,this.middotWidth=n,this.renderWhitespace=o,this.renderControlCharacters=p}return d}();function NW(d){var a=d.useMonospaceOptimizations,b=d.lineContent,c,e;d.stopRenderingLineAfter!==-1&&d.stopRenderingLineAfter<b.length?(c=!0,e=d.stopRenderingLineAfter):(c=!1,e=b.length);var f=OW(d.lineTokens,d.fauxIndentLength,e);(d.renderWhitespace===3||d.renderWhitespace===1||d.renderWhitespace===2&&!!d.selectionsOnLine)&&(f=QW(b,e,d.continuesWithWrappedLine,f,d.fauxIndentLength,d.tabSize,d.startVisibleColumn,a,d.selectionsOnLine,d.renderWhitespace===1));var g=0;if(d.lineDecorations.length>0){for(var h=0,i=d.lineDecorations.length;h<i;h++){var j=d.lineDecorations[h];j.type===3?g|=1:j.type===1?g|=1:j.type===2&&(g|=2)}f=RW(b,e,f,d.lineDecorations)}return d.containsRTL||(f=PW(b,f,!d.isBasicASCII||d.fontLigatures)),new MW(a,d.canUseHalfwidthRightwardsArrow,b,e,c,f,g,d.fauxIndentLength,d.tabSize,d.startVisibleColumn,d.containsRTL,d.spaceWidth,d.middotWidth,d.renderWhitespace,d.renderControlCharacters)}function OW(d,a,b){var c=[],e=0;a>0&&(c[e++]=new yd(a,""));for(var f=0,g=d.getCount();f<g;f++){var h=d.getEndOffset(f);if(h<=a)continue;var i=d.getClassName(f);if(h>=b){c[e++]=new yd(b,i);break}c[e++]=new yd(h,i)}return c}function PW(d,a,b){var c=0,e=[],f=0;if(b)for(var g=0,h=a.length;g<h;g++){var i=a[g],j=i.endIndex;if(c+50<j){for(var k=i.type,l=-1,m=c,n=c;n<j;n++)d.charCodeAt(n)===32&&(l=n),l!==-1&&n-m>=50&&(e[f++]=new yd(l+1,k),m=l+1,l=-1);m!==j&&(e[f++]=new yd(j,k))}else e[f++]=i;c=j}else for(var g=0,h=a.length;g<h;g++){var i=a[g],j=i.endIndex,o=j-c;if(o>50){for(var k=i.type,p=Math.ceil(o/50),n=1;n<p;n++){var q=c+n*50;e[f++]=new yd(q,k)}e[f++]=new yd(j,k)}else e[f++]=i;c=j}return e}function QW(d,a,b,c,e,f,g,h,i,j){var k=[],l=0,m=0,n=c[m].type,o=c[m].endIndex,p=c.length,q=Jb(d),r;q===-1?(q=a,r=a):r=_c(d);for(var t=!1,v=0,w=i&&i[v],x=g%f,u=e;u<a;u++){var y=d.charCodeAt(u);w&&u>=w.endOffset&&(v++,w=i&&i[v]);var A=void 0;if(u<q||u>r)A=!0;else if(y===9)A=!0;else if(y===32)if(j)if(t)A=!0;else{var F=u+1<a?d.charCodeAt(u+1):0;A=F===32||F===9}else A=!0;else A=!1;A&&i&&(A=!!w&&w.startOffset<=u&&w.endOffset>u),t?(!A||!h&&x>=f)&&(k[l++]=new yd(u,"vs-whitespace"),x=x%f):(u===o||A&&u>e)&&(k[l++]=new yd(u,n),x=x%f),y===9?x=f:nd(y)?x+=2:x++,t=A,u===o&&(m++,m<p&&(n=c[m].type,o=c[m].endIndex))}var B=!1;if(t)if(b&&j){var D=a>0?d.charCodeAt(a-1):0,H=a>1?d.charCodeAt(a-2):0,J=D===32&&(H!==32&&H!==9);J||(B=!0)}else B=!0;return k[l++]=new yd(a,B?"vs-whitespace":n),k}function RW(d,a,b,c){c.sort(eh.compare);for(var e=FG.normalize(d,c),f=e.length,g=0,h=[],i=0,j=0,k=0,l=b.length;k<l;k++){for(var m=b[k],n=m.endIndex,o=m.type;g<f&&e[g].startOffset<n;){var p=e[g];p.startOffset>j&&(j=p.startOffset,h[i++]=new yd(j,o));if(p.endOffset+1<=n)j=p.endOffset+1,h[i++]=new yd(j,o+" "+p.className),g++;else{j=n,h[i++]=new yd(j,o+" "+p.className);break}}n>j&&(j=n,h[i++]=new yd(j,o))}var q=b[b.length-1].endIndex;if(g<f&&e[g].startOffset===q){for(var r=[];g<f&&e[g].startOffset===q;)r.push(e[g].className),g++;h[i++]=new yd(j,r.join(" "))}return h}function SW(d,a){var b=d.fontIsMonospace,c=d.canUseHalfwidthRightwardsArrow,e=d.containsForeignElements,f=d.lineContent,g=d.len,h=d.isOverflowing,i=d.parts,j=d.fauxIndentLength,k=d.tabSize,l=d.startVisibleColumn,m=d.containsRTL,n=d.spaceWidth,o=d.middotWidth,p=d.renderWhitespace,q=d.renderControlCharacters,r=o>n?11825:183,t=new dg(g+1,i.length),v=0,w=l,x=0,u=0,y=0;a.appendASCIIString("<span>");for(var A=0,F=i.length;A<F;A++){y+=u;var B=i[A],D=B.endIndex,H=B.type,J=p!==0&&H.indexOf("vs-whitespace")>=0;x=0,a.appendASCIIString('<span class="'),a.appendASCIIString(H),a.appendASCII(34);if(J){for(var L=0,O=v,T=w;O<D;O++){var $=f.charCodeAt(O),_=($===9?k-T%k:1)|0;L+=_,O>=j&&(T+=_)}if(!b){var $a=H==="vs-whitespace";($a||!e)&&(a.appendASCIIString(' style="display:inline-block;width:'),a.appendASCIIString(String(n*L)),a.appendASCIIString('px"'))}for(a.appendASCII(62);v<D;v++){t.setPartData(v,A,x,y);var $=f.charCodeAt(v),_=void 0;if($===9){_=k-w%k|0,!c||_>1?a.write1(8594):a.write1(65515);for(var Na=2;Na<=_;Na++)a.write1(160)}else _=1,a.write1(r);x+=_,v>=j&&(w+=_)}u=L}else{var L=0;for(m&&a.appendASCIIString(' dir="ltr"'),a.appendASCII(62);v<D;v++){t.setPartData(v,A,x,y);var $=f.charCodeAt(v),Nb=1,_=1;switch($){case 9:Nb=k-w%k,_=Nb;for(var Na=1;Na<=Nb;Na++)a.write1(160);break;case 32:a.write1(160);break;case 60:a.appendASCIIString("&lt;");break;case 62:a.appendASCIIString("&gt;");break;case 38:a.appendASCIIString("&amp;");break;case 0:a.appendASCIIString("&#00;");break;case 65279:case 8232:a.write1(65533);break;default:nd($)&&_++,q&&$<32?a.write1(9216+$):a.write1($)}x+=Nb,L+=Nb,v>=j&&(w+=_)}u=L}a.appendASCIIString("</span>")}return t.setPartData(g,i.length-1,x,y),h&&a.appendASCIIString("<span>&hellip;</span>"),a.appendASCIIString("</span>"),new JG(t,m,e)}var Sv=function(){function d(a,b,c,e){this.top=a|0,this.left=b|0,this.width=c|0,this.height=e|0}return d}(),SG=function(){function d(a,b){this.tabSize=a,this.data=b}return d}(),Sq=function(){function d(a,b,c,e,f,g){this.content=a,this.continuesWithWrappedLine=b,this.minColumn=c,this.maxColumn=e,this.startVisibleColumn=f,this.tokens=g}return d}(),vd=function(){function d(a,b,c,e,f,g,h,i,j,k){this.minColumn=a,this.maxColumn=b,this.content=c,this.continuesWithWrappedLine=e,this.isBasicASCII=d.isBasicASCII(c,g),this.containsRTL=d.containsRTL(c,this.isBasicASCII,f),this.tokens=h,this.inlineDecorations=i,this.tabSize=j,this.startVisibleColumn=k}return d.isBasicASCII=function(a,b){return b?Uo(a):!0},d.containsRTL=function(a,b,c){return!b&&c?zj(a):!1},d}(),Tj=function(){function d(a,b,c){this.range=a,this.inlineClassName=b,this.type=c}return d}(),TG=function(){function d(a,b){this.range=a,this.options=b}return d}();function F3(d){return Array.isArray(d)}function ML(d){return!F3(d)}function Sx(d){return typeof d==="string"}function Tx(d){return!Sx(d)}function Ri(d){return d?!1:!0}function If(d,a){return d.ignoreCase&&a?a.toLowerCase():a}function Ux(d){return d.replace(/[&<>'"_]/g,"-")}function NL(d,a){console.log(d.languageId+": "+a)}function Ta(d,a){return new Error(d.languageId+": "+a)}function Jf(d,a,b,c,e){var f=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,g=null;return a.replace(f,function(h,i,j,k,l,m,n,o,p){return Ri(j)?Ri(k)?!Ri(l)&&l<c.length?If(d,c[l]):!Ri(n)&&d&&typeof d[n]==="string"?d[n]:(g===null&&(g=e.split("."),g.unshift(e)),!Ri(m)&&m<g.length?If(d,g[m]):""):If(d,b):"$"})}function zn(d,a){for(var b=a;b&&b.length>0;){var c=d.tokenizer[b];if(c)return c;var e=b.lastIndexOf(".");e<0?b=null:b=b.substr(0,e)}return null}function OL(d,a){for(var b=a;b&&b.length>0;){var c=d.stateNames[b];if(c)return!0;var e=b.lastIndexOf(".");e<0?b=null:b=b.substr(0,e)}return!1}var SL=5,Xx=function(){function d(a){this._maxCacheDepth=a,this._entries=Object.create(null)}return d.create=function(a,b){return this._INSTANCE.create(a,b)},d.prototype.create=function(a,b){if(a!==null&&a.depth>=this._maxCacheDepth)return new js(a,b);var c=js.getStackElementId(a);c.length>0&&(c+="|"),c+=b;var e=this._entries[c];return e?e:(e=new js(a,b),this._entries[c]=e,e)},d._INSTANCE=new d(SL),d}(),js=function(){function d(a,b){this.parent=a,this.state=b,this.depth=(this.parent?this.parent.depth:0)+1}return d.getStackElementId=function(a){for(var b="";a!==null;)b.length>0&&(b+="|"),b+=a.state,a=a.parent;return b},d._equals=function(a,b){for(;a!==null&&b!==null;){if(a===b)return!0;if(a.state!==b.state)return!1;a=a.parent,b=b.parent}return a===null&&b===null?!0:!1},d.prototype.equals=function(a){return d._equals(this,a)},d.prototype.push=function(a){return Xx.create(this,a)},d.prototype.pop=function(){return this.parent},d.prototype.popall=function(){for(var a=this;a.parent;)a=a.parent;return a},d.prototype.switchTo=function(a){return Xx.create(this.parent,a)},d}(),Yx=function(){function d(a,b){this.modeId=a,this.state=b}return d.prototype.equals=function(a){return this.modeId===a.modeId&&this.state.equals(a.state)},d.prototype.clone=function(){var a=this.state.clone();return a===this.state?this:new d(this.modeId,this.state)},d}(),Vk=function(){function d(a){this._maxCacheDepth=a,this._entries=Object.create(null)}return d.create=function(a,b){return this._INSTANCE.create(a,b)},d.prototype.create=function(a,b){if(b!==null)return new Zx(a,b);if(a!==null&&a.depth>=this._maxCacheDepth)return new Zx(a,b);var c=js.getStackElementId(a),e=this._entries[c];return e?e:(e=new Zx(a,null),this._entries[c]=e,e)},d._INSTANCE=new d(SL),d}(),Zx=function(){function d(a,b){this.stack=a,this.embeddedModeData=b}return d.prototype.clone=function(){var a=this.embeddedModeData?this.embeddedModeData.clone():null;return a===this.embeddedModeData?this:Vk.create(this.stack,this.embeddedModeData)},d.prototype.equals=function(a){return a instanceof d?this.stack.equals(a.stack)?this.embeddedModeData===null&&a.embeddedModeData===null?!0:this.embeddedModeData===null||a.embeddedModeData===null?!1:this.embeddedModeData.equals(a.embeddedModeData):!1:!1},d}(),L3=function(){function d(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return d.prototype.enterMode=function(a,b){this._language=b},d.prototype.emit=function(a,b){if(this._lastTokenType===b&&this._lastTokenLanguage===this._language)return;this._lastTokenType=b,this._lastTokenLanguage=this._language,this._tokens.push(new lh(a,b,this._language))},d.prototype.nestedModeTokenize=function(a,b,c){var e=b.modeId,f=b.state,g=Ga.get(e);if(!g)return this.enterMode(c,e),this.emit(c,""),f;var h=g.tokenize(a,f,c);return this._tokens=this._tokens.concat(h.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,h.endState},d.prototype.finalize=function(a){return new $j(this._tokens,a)},d}(),M3=function(){function d(a,b){this._modeService=a,this._theme=b,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return d.prototype.enterMode=function(a,b){this._currentLanguageId=this._modeService.getLanguageIdentifier(b).id},d.prototype.emit=function(a,b){var c=this._theme.match(this._currentLanguageId,b);if(this._lastTokenMetadata===c)return;this._lastTokenMetadata=c,this._tokens.push(a),this._tokens.push(c)},d._merge=function(a,b,c){var e=a!==null?a.length:0,f=b.length,g=c!==null?c.length:0;if(e===0&&f===0&&g===0)return new Uint32Array(0);if(e===0&&f===0)return c;if(f===0&&g===0)return a;var h=new Uint32Array(e+f+g);a!==null&&h.set(a);for(var i=0;i<f;i++)h[e+i]=b[i];return c!==null&&h.set(c,e+f),h},d.prototype.nestedModeTokenize=function(a,b,c){var e=b.modeId,f=b.state,g=Ga.get(e);if(!g)return this.enterMode(c,e),this.emit(c,""),f;var h=g.tokenize2(a,f,c);return this._prependTokens=d._merge(this._prependTokens,this._tokens,h.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,h.endState},d.prototype.finalize=function(a){return new si(d._merge(this._prependTokens,this._tokens,null),a)},d}(),Bx=function(){function d(a,b,c,e){var f=this;this._modeService=a,this._standaloneThemeService=b,this._modeId=c,this._lexer=e,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var g=!1;this._tokenizationRegistryListener=Ga.onDidChange(function(h){if(g)return;for(var i=!1,j=0,k=h.changedLanguages.length;j<k;j++){var l=h.changedLanguages[j];if(f._embeddedModes[l]){i=!0;break}}i&&(g=!0,Ga.fire([f._modeId]),g=!1)})}return d.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},d.prototype.getLoadStatus=function(){var a=[];for(var b in this._embeddedModes){var c=Ga.get(b);if(c){if(c instanceof d){var e=c.getLoadStatus();e.loaded===!1&&a.push(e.promise)}continue}var f=Ga.getPromise(b);f&&a.push(f)}return a.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(a).then(function(g){return})}},d.prototype.getInitialState=function(){var a=Xx.create(null,this._lexer.start);return Vk.create(a,null)},d.prototype.tokenize=function(a,b,c){var e=new L3(),f=this._tokenize(a,b,c,e);return e.finalize(f)},d.prototype.tokenize2=function(a,b,c){var e=new M3(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),f=this._tokenize(a,b,c,e);return e.finalize(f)},d.prototype._tokenize=function(a,b,c,e){return b.embeddedModeData?this._nestedTokenize(a,b,c,e):this._myTokenize(a,b,c,e)},d.prototype._findLeavingNestedModeOffset=function(a,b){var c=this._lexer.tokenizer[b.stack.state];if(!c){c=zn(this._lexer,b.stack.state);if(!c)throw Ta(this._lexer,"tokenizer state is not defined: "+b.stack.state)}for(var e=-1,f=!1,g=0,h=c;g<h.length;g++){var i=h[g];if(!Tx(i.action)||i.action.nextEmbedded!=="@pop")continue;f=!0;var j=i.regex,k=i.regex.source;k.substr(0,4)==="^(?:"&&k.substr(k.length-1,1)===")"&&(j=new RegExp(k.substr(4,k.length-5),j.ignoreCase?"i":""));var l=a.search(j);if(l===-1||l!==0&&i.matchOnlyAtLineStart)continue;(e===-1||l<e)&&(e=l)}if(!f)throw Ta(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+b.stack.state);return e},d.prototype._nestedTokenize=function(a,b,c,e){var f=this._findLeavingNestedModeOffset(a,b);if(f===-1){var g=e.nestedModeTokenize(a,b.embeddedModeData,c);return Vk.create(b.stack,new Yx(b.embeddedModeData.modeId,g))}var h=a.substring(0,f);h.length>0&&e.nestedModeTokenize(h,b.embeddedModeData,c);var i=a.substring(f);return this._myTokenize(i,b,c+f,e)},d.prototype._safeRuleName=function(a){return a?a.name:"(unknown)"},d.prototype._myTokenize=function(a,b,c,e){e.enterMode(c,this._modeId);for(var f=a.length,g=b.embeddedModeData,h=b.stack,i=0,j=null,k=!0;k||i<f;){var l=i,m=h.depth,n=j?j.groups.length:0,o=h.state,p=null,q=null,r=null,t=null,v=null;if(j){p=j.matches;var w=j.groups.shift();q=w.matched,r=w.action,t=j.rule,j.groups.length===0&&(j=null)}else{if(!k&&i>=f)break;k=!1;var x=this._lexer.tokenizer[o];if(!x){x=zn(this._lexer,o);if(!x)throw Ta(this._lexer,"tokenizer state is not defined: "+o)}for(var u=a.substr(i),y=0,A=x;y<A.length;y++){var F=A[y];if(i===0||!F.matchOnlyAtLineStart){p=u.match(F.regex);if(p){q=p[0],r=F.action;break}}}}p||(p=[""],q=""),r||(i<f&&(p=[a.charAt(i)],q=p[0]),r=this._lexer.defaultToken);if(q===null)break;for(i+=q.length;ML(r)&&Tx(r)&&r.test;)r=r.test(q,p,o,i===f);var B=null;if(typeof r==="string"||Array.isArray(r))B=r;else if(r.group)B=r.group;else if(r.token!==null&&r.token!==void 0){r.tokenSubst?B=Jf(this._lexer,r.token,q,p,o):B=r.token;if(r.nextEmbedded)if(r.nextEmbedded==="@pop"){if(!g)throw Ta(this._lexer,"cannot pop embedded mode if not inside one");g=null}else{if(g)throw Ta(this._lexer,"cannot enter embedded mode from within an embedded mode");v=Jf(this._lexer,r.nextEmbedded,q,p,o)}r.goBack&&(i=Math.max(0,i-r.goBack));if(r.switchTo&&typeof r.switchTo==="string"){var D=Jf(this._lexer,r.switchTo,q,p,o);D[0]==="@"&&(D=D.substr(1));if(zn(this._lexer,D))h=h.switchTo(D);else throw Ta(this._lexer,"trying to switch to a state '"+D+"' that is undefined in rule: "+this._safeRuleName(t))}else{if(r.transform&&typeof r.transform==="function")throw Ta(this._lexer,"action.transform not supported");if(r.next)if(r.next==="@push"){if(h.depth>=this._lexer.maxStack)throw Ta(this._lexer,"maximum tokenizer stack size reached: ["+h.state+","+h.parent.state+",...]");h=h.push(o)}else if(r.next==="@pop"){if(h.depth<=1)throw Ta(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(t));h=h.pop()}else if(r.next==="@popall")h=h.popall();else{var D=Jf(this._lexer,r.next,q,p,o);D[0]==="@"&&(D=D.substr(1));if(zn(this._lexer,D))h=h.push(D);else throw Ta(this._lexer,"trying to set a next state '"+D+"' that is undefined in rule: "+this._safeRuleName(t))}}r.log&&typeof r.log==="string"&&NL(this._lexer,this._lexer.languageId+": "+Jf(this._lexer,r.log,q,p,o))}if(B===null)throw Ta(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(t));if(Array.isArray(B)){if(j&&j.groups.length>0)throw Ta(this._lexer,"groups cannot be nested: "+this._safeRuleName(t));if(p.length!==B.length+1)throw Ta(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(t));for(var H=0,J=1;J<p.length;J++)H+=p[J].length;if(H!==q.length)throw Ta(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(t));j={rule:t,matches:p,groups:[]};for(var J=0;J<B.length;J++)j.groups[J]={action:B[J],matched:p[J+1]};i-=q.length;continue}else{B==="@rematch"&&(i-=q.length,q="",p=null,B="");if(q.length===0){if(f===0||m!==h.depth||o!==h.state||(j?j.groups.length:0)!==n)continue;throw Ta(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(t))}var L=null;if(Sx(B)&&B.indexOf("@brackets")===0){var O=B.substr("@brackets".length),T=N3(this._lexer,q);if(!T)throw Ta(this._lexer,"@brackets token returned but no bracket defined as: "+q);L=Ux(T.token+O)}else{var $=B===""?"":B+this._lexer.tokenPostfix;L=Ux($)}e.emit(l+c,L)}if(v!==null){var _=this._modeService.getModeIdForLanguageName(v);_&&(v=_);var $a=this._getNestedEmbeddedModeData(v);if(i<f){var u=a.substr(i);return this._nestedTokenize(u,Vk.create(h,$a),c+i,e)}else return Vk.create(h,$a)}}return Vk.create(h,g)},d.prototype._getNestedEmbeddedModeData=function(a){var b=this._locateMode(a);if(b){var c=Ga.get(b);if(c)return new Yx(b,c.getInitialState())}return new Yx(b||Bm,qg)},d.prototype._locateMode=function(a){if(!a||!this._modeService.isRegisteredMode(a))return null;if(a===this._modeId)return a;var b=this._modeService.getModeId(a);return b&&(this._modeService.triggerMode(b),this._embeddedModes[b]=!0),b},d}();function N3(d,a){if(!a)return null;a=If(d,a);for(var b=d.brackets,c=0,e=b;c<e.length;c++){var f=e[c];if(f.open===a)return{token:f.token,bracketType:1};if(f.close===a)return{token:f.token,bracketType:-1}}return null}function uL(d,a,b,c){return new Bx(d,a,b,c)}var es=function(){function d(){}return d.colorizeElement=function(a,b,c,e){e=e||{};var f=e.theme||"vs",g=e.mimeType||c.getAttribute("lang")||c.getAttribute("data-lang");if(!g)return console.error("Mode not detected"),Promise.resolve();a.setTheme(f);var h=c.firstChild?c.firstChild.nodeValue:"";c.className+=" "+f;var i=function(j){c.innerHTML=j};return this.colorize(b,h||"",g,e).then(i,function(j){return console.error(j)})},d.colorize=function(a,b,c,e){var f=4;e&&typeof e.tabSize==="number"&&(f=e.tabSize),uj(b)&&(b=b.substr(1));var g=b.split(/\r\n|\r|\n/),h=a.getModeId(c);if(!h)return Promise.resolve(NK(g,f));a.triggerMode(h);var i=Ga.get(h);if(i)return Cx(g,f,i);var j=Ga.getPromise(h);return j?new Promise(function(k,l){j.then(function(m){Cx(g,f,m).then(k,l)},l)}):new Promise(function(k,l){var m=null,n=null,o=function(){m&&(m.dispose(),m=null),n&&(n.dispose(),n=null);var p=Ga.get(h);if(p){Cx(g,f,p).then(k,l);return}k(NK(g,f))};n=new rb(),n.cancelAndSet(o,500),m=Ga.onDidChange(function(p){p.changedLanguages.indexOf(h)>=0&&o()})})},d.colorizeLine=function(a,b,c,e,f){f===void 0&&(f=4);var g=vd.isBasicASCII(a,b),h=vd.containsRTL(a,g,c),i=Wj(new qf(!1,!0,a,!1,g,h,0,e,[],f,0,0,0,-1,"none",!1,!1,null));return i.html},d.colorizeModelLine=function(a,b,c){c===void 0&&(c=4);var e=a.getLineContent(b);a.forceTokenization(b);var f=a.getLineTokens(b),g=f.inflate();return this.colorizeLine(e,a.mightContainNonBasicASCII(),a.mightContainRTL(),g,c)},d}();function Cx(d,a,b){return new Promise(function(c,e){var f=function(){var g=Y1(d,a,b);if(b instanceof Bx){var h=b.getLoadStatus();if(h.loaded===!1){h.promise.then(f,e);return}}c(g)};f()})}function NK(d,a){var b=[],c=(0<<11|1<<14|2<<23)>>>0,e=new Uint32Array(2);e[0]=0,e[1]=c;for(var f=0,g=d.length;f<g;f++){var h=d[f];e[0]=h.length;var i=new Rc(e,h),j=vd.isBasicASCII(h,!0),k=vd.containsRTL(h,j,!0),l=Wj(new qf(!1,!0,h,!1,j,k,0,i,[],a,0,0,0,-1,"none",!1,!1,null));b=b.concat(l.html),b.push("<br/>")}return b.join("")}function Y1(d,a,b){for(var c=[],e=b.getInitialState(),f=0,g=d.length;f<g;f++){var h=d[f],i=b.tokenize2(h,e,0);Rc.convertToEndOffset(i.tokens,h.length);var j=new Rc(i.tokens,h),k=vd.isBasicASCII(h,!0),l=vd.containsRTL(h,k,!0),m=Wj(new qf(!1,!0,h,!1,k,l,0,j.inflate(),[],a,0,0,0,-1,"none",!1,!1,null));c=c.concat(m.html),c.push("<br/>"),e=i.endState}return c.join("")}var Hl;(function(d){d[d.Ignore=0]="Ignore",d[d.Info=1]="Info",d[d.Warning=2]="Warning",d[d.Error=3]="Error"})(Hl||(Hl={}));(function(d){var a="error",b="warning",c="warn",e="info",f=Object.create(null);f[d.Error]=s("sev.error","Error"),f[d.Warning]=s("sev.warning","Warning"),f[d.Info]=s("sev.info","Info");function g(h){return h?jf(a,h)?d.Error:jf(b,h)||jf(c,h)?d.Warning:jf(e,h)?d.Info:d.Ignore:d.Ignore}d.fromValue=g})(Hl||(Hl={}));var Zb=Hl;function Id(d){return d&&typeof d.getEditorType==="function"?d.getEditorType()===bh.ICodeEditor:!1}var N4=function(){function d(){this.data=new Map()}return d.prototype.add=function(a,b){Uf(od(a)),Uf(Ab(b)),Uf(!this.data.has(a),"There is already an extension with this id"),this.data.set(a,b)},d.prototype.as=function(a){return this.data.get(a)||null},d}(),ib=new N4();var Bn={JSONContribution:"base.contributions.json"};function o4(d){return d.length>0&&d.charAt(d.length-1)==="#"?d.substring(0,d.length-1):d}var p4=function(){function d(){this._onDidChangeSchema=new E(),this.schemasById={}}return d.prototype.registerSchema=function(a,b){this.schemasById[o4(a)]=b,this._onDidChangeSchema.fire(a)},d.prototype.notifySchemaChanged=function(a){this._onDidChangeSchema.fire(a)},d}(),q4=new p4();ib.add(Bn.JSONContribution,q4);var me={Configuration:"base.contributions.configuration"},jM={properties:{},patternProperties:{}},kM={properties:{},patternProperties:{}},lM={properties:{},patternProperties:{}},mM={properties:{},patternProperties:{}},nM={properties:{},patternProperties:{}},ey={properties:{},patternProperties:{}},fy="vscode://schemas/settings/resourceLanguage",oM=ib.as(Bn.JSONContribution),W3=function(){function d(){this.overrideIdentifiers=new Set(),this._onDidSchemaChange=new E(),this._onDidUpdateConfiguration=new E(),this.defaultOverridesConfigurationNode={id:"defaultOverrides",title:s("defaultConfigurations.title","Default Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultOverridesConfigurationNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},oM.registerSchema(fy,this.resourceLanguageSettingsSchema)}return d.prototype.registerConfiguration=function(a,b){b===void 0&&(b=!0),this.registerConfigurations([a],b)},d.prototype.registerConfigurations=function(a,b){var c=this;b===void 0&&(b=!0);var e=[];a.forEach(function(f){e.push.apply(e,c.validateAndRegisterProperties(f,b)),c.configurationContributors.push(f),c.registerJSONConfiguration(f)}),oM.registerSchema(fy,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(e)},d.prototype.registerOverrideIdentifiers=function(a){for(var b=0,c=a;b<c.length;b++){var e=c[b];this.overrideIdentifiers.add(e)}this.updateOverridePropertyPatternKey()},d.prototype.validateAndRegisterProperties=function(a,b,c){b===void 0&&(b=!0),c===void 0&&(c=3),c=de(a.scope)?c:a.scope;var e=[],f=a.properties;if(f)for(var g in f){if(b&&Z3(g)){delete f[g];continue}var h=f[g],i=h.default;dc(i)&&(h.default=Y3(h.type)),ls.test(g)?h.scope=void 0:h.scope=de(h.scope)?c:h.scope;if(f[g].hasOwnProperty("included")&&!f[g].included){this.excludedConfigurationProperties[g]=f[g],delete f[g];continue}else this.configurationProperties[g]=f[g];e.push(g)}var j=a.allOf;if(j)for(var k=0,l=j;k<l.length;k++){var m=l[k];e.push.apply(e,this.validateAndRegisterProperties(m,b,c))}return e},d.prototype.getConfigurationProperties=function(){return this.configurationProperties},d.prototype.registerJSONConfiguration=function(a){var b=this,c=function(e){var f=e.properties;if(f)for(var g in f){jM.properties[g]=f[g];switch(f[g].scope){case 1:kM.properties[g]=f[g];break;case 2:lM.properties[g]=f[g];break;case 6:mM.properties[g]=f[g];break;case 3:nM.properties[g]=f[g];break;case 4:ey.properties[g]=f[g];break;case 5:ey.properties[g]=f[g],b.resourceLanguageSettingsSchema.properties[g]=f[g];break}}var h=e.allOf;h&&h.forEach(c)};c(a)},d.prototype.updateOverridePropertyPatternKey=function(){for(var a,b=0,c=Ig(this.overrideIdentifiers);b<c.length;b++){var e=c[b],f="["+e+"]",g={type:"object",description:s("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:s("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:fy,default:(a=this.defaultOverridesConfigurationNode.properties[f])===null||a===void 0?void 0:a.default};jM.properties[f]=g,kM.properties[f]=g,lM.properties[f]=g,mM.properties[f]=g,nM.properties[f]=g,ey.properties[f]=g}this._onDidSchemaChange.fire()},d}(),X3="\\[.*\\]$",ls=new RegExp(X3);function Y3(d){var a=Array.isArray(d)?d[0]:d;switch(a){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var pM=new W3();ib.add(me.Configuration,pM);function Z3(d){return ls.test(d)?s("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",d):pM.getConfigurationProperties()[d]!==void 0?s("config.property.duplicate","Cannot register '{0}'. This property is already registered.",d):null}var Bt=Object.prototype.hasOwnProperty;function Ct(d){var a=[];for(var b in d)Bt.call(d,b)&&a.push(d[b]);return a}function Dt(d){for(var a in d)if(Bt.call(d,a))return d[a];return}function nj(d,a){var b=function(f){if(Bt.call(d,f)){var g=a({key:f,value:d[f]},function(){delete d[f]});if(g===!1)return{value:void 0}}};for(var c in d){var e=b(c);if(typeof e==="object")return e.value}}var Lz=function(){function d(){this.map=new Map()}return d.prototype.add=function(a,b){var c=this.map.get(a);c||(c=new Set(),this.map.set(a,c)),c.add(b)},d.prototype.delete=function(a,b){var c=this.map.get(a);if(!c)return;c.delete(b),c.size===0&&this.map.delete(a)},d.prototype.forEach=function(a,b){var c=this.map.get(a);if(!c)return;c.forEach(b)},d}();var DT=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Dp=function(){return Dp=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},Dp.apply(this,arguments)},hm=new(function(){function d(){this._tabFocus=!1,this._onDidChangeTabFocus=new E(),this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return d.prototype.getTabFocusMode=function(){return this._tabFocus},d.prototype.setTabFocusMode=function(a){if(this._tabFocus===a)return;this._tabFocus=a,this._onDidChangeTabFocus.fire(this._tabFocus)},d}())(),OE=Object.hasOwnProperty,ET=function(){function d(){this._values=[]}return d.prototype._read=function(a){return this._values[a]},d.prototype.get=function(a){return this._values[a]},d.prototype._write=function(a,b){this._values[a]=b},d}(),FT=function(){function d(){this._values=[]}return d.prototype._read=function(a){return this._values[a]},d.prototype._write=function(a,b){this._values[a]=b},d}(),Xj=function(){function d(){}return d.readOptions=function(a){for(var b=a,c=new FT(),e=0,f=pi;e<f.length;e++){var g=f[e],h=g.name==="_never_"?void 0:b[g.name];c._write(g.id,h)}return c},d.validateOptions=function(a){for(var b=new NE(),c=0,e=pi;c<e.length;c++){var f=e[c];b._write(f.id,f.validate(a._read(f.id)))}return b},d.computeOptions=function(a,b){for(var c=new ET(),e=0,f=pi;e<f.length;e++){var g=f[e];c._write(g.id,g.compute(b,c,a._read(g.id)))}return c},d._deepEquals=function(a,b){if(typeof a!=="object"||typeof b!=="object")return a===b;if(Array.isArray(a)||Array.isArray(b))return Array.isArray(a)&&Array.isArray(b)?xc(a,b):!1;for(var c in a)if(!d._deepEquals(a[c],b[c]))return!1;return!0},d.checkEquals=function(a,b){for(var c=[],e=!1,f=0,g=pi;f<g.length;f++){var h=g[f],i=!d._deepEquals(a._read(h.id),b._read(h.id));c[h.id]=i,i&&(e=!0)}return e?new Ep(c):null},d}();function GT(d){var a=d.wordWrap;a===!0?d.wordWrap="on":a===!1&&(d.wordWrap="off");var b=d.lineNumbers;b===!0?d.lineNumbers="on":b===!1&&(d.lineNumbers="off");var c=d.autoClosingBrackets;c===!1&&(d.autoClosingBrackets="never",d.autoClosingQuotes="never",d.autoSurround="never");var e=d.cursorBlinking;e==="visible"&&(d.cursorBlinking="solid");var f=d.renderWhitespace;f===!0?d.renderWhitespace="boundary":f===!1&&(d.renderWhitespace="none");var g=d.renderLineHighlight;g===!0?d.renderLineHighlight="line":g===!1&&(d.renderLineHighlight="none");var h=d.acceptSuggestionOnEnter;h===!0?d.acceptSuggestionOnEnter="on":h===!1&&(d.acceptSuggestionOnEnter="off");var i=d.tabCompletion;i===!1?d.tabCompletion="off":i===!0&&(d.tabCompletion="onlySnippets");var j=d.suggest;if(j&&typeof j.filteredTypes==="object"&&j.filteredTypes){var k={};k.method="showMethods",k.function="showFunctions",k.constructor="showConstructors",k.field="showFields",k.variable="showVariables",k.class="showClasses",k.struct="showStructs",k.interface="showInterfaces",k.module="showModules",k.property="showProperties",k.event="showEvents",k.operator="showOperators",k.unit="showUnits",k.value="showValues",k.constant="showConstants",k.enum="showEnums",k.enumMember="showEnumMembers",k.keyword="showKeywords",k.text="showWords",k.color="showColors",k.file="showFiles",k.reference="showReferences",k.folder="showFolders",k.typeParameter="showTypeParameters",k.snippet="showSnippets",nj(k,function(p){var q=j.filteredTypes[p.key];q===!1&&(j[p.value]=q)})}var l=d.hover;l===!0?d.hover={enabled:!0}:l===!1&&(d.hover={enabled:!1});var m=d.parameterHints;m===!0?d.parameterHints={enabled:!0}:m===!1&&(d.parameterHints={enabled:!1});var n=d.autoIndent;n===!0?d.autoIndent="full":n===!1&&(d.autoIndent="advanced");var o=d.matchBrackets;o===!0?d.matchBrackets="always":o===!1&&(d.matchBrackets="never")}function PE(d){var a=jd(d);return GT(a),a}var LC=function(d){DT(a,d);function a(b,c){var e=d.call(this)||this;return e._onDidChange=e._register(new E()),e.onDidChange=e._onDidChange.event,e.isSimpleWidget=b,e._isDominatedByLongLines=!1,e._lineNumbersDigitCount=1,e._rawOptions=PE(c),e._readOptions=Xj.readOptions(e._rawOptions),e._validatedOptions=Xj.validateOptions(e._readOptions),e._register(Vd.onDidChangeZoomLevel(function(f){return e._recomputeOptions()})),e._register(hm.onDidChangeTabFocus(function(f){return e._recomputeOptions()})),e}return a.prototype.observeReferenceElement=function(b){},a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype._recomputeOptions=function(){var b=this.options,c=this._computeInternalOptions();if(!b)this.options=c;else{var e=Xj.checkEquals(b,c);if(e===null)return;this.options=c,this._onDidChange.fire(e)}},a.prototype.getRawOptions=function(){return this._rawOptions},a.prototype._computeInternalOptions=function(){var b=this._getEnvConfiguration(),c=gm.createFromValidatedSettings(this._validatedOptions,b.zoomLevel,this.isSimpleWidget),e={outerWidth:b.outerWidth,outerHeight:b.outerHeight,fontInfo:this.readConfiguration(c),extraEditorClassName:b.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:b.emptySelectionClipboard,pixelRatio:b.pixelRatio,tabFocusMode:hm.getTabFocusMode(),accessibilitySupport:b.accessibilitySupport};return Xj.computeOptions(this._validatedOptions,e)},a._subsetEquals=function(b,c){for(var e in c)if(OE.call(c,e)){var f=c[e],g=b[e];if(g===f)continue;if(Array.isArray(g)&&Array.isArray(f)){if(!xc(g,f))return!1;continue}if(typeof g==="object"&&typeof f==="object"){if(!this._subsetEquals(g,f))return!1;continue}return!1}return!0},a.prototype.updateOptions=function(b){if(typeof b==="undefined")return;var c=PE(b);if(a._subsetEquals(this._rawOptions,c))return;this._rawOptions=Pb(this._rawOptions,c||{}),this._readOptions=Xj.readOptions(this._rawOptions),this._validatedOptions=Xj.validateOptions(this._readOptions),this._recomputeOptions()},a.prototype.setIsDominatedByLongLines=function(b){this._isDominatedByLongLines=b,this._recomputeOptions()},a.prototype.setMaxLineNumber=function(b){var c=a._digitCount(b);if(this._lineNumbersDigitCount===c)return;this._lineNumbersDigitCount=c,this._recomputeOptions()},a._digitCount=function(b){for(var c=0;b;)b=Math.floor(b/10),c++;return c?c:1},a}(I),HT=Object.freeze({id:"editor",order:5,type:"object",title:s("editorConfigurationTitle","Editor"),scope:5}),IT=ib.as(me.Configuration),Fp=Dp(Dp({},HT),{properties:{"editor.tabSize":{type:"number",default:Ec.tabSize,minimum:1,markdownDescription:s("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Ec.insertSpaces,markdownDescription:s("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Ec.detectIndentation,markdownDescription:s("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Ec.trimAutoWhitespace,description:s("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Ec.largeFileOptimizations,description:s("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:s("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.semanticHighlighting.enabled":{type:"boolean",default:!1,description:s("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:s("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:s("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:s("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:s("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:s("ignoreTrimWhitespace","Controls whether the diff editor shows changes in leading or trailing whitespace as diffs.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:s("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")}}});function JT(d){return typeof d.type!=="undefined"||typeof d.anyOf!=="undefined"}for(var dv=0,QE=pi;dv<QE.length;dv++){var RE=QE[dv],Yj=RE.schema;if(typeof Yj!=="undefined")if(JT(Yj))Fp.properties["editor."+RE.name]=Yj;else for(var ev in Yj)OE.call(Yj,ev)&&(Fp.properties[ev]=Yj[ev])}var Gp=null;function SE(){return Gp===null&&(Gp=Object.create(null),Object.keys(Fp.properties).forEach(function(d){Gp[d]=!0})),Gp}function TE(d){var a=SE();return a["editor."+d]||!1}function UE(d){var a=SE();return a["diffEditor."+d]||!1}IT.registerConfiguration(Fp);var jb=function(){function d(){}return d.insert=function(a,b){return{range:new z(a.lineNumber,a.column,a.lineNumber,a.column),text:b,forceMoveMarkers:!0}},d.delete=function(a){return{range:a,text:null}},d.replace=function(a,b){return{range:a,text:b}},d.replaceMove=function(a,b){return{range:a,text:b,forceMoveMarkers:!0}},d}();var gb=ia("configurationService");function bM(d,a){var b=Object.create(null);for(var c in d)ks(b,c,d[c],a);return b}function ks(d,a,b,c){for(var e=a.split("."),f=e.pop(),g=d,h=0;h<e.length;h++){var i=e[h],j=g[i];switch(typeof j){case"undefined":j=g[i]=Object.create(null);break;case"object":break;default:c("Ignoring "+a+" as "+e.slice(0,h+1).join(".")+" is "+JSON.stringify(j));return}g=j}typeof g==="object"?g[f]=b:c("Ignoring "+a+" as "+e.join(".")+" is "+JSON.stringify(g))}function cM(d,a){var b=a.split(".");dM(d,b)}function dM(d,a){var b=a.shift();if(a.length===0){delete d[b];return}if(Object.keys(d).indexOf(b)!==-1){var c=d[b];typeof c==="object"&&!Array.isArray(c)&&(dM(c,a),Object.keys(c).length===0&&delete d[b])}}function dy(d,a,b){function c(g,h){for(var i=g,j=0,k=h;j<k.length;j++){var l=k[j];if(typeof i!=="object"||i===null)return;i=i[l]}return i}var e=a.split("."),f=c(d,e);return typeof f==="undefined"?b:f}function eM(){var d=ib.as(me.Configuration).getConfigurationProperties();return Object.keys(d)}function fM(){var d=Object.create(null),a=ib.as(me.Configuration).getConfigurationProperties();for(var b in a){var c=a[b].default;ks(d,b,c,function(e){return console.error("Conflict in default settings: "+e)})}return d}function gM(d){return d.substring(1,d.length-1)}function hM(d,a,b){var c=d.inspect(a),e=d.inspect(b);return typeof c.userValue!=="undefined"||typeof c.workspaceValue!=="undefined"||typeof c.workspaceFolderValue!=="undefined"?c.value:typeof e.userValue!=="undefined"||typeof e.workspaceValue!=="undefined"||typeof e.workspaceFolderValue!=="undefined"?e.value:c.defaultValue}var V3=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),iM=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},Pi=function(){function d(a,b,c){a===void 0&&(a={}),b===void 0&&(b=[]),c===void 0&&(c=[]),this._contents=a,this._keys=b,this._overrides=c,this.isFrozen=!1}return Object.defineProperty(d.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:!0,configurable:!0}),d.prototype.isEmpty=function(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0},d.prototype.getValue=function(a){return a?dy(this.contents,a):this.contents},d.prototype.getOverrideValue=function(a,b){var c=this.getContentsForOverrideIdentifer(b);return c?a?dy(c,a):c:void 0},d.prototype.override=function(a){var b=this.getContentsForOverrideIdentifer(a);if(!b||typeof b!=="object"||!Object.keys(b).length)return this;for(var c={},e=0,f=ml(iM(Object.keys(this.contents),Object.keys(b)));e<f.length;e++){var g=f[e],h=this.contents[g],i=b[g];i&&(typeof h==="object"&&typeof i==="object"?(h=jd(h),this.mergeContents(h,i)):h=i),c[g]=h}return new d(c,this.keys,this.overrides)},d.prototype.merge=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=jd(this.contents),e=jd(this.overrides),f=iM(this.keys),g=0,h=a;g<h.length;g++){var i=h[g];this.mergeContents(c,i.contents);for(var j=function(r){var t=e.filter(function(v){return xc(v.identifiers,r.identifiers)})[0];t?k.mergeContents(t.contents,r.contents):e.push(jd(r))},k=this,l=0,m=i.overrides;l<m.length;l++){var n=m[l];j(n)}for(var o=0,p=i.keys;o<p.length;o++){var q=p[o];f.indexOf(q)===-1&&f.push(q)}}return new d(c,f,e)},d.prototype.freeze=function(){return this.isFrozen=!0,this},d.prototype.mergeContents=function(a,b){for(var c=0,e=Object.keys(b);c<e.length;c++){var f=e[c];if(f in a){if(Ab(a[f])&&Ab(b[f])){this.mergeContents(a[f],b[f]);continue}}a[f]=jd(b[f])}},d.prototype.checkAndFreeze=function(a){return this.isFrozen&&!Object.isFrozen(a)?bB(a):a},d.prototype.getContentsForOverrideIdentifer=function(a){for(var b=0,c=this.overrides;b<c.length;b++){var e=c[b];if(e.identifiers.indexOf(a)!==-1)return e.contents}return null},d.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}},d.prototype.setValue=function(a,b){this.addKey(a),ks(this.contents,a,b,function(c){throw new Error(c)})},d.prototype.removeValue=function(a){this.removeKey(a)&&cM(this.contents,a)},d.prototype.addKey=function(a){for(var b=this.keys.length,c=0;c<b;c++)a.indexOf(this.keys[c])===0&&(b=c);this.keys.splice(b,1,a)},d.prototype.removeKey=function(a){var b=this.keys.indexOf(a);return b!==-1?(this.keys.splice(b,1),!0):!1},d}(),XK=function(d){V3(a,d);function a(){for(var b=this,c=fM(),e=eM(),f=[],g=0,h=Object.keys(c);g<h.length;g++){var i=h[g];ls.test(i)&&f.push({identifiers:[gM(i).trim()],keys:Object.keys(c[i]),contents:bM(c[i],function(j){return console.error("Conflict in default settings file: "+j)})})}return b=d.call(this,c,e,f)||this,b}return a}(Pi),WK=function(){function d(a,b,c,e,f,g,h,i){c===void 0&&(c=new Pi()),e===void 0&&(e=new Pi()),f===void 0&&(f=new Io()),g===void 0&&(g=new Pi()),h===void 0&&(h=new Io()),i===void 0&&(i=!0),this._defaultConfiguration=a,this._localUserConfiguration=b,this._remoteUserConfiguration=c,this._workspaceConfiguration=e,this._folderConfigurations=f,this._memoryConfiguration=g,this._memoryConfigurationByResource=h,this._freeze=i,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Io(),this._userConfiguration=null}return d.prototype.getValue=function(a,b,c){var e=this.getConsolidateConfigurationModel(b,c);return e.getValue(a)},d.prototype.updateValue=function(a,b,c){c===void 0&&(c={});var e;c.resource?(e=this._memoryConfigurationByResource.get(c.resource),e||(e=new Pi(),this._memoryConfigurationByResource.set(c.resource,e))):e=this._memoryConfiguration,b===void 0?e.removeValue(a):e.setValue(a,b),c.resource||(this._workspaceConsolidatedConfiguration=null)},d.prototype.inspect=function(a,b,c){var e=this.getConsolidateConfigurationModel(b,c),f=this.getFolderConfigurationModelForResource(b.resource,c),g=b.resource?this._memoryConfigurationByResource.get(b.resource)||this._memoryConfiguration:this._memoryConfiguration,h=b.overrideIdentifier?this._defaultConfiguration.freeze().override(b.overrideIdentifier).getValue(a):this._defaultConfiguration.freeze().getValue(a),i=b.overrideIdentifier?this.userConfiguration.freeze().override(b.overrideIdentifier).getValue(a):this.userConfiguration.freeze().getValue(a),j=b.overrideIdentifier?this.localUserConfiguration.freeze().override(b.overrideIdentifier).getValue(a):this.localUserConfiguration.freeze().getValue(a),k=b.overrideIdentifier?this.remoteUserConfiguration.freeze().override(b.overrideIdentifier).getValue(a):this.remoteUserConfiguration.freeze().getValue(a),l=c?b.overrideIdentifier?this._workspaceConfiguration.freeze().override(b.overrideIdentifier).getValue(a):this._workspaceConfiguration.freeze().getValue(a):void 0,m=f?b.overrideIdentifier?f.freeze().override(b.overrideIdentifier).getValue(a):f.freeze().getValue(a):void 0,n=b.overrideIdentifier?g.override(b.overrideIdentifier).getValue(a):g.getValue(a),o=e.getValue(a),p=ml(Ng(e.overrides.map(function(q){return q.identifiers}))).filter(function(q){return e.getOverrideValue(a,q)!==void 0});return{defaultValue:h,userValue:i,userLocalValue:j,userRemoteValue:k,workspaceValue:l,workspaceFolderValue:m,memoryValue:n,value:o,default:h!==void 0?{value:this._defaultConfiguration.freeze().getValue(a),override:b.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(a,b.overrideIdentifier):void 0}:void 0,user:i!==void 0?{value:this.userConfiguration.freeze().getValue(a),override:b.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(a,b.overrideIdentifier):void 0}:void 0,userLocal:j!==void 0?{value:this.localUserConfiguration.freeze().getValue(a),override:b.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(a,b.overrideIdentifier):void 0}:void 0,userRemote:k!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(a),override:b.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(a,b.overrideIdentifier):void 0}:void 0,workspace:l!==void 0?{value:this._workspaceConfiguration.freeze().getValue(a),override:b.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(a,b.overrideIdentifier):void 0}:void 0,workspaceFolder:m!==void 0?{value:f===null||f===void 0?void 0:f.freeze().getValue(a),override:b.overrideIdentifier?f===null||f===void 0?void 0:f.freeze().getOverrideValue(a,b.overrideIdentifier):void 0}:void 0,memory:n!==void 0?{value:g.getValue(a),override:b.overrideIdentifier?g.getOverrideValue(a,b.overrideIdentifier):void 0}:void 0,overrideIdentifiers:p.length?p:void 0}},Object.defineProperty(d.prototype,"userConfiguration",{get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"localUserConfiguration",{get:function(){return this._localUserConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"remoteUserConfiguration",{get:function(){return this._remoteUserConfiguration},enumerable:!0,configurable:!0}),d.prototype.getConsolidateConfigurationModel=function(a,b){var c=this.getConsolidatedConfigurationModelForResource(a,b);return a.overrideIdentifier?c.override(a.overrideIdentifier):c},d.prototype.getConsolidatedConfigurationModelForResource=function(a,b){var c=a.resource,e=this.getWorkspaceConsolidatedConfiguration();if(b&&c){var f=b.getFolder(c);f&&(e=this.getFolderConsolidatedConfiguration(f.uri)||e);var g=this._memoryConfigurationByResource.get(c);g&&(e=e.merge(g))}return e},d.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration},d.prototype.getFolderConsolidatedConfiguration=function(a){var b=this._foldersConsolidatedConfigurations.get(a);if(!b){var c=this.getWorkspaceConsolidatedConfiguration(),e=this._folderConfigurations.get(a);e?(b=c.merge(e),this._freeze&&(b=b.freeze()),this._foldersConsolidatedConfigurations.set(a,b)):b=c}return b},d.prototype.getFolderConfigurationModelForResource=function(a,b){if(b&&a){var c=b.getFolder(a);if(c)return this._folderConfigurations.get(c.uri)}return},d}();var r4=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),YK=function(d){r4(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g._contextKeyService=b,g._commandService=c,g._telemetryService=e,g._notificationService=f,g._onDidUpdateKeybindings=g._register(new E()),g._currentChord=null,g._currentChordChecker=new Qf(),g._currentChordStatusMessage=null,g}return Object.defineProperty(a.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:da.None},enumerable:!0,configurable:!0}),a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.getKeybindings=function(){return this._getResolver().getKeybindings()},a.prototype.lookupKeybinding=function(b){var c=this._getResolver().lookupPrimaryKeybinding(b);return c?c.resolvedKeybinding:void 0},a.prototype.softDispatch=function(b,c){var e=this.resolveKeyboardEvent(b);if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var f=e.getDispatchParts()[0];if(f===null)return null;var g=this._contextKeyService.getContext(c),h=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(g,h,f)},a.prototype._enterChordMode=function(b,c){var e=this;this._currentChord={keypress:b,label:c},this._currentChordStatusMessage=this._notificationService.status(s("first.chord","({0}) was pressed. Waiting for second key of chord...",c));var f=Date.now();this._currentChordChecker.cancelAndSet(function(){if(!e._documentHasFocus()){e._leaveChordMode();return}Date.now()-f>5e3&&e._leaveChordMode()},500)},a.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null},a.prototype._dispatch=function(b,c){return this._doDispatch(this.resolveKeyboardEvent(b),c)},a.prototype._doDispatch=function(b,c){var e=this,f=!1;if(b.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;var g=b.getDispatchParts()[0];if(g===null)return f;var h=this._contextKeyService.getContext(c),i=this._currentChord?this._currentChord.keypress:null,j=b.getLabel(),k=this._getResolver().resolve(h,i,g);return k&&k.enterChord?(f=!0,this._enterChordMode(g,j),f):(this._currentChord&&((!k||!k.commandId)&&(this._notificationService.status(s("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,j),{hideAfter:10*1e3}),f=!0)),this._leaveChordMode(),k&&k.commandId&&(k.bubble||(f=!0),typeof k.commandArgs==="undefined"?this._commandService.executeCommand(k.commandId).then(void 0,function(l){return e._notificationService.warn(l)}):this._commandService.executeCommand(k.commandId,k.commandArgs).then(void 0,function(l){return e._notificationService.warn(l)}),this._telemetryService.publicLog2("workbenchActionExecuted",{id:k.commandId,from:"keybinding"})),f)},a.prototype.mightProducePrintableCharacter=function(b){return b.ctrlKey||b.metaKey?!1:b.keyCode>=31&&b.keyCode<=56||b.keyCode>=21&&b.keyCode<=30?!0:!1},a}(I);var f4=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Z=function(){function d(){}return d.has=function(a){return Xk.create(a)},d.equals=function(a,b){return iy.create(a,b)},d.regex=function(a,b){return vM.create(a,b)},d.not=function(a){return Cn.create(a)},d.and=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return wM.create(a)},d.or=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Yk.create(a)},d.deserialize=function(a,b){return b===void 0&&(b=!1),a?this._deserializeOrExpression(a,b):void 0},d._deserializeOrExpression=function(a,b){var c=this,e=a.split("||");return Yk.create(e.map(function(f){return c._deserializeAndExpression(f,b)}))},d._deserializeAndExpression=function(a,b){var c=this,e=a.split("&&");return wM.create(e.map(function(f){return c._deserializeOne(f,b)}))},d._deserializeOne=function(a,b){a=a.trim();if(a.indexOf("!=")>=0){var c=a.split("!=");return uM.create(c[0].trim(),this._deserializeValue(c[1],b))}if(a.indexOf("==")>=0){var c=a.split("==");return iy.create(c[0].trim(),this._deserializeValue(c[1],b))}if(a.indexOf("=~")>=0){var c=a.split("=~");return vM.create(c[0].trim(),this._deserializeRegexValue(c[1],b))}return/^\!\s*/.test(a)?Cn.create(a.substr(1).trim()):Xk.create(a)},d._deserializeValue=function(a,b){a=a.trim();if(a==="true")return!0;if(a==="false")return!1;var c=/^'([^']*)'$/.exec(a);return c?c[1].trim():a},d._deserializeRegexValue=function(a,b){if(Ro(a)){if(b)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}var c=a.indexOf("/"),e=a.lastIndexOf("/");if(c===e||c<0){if(b)throw new Error("bad regexp-value '"+a+"', missing /-enclosure");return console.warn("bad regexp-value '"+a+"', missing /-enclosure"),null}var f=a.slice(c+1,e),g=a[e+1]==="i"?"i":"";try{return new RegExp(f,g)}catch(h){if(b)throw new Error("bad regexp-value '"+a+"', parse error: "+h);return console.warn("bad regexp-value '"+a+"', parse error: "+h),null}},d}();function hy(d,a){var b=d.getType(),c=a.getType();if(b!==c)return b-c;switch(b){case 1:return d.cmp(a);case 2:return d.cmp(a);case 3:return d.cmp(a);case 4:return d.cmp(a);case 6:return d.cmp(a);case 7:return d.cmp(a);case 5:return d.cmp(a);default:throw new Error("Unknown ContextKeyExpr!")}}var Xk=function(){function d(a){this.key=a}return d.create=function(a){return new d(a)},d.prototype.getType=function(){return 1},d.prototype.cmp=function(a){return this.key<a.key?-1:this.key>a.key?1:0},d.prototype.equals=function(a){return a instanceof d?this.key===a.key:!1},d.prototype.evaluate=function(a){return!!a.getValue(this.key)},d.prototype.keys=function(){return[this.key]},d.prototype.negate=function(){return Cn.create(this.key)},d}(),iy=function(){function d(a,b){this.key=a,this.value=b}return d.create=function(a,b){return typeof b==="boolean"?b?Xk.create(a):Cn.create(a):new d(a,b)},d.prototype.getType=function(){return 3},d.prototype.cmp=function(a){return this.key<a.key?-1:this.key>a.key?1:this.value<a.value?-1:this.value>a.value?1:0},d.prototype.equals=function(a){return a instanceof d?this.key===a.key&&this.value===a.value:!1},d.prototype.evaluate=function(a){return a.getValue(this.key)==this.value},d.prototype.keys=function(){return[this.key]},d.prototype.negate=function(){return uM.create(this.key,this.value)},d}(),uM=function(){function d(a,b){this.key=a,this.value=b}return d.create=function(a,b){return typeof b==="boolean"?b?Cn.create(a):Xk.create(a):new d(a,b)},d.prototype.getType=function(){return 4},d.prototype.cmp=function(a){return this.key<a.key?-1:this.key>a.key?1:this.value<a.value?-1:this.value>a.value?1:0},d.prototype.equals=function(a){return a instanceof d?this.key===a.key&&this.value===a.value:!1},d.prototype.evaluate=function(a){return a.getValue(this.key)!=this.value},d.prototype.keys=function(){return[this.key]},d.prototype.negate=function(){return iy.create(this.key,this.value)},d}(),Cn=function(){function d(a){this.key=a}return d.create=function(a){return new d(a)},d.prototype.getType=function(){return 2},d.prototype.cmp=function(a){return this.key<a.key?-1:this.key>a.key?1:0},d.prototype.equals=function(a){return a instanceof d?this.key===a.key:!1},d.prototype.evaluate=function(a){return!a.getValue(this.key)},d.prototype.keys=function(){return[this.key]},d.prototype.negate=function(){return Xk.create(this.key)},d}(),vM=function(){function d(a,b){this.key=a,this.regexp=b}return d.create=function(a,b){return new d(a,b)},d.prototype.getType=function(){return 6},d.prototype.cmp=function(a){if(this.key<a.key)return-1;if(this.key>a.key)return 1;var b=this.regexp?this.regexp.source:"",c=a.regexp?a.regexp.source:"";return b<c?-1:b>c?1:0},d.prototype.equals=function(a){if(a instanceof d){var b=this.regexp?this.regexp.source:"",c=a.regexp?a.regexp.source:"";return this.key===a.key&&b===c}return!1},d.prototype.evaluate=function(a){var b=a.getValue(this.key);return this.regexp?this.regexp.test(b):!1},d.prototype.keys=function(){return[this.key]},d.prototype.negate=function(){return g4.create(this)},d}(),g4=function(){function d(a){this._actual=a}return d.create=function(a){return new d(a)},d.prototype.getType=function(){return 7},d.prototype.cmp=function(a){return this._actual.cmp(a._actual)},d.prototype.equals=function(a){return a instanceof d?this._actual.equals(a._actual):!1},d.prototype.evaluate=function(a){return!this._actual.evaluate(a)},d.prototype.keys=function(){return this._actual.keys()},d.prototype.negate=function(){return this._actual},d}(),wM=function(){function d(a){this.expr=a}return d.create=function(a){var b=d._normalizeArr(a);return b.length===0?void 0:b.length===1?b[0]:new d(b)},d.prototype.getType=function(){return 5},d.prototype.cmp=function(a){if(this.expr.length<a.expr.length)return-1;if(this.expr.length>a.expr.length)return 1;for(var b=0,c=this.expr.length;b<c;b++){var e=hy(this.expr[b],a.expr[b]);if(e!==0)return e}return 0},d.prototype.equals=function(a){if(a instanceof d){if(this.expr.length!==a.expr.length)return!1;for(var b=0,c=this.expr.length;b<c;b++)if(!this.expr[b].equals(a.expr[b]))return!1;return!0}return!1},d.prototype.evaluate=function(a){for(var b=0,c=this.expr.length;b<c;b++)if(!this.expr[b].evaluate(a))return!1;return!0},d._normalizeArr=function(a){var b=[];if(a){for(var c=0,e=a.length;c<e;c++){var f=a[c];if(!f)continue;if(f instanceof d){b=b.concat(f.expr);continue}if(f instanceof Yk)throw new Error('It is not allowed to have an or expression here due to lack of parens! For example "a && (b||c)" is not supported, use "(a&&b) || (a&&c)" instead.');b.push(f)}b.sort(hy)}return b},d.prototype.keys=function(){for(var a=[],b=0,c=this.expr;b<c.length;b++){var e=c[b];a.push.apply(a,e.keys())}return a},d.prototype.negate=function(){for(var a=[],b=0,c=this.expr;b<c.length;b++){var e=c[b];a.push(e.negate())}return Yk.create(a)},d}(),Yk=function(){function d(a){this.expr=a}return d.create=function(a){var b=d._normalizeArr(a);return b.length===0?void 0:b.length===1?b[0]:new d(b)},d.prototype.getType=function(){return 8},d.prototype.equals=function(a){if(a instanceof d){if(this.expr.length!==a.expr.length)return!1;for(var b=0,c=this.expr.length;b<c;b++)if(!this.expr[b].equals(a.expr[b]))return!1;return!0}return!1},d.prototype.evaluate=function(a){for(var b=0,c=this.expr.length;b<c;b++)if(this.expr[b].evaluate(a))return!0;return!1},d._normalizeArr=function(a){var b=[];if(a){for(var c=0,e=a.length;c<e;c++){var f=a[c];if(!f)continue;if(f instanceof d){b=b.concat(f.expr);continue}b.push(f)}b.sort(hy)}return b},d.prototype.keys=function(){for(var a=[],b=0,c=this.expr;b<c.length;b++){var e=c[b];a.push.apply(a,e.keys())}return a},d.prototype.negate=function(){for(var a=[],b=0,c=this.expr;b<c.length;b++){var e=c[b];a.push(e.negate())}for(var f=function(p){return p instanceof d?p.expr:[p]};a.length>1;){for(var g=a.shift(),h=a.shift(),i=[],j=0,k=f(g);j<k.length;j++)for(var l=k[j],m=0,n=f(h);m<n.length;m++){var o=n[m];i.push(Z.and(l,o))}a.unshift(Z.or.apply(Z,i))}return a[0]},d}(),ea=function(d){f4(a,d);function a(b,c){var e=d.call(this,b)||this;return e._defaultValue=c,e}return a.prototype.bindTo=function(b){return b.createKey(this.key,this._defaultValue)},a.prototype.getValue=function(b){return b.getContextKeyValue(this.key)},a.prototype.toNegated=function(){return Z.not(this.key)},a}(Xk),ha=ia("contextKeyService"),qM="setContext";var fs=function(){function d(a,b){this._defaultKeybindings=a,this._defaultBoundCommands=new Map();for(var c=0,e=a.length;c<e;c++){var f=a[c].command;f&&this._defaultBoundCommands.set(f,!0)}this._map=new Map(),this._lookupMap=new Map(),this._keybindings=d.combine(a,b);for(var c=0,e=this._keybindings.length;c<e;c++){var g=this._keybindings[c];if(g.keypressParts.length===0)continue;this._addKeyPress(g.keypressParts[0],g)}}return d._isTargetedForRemoval=function(a,b,c,e,f){if(a.command!==e)return!1;if(b&&a.keypressParts[0]!==b)return!1;if(c&&a.keypressParts[1]!==c)return!1;if(f){if(!a.when)return!1;if(!f.equals(a.when))return!1}return!0},d.combine=function(a,b){a=a.slice(0);for(var c=[],e=0,f=b;e<f.length;e++){var g=f[e];if(!g.command||g.command.length===0||g.command.charAt(0)!=="-"){c.push(g);continue}for(var h=g.command.substr(1),i=g.keypressParts[0],j=g.keypressParts[1],k=g.when,l=a.length-1;l>=0;l--)this._isTargetedForRemoval(a[l],i,j,h,k)&&a.splice(l,1)}return a.concat(c)},d.prototype._addKeyPress=function(a,b){var c=this._map.get(a);if(typeof c==="undefined"){this._map.set(a,[b]),this._addToLookupMap(b);return}for(var e=c.length-1;e>=0;e--){var f=c[e];if(f.command===b.command)continue;var g=f.keypressParts.length>1,h=b.keypressParts.length>1;if(g&&h&&f.keypressParts[1]!==b.keypressParts[1])continue;d.whenIsEntirelyIncluded(f.when,b.when)&&this._removeFromLookupMap(f)}c.push(b),this._addToLookupMap(b)},d.prototype._addToLookupMap=function(a){if(!a.command)return;var b=this._lookupMap.get(a.command);typeof b==="undefined"?(b=[a],this._lookupMap.set(a.command,b)):b.push(a)},d.prototype._removeFromLookupMap=function(a){if(!a.command)return;var b=this._lookupMap.get(a.command);if(typeof b==="undefined")return;for(var c=0,e=b.length;c<e;c++)if(b[c]===a){b.splice(c,1);return}},d.whenIsEntirelyIncluded=function(a,b){return b?a?this._implies(a,b):!1:!0},d._implies=function(a,b){for(var c=a.negate(),e=function(l){return l instanceof Yk?l.expr:[l]},f=e(c).concat(e(b)),g=0;g<f.length;g++)for(var h=f[g],i=h.negate(),j=g+1;j<f.length;j++){var k=f[j];if(i.equals(k))return!0}return!1},d.prototype.getKeybindings=function(){return this._keybindings},d.prototype.lookupPrimaryKeybinding=function(a){var b=this._lookupMap.get(a);return typeof b==="undefined"||b.length===0?null:b[b.length-1]},d.prototype.resolve=function(a,b,c){var e=null;if(b!==null){var f=this._map.get(b);if(typeof f==="undefined")return null;e=[];for(var g=0,h=f.length;g<h;g++){var i=f[g];i.keypressParts[1]===c&&e.push(i)}}else{var f=this._map.get(c);if(typeof f==="undefined")return null;e=f}var j=this._findCommand(a,e);return j?b===null&&j.keypressParts.length>1&&j.keypressParts[1]!==null?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:j.command,commandArgs:j.commandArgs,bubble:j.bubble}:null},d.prototype._findCommand=function(a,b){for(var c=b.length-1;c>=0;c--){var e=b[c];if(!d.contextMatchesRules(a,e.when))continue;return e}return null},d.contextMatchesRules=function(a,b){return b?b.evaluate(a):!0},d}();var t4=function(){function d(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}return d.bindToCurrentPlatform=function(a){if(Gd===1){if(a&&a.win)return a.win}else if(Gd===2){if(a&&a.mac)return a.mac}else if(a&&a.linux)return a.linux;return a},d.prototype.registerKeybindingRule=function(a){var b=d.bindToCurrentPlatform(a);if(b&&b.primary){var c=Vh(b.primary,Gd);c&&this._registerDefaultKeybinding(c,a.id,a.args,a.weight,0,a.when)}if(b&&Array.isArray(b.secondary))for(var e=0,f=b.secondary.length;e<f;e++){var g=b.secondary[e],c=Vh(g,Gd);c&&this._registerDefaultKeybinding(c,a.id,a.args,a.weight,-e-1,a.when)}},d.prototype.registerCommandAndKeybindingRule=function(a){this.registerKeybindingRule(a),Ca.registerCommand(a)},d._mightProduceChar=function(a){return a>=21&&a<=30?!0:a>=31&&a<=56?!0:a===80||a===81||a===82||a===83||a===84||a===85||a===86||a===110||a===111||a===87||a===88||a===89||a===90||a===91||a===92},d.prototype._assertNoCtrlAlt=function(a,b){a.ctrlKey&&a.altKey&&!a.metaKey&&(d._mightProduceChar(a.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",a," for ",b))},d.prototype._registerDefaultKeybinding=function(a,b,c,e,f,g){Gd===1&&this._assertNoCtrlAlt(a.parts[0],b),this._coreKeybindings.push({keybinding:a,command:b,commandArgs:c,when:g,weight1:e,weight2:f}),this._cachedMergedKeybindings=null},d.prototype.getDefaultKeybindings=function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(v4)),this._cachedMergedKeybindings.slice(0)},d}(),nc=new t4(),u4={EditorModes:"platform.keybindingsRegistry"};ib.add(u4.EditorModes,nc);function v4(d,a){return d.weight1!==a.weight1?d.weight1-a.weight1:d.command<a.command?-1:d.command>a.command?1:d.weight2-a.weight2}var Gx=function(){function d(a,b,c,e,f){this.resolvedKeybinding=a,this.keypressParts=a?w4(a.getDispatchParts()):[],this.bubble=b?b.charCodeAt(0)===94:!1,this.command=this.bubble?b.substr(1):b,this.commandArgs=c,this.when=e,this.isDefault=f}return d}();function w4(d){for(var a=[],b=0,c=d.length;b<c;b++){var e=d[b];if(!e)return a;a.push(e)}return a}var QA=function(){function d(a,b,c){c===void 0&&(c=b),this.modifierLabels=[null],this.modifierLabels[2]=a,this.modifierLabels[1]=b,this.modifierLabels[3]=c}return d.prototype.toLabel=function(a,b,c){if(b.length===0)return null;for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f],i=c(h);if(i===null)return null;e[f]=xQ(h,i,this.modifierLabels[a])}return e.join(" ")},d}(),_n=new QA({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:s({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:s({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:s({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:s({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:s({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:s({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:s({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:s({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),RA=new QA({ctrlKey:s({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:s({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:s({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:s({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:s({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:s({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function xQ(d,a,b){if(a===null)return"";var c=[];return d.ctrlKey&&c.push(b.ctrlKey),d.shiftKey&&c.push(b.shiftKey),d.altKey&&c.push(b.altKey),d.metaKey&&c.push(b.metaKey),c.push(a),c.join(b.separator)}var s4=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),GM=function(d){s4(a,d);function a(b,c){var e=d.call(this)||this;if(c.length===0)throw Qb("parts");return e._os=b,e._parts=c,e}return a.prototype.getLabel=function(){var b=this;return _n.toLabel(this._os,this._parts,function(c){return b._getLabel(c)})},a.prototype.getAriaLabel=function(){var b=this;return RA.toLabel(this._os,this._parts,function(c){return b._getAriaLabel(c)})},a.prototype.isChord=function(){return this._parts.length>1},a.prototype.getParts=function(){var b=this;return this._parts.map(function(c){return b._getPart(c)})},a.prototype._getPart=function(b){return new OA(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,this._getLabel(b),this._getAriaLabel(b))},a.prototype.getDispatchParts=function(){var b=this;return this._parts.map(function(c){return b._getDispatchPart(c)})},a}(PA);var x4=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Hx=function(d){x4(a,d);function a(b,c){return d.call(this,c,b.parts)||this}return a.prototype._keyCodeToUILabel=function(b){if(this._os===2)switch(b){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return Bg.toString(b)},a.prototype._getLabel=function(b){return b.isDuplicateModifierCase()?"":this._keyCodeToUILabel(b.keyCode)},a.prototype._getAriaLabel=function(b){return b.isDuplicateModifierCase()?"":Bg.toString(b.keyCode)},a.prototype._getDispatchPart=function(b){return a.getDispatchStr(b)},a.getDispatchStr=function(b){if(b.isModifierKey())return null;var c="";return b.ctrlKey&&(c+="ctrl+"),b.shiftKey&&(c+="shift+"),b.altKey&&(c+="alt+"),b.metaKey&&(c+="meta+"),c+=Bg.toString(b.keyCode),c},a}(GM);var KZa=Zb,Ra=ia("notificationService"),ZK=function(){function d(){}return d}();var Ur=ia("contextService"),iN;(function(d){function a(b){return b&&typeof b==="object"&&typeof b.id==="string"&&Array.isArray(b.folders)}d.isIWorkspace=a})(iN||(iN={}));var jN;(function(d){function a(b){return b&&typeof b==="object"&&ja.isUri(b.uri)&&typeof b.name==="string"&&typeof b.toResource==="function"}d.isIWorkspaceFolder=a})(jN||(jN={}));var x_a=function(){function d(a,b,c){b===void 0&&(b=[]),c===void 0&&(c=null),this._id=a,this._configuration=c,this._foldersMap=Bl.forPaths(),this.folders=b}return Object.defineProperty(d.prototype,"folders",{get:function(){return this._folders},set:function(a){this._folders=a,this.updateFoldersMap()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"configuration",{get:function(){return this._configuration},set:function(a){this._configuration=a},enumerable:!0,configurable:!0}),d.prototype.getFolder=function(a){return a?this._foldersMap.findSubstr(a.with({scheme:a.scheme,authority:a.authority,path:a.path}).toString())||null:null},d.prototype.updateFoldersMap=function(){this._foldersMap=Bl.forPaths();for(var a=0,b=this.folders;a<b.length;a++){var c=b[a];this._foldersMap.set(c.uri.toString(),c)}},d.prototype.toJSON=function(){return{id:this.id,folders:this.folders,configuration:this.configuration}},d}(),_K=function(){function d(a,b){this.raw=b,this.uri=a.uri,this.index=a.index,this.name=a.name}return d.prototype.toResource=function(a){return pB(this.uri,a)},d.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}},d}();var Mb;(function(d){d.noSelection=s("noSelection","No selection"),d.singleSelectionRange=s("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),d.singleSelection=s("singleSelection","Line {0}, Column {1}"),d.multiSelectionRange=s("multiSelectionRange","{0} selections ({1} characters selected)"),d.multiSelection=s("multiSelection","{0} selections"),d.emergencyConfOn=s("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),d.openingDocs=s("openingDocs","Now opening the Editor Accessibility documentation page."),d.readonlyDiffEditor=s("readonlyDiffEditor"," in a read-only pane of a diff editor."),d.editableDiffEditor=s("editableDiffEditor"," in a pane of a diff editor."),d.readonlyEditor=s("readonlyEditor"," in a read-only code editor"),d.editableEditor=s("editableEditor"," in a code editor"),d.changeConfigToOnMac=s("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),d.changeConfigToOnWinLinux=s("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),d.auto_on=s("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),d.auto_off=s("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),d.tabFocusModeOnMsg=s("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),d.tabFocusModeOnMsgNoKb=s("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),d.tabFocusModeOffMsg=s("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),d.tabFocusModeOffMsgNoKb=s("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),d.openDocMac=s("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),d.openDocWinLinux=s("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),d.outroMsg=s("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),d.showAccessibilityHelpAction=s("showAccessibilityHelpAction","Show Accessibility Help")})(Mb||(Mb={}));var Lq;(function(d){d.inspectTokensAction=s("inspectTokens","Developer: Inspect Tokens")})(Lq||(Lq={}));var Af;(function(d){d.gotoLineLabelValidLineAndColumn=s("gotoLineLabelValidLineAndColumn","Go to line {0} and character {1}"),d.gotoLineLabelValidLine=s("gotoLineLabelValidLine","Go to line {0}"),d.gotoLineLabelEmptyWithLineLimit=s("gotoLineLabelEmptyWithLineLimit","Type a line number between 1 and {0} to navigate to"),d.gotoLineLabelEmptyWithLineAndColumnLimit=s("gotoLineLabelEmptyWithLineAndColumnLimit","Type a character between 1 and {0} to navigate to"),d.gotoLineAriaLabel=s("gotoLineAriaLabel","Current Line: {0}. Go to line {1}."),d.gotoLineActionInput=s("gotoLineActionInput","Type a line number, followed by an optional colon and a character number to navigate to"),d.gotoLineActionLabel=s("gotoLineActionLabel","Go to Line...")})(Af||(Af={}));var zi;(function(d){d.ariaLabelEntryWithKey=s("ariaLabelEntryWithKey","{0}, {1}, commands"),d.ariaLabelEntry=s("ariaLabelEntry","{0}, commands"),d.quickCommandActionInput=s("quickCommandActionInput","Type the name of an action you want to execute"),d.quickCommandActionLabel=s("quickCommandActionLabel","Command Palette")})(zi||(zi={}));var Tc;(function(d){d.entryAriaLabel=s("entryAriaLabel","{0}, symbols"),d.quickOutlineActionInput=s("quickOutlineActionInput","Type the name of an identifier you wish to navigate to"),d.quickOutlineActionLabel=s("quickOutlineActionLabel","Go to Symbol..."),d._symbols_=s("symbols","symbols ({0})"),d._modules_=s("modules","modules ({0})"),d._class_=s("class","classes ({0})"),d._interface_=s("interface","interfaces ({0})"),d._method_=s("method","methods ({0})"),d._function_=s("function","functions ({0})"),d._property_=s("property","properties ({0})"),d._variable_=s("variable","variables ({0})"),d._variable2_=s("variable2","variables ({0})"),d._constructor_=s("_constructor","constructors ({0})"),d._call_=s("call","calls ({0})")})(Tc||(Tc={}));var lk;(function(d){d.editorViewAccessibleLabel=s("editorViewAccessibleLabel","Editor content"),d.accessibilityHelpMessageIE=s("accessibilityHelpMessageIE","Press Ctrl+F1 for Accessibility Options."),d.accessibilityHelpMessage=s("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(lk||(lk={}));var Mq;(function(d){d.toggleHighContrast=s("toggleHighContrast","Toggle High Contrast Theme")})(Mq||(Mq={}));var Nq;(function(d){d.bulkEditServiceSummary=s("bulkEditServiceSummary","Made {0} edits in {1} files")})(Nq||(Nq={}));var p2=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),q2=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},r2=function(d,a){return function(b,c){a(b,c,d)}},s2=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},t2=function(){function d(a){this.model=a,this._onDispose=new E()}return Object.defineProperty(d.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),d.prototype.dispose=function(){this._onDispose.fire()},d}();function u2(d,a,b){return Id(d)?a(d):b(d)}var $K=function(){function d(a){this.modelService=a}return d.prototype.setEditor=function(a){this.editor=a},d.prototype.createModelReference=function(a){var b=this,c=null;return this.editor&&(c=u2(this.editor,function(e){return b.findModel(e,a)},function(e){return b.findModel(e.getOriginalEditor(),a)||b.findModel(e.getModifiedEditor(),a)})),c?Promise.resolve(new WA(new t2(c))):Promise.reject(new Error("Model not found"))},d.prototype.findModel=function(a,b){var c=this.modelService?this.modelService.getModel(b):a.getModel();return c&&c.uri.toString()!==b.toString()?null:c},d}(),aL=function(){function d(){}return d.prototype.show=function(){return d.NULL_PROGRESS_RUNNER},d.prototype.showWhile=function(a,b){return Promise.resolve(void 0)},d.NULL_PROGRESS_RUNNER={done:function(){},total:function(){},worked:function(){}},d}(),bL=function(){function d(){}return d}(),cL=function(){function d(){}return d.prototype.info=function(a){return this.notify({severity:Zb.Info,message:a})},d.prototype.warn=function(a){return this.notify({severity:Zb.Warning,message:a})},d.prototype.error=function(a){return this.notify({severity:Zb.Error,message:a})},d.prototype.notify=function(a){switch(a.severity){case Zb.Error:console.error(a.message);break;case Zb.Warning:console.warn(a.message);break;default:console.log(a.message);break}return d.NO_OP},d.prototype.status=function(a,b){return I.None},d.NO_OP=new ZK(),d}(),Ix=function(){function d(a){this._onWillExecuteCommand=new E(),this._onDidExecuteCommand=new E(),this._instantiationService=a,this._dynamicCommands=Object.create(null)}return d.prototype.addCommand=function(a){var b=this,c=a.id;return this._dynamicCommands[c]=a,va(function(){delete b._dynamicCommands[c]})},d.prototype.executeCommand=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var e=Ca.getCommand(a)||this._dynamicCommands[a];if(!e)return Promise.reject(new Error("command '"+a+"' not found"));try{this._onWillExecuteCommand.fire({commandId:a,args:b});var f=this._instantiationService.invokeFunction.apply(this._instantiationService,s2([e.handler],b));return this._onDidExecuteCommand.fire({commandId:a,args:b}),Promise.resolve(f)}catch(g){return Promise.reject(g)}},d}(),gs=function(d){p2(a,d);function a(b,c,e,f,g){var h=d.call(this,b,c,e,f)||this;return h._cachedResolver=null,h._dynamicKeybindings=[],h._register(R(g,pa.KEY_DOWN,function(i){var j=new Pa(i),k=h._dispatch(j,j.target);k&&(j.preventDefault(),j.stopPropagation())})),h}return a.prototype.addDynamicKeybinding=function(b,c,e,f){var g=this,h=Vh(c,Gd),i=new P();h&&(this._dynamicKeybindings.push({keybinding:h,command:b,when:f,weight1:1e3,weight2:0}),i.add(va(function(){for(var k=0;k<g._dynamicKeybindings.length;k++){var l=g._dynamicKeybindings[k];if(l.command===b){g._dynamicKeybindings.splice(k,1),g.updateResolver({source:1});return}}})));var j=this._commandService;if(j instanceof Ix)i.add(j.addCommand({id:b,handler:e}));else throw new Error("Unknown command service!");return this.updateResolver({source:1}),i},a.prototype.updateResolver=function(b){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(b)},a.prototype._getResolver=function(){if(!this._cachedResolver){var b=this._toNormalizedKeybindingItems(nc.getDefaultKeybindings(),!0),c=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new fs(b,c)}return this._cachedResolver},a.prototype._documentHasFocus=function(){return document.hasFocus()},a.prototype._toNormalizedKeybindingItems=function(b,c){for(var e=[],f=0,g=0,h=b;g<h.length;g++){var i=h[g],j=i.when||void 0,k=i.keybinding;if(!k)e[f++]=new Gx(void 0,i.command,i.commandArgs,j,c);else for(var l=this.resolveKeybinding(k),m=0,n=l;m<n.length;m++){var o=n[m];e[f++]=new Gx(o,i.command,i.commandArgs,j,c)}}return e},a.prototype.resolveKeybinding=function(b){return[new Hx(b,Gd)]},a.prototype.resolveKeyboardEvent=function(b){var c=new Cg(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,b.keyCode).toChord();return new Hx(c,Gd)},a}(YK);function dL(d){return d&&typeof d==="object"&&(!d.overrideIdentifier||typeof d.overrideIdentifier==="string")&&(!d.resource||d.resource instanceof ja)}var Jx=function(){function d(){this._onDidChangeConfiguration=new E(),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new WK(new XK(),new Pi())}return d.prototype.configuration=function(){return this._configuration},d.prototype.getValue=function(a,b){var c=typeof a==="string"?a:void 0,e=dL(a)?a:dL(b)?b:{};return this.configuration().getValue(c,e,void 0)},d.prototype.updateValue=function(a,b,c,e){return this.configuration().updateValue(a,b),Promise.resolve()},d.prototype.inspect=function(a,b){return b===void 0&&(b={}),this.configuration().inspect(a,b,void 0)},d}(),eL=function(){function d(a){var b=this;this.configurationService=a,this._onDidChangeConfiguration=new E(),this.configurationService.onDidChangeConfiguration(function(c){b._onDidChangeConfiguration.fire({affectedKeys:c.affectedKeys,affectsConfiguration:function(e,f){return c.affectsConfiguration(f)}})})}return d.prototype.getValue=function(a,b,c){var e=G.isIPosition(b)?b:null,f=e?typeof c==="string"?c:void 0:typeof b==="string"?b:void 0;return typeof f==="undefined"?this.configurationService.getValue():this.configurationService.getValue(f)},d}(),fL=function(){function d(a){this.configurationService=a}return d.prototype.getEOL=function(a,b){var c=this.configurationService.getValue("files.eol",{overrideIdentifier:b,resource:a});return c&&c!=="auto"?c:cc||ka?`
`:`\r
`},d=q2([r2(0,gb)],d),d}(),gL=function(){function d(){}return d.prototype.publicLog=function(a,b){return Promise.resolve(void 0)},d.prototype.publicLog2=function(a,b){return this.publicLog(a,b)},d}(),hL=function(){function d(){var a=ja.from({scheme:d.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new _K({uri:a,name:"",index:0})]}}return d.prototype.getWorkspace=function(){return this.workspace},d.prototype.getWorkspaceFolder=function(a){return a&&a.scheme===d.SCHEME?this.workspace.folders[0]:null},d.SCHEME="inmemory",d}();function xn(d,a,b){if(!a)return;if(!(d instanceof Jx))return;Object.keys(a).forEach(function(c){TE(c)&&d.updateValue("editor."+c,a[c]),b&&UE(c)&&d.updateValue("diffEditor."+c,a[c])})}var iL=function(){function d(a){this._modelService=a}return d.prototype.hasPreviewHandler=function(){return!1},d.prototype.apply=function(a,b){var c=new Map();if(a.edits)for(var e=0,f=a.edits;e<f.length;e++){var g=f[e];if(!Sp.is(g))return Promise.reject(new Error("bad edit - only text edits are supported"));var h=this._modelService.getModel(g.resource);if(!h)return Promise.reject(new Error("bad edit - model not found"));var i=c.get(h);i||(i=[],c.set(h,i)),i.push(g.edit)}var j=0,k=0;return c.forEach(function(l,m){m.pushStackElement(),m.pushEditOperations([],l.map(function(n){return jb.replaceMove(z.lift(n.range),n.text)}),function(){return[]}),m.pushStackElement(),k+=1,j+=l.length}),Promise.resolve({selection:void 0,ariaSummary:Ba(Nq.bulkEditServiceSummary,j,k)})},d}(),jL=function(){function d(){}return d.prototype.getUriLabel=function(a,b){return a.scheme==="file"?a.fsPath:a.path},d}(),kL=function(){function d(a){this._container=a,this.onLayout=da.None}return Object.defineProperty(d.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),d}();var dj,ej,fj;function az(d){dj=document.createElement("div"),dj.className="monaco-aria-container",ej=document.createElement("div"),ej.className="monaco-alert",ej.setAttribute("role","alert"),ej.setAttribute("aria-atomic","true"),dj.appendChild(ej),fj=document.createElement("div"),fj.className="monaco-status",fj.setAttribute("role","status"),fj.setAttribute("aria-atomic","true"),dj.appendChild(fj),d.appendChild(dj)}function Gb(d,a){cz(ej,d,a)}function Ws(d,a){ka?Gb(d,a):cz(fj,d,a)}var Vn=0,bz=void 0;function cz(d,a,b){if(!dj)return;if(!b){bz===a?Vn++:(bz=a,Vn=0);switch(Vn){case 0:break;case 1:a=s("repeated","{0} (occurred again)",a);break;default:a=s("repeatedNtimes","{0} (occurred {1} times)",a,Vn);break}}$b(d),d.textContent=a,d.style.visibility="hidden",d.style.visibility="visible"}var IC=function(){function d(a,b){this.chr=a,this.type=b,this.width=0}return d.prototype.fulfill=function(a){this.width=a},d}(),GR=function(){function d(a,b){this._bareFontInfo=a,this._requests=b,this._container=null,this._testElements=null}return d.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},d.prototype._createDomElements=function(){var a=document.createElement("div");a.style.position="absolute",a.style.top="-50000px",a.style.width="50000px";var b=document.createElement("div");b.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),b.style.fontWeight=this._bareFontInfo.fontWeight,b.style.fontSize=this._bareFontInfo.fontSize+"px",b.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,b.style.lineHeight=this._bareFontInfo.lineHeight+"px",b.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",a.appendChild(b);var c=document.createElement("div");c.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),c.style.fontWeight="bold",c.style.fontSize=this._bareFontInfo.fontSize+"px",c.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,c.style.lineHeight=this._bareFontInfo.lineHeight+"px",c.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",a.appendChild(c);var e=document.createElement("div");e.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),e.style.fontWeight=this._bareFontInfo.fontWeight,e.style.fontSize=this._bareFontInfo.fontSize+"px",e.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,e.style.lineHeight=this._bareFontInfo.lineHeight+"px",e.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.style.fontStyle="italic",a.appendChild(e);for(var f=[],g=0,h=this._requests;g<h.length;g++){var i=h[g],j=void 0;i.type===0&&(j=b),i.type===2&&(j=c),i.type===1&&(j=e),j.appendChild(document.createElement("br"));var k=document.createElement("span");d._render(k,i),j.appendChild(k),f.push(k)}this._container=a,this._testElements=f},d._render=function(a,b){if(b.chr===" "){for(var c="&#160;",e=0;e<8;e++)c+=c;a.innerHTML=c}else{for(var f=b.chr,e=0;e<8;e++)f+=f;a.textContent=f}},d.prototype._readFromDomElements=function(){for(var a=0,b=this._requests.length;a<b;a++){var c=this._requests[a],e=this._testElements[a];c.fulfill(e.offsetWidth/256)}},d}();function JC(d,a){var b=new GR(d,a);b.read()}var HR=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),bp=function(d){HR(a,d);function a(b,c,e){var f=d.call(this)||this;return f.referenceDomElement=b,f.changeCallback=e,f.width=-1,f.height=-1,f.mutationObserver=null,f.windowSizeListener=null,f.measureReferenceDomElement(!1,c),f}return a.prototype.dispose=function(){this.stopObserving(),d.prototype.dispose.call(this)},a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.startObserving=function(){var b=this;!this.mutationObserver&&this.referenceDomElement&&(this.mutationObserver=new MutationObserver(function(){return b._onDidMutate()}),this.mutationObserver.observe(this.referenceDomElement,{attributes:!0})),this.windowSizeListener||(this.windowSizeListener=R(window,"resize",function(){return b._onDidResizeWindow()}))},a.prototype.stopObserving=function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.windowSizeListener&&(this.windowSizeListener.dispose(),this.windowSizeListener=null)},a.prototype.observe=function(b){this.measureReferenceDomElement(!0,b)},a.prototype._onDidMutate=function(){this.measureReferenceDomElement(!0)},a.prototype._onDidResizeWindow=function(){this.measureReferenceDomElement(!0)},a.prototype.measureReferenceDomElement=function(b,c){var e=0,f=0;c?(e=c.width,f=c.height):this.referenceDomElement&&(e=this.referenceDomElement.clientWidth,f=this.referenceDomElement.clientHeight),e=Math.max(5,e),f=Math.max(5,f),(this.width!==e||this.height!==f)&&(this.width=e,this.height=f,b&&this.changeCallback())},a}(I);var KC=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),MC=function(){function d(){this._keys=Object.create(null),this._values=Object.create(null)}return d.prototype.has=function(a){var b=a.getId();return!!this._values[b]},d.prototype.get=function(a){var b=a.getId();return this._values[b]},d.prototype.put=function(a,b){var c=a.getId();this._keys[c]=a,this._values[c]=b},d.prototype.remove=function(a){var b=a.getId();delete this._keys[b],delete this._values[b]},d.prototype.getValues=function(){var a=this;return Object.keys(this._keys).map(function(b){return a._values[b]})},d}();function NC(){xu.INSTANCE.clearCache()}var xu=function(d){KC(a,d);function a(){var b=d.call(this)||this;return b._onDidChange=b._register(new E()),b.onDidChange=b._onDidChange.event,b._cache=new MC(),b._evictUntrustedReadingsTimeout=-1,b}return a.prototype.dispose=function(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),d.prototype.dispose.call(this)},a.prototype.clearCache=function(){this._cache=new MC(),this._onDidChange.fire()},a.prototype._writeToCache=function(b,c){var e=this;this._cache.put(b,c),!c.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(function(){e._evictUntrustedReadingsTimeout=-1,e._evictUntrustedReadings()},5e3))},a.prototype._evictUntrustedReadings=function(){for(var b=this._cache.getValues(),c=!1,e=0,f=b.length;e<f;e++){var g=b[e];g.isTrusted||(c=!0,this._cache.remove(g))}c&&this._onDidChange.fire()},a.prototype.readConfiguration=function(b){if(!this._cache.has(b)){var c=a._actualReadConfiguration(b);(c.typicalHalfwidthCharacterWidth<=2||c.typicalFullwidthCharacterWidth<=2||c.spaceWidth<=2||c.maxDigitWidth<=2)&&(c=new Nl({zoomLevel:In(),fontFamily:c.fontFamily,fontWeight:c.fontWeight,fontSize:c.fontSize,fontFeatureSettings:c.fontFeatureSettings,lineHeight:c.lineHeight,letterSpacing:c.letterSpacing,isMonospace:c.isMonospace,typicalHalfwidthCharacterWidth:Math.max(c.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(c.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:c.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(c.spaceWidth,5),middotWidth:Math.max(c.middotWidth,5),maxDigitWidth:Math.max(c.maxDigitWidth,5)},!1)),this._writeToCache(b,c)}return this._cache.get(b)},a.createRequest=function(b,c,e,f){var g=new IC(b,c);return e.push(g),f&&f.push(g),g},a._actualReadConfiguration=function(b){var c=[],e=[],f=this.createRequest("n",0,c,e),g=this.createRequest("ｍ",0,c,null),h=this.createRequest(" ",0,c,e),i=this.createRequest("0",0,c,e),j=this.createRequest("1",0,c,e),k=this.createRequest("2",0,c,e),l=this.createRequest("3",0,c,e),m=this.createRequest("4",0,c,e),n=this.createRequest("5",0,c,e),o=this.createRequest("6",0,c,e),p=this.createRequest("7",0,c,e),q=this.createRequest("8",0,c,e),r=this.createRequest("9",0,c,e),t=this.createRequest("→",0,c,e),v=this.createRequest("￫",0,c,null),w=this.createRequest("·",0,c,e);this.createRequest("|",0,c,e),this.createRequest("/",0,c,e),this.createRequest("-",0,c,e),this.createRequest("_",0,c,e),this.createRequest("i",0,c,e),this.createRequest("l",0,c,e),this.createRequest("m",0,c,e),this.createRequest("|",1,c,e),this.createRequest("_",1,c,e),this.createRequest("i",1,c,e),this.createRequest("l",1,c,e),this.createRequest("m",1,c,e),this.createRequest("n",1,c,e),this.createRequest("|",2,c,e),this.createRequest("_",2,c,e),this.createRequest("i",2,c,e),this.createRequest("l",2,c,e),this.createRequest("m",2,c,e),this.createRequest("n",2,c,e),JC(b,c);for(var x=Math.max(i.width,j.width,k.width,l.width,m.width,n.width,o.width,p.width,q.width,r.width),u=b.fontFeatureSettings===bg.OFF,y=e[0].width,A=1,F=e.length;u&&A<F;A++){var B=y-e[A].width;if(B<-.001||B>.001){u=!1;break}}var D=!0;u&&v.width!==y&&(D=!1),v.width>t.width&&(D=!1);var H=xy()>2e3;return new Nl({zoomLevel:In(),fontFamily:b.fontFamily,fontWeight:b.fontWeight,fontSize:b.fontSize,fontFeatureSettings:b.fontFeatureSettings,lineHeight:b.lineHeight,letterSpacing:b.letterSpacing,isMonospace:u,typicalHalfwidthCharacterWidth:f.width,typicalFullwidthCharacterWidth:g.width,canUseHalfwidthRightwardsArrow:D,spaceWidth:h.width,middotWidth:w.width,maxDigitWidth:x},H)},a.INSTANCE=new a(),a}(I),_b=function(d){KC(a,d);function a(b,c,e,f){e===void 0&&(e=null);var g=d.call(this,b,c)||this;return g.accessibilityService=f,g._elementSizeObserver=g._register(new bp(e,c.dimension,function(){return g._onReferenceDomElementSizeChanged()})),g._register(xu.INSTANCE.onDidChange(function(){return g._onCSSBasedConfigurationChanged()})),g._validatedOptions.get(9)&&g._elementSizeObserver.startObserving(),g._register(Jn(function(h){return g._recomputeOptions()})),g._register(g.accessibilityService.onDidChangeScreenReaderOptimized(function(){return g._recomputeOptions()})),g._recomputeOptions(),g}return a.applyFontInfoSlow=function(b,c){b.style.fontFamily=c.getMassagedFontFamily(),b.style.fontWeight=c.fontWeight,b.style.fontSize=c.fontSize+"px",b.style.fontFeatureSettings=c.fontFeatureSettings,b.style.lineHeight=c.lineHeight+"px",b.style.letterSpacing=c.letterSpacing+"px"},a.applyFontInfo=function(b,c){b.setFontFamily(c.getMassagedFontFamily()),b.setFontWeight(c.fontWeight),b.setFontSize(c.fontSize),b.setFontFeatureSettings(c.fontFeatureSettings),b.setLineHeight(c.lineHeight),b.setLetterSpacing(c.letterSpacing)},a.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},a.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},a.prototype.observeReferenceElement=function(b){this._elementSizeObserver.observe(b)},a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype._getExtraEditorClassName=function(){var b="";return!Ze&&!zy&&(b+="no-user-select "),ka&&(b+="mac "),b},a.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:xe||uc,pixelRatio:yy(),zoomLevel:In(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}},a.prototype.readConfiguration=function(b){return xu.INSTANCE.readConfiguration(b)},a}(LC);var _z=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),DP=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},EP=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},ac=function(d){_z(a,d);function a(b,c,e,f,g){c===void 0&&(c=""),e===void 0&&(e=""),f===void 0&&(f=!0);var h=d.call(this)||this;return h._onDidChange=h._register(new E()),h.onDidChange=h._onDidChange.event,h._enabled=!0,h._checked=!1,h._id=b,h._label=c,h._cssClass=e,h._enabled=f,h._actionCallback=g,h}return Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"label",{get:function(){return this._label},set:function(b){this._setLabel(b)},enumerable:!0,configurable:!0}),a.prototype._setLabel=function(b){this._label!==b&&(this._label=b,this._onDidChange.fire({label:b}))},Object.defineProperty(a.prototype,"tooltip",{get:function(){return this._tooltip||""},set:function(b){this._setTooltip(b)},enumerable:!0,configurable:!0}),a.prototype._setTooltip=function(b){this._tooltip!==b&&(this._tooltip=b,this._onDidChange.fire({tooltip:b}))},Object.defineProperty(a.prototype,"class",{get:function(){return this._cssClass},set:function(b){this._setClass(b)},enumerable:!0,configurable:!0}),a.prototype._setClass=function(b){this._cssClass!==b&&(this._cssClass=b,this._onDidChange.fire({class:b}))},Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(b){this._setEnabled(b)},enumerable:!0,configurable:!0}),a.prototype._setEnabled=function(b){this._enabled!==b&&(this._enabled=b,this._onDidChange.fire({enabled:b}))},Object.defineProperty(a.prototype,"checked",{get:function(){return this._checked},set:function(b){this._setChecked(b)},enumerable:!0,configurable:!0}),a.prototype._setChecked=function(b){this._checked!==b&&(this._checked=b,this._onDidChange.fire({checked:b}))},a.prototype.run=function(b,c){return this._actionCallback?this._actionCallback(b):Promise.resolve(!0)},a}(I),il=function(d){_z(a,d);function a(){var b=d!==null&&d.apply(this,arguments)||this;return b._onDidBeforeRun=b._register(new E()),b.onDidBeforeRun=b._onDidBeforeRun.event,b._onDidRun=b._register(new E()),b.onDidRun=b._onDidRun.event,b}return a.prototype.run=function(b,c){return DP(this,void 0,void 0,function(){var e,f;return EP(this,function(g){switch(g.label){case 0:if(!b.enabled)return[2,Promise.resolve(null)];this._onDidBeforeRun.fire({action:b}),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.runAction(b,c)];case 2:return e=g.sent(),this._onDidRun.fire({action:b,result:e}),[3,4];case 3:return f=g.sent(),this._onDidRun.fire({action:b,error:f}),[3,4];case 4:return[2]}})})},a.prototype.runAction=function(b,c){var e=c?b.run(c):b.run();return Promise.resolve(e)},a}(I);var _x=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),UL=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},$x=function(d,a){return function(b,c){a(b,c,d)}},ay=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c};function Si(d){return d.command!==void 0}var ar=ia("menuService"),Jd=new(function(){function d(){this._commands=new Map(),this._menuItems=new Map(),this._onDidChangeMenu=new E(),this.onDidChangeMenu=this._onDidChangeMenu.event}return d.prototype.addCommand=function(a){var b=this;return this._commands.set(a.id,a),this._onDidChangeMenu.fire(0),{dispose:function(){b._commands.delete(a.id)&&b._onDidChangeMenu.fire(0)}}},d.prototype.getCommand=function(a){return this._commands.get(a)},d.prototype.getCommands=function(){var a=new Map();return this._commands.forEach(function(b,c){return a.set(c,b)}),a},d.prototype.appendMenuItem=function(a,b){var c=this,e=this._menuItems.get(a);return e?e.push(b):(e=[b],this._menuItems.set(a,e)),this._onDidChangeMenu.fire(a),{dispose:function(){var f=e.indexOf(b);f>=0&&(e.splice(f,1),c._onDidChangeMenu.fire(a))}}},d.prototype.getMenuItems=function(a){var b=(this._menuItems.get(a)||[]).slice(0);return a===0&&this._appendImplicitItems(b),b},d.prototype._appendImplicitItems=function(a){for(var b=new Set(),c=a.filter(function(j){return Si(j)}),e=0,f=c;e<f.length;e++){var g=f[e],h=g.command,i=g.alt;b.add(h.id),i&&b.add(i.id)}this._commands.forEach(function(j,k){b.has(k)||a.push({command:j})})},d}())(),R3=function(d){_x(a,d);function a(b,c,e){var f=d.call(this,b,c)||this;return f._commandService=e,f}return a.prototype.run=function(){for(var b,c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];return(b=this._commandService).executeCommand.apply(b,ay([this.id],c))},a=UL([$x(2,db)],a),a}(ac),br=function(d){_x(a,d);function a(b){var c=this;return typeof b.title==="string"?c=d.call(this,"",b.title,"submenu")||this:c=d.call(this,"",b.title.value,"submenu")||this,c.item=b,c}return a}(ac),VL=function(d){_x(a,d);function a(b,c,e,f,g){var h=this;return typeof b.title==="string"?h=d.call(this,b.id,b.title,g)||this:h=d.call(this,b.id,b.title.value,g)||this,h._cssClass=void 0,h._enabled=!b.precondition||f.contextMatchesRules(b.precondition),h._checked=Boolean(b.toggled&&f.contextMatchesRules(b.toggled)),h._options=e||{},h.item=b,h.alt=c?new a(c,void 0,h._options,f,g):void 0,h}return a.prototype.dispose=function(){this.alt&&this.alt.dispose(),d.prototype.dispose.call(this)},a.prototype.run=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var e=[];return this._options.arg&&(e=ay(e,[this._options.arg])),this._options.shouldForwardArgs&&(e=ay(e,b)),d.prototype.run.apply(this,e)},a=UL([$x(3,ha),$x(4,db)],a),a}(R3);var Le=ia("telemetryService");var Eu=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),cp=function(){function d(a){this.id=a.id,this.precondition=a.precondition,this._kbOpts=a.kbOpts,this._menuOpts=a.menuOpts,this._description=a.description}return d.prototype.register=function(){var a=this;Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts);if(this._kbOpts){var b=this._kbOpts.kbExpr;this.precondition&&(b?b=Z.and(b,this.precondition):b=this.precondition),nc.registerCommandAndKeybindingRule({id:this.id,handler:function(c,e){return a.runCommand(c,e)},weight:this._kbOpts.weight,when:b,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else Ca.registerCommand({id:this.id,handler:function(c,e){return a.runCommand(c,e)},description:this._description})},d.prototype._registerMenuItem=function(a){Jd.appendMenuItem(a.menuId,{group:a.group,command:{id:this.id,title:a.title},when:a.when,order:a.order})},d}(),ob=function(d){Eu(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.bindToContribution=function(b){return function(c){Eu(e,c);function e(f){var g=c.call(this,f)||this;return g._callback=f.handler,g}return e.prototype.runEditorCommand=function(f,g,h){var i=b(g);i&&this._callback(b(g),h)},e}(a)},a.prototype.runCommand=function(b,c){var e=this,f=b.get(ya),g=f.getFocusedCodeEditor()||f.getActiveCodeEditor();return g?g.invokeWithinContext(function(h){var i=h.get(ha);return i.contextMatchesRules($g(e.precondition))?e.runEditorCommand(h,g,c):void 0}):void 0},a}(cp),aa=function(d){Eu(a,d);function a(b){var c=d.call(this,a.convertOptions(b))||this;return c.label=b.label,c.alias=b.alias,c}return a.convertOptions=function(b){var c;Array.isArray(b.menuOpts)?c=b.menuOpts:b.menuOpts?c=[b.menuOpts]:c=[];function e(f){return f.menuId||(f.menuId=7),f.title||(f.title=b.label),f.when=Z.and(b.precondition,f.when),f}return Array.isArray(b.contextMenuOpts)?c.push.apply(c,b.contextMenuOpts.map(e)):b.contextMenuOpts&&c.push(e(b.contextMenuOpts)),b.menuOpts=c,b},a.prototype.runEditorCommand=function(b,c,e){return this.reportTelemetry(b,c),this.run(b,c,e||{})},a.prototype.reportTelemetry=function(b,c){b.get(Le).publicLog2("editorActionInvoked",{name:this.label,id:this.id})},a}(ob);function ch(d,a){Ca.registerCommand(d,function(b,c){return a(b,c||{})})}function Hj(d,a){ch(d,function(b,c){var e=c.resource,f=c.position;if(!(e instanceof ja))throw Qb("resource");if(!G.isIPosition(f))throw Qb("position");var g=b.get(ub).getModel(e);if(g){var h=G.lift(f);return a(g,h,c)}return b.get(rd).createModelReference(e).then(function(i){return new Promise(function(j,k){try{var l=a(i.object.textEditorModel,G.lift(f),c);j(l)}catch(m){k(m)}}).finally(function(){i.dispose()})})})}function nf(d,a){Ca.registerCommand(d,function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];var f=c[0],g=c[1];Ub(ja.isUri(f)),Ub(G.isIPosition(g));var h=b.get(ub).getModel(f);if(h){var i=G.lift(g);return a(h,i,c.slice(2))}return b.get(rd).createModelReference(f).then(function(j){return new Promise(function(k,l){try{var m=a(j.object.textEditorModel,G.lift(g),c.slice(2));k(m)}catch(n){l(n)}}).finally(function(){j.dispose()})})})}function dD(d,a){Ca.registerCommand(d,function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];var f=c[0];Ub(ja.isUri(f));var g=b.get(ub).getModel(f);return g?a(g,c.slice(1)):b.get(rd).createModelReference(f).then(function(h){return new Promise(function(i,j){try{var k=a(h.object.textEditorModel,c.slice(1));i(k)}catch(l){j(l)}}).finally(function(){h.dispose()})})})}function Q(d){return of.INSTANCE.registerEditorCommand(d),d}function N(d){of.INSTANCE.registerEditorAction(new d())}function eD(d){of.INSTANCE.registerEditorAction(d)}function ra(d,a){of.INSTANCE.registerEditorContribution(d,a)}var dh;(function(d){function a(g){return of.INSTANCE.getEditorCommand(g)}d.getEditorCommand=a;function b(){return of.INSTANCE.getEditorActions()}d.getEditorActions=b;function c(){return of.INSTANCE.getEditorContributions()}d.getEditorContributions=c;function e(g){return of.INSTANCE.getEditorContributions().filter(function(h){return g.indexOf(h.id)>=0})}d.getSomeEditorContributions=e;function f(){return of.INSTANCE.getDiffEditorContributions()}d.getDiffEditorContributions=f})(dh||(dh={}));var $R={EditorCommonContributions:"editor.contributions"},of=function(){function d(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return d.prototype.registerEditorContribution=function(a,b){this.editorContributions.push({id:a,ctor:b})},d.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},d.prototype.getDiffEditorContributions=function(){return this.diffEditorContributions.slice(0)},d.prototype.registerEditorAction=function(a){a.register(),this.editorActions.push(a)},d.prototype.getEditorActions=function(){return this.editorActions.slice(0)},d.prototype.registerEditorCommand=function(a){a.register(),this.editorCommands[a.id]=a},d.prototype.getEditorCommand=function(a){return this.editorCommands[a]||null},d.INSTANCE=new d(),d}();ib.add($R.EditorCommonContributions,of.INSTANCE);var Ss=function(){function d(a){this.domNode=a,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none"}return d.prototype.setMaxWidth=function(a){if(this._maxWidth===a)return;this._maxWidth=a,this.domNode.style.maxWidth=this._maxWidth+"px"},d.prototype.setWidth=function(a){if(this._width===a)return;this._width=a,this.domNode.style.width=this._width+"px"},d.prototype.setHeight=function(a){if(this._height===a)return;this._height=a,this.domNode.style.height=this._height+"px"},d.prototype.setTop=function(a){if(this._top===a)return;this._top=a,this.domNode.style.top=this._top+"px"},d.prototype.unsetTop=function(){if(this._top===-1)return;this._top=-1,this.domNode.style.top=""},d.prototype.setLeft=function(a){if(this._left===a)return;this._left=a,this.domNode.style.left=this._left+"px"},d.prototype.setBottom=function(a){if(this._bottom===a)return;this._bottom=a,this.domNode.style.bottom=this._bottom+"px"},d.prototype.setRight=function(a){if(this._right===a)return;this._right=a,this.domNode.style.right=this._right+"px"},d.prototype.setFontFamily=function(a){if(this._fontFamily===a)return;this._fontFamily=a,this.domNode.style.fontFamily=this._fontFamily},d.prototype.setFontWeight=function(a){if(this._fontWeight===a)return;this._fontWeight=a,this.domNode.style.fontWeight=this._fontWeight},d.prototype.setFontSize=function(a){if(this._fontSize===a)return;this._fontSize=a,this.domNode.style.fontSize=this._fontSize+"px"},d.prototype.setFontFeatureSettings=function(a){if(this._fontFeatureSettings===a)return;this._fontFeatureSettings=a,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings},d.prototype.setLineHeight=function(a){if(this._lineHeight===a)return;this._lineHeight=a,this.domNode.style.lineHeight=this._lineHeight+"px"},d.prototype.setLetterSpacing=function(a){if(this._letterSpacing===a)return;this._letterSpacing=a,this.domNode.style.letterSpacing=this._letterSpacing+"px"},d.prototype.setClassName=function(a){if(this._className===a)return;this._className=a,this.domNode.className=this._className},d.prototype.toggleClassName=function(a,b){qa(this.domNode,a,b),this._className=this.domNode.className},d.prototype.setDisplay=function(a){if(this._display===a)return;this._display=a,this.domNode.style.display=this._display},d.prototype.setPosition=function(a){if(this._position===a)return;this._position=a,this.domNode.style.position=this._position},d.prototype.setVisibility=function(a){if(this._visibility===a)return;this._visibility=a,this.domNode.style.visibility=this._visibility},d.prototype.setBackgroundColor=function(a){if(this._backgroundColor===a)return;this._backgroundColor=a,this.domNode.style.backgroundColor=this._backgroundColor},d.prototype.setLayerHinting=function(a){if(this._layerHint===a)return;this._layerHint=a,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":""},d.prototype.setContain=function(a){if(this._contain===a)return;this._contain=a,this.domNode.style.contain=this._contain},d.prototype.setAttribute=function(a,b){this.domNode.setAttribute(a,b)},d.prototype.removeAttribute=function(a){this.domNode.removeAttribute(a)},d.prototype.appendChild=function(a){this.domNode.appendChild(a.domNode)},d.prototype.removeChild=function(a){this.domNode.removeChild(a.domNode)},d}();function ma(d){return new Ss(d)}var JP=0;function KP(){var d="$memoize"+JP++,a=void 0,b=function c(e,f,g){var h=null,i=null;typeof g.value==="function"?(h="value",i=g.value,i.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof g.get==="function"&&(h="get",i=g.get);if(!i)throw new Error("not supported");var j=d+":"+f;g[h]=function(){for(var k=[],l=0;l<arguments.length;l++)k[l]=arguments[l];return a=this,this.hasOwnProperty(j)||Object.defineProperty(this,j,{configurable:!0,enumerable:!1,writable:!0,value:i.apply(this,k)}),this[j]}};return b.clear=function(){if(typeof a==="undefined")return;Object.getOwnPropertyNames(a).forEach(function(c){c.indexOf(d)===0&&delete a[c]})},b}function Lc(d,a,b){return KP()(d,a,b)}var ON=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),PN=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Xa;(function(d){d.Tap="-monaco-gesturetap",d.Change="-monaco-gesturechange",d.Start="-monaco-gesturestart",d.End="-monaco-gesturesend",d.Contextmenu="-monaco-gesturecontextmenu"})(Xa||(Xa={}));var wc=function(d){ON(a,d);function a(){var b=d.call(this)||this;return b.dispatched=!1,b.activeTouches={},b.handle=null,b.targets=[],b.ignoreTargets=[],b._lastSetTapCountTime=0,b._register(R(document,"touchstart",function(c){return b.onTouchStart(c)})),b._register(R(document,"touchend",function(c){return b.onTouchEnd(c)})),b._register(R(document,"touchmove",function(c){return b.onTouchMove(c)})),b}return a.addTarget=function(b){return a.isTouchDevice()?(a.INSTANCE||(a.INSTANCE=new a()),a.INSTANCE.targets.push(b),{dispose:function(){a.INSTANCE.targets=a.INSTANCE.targets.filter(function(c){return c!==b})}}):I.None},a.ignoreTarget=function(b){return a.isTouchDevice()?(a.INSTANCE||(a.INSTANCE=new a()),a.INSTANCE.ignoreTargets.push(b),{dispose:function(){a.INSTANCE.ignoreTargets=a.INSTANCE.ignoreTargets.filter(function(c){return c!==b})}}):I.None},a.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},a.prototype.dispose=function(){this.handle&&(this.handle.dispose(),this.handle=null),d.prototype.dispose.call(this)},a.prototype.onTouchStart=function(b){var c=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var e=0,f=b.targetTouches.length;e<f;e++){var g=b.targetTouches.item(e);this.activeTouches[g.identifier]={id:g.identifier,initialTarget:g.target,initialTimeStamp:c,initialPageX:g.pageX,initialPageY:g.pageY,rollingTimestamps:[c],rollingPageX:[g.pageX],rollingPageY:[g.pageY]};var h=this.newGestureEvent(Xa.Start,g.target);h.pageX=g.pageX,h.pageY=g.pageY,this.dispatchEvent(h)}this.dispatched&&(b.preventDefault(),b.stopPropagation(),this.dispatched=!1)},a.prototype.onTouchEnd=function(b){for(var c=Date.now(),e=Object.keys(this.activeTouches).length,f=function(j,k){var l=b.changedTouches.item(j);if(!g.activeTouches.hasOwnProperty(String(l.identifier)))return console.warn("move of an UNKNOWN touch",l),"continue";var m=g.activeTouches[l.identifier],n=Date.now()-m.initialTimeStamp;if(n<a.HOLD_DELAY&&Math.abs(m.initialPageX-Ed(m.rollingPageX))<30&&Math.abs(m.initialPageY-Ed(m.rollingPageY))<30){var o=g.newGestureEvent(Xa.Tap,m.initialTarget);o.pageX=Ed(m.rollingPageX),o.pageY=Ed(m.rollingPageY),g.dispatchEvent(o)}else if(n>=a.HOLD_DELAY&&Math.abs(m.initialPageX-Ed(m.rollingPageX))<30&&Math.abs(m.initialPageY-Ed(m.rollingPageY))<30){var o=g.newGestureEvent(Xa.Contextmenu,m.initialTarget);o.pageX=Ed(m.rollingPageX),o.pageY=Ed(m.rollingPageY),g.dispatchEvent(o)}else if(e===1){var p=Ed(m.rollingPageX),q=Ed(m.rollingPageY),r=Ed(m.rollingTimestamps)-m.rollingTimestamps[0],t=p-m.rollingPageX[0],v=q-m.rollingPageY[0],w=g.targets.filter(function(x){return m.initialTarget instanceof Node&&x.contains(m.initialTarget)});g.inertia(w,c,Math.abs(t)/r,t>0?1:-1,p,Math.abs(v)/r,v>0?1:-1,q)}g.dispatchEvent(g.newGestureEvent(Xa.End,m.initialTarget)),delete g.activeTouches[l.identifier]},g=this,h=0,i=b.changedTouches.length;h<i;h++)f(h,i);this.dispatched&&(b.preventDefault(),b.stopPropagation(),this.dispatched=!1)},a.prototype.newGestureEvent=function(b,c){var e=document.createEvent("CustomEvent");return e.initEvent(b,!1,!0),e.initialTarget=c,e.tapCount=0,e},a.prototype.dispatchEvent=function(b){var c=this;if(b.type===Xa.Tap){var e=new Date().getTime(),f=0;e-this._lastSetTapCountTime>a.CLEAR_TAP_COUNT_TIME?f=1:f=2,this._lastSetTapCountTime=e,b.tapCount=f}else(b.type===Xa.Change||b.type===Xa.Contextmenu)&&(this._lastSetTapCountTime=0);for(var g=0;g<this.ignoreTargets.length;g++)if(b.initialTarget instanceof Node&&this.ignoreTargets[g].contains(b.initialTarget))return;this.targets.forEach(function(h){b.initialTarget instanceof Node&&h.contains(b.initialTarget)&&(h.dispatchEvent(b),c.dispatched=!0)})},a.prototype.inertia=function(b,c,e,f,g,h,i,j){var k=this;this.handle=ce(function(){var l=Date.now(),m=l-c,n=0,o=0,p=!0;e+=a.SCROLL_FRICTION*m,h+=a.SCROLL_FRICTION*m,e>0&&(p=!1,n=f*e*m),h>0&&(p=!1,o=i*h*m);var q=k.newGestureEvent(Xa.Change);q.translationX=n,q.translationY=o,b.forEach(function(r){return r.dispatchEvent(q)}),p||k.inertia(b,l,e,f,g+n,h,i,j+o)})},a.prototype.onTouchMove=function(b){for(var c=Date.now(),e=0,f=b.changedTouches.length;e<f;e++){var g=b.changedTouches.item(e);if(!this.activeTouches.hasOwnProperty(String(g.identifier))){console.warn("end of an UNKNOWN touch",g);continue}var h=this.activeTouches[g.identifier],i=this.newGestureEvent(Xa.Change,h.initialTarget);i.translationX=g.pageX-Ed(h.rollingPageX),i.translationY=g.pageY-Ed(h.rollingPageY),i.pageX=g.pageX,i.pageY=g.pageY,this.dispatchEvent(i),h.rollingPageX.length>3&&(h.rollingPageX.shift(),h.rollingPageY.shift(),h.rollingTimestamps.shift()),h.rollingPageX.push(g.pageX),h.rollingPageY.push(g.pageY),h.rollingTimestamps.push(c)}this.dispatched&&(b.preventDefault(),b.stopPropagation(),this.dispatched=!1)},a.SCROLL_FRICTION=-.005,a.HOLD_DELAY=700,a.CLEAR_TAP_COUNT_TIME=400,PN([Lc],a,"isTouchDevice",null),a}(I);function Ae(d,a){var b=new yb(a);return b.preventDefault(),{leftButton:b.leftButton,buttons:b.buttons,posx:b.posx,posy:b.posy}}var Rd=function(){function d(){this._hooks=new P(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}return d.prototype.dispose=function(){this.stopMonitoring(!1),this._hooks.dispose()},d.prototype.stopMonitoring=function(a){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;var b=this._onStopCallback;this._onStopCallback=null,a&&b&&b()},d.prototype.isMonitoring=function(){return!!this._mouseMoveEventMerger},d.prototype.startMonitoring=function(a,b,c,e,f){var g=this;if(this.isMonitoring())return;this._mouseMoveEventMerger=c,this._mouseMoveCallback=e,this._onStopCallback=f;var h=gl.getSameOriginWindowChain(),i=ze&&ae.pointerEvents?"pointermove":"mousemove",j=ze&&ae.pointerEvents?"pointerup":"mouseup",k=h.map(function(q){return q.window.document}),l=Ag(a);l&&k.unshift(l);for(var m=0,n=k;m<n.length;m++){var o=n[m];this._hooks.add($e(o,i,function(q){if(!xb&&q.buttons!==b){g.stopMonitoring(!0);return}g._mouseMoveCallback(q)},function(q,r){return g._mouseMoveEventMerger(q,r)})),this._hooks.add(R(o,j,function(q){return g.stopMonitoring(!0)}))}if(gl.hasDifferentOriginAncestor()){var p=h[h.length-1];this._hooks.add(R(p.window.document,"mouseout",function(q){var r=new yb(q);r.target.tagName.toLowerCase()==="html"&&g.stopMonitoring(!0)})),this._hooks.add(R(p.window.document,"mouseover",function(q){var r=new yb(q);r.target.tagName.toLowerCase()==="html"&&g.stopMonitoring(!0)})),this._hooks.add(R(p.window.document.body,"mouseleave",function(q){g.stopMonitoring(!0)}))}},d}();var cD=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),hp=function(){function d(a,b){this.x=a,this.y=b}return d.prototype.toClientCoordinates=function(){return new Au(this.x-ye.scrollX,this.y-ye.scrollY)},d}(),Au=function(){function d(a,b){this.clientX=a,this.clientY=b}return d.prototype.toPageCoordinates=function(){return new hp(this.clientX+ye.scrollX,this.clientY+ye.scrollY)},d}(),_R=function(){function d(a,b,c,e){this.x=a,this.y=b,this.width=c,this.height=e}return d}();function Bu(d){var a=ab(d);return new _R(a.left,a.top,a.width,a.height)}var lf=function(d){cD(a,d);function a(b,c){var e=d.call(this,b)||this;return e.pos=new hp(e.posx,e.posy),e.editorPos=Bu(c),e}return a}(yb),PC=function(){function d(a){this._editorViewDomNode=a}return d.prototype._create=function(a){return new lf(a,this._editorViewDomNode)},d.prototype.onContextMenu=function(a,b){var c=this;return R(a,"contextmenu",function(e){b(c._create(e))})},d.prototype.onMouseUp=function(a,b){var c=this;return R(a,"mouseup",function(e){b(c._create(e))})},d.prototype.onMouseDown=function(a,b){var c=this;return R(a,"mousedown",function(e){b(c._create(e))})},d.prototype.onMouseLeave=function(a,b){var c=this;return Xi(a,function(e){b(c._create(e))})},d.prototype.onMouseMoveThrottled=function(a,b,c,e){var f=this,g=function(h,i){return c(h,f._create(i))};return $e(a,"mousemove",b,g,e)},d}(),SC=function(){function d(a){this._editorViewDomNode=a}return d.prototype._create=function(a){return new lf(a,this._editorViewDomNode)},d.prototype.onPointerUp=function(a,b){var c=this;return R(a,"pointerup",function(e){b(c._create(e))})},d.prototype.onPointerDown=function(a,b){var c=this;return R(a,"pointerdown",function(e){b(c._create(e))})},d.prototype.onPointerLeave=function(a,b){var c=this;return Hy(a,function(e){b(c._create(e))})},d.prototype.onPointerMoveThrottled=function(a,b,c,e){var f=this,g=function(h,i){return c(h,f._create(i))};return $e(a,"pointermove",b,g,e)},d}(),QC=function(d){cD(a,d);function a(b){var c=d.call(this)||this;return c._editorViewDomNode=b,c._globalMouseMoveMonitor=c._register(new Rd()),c._keydownListener=null,c}return a.prototype.startMonitoring=function(b,c,e,f,g){var h=this;this._keydownListener=Ua(document,"keydown",function(j){var k=j.toKeybinding();if(k.isModifierKey())return;h._globalMouseMoveMonitor.stopMonitoring(!0)},!0);var i=function(j,k){return e(j,new lf(k,h._editorViewDomNode))};this._globalMouseMoveMonitor.startMonitoring(b,c,i,f,function(){h._keydownListener.dispose(),g()})},a}(I);var bX=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),kf=function(d){bX(a,d);function a(){var b=d.call(this)||this;return b._shouldRender=!0,b}return a.prototype.shouldRender=function(){return this._shouldRender},a.prototype.forceShouldRender=function(){this._shouldRender=!0},a.prototype.setShouldRender=function(){this._shouldRender=!0},a.prototype.onDidRender=function(){this._shouldRender=!1},a.prototype.onConfigurationChanged=function(b){return!1},a.prototype.onContentSizeChanged=function(b){return!1},a.prototype.onCursorStateChanged=function(b){return!1},a.prototype.onDecorationsChanged=function(b){return!1},a.prototype.onFlushed=function(b){return!1},a.prototype.onFocusChanged=function(b){return!1},a.prototype.onLanguageConfigurationChanged=function(b){return!1},a.prototype.onLineMappingChanged=function(b){return!1},a.prototype.onLinesChanged=function(b){return!1},a.prototype.onLinesDeleted=function(b){return!1},a.prototype.onLinesInserted=function(b){return!1},a.prototype.onRevealRangeRequest=function(b){return!1},a.prototype.onScrollChanged=function(b){return!1},a.prototype.onThemeChanged=function(b){return!1},a.prototype.onTokensChanged=function(b){return!1},a.prototype.onTokensColorsChanged=function(b){return!1},a.prototype.onZonesChanged=function(b){return!1},a.prototype.handleEvents=function(b){for(var c=!1,e=0,f=b.length;e<f;e++){var g=b[e];switch(g.type){case 1:this.onConfigurationChanged(g)&&(c=!0);break;case 2:this.onContentSizeChanged(g)&&(c=!0);break;case 3:this.onCursorStateChanged(g)&&(c=!0);break;case 4:this.onDecorationsChanged(g)&&(c=!0);break;case 5:this.onFlushed(g)&&(c=!0);break;case 6:this.onFocusChanged(g)&&(c=!0);break;case 7:this.onLanguageConfigurationChanged(g)&&(c=!0);break;case 8:this.onLineMappingChanged(g)&&(c=!0);break;case 9:this.onLinesChanged(g)&&(c=!0);break;case 10:this.onLinesDeleted(g)&&(c=!0);break;case 11:this.onLinesInserted(g)&&(c=!0);break;case 12:this.onRevealRangeRequest(g)&&(c=!0);break;case 13:this.onScrollChanged(g)&&(c=!0);break;case 15:this.onTokensChanged(g)&&(c=!0);break;case 14:this.onThemeChanged(g)&&(c=!0);break;case 16:this.onTokensColorsChanged(g)&&(c=!0);break;case 17:this.onZonesChanged(g)&&(c=!0);break;default:console.info("View received unknown event: "),console.info(g)}}c&&(this._shouldRender=!0)},a}(I);var tS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Kb=function(d){tS(a,d);function a(b){var c=d.call(this)||this;return c._context=b,c._context.addEventHandler(c),c}return a.prototype.dispose=function(){this._context.removeEventHandler(this),d.prototype.dispose.call(this)},a}(kf),Dc=function(){function d(){}return d.write=function(a,b){a instanceof Ss?a.setAttribute("data-mprt",String(b)):a.setAttribute("data-mprt",String(b))},d.read=function(a){var b=a.getAttribute("data-mprt");return b===null?0:parseInt(b,10)},d.collect=function(a,b){for(var c=[],e=0;a&&a!==document.body;){if(a===b)break;a.nodeType===a.ELEMENT_NODE&&(c[e++]=this.read(a)),a=a.parentElement}for(var f=new Uint8Array(e),g=0;g<e;g++)f[g]=c[e-g-1];return f},d}();var BW=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),CW=function(){function d(a,b){this._viewLayout=a,this.viewportData=b,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var c=this._viewLayout.getCurrentViewport();this.scrollTop=c.top,this.scrollLeft=c.left,this.viewportWidth=c.width,this.viewportHeight=c.height}return d.prototype.getScrolledTopFromAbsoluteTop=function(a){return a-this.scrollTop},d.prototype.getVerticalOffsetForLineNumber=function(a){return this._viewLayout.getVerticalOffsetForLineNumber(a)},d.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},d}(),HD=function(d){BW(a,d);function a(b,c,e){var f=d.call(this,b,c)||this;return f._viewLines=e,f}return a.prototype.linesVisibleRangesForRange=function(b,c){return this._viewLines.linesVisibleRangesForRange(b,c)},a.prototype.visibleRangeForPosition=function(b){return this._viewLines.visibleRangeForPosition(b)},a}(CW),ZD=function(){function d(a,b,c){this.outsideRenderedLine=a,this.lineNumber=b,this.ranges=c}return d}(),Me=function(){function d(a,b){this.left=Math.round(a),this.width=Math.round(b)}return d.prototype.toString=function(){return"["+this.left+","+this.width+"]"},d}(),_D=function(){function d(a,b){this.outsideRenderedLine=a,this.left=Math.round(b)}return d}(),VD=function(){function d(a,b){this.outsideRenderedLine=a,this.ranges=b}return d}();var UD=function(){function d(a,b){this.left=a,this.width=b}return d.prototype.toString=function(){return"["+this.left+","+this.width+"]"},d.compare=function(a,b){return a.left-b.left},d}(),rp=function(){function d(){}return d._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},d._detachRange=function(a,b){a.selectNodeContents(b)},d._readClientRects=function(a,b,c,e,f){var g=this._createRange();try{return g.setStart(a,b),g.setEnd(c,e),g.getClientRects()}catch(h){return null}finally{this._detachRange(g,f)}},d._mergeAdjacentRanges=function(a){if(a.length===1)return[new Me(a[0].left,a[0].width)];a.sort(UD.compare);for(var b=[],c=0,e=a[0].left,f=a[0].width,g=1,h=a.length;g<h;g++){var i=a[g],j=i.left,k=i.width;e+f+.9>=j?f=Math.max(f,j+k-e):(b[c++]=new Me(e,f),e=j,f=k)}return b[c++]=new Me(e,f),b},d._createHorizontalRangesFromClientRects=function(a,b){if(!a||a.length===0)return null;for(var c=[],e=0,f=a.length;e<f;e++){var g=a[e];c[e]=new UD(Math.max(0,g.left-b),g.width)}return this._mergeAdjacentRanges(c)},d.readHorizontalRanges=function(a,b,c,e,f,g,h){var i=0,j=a.children.length-1;if(i>j)return null;b=Math.min(j,Math.max(i,b)),e=Math.min(j,Math.max(i,e)),b!==e&&(e>0&&f===0&&(e--,f=1073741824));var k=a.children[b].firstChild,l=a.children[e].firstChild;(!k||!l)&&(!k&&c===0&&b>0&&(k=a.children[b-1].firstChild,c=1073741824),!l&&f===0&&e>0&&(l=a.children[e-1].firstChild,f=1073741824));if(!k||!l)return null;c=Math.min(k.textContent.length,Math.max(0,c)),f=Math.min(l.textContent.length,Math.max(0,f));var m=this._readClientRects(k,c,l,f,h);return this._createHorizontalRangesFromClientRects(m,g)},d}();var Ia=ia("themeService");function sc(d){return{id:d}}var U4="dark",rf="hc";function di(d){switch(d){case U4:return"vs-dark";case rf:return"hc-black";default:return"vs"}}var Ox={ThemingContribution:"base.contributions.theming"},V4=function(){function d(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new E()}return d.prototype.onThemeChange=function(a){var b=this;return this.themingParticipants.push(a),this.onThemingParticipantAddedEmitter.fire(a),va(function(){var c=b.themingParticipants.indexOf(a);b.themingParticipants.splice(c,1)})},d.prototype.getThemingParticipants=function(){return this.themingParticipants},d}(),hN=new V4();ib.add(Ox.ThemingContribution,hN);function la(d){return hN.onThemeChange(d)}var AS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),BS=function(){return lc?!0:cc||uc||Ze?!1:!0}(),XD=Jc,Ou=function(){function d(a,b){this._domNode=a,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=b}return Object.defineProperty(d.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),d}(),Pu=function(){function d(a,b){this.themeType=b;var c=a.options,e=c.get(34);this.renderWhitespace=c.get(74),this.renderControlCharacters=c.get(69),this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.useMonospaceOptimizations=e.isMonospace&&!c.get(23),this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.lineHeight=c.get(49),this.stopRenderingLineAfter=c.get(88),this.fontLigatures=c.get(35)}return d.prototype.equals=function(a){return this.themeType===a.themeType&&this.renderWhitespace===a.renderWhitespace&&this.renderControlCharacters===a.renderControlCharacters&&this.spaceWidth===a.spaceWidth&&this.middotWidth===a.middotWidth&&this.useMonospaceOptimizations===a.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===a.canUseHalfwidthRightwardsArrow&&this.lineHeight===a.lineHeight&&this.stopRenderingLineAfter===a.stopRenderingLineAfter&&this.fontLigatures===a.fontLigatures},d}(),ah=function(){function d(a){this._options=a,this._isMaybeInvalid=!0,this._renderedViewLine=null}return d.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},d.prototype.setDomNode=function(a){if(this._renderedViewLine)this._renderedViewLine.domNode=ma(a);else throw new Error("I have no rendered view line to set the dom node to...")},d.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},d.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},d.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},d.prototype.onOptionsChanged=function(a){this._isMaybeInvalid=!0,this._options=a},d.prototype.onSelectionChanged=function(){return XD||this._options.themeType===rf||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1},d.prototype.renderLine=function(a,b,c,e){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;var f=c.getViewLineRenderingData(a),g=this._options,h=eh.filter(f.inlineDecorations,a,f.minColumn,f.maxColumn),i=null;if(XD||g.themeType===rf||this._options.renderWhitespace==="selection")for(var j=c.selections,k=0,l=j;k<l.length;k++){var m=l[k];if(m.endLineNumber<a||m.startLineNumber>a)continue;var n=m.startLineNumber===a?m.startColumn:f.minColumn,o=m.endLineNumber===a?m.endColumn:f.maxColumn;n<o&&(this._options.renderWhitespace!=="selection"?h.push(new eh(n,o,"inline-selected-text",0)):(i||(i=[]),i.push(new WD(n-1,o-1))))}var p=new qf(g.useMonospaceOptimizations,g.canUseHalfwidthRightwardsArrow,f.content,f.continuesWithWrappedLine,f.isBasicASCII,f.containsRTL,f.minColumn-1,f.tokens,h,f.tabSize,f.startVisibleColumn,g.spaceWidth,g.middotWidth,g.stopRenderingLineAfter,g.renderWhitespace,g.renderControlCharacters,g.fontLigatures!==bg.OFF,i);if(this._renderedViewLine&&this._renderedViewLine.input.equals(p))return!1;e.appendASCIIString('<div style="top:'),e.appendASCIIString(String(b)),e.appendASCIIString("px;height:"),e.appendASCIIString(String(this._options.lineHeight)),e.appendASCIIString('px;" class="'),e.appendASCIIString(d.CLASS_NAME),e.appendASCIIString('">');var q=bm(p,e);e.appendASCIIString("</div>");var r=null;return BS&&f.isBasicASCII&&g.useMonospaceOptimizations&&q.containsForeignElements===0&&(f.content.length<300&&p.lineTokens.getCount()<100&&(r=new CS(this._renderedViewLine?this._renderedViewLine.domNode:null,p,q.characterMapping))),r||(r=ES(this._renderedViewLine?this._renderedViewLine.domNode:null,p,q.characterMapping,q.containsRTL,q.containsForeignElements)),this._renderedViewLine=r,!0},d.prototype.layoutLine=function(a,b){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(b),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},d.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},d.prototype.getWidthIsFast=function(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0},d.prototype.getVisibleRangesForRange=function(a,b,c){if(!this._renderedViewLine)return null;a=a|0,b=b|0,a=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,a)),b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b));var e=this._renderedViewLine.input.stopRenderingLineAfter|0,f=!1;e!==-1&&a>e+1&&b>e+1&&(f=!0),e!==-1&&a>e+1&&(a=e+1),e!==-1&&b>e+1&&(b=e+1);var g=this._renderedViewLine.getVisibleRangesForRange(a,b,c);return g&&g.length>0?new VD(f,g):null},d.prototype.getColumnOfNodeOffset=function(a,b,c){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(a,b,c):1},d.CLASS_NAME="view-line",d}(),CS=function(){function d(a,b,c){this.domNode=a,this.input=b,this._characterMapping=c,this._charWidth=b.spaceWidth}return d.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},d.prototype.getWidthIsFast=function(){return!0},d.prototype.getVisibleRangesForRange=function(a,b,c){var e=this._getCharPosition(a),f=this._getCharPosition(b);return[new Me(e,f-e)]},d.prototype._getCharPosition=function(a){var b=this._characterMapping.getAbsoluteOffsets();return b.length===0?0:Math.round(this._charWidth*b[a-1])},d.prototype.getColumnOfNodeOffset=function(a,b,c){for(var e=b.textContent.length,f=-1;b;)b=b.previousSibling,f++;var g=this._characterMapping.partDataToCharOffset(f,e,c);return g+1},d}(),YD=function(){function d(a,b,c,e,f){this.domNode=a,this.input=b,this._characterMapping=c,this._isWhitespaceOnly=/^\s*$/.test(b.lineContent),this._containsForeignElements=f,this._cachedWidth=-1,this._pixelOffsetCache=null;if(!e||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var g=0,h=this._characterMapping.length;g<=h;g++)this._pixelOffsetCache[g]=-1}}return d.prototype._getReadingTarget=function(a){return a.domNode.firstChild},d.prototype.getWidth=function(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0},d.prototype.getWidthIsFast=function(){return this._cachedWidth===-1?!1:!0},d.prototype.getVisibleRangesForRange=function(a,b,c){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){var e=this._readPixelOffset(this.domNode,a,c);if(e===-1)return null;var f=this._readPixelOffset(this.domNode,b,c);return f===-1?null:[new Me(e,f-e)]}return this._readVisibleRangesForRange(this.domNode,a,b,c)},d.prototype._readVisibleRangesForRange=function(a,b,c,e){if(b===c){var f=this._readPixelOffset(a,b,e);return f===-1?null:[new Me(f,0)]}else return this._readRawVisibleRangesForRange(a,b,c,e)},d.prototype._readPixelOffset=function(a,b,c){if(this._characterMapping.length===0){if(this._containsForeignElements===0)return 0;if(this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();var e=this._getReadingTarget(a);return e.firstChild?e.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){var f=this._pixelOffsetCache[b];if(f!==-1)return f;var g=this._actualReadPixelOffset(a,b,c);return this._pixelOffsetCache[b]=g,g}return this._actualReadPixelOffset(a,b,c)},d.prototype._actualReadPixelOffset=function(a,b,c){if(this._characterMapping.length===0){var e=rp.readHorizontalRanges(this._getReadingTarget(a),0,0,0,0,c.clientRectDeltaLeft,c.endNode);return!e||e.length===0?-1:e[0].left}if(b===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();var f=this._characterMapping.charOffsetToPartData(b-1),g=dg.getPartIndex(f),h=dg.getCharIndex(f),i=rp.readHorizontalRanges(this._getReadingTarget(a),g,h,g,h,c.clientRectDeltaLeft,c.endNode);return!i||i.length===0?-1:i[0].left},d.prototype._readRawVisibleRangesForRange=function(a,b,c,e){if(b===1&&c===this._characterMapping.length)return[new Me(0,this.getWidth())];var f=this._characterMapping.charOffsetToPartData(b-1),g=dg.getPartIndex(f),h=dg.getCharIndex(f),i=this._characterMapping.charOffsetToPartData(c-1),j=dg.getPartIndex(i),k=dg.getCharIndex(i);return rp.readHorizontalRanges(this._getReadingTarget(a),g,h,j,k,e.clientRectDeltaLeft,e.endNode)},d.prototype.getColumnOfNodeOffset=function(a,b,c){for(var e=b.textContent.length,f=-1;b;)b=b.previousSibling,f++;var g=this._characterMapping.partDataToCharOffset(f,e,c);return g+1},d}(),DS=function(d){AS(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._readVisibleRangesForRange=function(b,c,e,f){var g=d.prototype._readVisibleRangesForRange.call(this,b,c,e,f);if(!g||g.length===0||c===e||c===1&&e===this._characterMapping.length)return g;if(!this.input.containsRTL){var h=this._readPixelOffset(b,e,f);if(h!==-1){var i=g[g.length-1];i.left<h&&(i.width=h-i.left)}}return g},a}(YD),ES=function(){return xe?FS:GS}();function FS(d,a,b,c,e){return new DS(d,a,b,c,e)}function GS(d,a,b,c,e){return new YD(d,a,b,c,e)}var dF=function(){function d(a,b){this.beforeVersionId=a,this.beforeCursorState=b,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}return d.prototype.undo=function(a){for(var b=this.editOperations.length-1;b>=0;b--)this.editOperations[b]={operations:a.applyEdits(this.editOperations[b].operations)}},d.prototype.redo=function(a){for(var b=0;b<this.editOperations.length;b++)this.editOperations[b]={operations:a.applyEdits(this.editOperations[b].operations)}},d}();function rv(d){var a=d.getEOL();return a===`
`?0:1}var IU=function(){function d(a,b){this.beforeVersionId=a,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=b}return d.prototype.undo=function(a){var b=rv(a);a.setEOL(this.eol),this.eol=b},d.prototype.redo=function(a){var b=rv(a);a.setEOL(this.eol),this.eol=b},d}(),sv=function(){function d(a){this.model=a,this.currentOpenStackElement=null,this.past=[],this.future=[]}return d.prototype.pushStackElement=function(){this.currentOpenStackElement!==null&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},d.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},d.prototype.pushEOL=function(a){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var b=rv(this.model),c=new IU(this.model.getAlternativeVersionId(),b);this.model.setEOL(a),c.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=c,this.pushStackElement()},d.prototype.pushEditOperation=function(a,b,c){this.future=[];var e=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof dF?e=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(e=new dF(this.model.getAlternativeVersionId(),a),this.currentOpenStackElement=e);var f={operations:this.model.applyEdits(b)};return e.editOperations.push(f),e.afterCursorState=d._computeCursorState(c,f.operations),e.afterVersionId=this.model.getVersionId(),e.afterCursorState},d._computeCursorState=function(a,b){try{return a?a(b):null}catch(c){return W(c),null}},d.prototype.undo=function(){this.pushStackElement();if(this.past.length>0){var a=this.past.pop();try{a.undo(this.model)}catch(b){return W(b),this.clear(),null}return this.future.push(a),{selections:a.beforeCursorState,recordedVersionId:a.beforeVersionId}}return null},d.prototype.canUndo=function(){return this.past.length>0||this.currentOpenStackElement!==null},d.prototype.redo=function(){if(this.future.length>0){var a=this.future.pop();try{a.redo(this.model)}catch(b){return W(b),this.clear(),null}return this.past.push(a),{selections:a.afterCursorState,recordedVersionId:a.afterVersionId}}return null},d.prototype.canRedo=function(){return this.future.length>0},d}();var JU=function(){function d(){this.spacesDiff=0,this.looksLikeAlignment=!1}return d}();function KU(d,a,b,c,e){e.spacesDiff=0,e.looksLikeAlignment=!1;var f;for(f=0;f<a&&f<c;f++){var g=d.charCodeAt(f),h=b.charCodeAt(f);if(g!==h)break}for(var i=0,j=0,k=f;k<a;k++){var g=d.charCodeAt(k);g===32?i++:j++}for(var l=0,m=0,k=f;k<c;k++){var h=b.charCodeAt(k);h===32?l++:m++}if(i>0&&j>0)return;if(l>0&&m>0)return;var n=Math.abs(j-m),o=Math.abs(i-l);if(n===0){e.spacesDiff=o,o>0&&0<=l-1&&l-1<d.length&&l<b.length&&(b.charCodeAt(l)!==32&&d.charCodeAt(l-1)===32&&(d.charCodeAt(d.length-1)===44&&(e.looksLikeAlignment=!0)));return}if(o%n===0){e.spacesDiff=o/n;return}}function tv(d,a,b){for(var c=Math.min(d.getLineCount(),1e4),e=0,f=0,g="",h=0,i=[2,4,6,8,3,5,7],j=8,k=[0,0,0,0,0,0,0,0,0],l=new JU(),m=1;m<=c;m++){for(var n=d.getLineLength(m),o=d.getLineContent(m),p=n<=65536,q=!1,r=0,t=0,v=0,w=0,x=n;w<x;w++){var u=p?o.charCodeAt(w):d.getLineCharCode(m,w);if(u===9)v++;else if(u===32)t++;else{q=!0,r=w;break}}if(!q)continue;v>0?e++:t>1&&f++,KU(g,h,o,r,l);if(l.looksLikeAlignment){if(!(b&&a===l.spacesDiff))continue}var y=l.spacesDiff;y<=j&&k[y]++,g=o,h=r}var A=b;e!==f&&(A=e<f);var F=a;if(A){var B=A?0:.1*c;i.forEach(function(D){var H=k[D];H>B&&(B=H,F=D)}),F===4&&k[4]>0&&k[2]>0&&k[2]>=k[4]/2&&(F=2)}return{insertSpaces:A,tabSize:F}}function bd(d){return(d.metadata&1)>>>0}function Za(d,a){d.metadata=d.metadata&254|a<<0}function rc(d){return(d.metadata&2)>>>1===1}function Va(d,a){d.metadata=d.metadata&253|(a?1:0)<<1}function eF(d){return(d.metadata&4)>>>2===1}function fF(d,a){d.metadata=d.metadata&251|(a?1:0)<<2}function Lp(d){return(d.metadata&8)>>>3===1}function gF(d,a){d.metadata=d.metadata&247|(a?1:0)<<3}function LU(d){return(d.metadata&48)>>>4}function hF(d,a){d.metadata=d.metadata&207|a<<4}function MU(d){return(d.metadata&64)>>>6===1}function iF(d,a){d.metadata=d.metadata&191|(a?1:0)<<6}var uv=function(){function d(a,b,c){this.metadata=0,this.parent=this,this.left=this,this.right=this,Za(this,1),this.start=b,this.end=c,this.delta=0,this.maxEnd=c,this.id=a,this.ownerId=0,this.options=null,fF(this,!1),hF(this,1),gF(this,!1),iF(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=b,this.cachedAbsoluteEnd=c,this.range=null,Va(this,!1)}return d.prototype.reset=function(a,b,c,e){this.start=b,this.end=c,this.maxEnd=c,this.cachedVersionId=a,this.cachedAbsoluteStart=b,this.cachedAbsoluteEnd=c,this.range=e},d.prototype.setOptions=function(a){this.options=a;var b=this.options.className;fF(this,b==="squiggly-error"||b==="squiggly-warning"||b==="squiggly-info"),hF(this,this.options.stickiness),gF(this,this.options.overviewRuler&&this.options.overviewRuler.color?!0:!1),iF(this,this.options.collapseOnReplaceEdit)},d.prototype.setCachedOffsets=function(a,b,c){this.cachedVersionId!==c&&(this.range=null),this.cachedVersionId=c,this.cachedAbsoluteStart=a,this.cachedAbsoluteEnd=b},d.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},d}(),ta=new uv(null,0,0);ta.parent=ta;ta.left=ta;ta.right=ta;Za(ta,0);var vv=function(){function d(){this.root=ta,this.requestNormalizeDelta=!1}return d.prototype.intervalSearch=function(a,b,c,e,f){return this.root===ta?[]:UU(this,a,b,c,e,f)},d.prototype.search=function(a,b,c){return this.root===ta?[]:TU(this,a,b,c)},d.prototype.collectNodesFromOwner=function(a){return RU(this,a)},d.prototype.collectNodesPostOrder=function(){return SU(this)},d.prototype.insert=function(a){jF(this,a),this._normalizeDeltaIfNecessary()},d.prototype.delete=function(a){kF(this,a),this._normalizeDeltaIfNecessary()},d.prototype.resolveNode=function(a,b){for(var c=a,e=0;a!==this.root;)a===a.parent.right&&(e+=a.parent.delta),a=a.parent;var f=c.start+e,g=c.end+e;c.setCachedOffsets(f,g,b)},d.prototype.acceptReplace=function(a,b,c,e){for(var f=PU(this,a,a+b),g=0,h=f.length;g<h;g++){var i=f[g];kF(this,i)}this._normalizeDeltaIfNecessary(),QU(this,a,a+b,c),this._normalizeDeltaIfNecessary();for(var g=0,h=f.length;g<h;g++){var i=f[g];i.start=i.cachedAbsoluteStart,i.end=i.cachedAbsoluteEnd,OU(i,a,a+b,c,e),i.maxEnd=i.end,jF(this,i)}this._normalizeDeltaIfNecessary()},d.prototype._normalizeDeltaIfNecessary=function(){if(!this.requestNormalizeDelta)return;this.requestNormalizeDelta=!1,NU(this)},d}();function NU(d){for(var a=d.root,b=0;a!==ta;){if(a.left!==ta&&!rc(a.left)){a=a.left;continue}if(a.right!==ta&&!rc(a.right)){b+=a.delta,a=a.right;continue}a.start=b+a.start,a.end=b+a.end,a.delta=0,jg(a),Va(a,!0),Va(a.left,!1),Va(a.right,!1),a===a.parent.right&&(b-=a.parent.delta),a=a.parent}Va(d.root,!1)}function bk(d,a,b,c){return d<b?!0:d>b?!1:c===1?!1:c===2?!0:a}function OU(d,a,b,c,e){var f=LU(d),g=f===0||f===2,h=f===1||f===2,i=b-a,j=c,k=Math.min(i,j),l=d.start,m=!1,n=d.end,o=!1;a<=l&&n<=b&&MU(d)&&(d.start=a,m=!0,d.end=a,o=!0);{var p=e?1:i>0?2:0;!m&&bk(l,g,a,p)&&(m=!0),!o&&bk(n,h,a,p)&&(o=!0)}if(k>0&&!e){var p=i>j?2:0;!m&&bk(l,g,a+k,p)&&(m=!0),!o&&bk(n,h,a+k,p)&&(o=!0)}{var p=e?1:0;!m&&bk(l,g,b,p)&&(d.start=a+j,m=!0),!o&&bk(n,h,b,p)&&(d.end=a+j,o=!0)}var q=j-i;m||(d.start=Math.max(0,l+q)),o||(d.end=Math.max(0,n+q)),d.start>d.end&&(d.end=d.start)}function PU(d,a,b){for(var c=d.root,e=0,f=0,g=0,h=0,i=[],j=0;c!==ta;){if(rc(c)){Va(c.left,!1),Va(c.right,!1),c===c.parent.right&&(e-=c.parent.delta),c=c.parent;continue}if(!rc(c.left)){f=e+c.maxEnd;if(f<a){Va(c,!0);continue}if(c.left!==ta){c=c.left;continue}}g=e+c.start;if(g>b){Va(c,!0);continue}h=e+c.end,h>=a&&(c.setCachedOffsets(g,h,0),i[j++]=c),Va(c,!0);if(c.right!==ta&&!rc(c.right)){e+=c.delta,c=c.right;continue}}return Va(d.root,!1),i}function QU(d,a,b,c){for(var e=d.root,f=0,g=0,h=0,i=c-(b-a);e!==ta;){if(rc(e)){Va(e.left,!1),Va(e.right,!1),e===e.parent.right&&(f-=e.parent.delta),jg(e),e=e.parent;continue}if(!rc(e.left)){g=f+e.maxEnd;if(g<a){Va(e,!0);continue}if(e.left!==ta){e=e.left;continue}}h=f+e.start;if(h>b){e.start+=i,e.end+=i,e.delta+=i,(e.delta<-1073741824||e.delta>1073741824)&&(d.requestNormalizeDelta=!0),Va(e,!0);continue}Va(e,!0);if(e.right!==ta&&!rc(e.right)){f+=e.delta,e=e.right;continue}}Va(d.root,!1)}function RU(d,a){for(var b=d.root,c=[],e=0;b!==ta;){if(rc(b)){Va(b.left,!1),Va(b.right,!1),b=b.parent;continue}if(b.left!==ta&&!rc(b.left)){b=b.left;continue}b.ownerId===a&&(c[e++]=b),Va(b,!0);if(b.right!==ta&&!rc(b.right)){b=b.right;continue}}return Va(d.root,!1),c}function SU(d){for(var a=d.root,b=[],c=0;a!==ta;){if(rc(a)){Va(a.left,!1),Va(a.right,!1),a=a.parent;continue}if(a.left!==ta&&!rc(a.left)){a=a.left;continue}if(a.right!==ta&&!rc(a.right)){a=a.right;continue}b[c++]=a,Va(a,!0)}return Va(d.root,!1),b}function TU(d,a,b,c){for(var e=d.root,f=0,g=0,h=0,i=[],j=0;e!==ta;){if(rc(e)){Va(e.left,!1),Va(e.right,!1),e===e.parent.right&&(f-=e.parent.delta),e=e.parent;continue}if(e.left!==ta&&!rc(e.left)){e=e.left;continue}g=f+e.start,h=f+e.end,e.setCachedOffsets(g,h,c);var k=!0;a&&e.ownerId&&e.ownerId!==a&&(k=!1),b&&eF(e)&&(k=!1),k&&(i[j++]=e),Va(e,!0);if(e.right!==ta&&!rc(e.right)){f+=e.delta,e=e.right;continue}}return Va(d.root,!1),i}function UU(d,a,b,c,e,f){for(var g=d.root,h=0,i=0,j=0,k=0,l=[],m=0;g!==ta;){if(rc(g)){Va(g.left,!1),Va(g.right,!1),g===g.parent.right&&(h-=g.parent.delta),g=g.parent;continue}if(!rc(g.left)){i=h+g.maxEnd;if(i<a){Va(g,!0);continue}if(g.left!==ta){g=g.left;continue}}j=h+g.start;if(j>b){Va(g,!0);continue}k=h+g.end;if(k>=a){g.setCachedOffsets(j,k,f);var n=!0;c&&g.ownerId&&g.ownerId!==c&&(n=!1),e&&eF(g)&&(n=!1),n&&(l[m++]=g)}Va(g,!0);if(g.right!==ta&&!rc(g.right)){h+=g.delta,g=g.right;continue}}return Va(d.root,!1),l}function jF(d,a){if(d.root===ta)return a.parent=ta,a.left=ta,a.right=ta,Za(a,0),d.root=a,d.root;VU(d,a),nh(a.parent);for(var b=a;b!==d.root&&bd(b.parent)===1;)if(b.parent===b.parent.parent.left){var c=b.parent.parent.right;bd(c)===1?(Za(b.parent,0),Za(c,0),Za(b.parent.parent,1),b=b.parent.parent):(b===b.parent.right&&(b=b.parent,km(d,b)),Za(b.parent,0),Za(b.parent.parent,1),lm(d,b.parent.parent))}else{var c=b.parent.parent.left;bd(c)===1?(Za(b.parent,0),Za(c,0),Za(b.parent.parent,1),b=b.parent.parent):(b===b.parent.left&&(b=b.parent,lm(d,b)),Za(b.parent,0),Za(b.parent.parent,1),km(d,b.parent.parent))}return Za(d.root,0),a}function VU(d,a){for(var b=0,c=d.root,e=a.start,f=a.end;;){var g=XU(e,f,c.start+b,c.end+b);if(g<0)if(c.left===ta){a.start-=b,a.end-=b,a.maxEnd-=b,c.left=a;break}else c=c.left;else if(c.right===ta){a.start-=b+c.delta,a.end-=b+c.delta,a.maxEnd-=b+c.delta,c.right=a;break}else b+=c.delta,c=c.right}a.parent=c,a.left=ta,a.right=ta,Za(a,1)}function kF(d,a){var b,c;a.left===ta?(b=a.right,c=a,b.delta+=a.delta,(b.delta<-1073741824||b.delta>1073741824)&&(d.requestNormalizeDelta=!0),b.start+=a.delta,b.end+=a.delta):a.right===ta?(b=a.left,c=a):(c=WU(a.right),b=c.right,b.start+=c.delta,b.end+=c.delta,b.delta+=c.delta,(b.delta<-1073741824||b.delta>1073741824)&&(d.requestNormalizeDelta=!0),c.start+=a.delta,c.end+=a.delta,c.delta=a.delta,(c.delta<-1073741824||c.delta>1073741824)&&(d.requestNormalizeDelta=!0));if(c===d.root){d.root=b,Za(b,0),a.detach(),wv(),jg(b),d.root.parent=ta;return}var e=bd(c)===1;c===c.parent.left?c.parent.left=b:c.parent.right=b,c===a?b.parent=c.parent:(c.parent===a?b.parent=c:b.parent=c.parent,c.left=a.left,c.right=a.right,c.parent=a.parent,Za(c,bd(a)),a===d.root?d.root=c:a===a.parent.left?a.parent.left=c:a.parent.right=c,c.left!==ta&&(c.left.parent=c),c.right!==ta&&(c.right.parent=c)),a.detach();if(e){nh(b.parent),c!==a&&(nh(c),nh(c.parent)),wv();return}nh(b),nh(b.parent),c!==a&&(nh(c),nh(c.parent));for(var f;b!==d.root&&bd(b)===0;)b===b.parent.left?(f=b.parent.right,bd(f)===1&&(Za(f,0),Za(b.parent,1),km(d,b.parent),f=b.parent.right),bd(f.left)===0&&bd(f.right)===0?(Za(f,1),b=b.parent):(bd(f.right)===0&&(Za(f.left,0),Za(f,1),lm(d,f),f=b.parent.right),Za(f,bd(b.parent)),Za(b.parent,0),Za(f.right,0),km(d,b.parent),b=d.root)):(f=b.parent.left,bd(f)===1&&(Za(f,0),Za(b.parent,1),lm(d,b.parent),f=b.parent.left),bd(f.left)===0&&bd(f.right)===0?(Za(f,1),b=b.parent):(bd(f.left)===0&&(Za(f.right,0),Za(f,1),km(d,f),f=b.parent.left),Za(f,bd(b.parent)),Za(b.parent,0),Za(f.left,0),lm(d,b.parent),b=d.root));Za(b,0),wv()}function WU(d){for(;d.left!==ta;)d=d.left;return d}function wv(){ta.parent=ta,ta.delta=0,ta.start=0,ta.end=0}function km(d,a){var b=a.right;b.delta+=a.delta,(b.delta<-1073741824||b.delta>1073741824)&&(d.requestNormalizeDelta=!0),b.start+=a.delta,b.end+=a.delta,a.right=b.left,b.left!==ta&&(b.left.parent=a),b.parent=a.parent,a.parent===ta?d.root=b:a===a.parent.left?a.parent.left=b:a.parent.right=b,b.left=a,a.parent=b,jg(a),jg(b)}function lm(d,a){var b=a.left;a.delta-=b.delta,(a.delta<-1073741824||a.delta>1073741824)&&(d.requestNormalizeDelta=!0),a.start-=b.delta,a.end-=b.delta,a.left=b.right,b.right!==ta&&(b.right.parent=a),b.parent=a.parent,a.parent===ta?d.root=b:a===a.parent.right?a.parent.right=b:a.parent.left=b,b.right=a,a.parent=b,jg(a),jg(b)}function lF(d){var a=d.end;if(d.left!==ta){var b=d.left.maxEnd;b>a&&(a=b)}if(d.right!==ta){var c=d.right.maxEnd+d.delta;c>a&&(a=c)}return a}function jg(d){d.maxEnd=lF(d)}function nh(d){for(;d!==ta;){var a=lF(d);if(d.maxEnd===a)return;d.maxEnd=a,d=d.parent}}function XU(d,a,b,c){return d===b?a-c:d-b}var Mp=function(){function d(a,b){this.piece=a,this.color=b,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return d.prototype.next=function(){if(this.right!==oa)return Np(this.right);for(var a=this;a.parent!==oa;){if(a.parent.left===a)break;a=a.parent}return a.parent===oa?oa:a.parent},d.prototype.prev=function(){if(this.left!==oa)return yv(this.left);for(var a=this;a.parent!==oa;){if(a.parent.right===a)break;a=a.parent}return a.parent===oa?oa:a.parent},d.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},d}(),oa=new Mp(null,0);oa.parent=oa;oa.left=oa;oa.right=oa;oa.color=0;function Np(d){for(;d.left!==oa;)d=d.left;return d}function yv(d){for(;d.right!==oa;)d=d.right;return d}function zv(d){return d===oa?0:d.size_left+d.piece.length+zv(d.right)}function Av(d){return d===oa?0:d.lf_left+d.piece.lineFeedCnt+Av(d.right)}function Bv(){oa.parent=oa}function nm(d,a){var b=a.right;b.size_left+=a.size_left+(a.piece?a.piece.length:0),b.lf_left+=a.lf_left+(a.piece?a.piece.lineFeedCnt:0),a.right=b.left,b.left!==oa&&(b.left.parent=a),b.parent=a.parent,a.parent===oa?d.root=b:a.parent.left===a?a.parent.left=b:a.parent.right=b,b.left=a,a.parent=b}function om(d,a){var b=a.left;a.left=b.right,b.right!==oa&&(b.right.parent=a),b.parent=a.parent,a.size_left-=b.size_left+(b.piece?b.piece.length:0),a.lf_left-=b.lf_left+(b.piece?b.piece.lineFeedCnt:0),a.parent===oa?d.root=b:a===a.parent.right?a.parent.right=b:a.parent.left=b,b.right=a,a.parent=b}function mm(d,a){var b,c;a.left===oa?(c=a,b=c.right):a.right===oa?(c=a,b=c.left):(c=Np(a.right),b=c.right);if(c===d.root){d.root=b,b.color=0,a.detach(),Bv(),d.root.parent=oa;return}var e=c.color===1;c===c.parent.left?c.parent.left=b:c.parent.right=b,c===a?(b.parent=c.parent,pm(d,b)):(c.parent===a?b.parent=c:b.parent=c.parent,pm(d,b),c.left=a.left,c.right=a.right,c.parent=a.parent,c.color=a.color,a===d.root?d.root=c:a===a.parent.left?a.parent.left=c:a.parent.right=c,c.left!==oa&&(c.left.parent=c),c.right!==oa&&(c.right.parent=c),c.size_left=a.size_left,c.lf_left=a.lf_left,pm(d,c)),a.detach();if(b.parent.left===b){var f=zv(b),g=Av(b);if(f!==b.parent.size_left||g!==b.parent.lf_left){var h=f-b.parent.size_left,i=g-b.parent.lf_left;b.parent.size_left=f,b.parent.lf_left=g,xf(d,b.parent,h,i)}}pm(d,b.parent);if(e){Bv();return}for(var j;b!==d.root&&b.color===0;)b===b.parent.left?(j=b.parent.right,j.color===1&&(j.color=0,b.parent.color=1,nm(d,b.parent),j=b.parent.right),j.left.color===0&&j.right.color===0?(j.color=1,b=b.parent):(j.right.color===0&&(j.left.color=0,j.color=1,om(d,j),j=b.parent.right),j.color=b.parent.color,b.parent.color=0,j.right.color=0,nm(d,b.parent),b=d.root)):(j=b.parent.left,j.color===1&&(j.color=0,b.parent.color=1,om(d,b.parent),j=b.parent.left),j.left.color===0&&j.right.color===0?(j.color=1,b=b.parent):(j.left.color===0&&(j.right.color=0,j.color=1,nm(d,j),j=b.parent.left),j.color=b.parent.color,b.parent.color=0,j.left.color=0,om(d,b.parent),b=d.root));b.color=0,Bv()}function xv(d,a){for(pm(d,a);a!==d.root&&a.parent.color===1;)if(a.parent===a.parent.parent.left){var b=a.parent.parent.right;b.color===1?(a.parent.color=0,b.color=0,a.parent.parent.color=1,a=a.parent.parent):(a===a.parent.right&&(a=a.parent,nm(d,a)),a.parent.color=0,a.parent.parent.color=1,om(d,a.parent.parent))}else{var b=a.parent.parent.left;b.color===1?(a.parent.color=0,b.color=0,a.parent.parent.color=1,a=a.parent.parent):(a===a.parent.left&&(a=a.parent,om(d,a)),a.parent.color=0,a.parent.parent.color=1,nm(d,a.parent.parent))}d.root.color=0}function xf(d,a,b,c){for(;a!==d.root&&a!==oa;)a.parent.left===a&&(a.parent.size_left+=b,a.parent.lf_left+=c),a=a.parent}function pm(d,a){var b=0,c=0;if(a===d.root)return;if(b===0){for(;a!==d.root&&a===a.parent.right;)a=a.parent;if(a===d.root)return;a=a.parent,b=zv(a.left)-a.size_left,c=Av(a.left)-a.lf_left,a.size_left+=b,a.lf_left+=c}for(;a!==d.root&&(b!==0||c!==0);)a.parent.left===a&&(a.parent.size_left+=b,a.parent.lf_left+=c),a=a.parent}var yU=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),zU=function(d){yU(a,d);function a(b){for(var c=d.call(this,0)||this,e=0,f=b.length;e<f;e++)c.set(b.charCodeAt(e),2);return c.set(32,1),c.set(9,1),c}return a}(ri);function AU(d){var a={};return function(b){return a.hasOwnProperty(b)||(a[b]=d(b)),a[b]}}var qd=AU(function(d){return new zU(d)});var hV=999,lg=function(){function d(a,b,c,e){this.searchString=a,this.isRegex=b,this.matchCase=c,this.wordSeparators=e}return d.prototype.parseSearchRequest=function(){if(this.searchString==="")return null;var a;this.isRegex?a=iV(this.searchString):a=this.searchString.indexOf(`
`)>=0;var b=null;try{b=So(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:a,global:!0,unicode:!0})}catch(e){return null}if(!b)return null;var c=!this.isRegex&&!a;return c&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(c=this.matchCase),new jV(b,this.wordSeparators?qd(this.wordSeparators):null,c?this.searchString:null)},d}();function iV(d){if(!d||d.length===0)return!1;for(var a=0,b=d.length;a<b;a++){var c=d.charCodeAt(a);if(c===92){a++;if(a>=b)break;var e=d.charCodeAt(a);if(e===110||e===114||e===87||e===119)return!0}}return!1}var jV=function(){function d(a,b,c){this.regex=a,this.wordSeparators=b,this.simpleSearch=c}return d}();function oh(d,a,b){if(!b)return new mh(d,null);for(var c=[],e=0,f=a.length;e<f;e++)c[e]=a[e];return new mh(d,c)}var HF=function(){function d(a){for(var b=[],c=0,e=0,f=a.length;e<f;e++)a.charCodeAt(e)===10&&(b[c++]=e);this._lineFeedsOffsets=b}return d.prototype.findLineFeedCountBeforeOffset=function(a){var b=this._lineFeedsOffsets,c=0,e=b.length-1;if(e===-1)return 0;if(a<=b[0])return 0;for(;c<e;){var f=c+((e-c)/2>>0);b[f]>=a?e=f-1:b[f+1]>=a?(c=f,e=f):c=f+1}return c+1},d}(),sm=function(){function d(){}return d.findMatches=function(a,b,c,e,f){var g=b.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(a,c,new ck(g.wordSeparators,g.regex),e,f):this._doFindMatchesLineByLine(a,c,g,e,f):[]},d._getMultilineMatchRange=function(a,b,c,e,f,g){var h,i=0;e?(i=e.findLineFeedCountBeforeOffset(f),h=b+f+i):h=b+f;var j;if(e){var k=e.findLineFeedCountBeforeOffset(f+g.length),l=k-i;j=h+g.length+l}else j=h+g.length;var m=a.getPositionAt(h),n=a.getPositionAt(j);return new z(m.lineNumber,m.column,n.lineNumber,n.column)},d._doFindMatchesMultiline=function(a,b,c,e,f){var g=a.getOffsetAt(b.getStartPosition()),h=a.getValueInRange(b,1),i=a.getEOL()===`\r
`?new HF(h):null,j=[],k=0,l;for(c.reset(0);l=c.next(h);){j[k++]=oh(this._getMultilineMatchRange(a,g,h,i,l.index,l[0]),l,e);if(k>=f)return j}return j},d._doFindMatchesLineByLine=function(a,b,c,e,f){var g=[],h=0;if(b.startLineNumber===b.endLineNumber){var i=a.getLineContent(b.startLineNumber).substring(b.startColumn-1,b.endColumn-1);return h=this._findMatchesInLine(c,i,b.startLineNumber,b.startColumn-1,h,g,e,f),g}var j=a.getLineContent(b.startLineNumber).substring(b.startColumn-1);h=this._findMatchesInLine(c,j,b.startLineNumber,b.startColumn-1,h,g,e,f);for(var k=b.startLineNumber+1;k<b.endLineNumber&&h<f;k++)h=this._findMatchesInLine(c,a.getLineContent(k),k,0,h,g,e,f);if(h<f){var l=a.getLineContent(b.endLineNumber).substring(0,b.endColumn-1);h=this._findMatchesInLine(c,l,b.endLineNumber,0,h,g,e,f)}return g},d._findMatchesInLine=function(a,b,c,e,f,g,h,i){var j=a.wordSeparators;if(!h&&a.simpleSearch){for(var k=a.simpleSearch,l=k.length,m=b.length,n=-l;(n=b.indexOf(k,n+l))!==-1;)if(!j||Op(j,b,m,n,l)){g[f++]=new mh(new z(c,n+1+e,c,n+1+l+e),null);if(f>=i)return f}return f}var o=new ck(a.wordSeparators,a.regex),p;o.reset(0);do{p=o.next(b);if(p){g[f++]=oh(new z(c,p.index+1+e,c,p.index+1+p[0].length+e),p,h);if(f>=i)return f}}while(p);return f},d.findNextMatch=function(a,b,c,e){var f=b.parseSearchRequest();if(!f)return null;var g=new ck(f.wordSeparators,f.regex);return f.regex.multiline?this._doFindNextMatchMultiline(a,c,g,e):this._doFindNextMatchLineByLine(a,c,g,e)},d._doFindNextMatchMultiline=function(a,b,c,e){var f=new G(b.lineNumber,1),g=a.getOffsetAt(f),h=a.getLineCount(),i=a.getValueInRange(new z(f.lineNumber,f.column,h,a.getLineMaxColumn(h)),1),j=a.getEOL()===`\r
`?new HF(i):null;c.reset(b.column-1);var k=c.next(i);return k?oh(this._getMultilineMatchRange(a,g,i,j,k.index,k[0]),k,e):b.lineNumber!==1||b.column!==1?this._doFindNextMatchMultiline(a,new G(1,1),c,e):null},d._doFindNextMatchLineByLine=function(a,b,c,e){var f=a.getLineCount(),g=b.lineNumber,h=a.getLineContent(g),i=this._findFirstMatchInLine(c,h,g,b.column,e);if(i)return i;for(var j=1;j<=f;j++){var k=(g+j-1)%f,l=a.getLineContent(k+1),m=this._findFirstMatchInLine(c,l,k+1,1,e);if(m)return m}return null},d._findFirstMatchInLine=function(a,b,c,e,f){a.reset(e-1);var g=a.next(b);return g?oh(new z(c,g.index+1,c,g.index+1+g[0].length),g,f):null},d.findPreviousMatch=function(a,b,c,e){var f=b.parseSearchRequest();if(!f)return null;var g=new ck(f.wordSeparators,f.regex);return f.regex.multiline?this._doFindPreviousMatchMultiline(a,c,g,e):this._doFindPreviousMatchLineByLine(a,c,g,e)},d._doFindPreviousMatchMultiline=function(a,b,c,e){var f=this._doFindMatchesMultiline(a,new z(1,1,b.lineNumber,b.column),c,e,10*hV);if(f.length>0)return f[f.length-1];var g=a.getLineCount();return b.lineNumber!==g||b.column!==a.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(a,new G(g,a.getLineMaxColumn(g)),c,e):null},d._doFindPreviousMatchLineByLine=function(a,b,c,e){var f=a.getLineCount(),g=b.lineNumber,h=a.getLineContent(g).substring(0,b.column-1),i=this._findLastMatchInLine(c,h,g,e);if(i)return i;for(var j=1;j<=f;j++){var k=(f+g-j-1)%f,l=a.getLineContent(k+1),m=this._findLastMatchInLine(c,l,k+1,e);if(m)return m}return null},d._findLastMatchInLine=function(a,b,c,e){var f=null,g;for(a.reset(0);g=a.next(b);)f=oh(new z(c,g.index+1,c,g.index+1+g[0].length),g,e);return f},d}();function kV(d,a,b,c,e){if(c===0)return!0;var f=a.charCodeAt(c-1);if(d.get(f)!==0)return!0;if(f===13||f===10)return!0;if(e>0){var g=a.charCodeAt(c);if(d.get(g)!==0)return!0}return!1}function lV(d,a,b,c,e){if(c+e===b)return!0;var f=a.charCodeAt(c+e);if(d.get(f)!==0)return!0;if(f===13||f===10)return!0;if(e>0){var g=a.charCodeAt(c+e-1);if(d.get(g)!==0)return!0}return!1}function Op(d,a,b,c,e){return kV(d,a,b,c,e)&&lV(d,a,b,c,e)}var ck=function(){function d(a,b){this._wordSeparators=a,this._searchRegex=b,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return d.prototype.reset=function(a){this._searchRegex.lastIndex=a,this._prevMatchStartIndex=-1,this._prevMatchLength=0},d.prototype.next=function(a){var b=a.length,c;do{if(this._prevMatchStartIndex+this._prevMatchLength===b)return null;c=this._searchRegex.exec(a);if(!c)return null;var e=c.index,f=c[0].length;if(e===this._prevMatchStartIndex&&f===this._prevMatchLength){if(f===0){this._searchRegex.lastIndex+=1;continue}return null}this._prevMatchStartIndex=e,this._prevMatchLength=f;if(!this._wordSeparators||Op(this._wordSeparators,a,b,e,f))return c}while(c);return null},d}();var kg=65535;function oF(d){var a;return d[d.length-1]<65536?a=new Uint16Array(d.length):a=new Uint32Array(d.length),a.set(d,0),a}var YU=function(){function d(a,b,c,e,f){this.lineStarts=a,this.cr=b,this.lf=c,this.crlf=e,this.isBasicASCII=f}return d}();function yf(d,a){a===void 0&&(a=!0);for(var b=[0],c=1,e=0,f=d.length;e<f;e++){var g=d.charCodeAt(e);g===13?e+1<f&&d.charCodeAt(e+1)===10?(b[c++]=e+2,e++):b[c++]=e+1:g===10&&(b[c++]=e+1)}return a?oF(b):b}function pF(d,a){d.length=0,d[0]=0;for(var b=1,c=0,e=0,f=0,g=!0,h=0,i=a.length;h<i;h++){var j=a.charCodeAt(h);j===13?h+1<i&&a.charCodeAt(h+1)===10?(f++,d[b++]=h+2,h++):(c++,d[b++]=h+1):j===10?(e++,d[b++]=h+1):g&&(j!==9&&(j<32||j>126)&&(g=!1))}var k=new YU(oF(d),c,e,f,g);return d.length=0,k}var wd=function(){function d(a,b,c,e,f){this.bufferIndex=a,this.start=b,this.end=c,this.lineFeedCnt=e,this.length=f}return d}(),ph=function(){function d(a,b){this.buffer=a,this.lineStarts=b}return d}(),ZU=function(){function d(a){this._limit=a,this._cache=[]}return d.prototype.get=function(a){for(var b=this._cache.length-1;b>=0;b--){var c=this._cache[b];if(c.nodeStartOffset<=a&&c.nodeStartOffset+c.node.piece.length>=a)return c}return null},d.prototype.get2=function(a){for(var b=this._cache.length-1;b>=0;b--){var c=this._cache[b];if(c.nodeStartLineNumber&&c.nodeStartLineNumber<a&&c.nodeStartLineNumber+c.node.piece.lineFeedCnt>=a)return c}return null},d.prototype.set=function(a){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(a)},d.prototype.valdiate=function(a){for(var b=!1,c=this._cache,e=0;e<c.length;e++){var f=c[e];if(f.node.parent===null||f.nodeStartOffset>=a){c[e]=null,b=!0;continue}}if(b){for(var g=[],h=0,i=c;h<i.length;h++){var j=i[h];j!==null&&g.push(j)}this._cache=g}},d}(),qF=function(){function d(a,b,c){this.create(a,b,c)}return d.prototype.create=function(a,b,c){this._buffers=[new ph("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=oa,this._lineCnt=1,this._length=0,this._EOL=b,this._EOLLength=b.length,this._EOLNormalized=c;for(var e=null,f=0,g=a.length;f<g;f++)if(a[f].buffer.length>0){a[f].lineStarts||(a[f].lineStarts=yf(a[f].buffer));var h=new wd(f+1,{line:0,column:0},{line:a[f].lineStarts.length-1,column:a[f].buffer.length-a[f].lineStarts[a[f].lineStarts.length-1]},a[f].lineStarts.length-1,a[f].buffer.length);this._buffers.push(a[f]),e=this.rbInsertRight(e,h)}this._searchCache=new ZU(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()},d.prototype.normalizeEOL=function(a){var b=this,c=kg,e=c-Math.floor(c/3),f=e*2,g="",h=0,i=[];this.iterate(this.root,function(k){var l=b.getNodeContent(k),m=l.length;if(h<=e||h+m<f)return g+=l,h+=m,!0;var n=g.replace(/\r\n|\r|\n/g,a);return i.push(new ph(n,yf(n))),g=l,h=m,!0});if(h>0){var j=g.replace(/\r\n|\r|\n/g,a);i.push(new ph(j,yf(j)))}this.create(i,a,!0)},d.prototype.getEOL=function(){return this._EOL},d.prototype.setEOL=function(a){this._EOL=a,this._EOLLength=this._EOL.length,this.normalizeEOL(a)},d.prototype.getOffsetAt=function(a,b){for(var c=0,e=this.root;e!==oa;)if(e.left!==oa&&e.lf_left+1>=a)e=e.left;else if(e.lf_left+e.piece.lineFeedCnt+1>=a){c+=e.size_left;var f=this.getAccumulatedValue(e,a-e.lf_left-2);return c+=f+b-1}else a-=e.lf_left+e.piece.lineFeedCnt,c+=e.size_left+e.piece.length,e=e.right;return c},d.prototype.getPositionAt=function(a){a=Math.floor(a),a=Math.max(0,a);for(var b=this.root,c=0,e=a;b!==oa;)if(b.size_left!==0&&b.size_left>=a)b=b.left;else if(b.size_left+b.piece.length>=a){var f=this.getIndexOf(b,a-b.size_left);c+=b.lf_left+f.index;if(f.index===0){var g=this.getOffsetAt(c+1,1),h=e-g;return new G(c+1,h+1)}return new G(c+1,f.remainder+1)}else{a-=b.size_left+b.piece.length,c+=b.lf_left+b.piece.lineFeedCnt;if(b.right===oa){var g=this.getOffsetAt(c+1,1),h=e-a-g;return new G(c+1,h+1)}else b=b.right}return new G(1,1)},d.prototype.getValueInRange=function(a,b){if(a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn)return"";var c=this.nodeAt2(a.startLineNumber,a.startColumn),e=this.nodeAt2(a.endLineNumber,a.endColumn),f=this.getValueInRange2(c,e);return b?b!==this._EOL||!this._EOLNormalized?f.replace(/\r\n|\r|\n/g,b):b===this.getEOL()&&this._EOLNormalized?(b===`\r
`,f):f.replace(/\r\n|\r|\n/g,b):f},d.prototype.getValueInRange2=function(a,b){if(a.node===b.node){var c=a.node,e=this._buffers[c.piece.bufferIndex].buffer,f=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return e.substring(f+a.remainder,f+b.remainder)}var g=a.node,h=this._buffers[g.piece.bufferIndex].buffer,i=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start),j=h.substring(i+a.remainder,i+g.piece.length);for(g=g.next();g!==oa;){var k=this._buffers[g.piece.bufferIndex].buffer,l=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start);if(g===b.node){j+=k.substring(l,l+b.remainder);break}else j+=k.substr(l,g.piece.length);g=g.next()}return j},d.prototype.getLinesContent=function(){var a=this,b=[],c=0,e="",f=!1;return this.iterate(this.root,function(g){if(g===oa)return!0;var h=g.piece,i=h.length;if(i===0)return!0;var j=a._buffers[h.bufferIndex].buffer,k=a._buffers[h.bufferIndex].lineStarts,l=h.start.line,m=h.end.line,n=k[l]+h.start.column;if(f){j.charCodeAt(n)===10&&(n++,i--),b[c++]=e,e="",f=!1;if(i===0)return!0}if(l===m)return!a._EOLNormalized&&j.charCodeAt(n+i-1)===13?(f=!0,e+=j.substr(n,i-1)):e+=j.substr(n,i),!0;e+=a._EOLNormalized?j.substring(n,Math.max(n,k[l+1]-a._EOLLength)):j.substring(n,k[l+1]).replace(/(\r\n|\r|\n)$/,""),b[c++]=e;for(var o=l+1;o<m;o++)e=a._EOLNormalized?j.substring(k[o],k[o+1]-a._EOLLength):j.substring(k[o],k[o+1]).replace(/(\r\n|\r|\n)$/,""),b[c++]=e;return!a._EOLNormalized&&j.charCodeAt(k[m]+h.end.column-1)===13?(f=!0,h.end.column===0?c--:e=j.substr(k[m],h.end.column-1)):e=j.substr(k[m],h.end.column),!0}),f&&(b[c++]=e,e=""),b[c++]=e,b},d.prototype.getLength=function(){return this._length},d.prototype.getLineCount=function(){return this._lineCnt},d.prototype.getLineContent=function(a){return this._lastVisitedLine.lineNumber===a?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=a,a===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(a):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(a,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(a).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)},d.prototype.getLineCharCode=function(a,b){var c=this.nodeAt2(a,b+1);if(c.remainder===c.node.piece.length){var e=c.node.next();if(!e)return 0;var f=this._buffers[e.piece.bufferIndex],g=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start);return f.buffer.charCodeAt(g)}else{var f=this._buffers[c.node.piece.bufferIndex],g=this.offsetInBuffer(c.node.piece.bufferIndex,c.node.piece.start),h=g+c.remainder;return f.buffer.charCodeAt(h)}},d.prototype.getLineLength=function(a){if(a===this.getLineCount()){var b=this.getOffsetAt(a,1);return this.getLength()-b}return this.getOffsetAt(a+1,1)-this.getOffsetAt(a,1)-this._EOLLength},d.prototype.findMatchesInNode=function(a,b,c,e,f,g,h,i,j,k,l){var m=this._buffers[a.piece.bufferIndex],n=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start),o=this.offsetInBuffer(a.piece.bufferIndex,f),p=this.offsetInBuffer(a.piece.bufferIndex,g),q,r={line:0,column:0},t,v;b._wordSeparators?(t=m.buffer.substring(o,p),v=function(y){return y+o},b.reset(-1)):(t=m.buffer,v=function(y){return y},b.reset(o));do{q=b.next(t);if(q){if(v(q.index)>=p)return k;this.positionInBuffer(a,v(q.index)-n,r);var w=this.getLineFeedCnt(a.piece.bufferIndex,f,r),x=r.line===f.line?r.column-f.column+e:r.column+1,u=x+q[0].length;l[k++]=oh(new z(c+w,x,c+w,u),q,i);if(v(q.index)+q[0].length>=p)return k;if(k>=j)return k}}while(q);return k},d.prototype.findMatchesLineByLine=function(a,b,c,e){var f=[],g=0,h=new ck(b.wordSeparators,b.regex),i=this.nodeAt2(a.startLineNumber,a.startColumn);if(i===null)return[];var j=this.nodeAt2(a.endLineNumber,a.endColumn);if(j===null)return[];var k=this.positionInBuffer(i.node,i.remainder),l=this.positionInBuffer(j.node,j.remainder);if(i.node===j.node)return this.findMatchesInNode(i.node,h,a.startLineNumber,a.startColumn,k,l,b,c,e,g,f),f;for(var m=a.startLineNumber,n=i.node;n!==j.node;){var o=this.getLineFeedCnt(n.piece.bufferIndex,k,n.piece.end);if(o>=1){var p=this._buffers[n.piece.bufferIndex].lineStarts,q=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),r=p[k.line+o],t=m===a.startLineNumber?a.startColumn:1;g=this.findMatchesInNode(n,h,m,t,k,this.positionInBuffer(n,r-q),b,c,e,g,f);if(g>=e)return f;m+=o}var v=m===a.startLineNumber?a.startColumn-1:0;if(m===a.endLineNumber){var w=this.getLineContent(m).substring(v,a.endColumn-1);return g=this._findMatchesInLine(b,h,w,a.endLineNumber,v,g,f,c,e),f}g=this._findMatchesInLine(b,h,this.getLineContent(m).substr(v),m,v,g,f,c,e);if(g>=e)return f;m++,i=this.nodeAt2(m,1),n=i.node,k=this.positionInBuffer(i.node,i.remainder)}if(m===a.endLineNumber){var x=m===a.startLineNumber?a.startColumn-1:0,w=this.getLineContent(m).substring(x,a.endColumn-1);return g=this._findMatchesInLine(b,h,w,a.endLineNumber,x,g,f,c,e),f}var u=m===a.startLineNumber?a.startColumn:1;return g=this.findMatchesInNode(j.node,h,m,u,k,l,b,c,e,g,f),f},d.prototype._findMatchesInLine=function(a,b,c,e,f,g,h,i,j){var k=a.wordSeparators;if(!i&&a.simpleSearch){for(var l=a.simpleSearch,m=l.length,n=c.length,o=-m;(o=c.indexOf(l,o+m))!==-1;)if(!k||Op(k,c,n,o,m)){h[g++]=new mh(new z(e,o+1+f,e,o+1+m+f),null);if(g>=j)return g}return g}var p;b.reset(0);do{p=b.next(c);if(p){h[g++]=oh(new z(e,p.index+1+f,e,p.index+1+p[0].length+f),p,i);if(g>=j)return g}}while(p);return g},d.prototype.insert=function(a,b,c){c===void 0&&(c=!1),this._EOLNormalized=this._EOLNormalized&&c,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="";if(this.root!==oa){var e=this.nodeAt(a),f=e.node,g=e.remainder,h=e.nodeStartOffset,i=f.piece,j=i.bufferIndex,k=this.positionInBuffer(f,g);if(f.piece.bufferIndex===0&&i.end.line===this._lastChangeBufferPos.line&&i.end.column===this._lastChangeBufferPos.column&&h+i.length===a&&b.length<kg){this.appendToNode(f,b),this.computeBufferMetadata();return}if(h===a)this.insertContentToNodeLeft(b,f),this._searchCache.valdiate(a);else if(h+f.piece.length>a){var l=[],m=new wd(i.bufferIndex,k,i.end,this.getLineFeedCnt(i.bufferIndex,k,i.end),this.offsetInBuffer(j,i.end)-this.offsetInBuffer(j,k));if(this.shouldCheckCRLF()&&this.endWithCR(b)){var n=this.nodeCharCodeAt(f,g);if(n===10){var o={line:m.start.line+1,column:0};m=new wd(m.bufferIndex,o,m.end,this.getLineFeedCnt(m.bufferIndex,o,m.end),m.length-1),b+=`
`}}if(this.shouldCheckCRLF()&&this.startWithLF(b)){var p=this.nodeCharCodeAt(f,g-1);if(p===13){var q=this.positionInBuffer(f,g-1);this.deleteNodeTail(f,q),b="\r"+b,f.piece.length===0&&l.push(f)}else this.deleteNodeTail(f,k)}else this.deleteNodeTail(f,k);var r=this.createNewPieces(b);m.length>0&&this.rbInsertRight(f,m);for(var t=f,v=0;v<r.length;v++)t=this.rbInsertRight(t,r[v]);this.deleteNodes(l)}else this.insertContentToNodeRight(b,f)}else for(var w=this.createNewPieces(b),f=this.rbInsertLeft(null,w[0]),v=1;v<w.length;v++)f=this.rbInsertRight(f,w[v]);this.computeBufferMetadata()},d.prototype.delete=function(a,b){this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="";if(b<=0||this.root===oa)return;var c=this.nodeAt(a),e=this.nodeAt(a+b),f=c.node,g=e.node;if(f===g){var h=this.positionInBuffer(f,c.remainder),i=this.positionInBuffer(f,e.remainder);if(c.nodeStartOffset===a){if(b===f.piece.length){var j=f.next();mm(this,f),this.validateCRLFWithPrevNode(j),this.computeBufferMetadata();return}this.deleteNodeHead(f,i),this._searchCache.valdiate(a),this.validateCRLFWithPrevNode(f),this.computeBufferMetadata();return}if(c.nodeStartOffset+f.piece.length===a+b){this.deleteNodeTail(f,h),this.validateCRLFWithNextNode(f),this.computeBufferMetadata();return}this.shrinkNode(f,h,i),this.computeBufferMetadata();return}var k=[],l=this.positionInBuffer(f,c.remainder);this.deleteNodeTail(f,l),this._searchCache.valdiate(a),f.piece.length===0&&k.push(f);var m=this.positionInBuffer(g,e.remainder);this.deleteNodeHead(g,m),g.piece.length===0&&k.push(g);for(var n=f.next(),o=n;o!==oa&&o!==g;o=o.next())k.push(o);var p=f.piece.length===0?f.prev():f;this.deleteNodes(k),this.validateCRLFWithNextNode(p),this.computeBufferMetadata()},d.prototype.insertContentToNodeLeft=function(a,b){var c=[];if(this.shouldCheckCRLF()&&this.endWithCR(a)&&this.startWithLF(b)){var e=b.piece,f={line:e.start.line+1,column:0},g=new wd(e.bufferIndex,f,e.end,this.getLineFeedCnt(e.bufferIndex,f,e.end),e.length-1);b.piece=g,a+=`
`,xf(this,b,-1,-1),b.piece.length===0&&c.push(b)}for(var h=this.createNewPieces(a),i=this.rbInsertLeft(b,h[h.length-1]),j=h.length-2;j>=0;j--)i=this.rbInsertLeft(i,h[j]);this.validateCRLFWithPrevNode(i),this.deleteNodes(c)},d.prototype.insertContentToNodeRight=function(a,b){this.adjustCarriageReturnFromNext(a,b)&&(a+=`
`);for(var c=this.createNewPieces(a),e=this.rbInsertRight(b,c[0]),f=e,g=1;g<c.length;g++)f=this.rbInsertRight(f,c[g]);this.validateCRLFWithPrevNode(e)},d.prototype.positionInBuffer=function(a,b,c){for(var e=a.piece,f=a.piece.bufferIndex,g=this._buffers[f].lineStarts,h=g[e.start.line]+e.start.column,i=h+b,j=e.start.line,k=e.end.line,l=0,m=0,n=0;j<=k;){l=j+(k-j)/2|0,n=g[l];if(l===k)break;m=g[l+1];if(i<n)k=l-1;else if(i>=m)j=l+1;else break}return c?(c.line=l,c.column=i-n,null):{line:l,column:i-n}},d.prototype.getLineFeedCnt=function(a,b,c){if(c.column===0)return c.line-b.line;var e=this._buffers[a].lineStarts;if(c.line===e.length-1)return c.line-b.line;var f=e[c.line+1],g=e[c.line]+c.column;if(f>g+1)return c.line-b.line;var h=g-1,i=this._buffers[a].buffer;return i.charCodeAt(h)===13?c.line-b.line+1:c.line-b.line},d.prototype.offsetInBuffer=function(a,b){var c=this._buffers[a].lineStarts;return c[b.line]+b.column},d.prototype.deleteNodes=function(a){for(var b=0;b<a.length;b++)mm(this,a[b])},d.prototype.createNewPieces=function(a){if(a.length>kg){for(var b=[];a.length>kg;){var c=a.charCodeAt(kg-1),e=void 0;c===13||c>=55296&&c<=56319?(e=a.substring(0,kg-1),a=a.substring(kg-1)):(e=a.substring(0,kg),a=a.substring(kg));var f=yf(e);b.push(new wd(this._buffers.length,{line:0,column:0},{line:f.length-1,column:e.length-f[f.length-1]},f.length-1,e.length)),this._buffers.push(new ph(e,f))}var g=yf(a);return b.push(new wd(this._buffers.length,{line:0,column:0},{line:g.length-1,column:a.length-g[g.length-1]},g.length-1,a.length)),this._buffers.push(new ph(a,g)),b}var h=this._buffers[0].buffer.length,i=yf(a,!1),j=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===h&&h!==0&&this.startWithLF(a)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},j=this._lastChangeBufferPos;for(var k=0;k<i.length;k++)i[k]+=h+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+a,h+=1}else{if(h!==0)for(var k=0;k<i.length;k++)i[k]+=h;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=a}var l=this._buffers[0].buffer.length,m=this._buffers[0].lineStarts.length-1,n=l-this._buffers[0].lineStarts[m],o={line:m,column:n},p=new wd(0,j,o,this.getLineFeedCnt(0,j,o),l-h);return this._lastChangeBufferPos=o,[p]},d.prototype.getLineRawContent=function(a,b){b===void 0&&(b=0);var c=this.root,e="",f=this._searchCache.get2(a);if(f){c=f.node;var g=this.getAccumulatedValue(c,a-f.nodeStartLineNumber-1),h=this._buffers[c.piece.bufferIndex].buffer,i=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);if(f.nodeStartLineNumber+c.piece.lineFeedCnt===a)e=h.substring(i+g,i+c.piece.length);else{var j=this.getAccumulatedValue(c,a-f.nodeStartLineNumber);return h.substring(i+g,i+j-b)}}else for(var k=0,l=a;c!==oa;)if(c.left!==oa&&c.lf_left>=a-1)c=c.left;else if(c.lf_left+c.piece.lineFeedCnt>a-1){var g=this.getAccumulatedValue(c,a-c.lf_left-2),j=this.getAccumulatedValue(c,a-c.lf_left-1),h=this._buffers[c.piece.bufferIndex].buffer,i=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return k+=c.size_left,this._searchCache.set({node:c,nodeStartOffset:k,nodeStartLineNumber:l-(a-1-c.lf_left)}),h.substring(i+g,i+j-b)}else if(c.lf_left+c.piece.lineFeedCnt===a-1){var g=this.getAccumulatedValue(c,a-c.lf_left-2),h=this._buffers[c.piece.bufferIndex].buffer,i=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);e=h.substring(i+g,i+c.piece.length);break}else a-=c.lf_left+c.piece.lineFeedCnt,k+=c.size_left+c.piece.length,c=c.right;for(c=c.next();c!==oa;){var h=this._buffers[c.piece.bufferIndex].buffer;if(c.piece.lineFeedCnt>0){var j=this.getAccumulatedValue(c,0),i=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return e+=h.substring(i,i+j-b),e}else{var i=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);e+=h.substr(i,c.piece.length)}c=c.next()}return e},d.prototype.computeBufferMetadata=function(){for(var a=this.root,b=1,c=0;a!==oa;)b+=a.lf_left+a.piece.lineFeedCnt,c+=a.size_left+a.piece.length,a=a.right;this._lineCnt=b,this._length=c,this._searchCache.valdiate(this._length)},d.prototype.getIndexOf=function(a,b){var c=a.piece,e=this.positionInBuffer(a,b),f=e.line-c.start.line;if(this.offsetInBuffer(c.bufferIndex,c.end)-this.offsetInBuffer(c.bufferIndex,c.start)===b){var g=this.getLineFeedCnt(a.piece.bufferIndex,c.start,e);if(g!==f)return{index:g,remainder:0}}return{index:f,remainder:e.column}},d.prototype.getAccumulatedValue=function(a,b){if(b<0)return 0;var c=a.piece,e=this._buffers[c.bufferIndex].lineStarts,f=c.start.line+b+1;return f>c.end.line?e[c.end.line]+c.end.column-e[c.start.line]-c.start.column:e[f]-e[c.start.line]-c.start.column},d.prototype.deleteNodeTail=function(a,b){var c=a.piece,e=c.lineFeedCnt,f=this.offsetInBuffer(c.bufferIndex,c.end),g=b,h=this.offsetInBuffer(c.bufferIndex,g),i=this.getLineFeedCnt(c.bufferIndex,c.start,g),j=i-e,k=h-f,l=c.length+k;a.piece=new wd(c.bufferIndex,c.start,g,i,l),xf(this,a,k,j)},d.prototype.deleteNodeHead=function(a,b){var c=a.piece,e=c.lineFeedCnt,f=this.offsetInBuffer(c.bufferIndex,c.start),g=b,h=this.getLineFeedCnt(c.bufferIndex,g,c.end),i=this.offsetInBuffer(c.bufferIndex,g),j=h-e,k=f-i,l=c.length+k;a.piece=new wd(c.bufferIndex,g,c.end,h,l),xf(this,a,k,j)},d.prototype.shrinkNode=function(a,b,c){var e=a.piece,f=e.start,g=e.end,h=e.length,i=e.lineFeedCnt,j=b,k=this.getLineFeedCnt(e.bufferIndex,e.start,j),l=this.offsetInBuffer(e.bufferIndex,b)-this.offsetInBuffer(e.bufferIndex,f);a.piece=new wd(e.bufferIndex,e.start,j,k,l),xf(this,a,l-h,k-i);var m=new wd(e.bufferIndex,c,g,this.getLineFeedCnt(e.bufferIndex,c,g),this.offsetInBuffer(e.bufferIndex,g)-this.offsetInBuffer(e.bufferIndex,c)),n=this.rbInsertRight(a,m);this.validateCRLFWithPrevNode(n)},d.prototype.appendToNode=function(a,b){this.adjustCarriageReturnFromNext(b,a)&&(b+=`
`);var c=this.shouldCheckCRLF()&&this.startWithLF(b)&&this.endWithCR(a),e=this._buffers[0].buffer.length;this._buffers[0].buffer+=b;for(var f=yf(b,!1),g=0;g<f.length;g++)f[g]+=e;if(c){var h=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:e-h}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(f.slice(1));var i=this._buffers[0].lineStarts.length-1,j=this._buffers[0].buffer.length-this._buffers[0].lineStarts[i],k={line:i,column:j},l=a.piece.length+b.length,m=a.piece.lineFeedCnt,n=this.getLineFeedCnt(0,a.piece.start,k),o=n-m;a.piece=new wd(a.piece.bufferIndex,a.piece.start,k,n,l),this._lastChangeBufferPos=k,xf(this,a,b.length,o)},d.prototype.nodeAt=function(a){var b=this.root,c=this._searchCache.get(a);if(c)return{node:c.node,nodeStartOffset:c.nodeStartOffset,remainder:a-c.nodeStartOffset};for(var e=0;b!==oa;)if(b.size_left>a)b=b.left;else if(b.size_left+b.piece.length>=a){e+=b.size_left;var f={node:b,remainder:a-b.size_left,nodeStartOffset:e};return this._searchCache.set(f),f}else a-=b.size_left+b.piece.length,e+=b.size_left+b.piece.length,b=b.right;return null},d.prototype.nodeAt2=function(a,b){for(var c=this.root,e=0;c!==oa;)if(c.left!==oa&&c.lf_left>=a-1)c=c.left;else if(c.lf_left+c.piece.lineFeedCnt>a-1){var f=this.getAccumulatedValue(c,a-c.lf_left-2),g=this.getAccumulatedValue(c,a-c.lf_left-1);return e+=c.size_left,{node:c,remainder:Math.min(f+b-1,g),nodeStartOffset:e}}else if(c.lf_left+c.piece.lineFeedCnt===a-1){var f=this.getAccumulatedValue(c,a-c.lf_left-2);if(f+b-1<=c.piece.length)return{node:c,remainder:f+b-1,nodeStartOffset:e};{b-=c.piece.length-f;break}}else a-=c.lf_left+c.piece.lineFeedCnt,e+=c.size_left+c.piece.length,c=c.right;for(c=c.next();c!==oa;){if(c.piece.lineFeedCnt>0){var g=this.getAccumulatedValue(c,0),h=this.offsetOfNode(c);return{node:c,remainder:Math.min(b-1,g),nodeStartOffset:h}}else if(c.piece.length>=b-1){var i=this.offsetOfNode(c);return{node:c,remainder:b-1,nodeStartOffset:i}}else b-=c.piece.length;c=c.next()}return null},d.prototype.nodeCharCodeAt=function(a,b){if(a.piece.lineFeedCnt<1)return-1;var c=this._buffers[a.piece.bufferIndex],e=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start)+b;return c.buffer.charCodeAt(e)},d.prototype.offsetOfNode=function(a){if(!a)return 0;for(var b=a.size_left;a!==this.root;)a.parent.right===a&&(b+=a.parent.size_left+a.parent.piece.length),a=a.parent;return b},d.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&this._EOL===`
`)},d.prototype.startWithLF=function(a){if(typeof a==="string")return a.charCodeAt(0)===10;if(a===oa||a.piece.lineFeedCnt===0)return!1;var b=a.piece,c=this._buffers[b.bufferIndex].lineStarts,e=b.start.line,f=c[e]+b.start.column;if(e===c.length-1)return!1;var g=c[e+1];return g>f+1?!1:this._buffers[b.bufferIndex].buffer.charCodeAt(f)===10},d.prototype.endWithCR=function(a){return typeof a==="string"?a.charCodeAt(a.length-1)===13:a===oa||a.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(a,a.piece.length-1)===13},d.prototype.validateCRLFWithPrevNode=function(a){if(this.shouldCheckCRLF()&&this.startWithLF(a)){var b=a.prev();this.endWithCR(b)&&this.fixCRLF(b,a)}},d.prototype.validateCRLFWithNextNode=function(a){if(this.shouldCheckCRLF()&&this.endWithCR(a)){var b=a.next();this.startWithLF(b)&&this.fixCRLF(a,b)}},d.prototype.fixCRLF=function(a,b){var c=[],e=this._buffers[a.piece.bufferIndex].lineStarts,f;a.piece.end.column===0?f={line:a.piece.end.line-1,column:e[a.piece.end.line]-e[a.piece.end.line-1]-1}:f={line:a.piece.end.line,column:a.piece.end.column-1};var g=a.piece.length-1,h=a.piece.lineFeedCnt-1;a.piece=new wd(a.piece.bufferIndex,a.piece.start,f,h,g),xf(this,a,-1,-1),a.piece.length===0&&c.push(a);var i={line:b.piece.start.line+1,column:0},j=b.piece.length-1,k=this.getLineFeedCnt(b.piece.bufferIndex,i,b.piece.end);b.piece=new wd(b.piece.bufferIndex,i,b.piece.end,k,j),xf(this,b,-1,-1),b.piece.length===0&&c.push(b);var l=this.createNewPieces(`\r
`);this.rbInsertRight(a,l[0]);for(var m=0;m<c.length;m++)mm(this,c[m])},d.prototype.adjustCarriageReturnFromNext=function(a,b){if(this.shouldCheckCRLF()&&this.endWithCR(a)){var c=b.next();if(this.startWithLF(c)){a+=`
`;if(c.piece.length===1)mm(this,c);else{var e=c.piece,f={line:e.start.line+1,column:0},g=e.length-1,h=this.getLineFeedCnt(e.bufferIndex,f,e.end);c.piece=new wd(e.bufferIndex,f,e.end,h,g),xf(this,c,-1,-1)}return!0}}return!1},d.prototype.iterate=function(a,b){if(a===oa)return b(oa);var c=this.iterate(a.left,b);return c?b(a)&&this.iterate(a.right,b):c},d.prototype.getNodeContent=function(a){if(a===oa)return"";var b=this._buffers[a.piece.bufferIndex],c,e=a.piece,f=this.offsetInBuffer(e.bufferIndex,e.start),g=this.offsetInBuffer(e.bufferIndex,e.end);return c=b.buffer.substring(f,g),c},d.prototype.rbInsertRight=function(a,b){var c=new Mp(b,1);c.left=oa,c.right=oa,c.parent=oa,c.size_left=0,c.lf_left=0;var e=this.root;if(e===oa)this.root=c,c.color=0;else if(a.right===oa)a.right=c,c.parent=a;else{var f=Np(a.right);f.left=c,c.parent=f}return xv(this,c),c},d.prototype.rbInsertLeft=function(a,b){var c=new Mp(b,1);c.left=oa,c.right=oa,c.parent=oa,c.size_left=0,c.lf_left=0;if(this.root===oa)this.root=c,c.color=0;else if(a.left===oa)a.left=c,c.parent=a;else{var e=yv(a.left);e.right=c,c.parent=e}return xv(this,c),c},d}();var rF=function(){function d(a,b,c,e,f,g){this._BOM=b,this._mightContainNonBasicASCII=!f,this._mightContainRTL=e,this._pieceTree=new qF(a,c,g)}return d.prototype.mightContainRTL=function(){return this._mightContainRTL},d.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},d.prototype.getBOM=function(){return this._BOM},d.prototype.getEOL=function(){return this._pieceTree.getEOL()},d.prototype.getOffsetAt=function(a,b){return this._pieceTree.getOffsetAt(a,b)},d.prototype.getPositionAt=function(a){return this._pieceTree.getPositionAt(a)},d.prototype.getRangeAt=function(a,b){var c=a+b,e=this.getPositionAt(a),f=this.getPositionAt(c);return new z(e.lineNumber,e.column,f.lineNumber,f.column)},d.prototype.getValueInRange=function(a,b){b===void 0&&(b=0);if(a.isEmpty())return"";var c=this._getEndOfLine(b);return this._pieceTree.getValueInRange(a,c)},d.prototype.getValueLengthInRange=function(a,b){b===void 0&&(b=0);if(a.isEmpty())return 0;if(a.startLineNumber===a.endLineNumber)return a.endColumn-a.startColumn;var c=this.getOffsetAt(a.startLineNumber,a.startColumn),e=this.getOffsetAt(a.endLineNumber,a.endColumn);return e-c},d.prototype.getCharacterCountInRange=function(a,b){b===void 0&&(b=0);if(this._mightContainNonBasicASCII){for(var c=0,e=a.startLineNumber,f=a.endLineNumber,g=e;g<=f;g++)for(var h=this.getLineContent(g),i=g===e?a.startColumn-1:0,j=g===f?a.endColumn-1:h.length,k=i;k<j;k++)Cb(h.charCodeAt(k))?(c=c+1,k=k+1):c=c+1;return c+=this._getEndOfLine(b).length*(f-e),c}return this.getValueLengthInRange(a,b)},d.prototype.getLength=function(){return this._pieceTree.getLength()},d.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},d.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},d.prototype.getLineContent=function(a){return this._pieceTree.getLineContent(a)},d.prototype.getLineCharCode=function(a,b){return this._pieceTree.getLineCharCode(a,b)},d.prototype.getLineLength=function(a){return this._pieceTree.getLineLength(a)},d.prototype.getLineFirstNonWhitespaceColumn=function(a){var b=Jb(this.getLineContent(a));return b===-1?0:b+1},d.prototype.getLineLastNonWhitespaceColumn=function(a){var b=_c(this.getLineContent(a));return b===-1?0:b+2},d.prototype._getEndOfLine=function(a){switch(a){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL()}throw new Error("Unknown EOL preference")},d.prototype.setEOL=function(a){this._pieceTree.setEOL(a)},d.prototype.applyEdits=function(a,b){for(var c=this._mightContainRTL,e=this._mightContainNonBasicASCII,f=!0,g=[],h=0;h<a.length;h++){var i=a[h];f&&i._isTracked&&(f=!1);var j=i.range;!c&&i.text&&(c=zj(i.text)),!e&&i.text&&(e=!Uo(i.text)),g[h]={sortIndex:h,identifier:i.identifier||null,range:j,rangeOffset:this.getOffsetAt(j.startLineNumber,j.startColumn),rangeLength:this.getValueLengthInRange(j),lines:i.text?i.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:Boolean(i.forceMoveMarkers),isAutoWhitespaceEdit:i.isAutoWhitespaceEdit||!1}}g.sort(d._sortOpsAscending);for(var k=!1,h=0,l=g.length-1;h<l;h++){var m=g[h].range.getEndPosition(),n=g[h+1].range.getStartPosition();if(n.isBeforeOrEqual(m)){if(n.isBefore(m))throw new Error("Overlapping ranges are not allowed!");k=!0}}f&&(g=this._reduceOperations(g));for(var o=d._getInverseEditRanges(g),p=[],h=0;h<g.length;h++){var i=g[h],q=o[h];if(b&&i.isAutoWhitespaceEdit&&i.range.isEmpty())for(var r=q.startLineNumber;r<=q.endLineNumber;r++){var t="";if(r===q.startLineNumber){t=this.getLineContent(i.range.startLineNumber);if(Jb(t)!==-1)continue}p.push({lineNumber:r,oldContent:t})}}for(var v=[],h=0;h<g.length;h++){var i=g[h],q=o[h];v[h]={sortIndex:i.sortIndex,identifier:i.identifier,range:q,text:this.getValueInRange(i.range),forceMoveMarkers:i.forceMoveMarkers}}k||v.sort(function(F,B){return F.sortIndex-B.sortIndex}),this._mightContainRTL=c,this._mightContainNonBasicASCII=e;var w=this._doApplyEdits(g),x=null;if(b&&p.length>0){p.sort(function(F,B){return B.lineNumber-F.lineNumber}),x=[];for(var h=0,u=p.length;h<u;h++){var r=p[h].lineNumber;if(h>0&&p[h-1].lineNumber===r)continue;var y=p[h].oldContent,A=this.getLineContent(r);if(A.length===0||A===y||Jb(A)!==-1)continue;x.push(r)}}return new cF(v,w,x)},d.prototype._reduceOperations=function(a){return a.length<1e3?a:[this._toSingleEditOperation(a)]},d.prototype._toSingleEditOperation=function(a){for(var b=!1,c=a[0].range,e=a[a.length-1].range,f=new z(c.startLineNumber,c.startColumn,e.endLineNumber,e.endColumn),g=c.startLineNumber,h=c.startColumn,i=[],j=0,k=a.length;j<k;j++){var l=a[j],m=l.range;b=b||l.forceMoveMarkers;for(var n=g;n<m.startLineNumber;n++)n===g?i.push(this.getLineContent(n).substring(h-1)):(i.push(`
`),i.push(this.getLineContent(n)));m.startLineNumber===g?i.push(this.getLineContent(m.startLineNumber).substring(h-1,m.startColumn-1)):(i.push(`
`),i.push(this.getLineContent(m.startLineNumber).substring(0,m.startColumn-1)));if(l.lines)for(var o=0,p=l.lines.length;o<p;o++)o!==0&&i.push(`
`),i.push(l.lines[o]);g=l.range.endLineNumber,h=l.range.endColumn}return{sortIndex:0,identifier:a[0].identifier,range:f,rangeOffset:this.getOffsetAt(f.startLineNumber,f.startColumn),rangeLength:this.getValueLengthInRange(f,0),lines:i.join("").split(`
`),forceMoveMarkers:b,isAutoWhitespaceEdit:!1}},d.prototype._doApplyEdits=function(a){a.sort(d._sortOpsDescending);for(var b=[],c=0;c<a.length;c++){var e=a[c],f=e.range.startLineNumber,g=e.range.startColumn,h=e.range.endLineNumber,i=e.range.endColumn;if(f===h&&g===i&&(!e.lines||e.lines.length===0))continue;var j=h-f,k=e.lines?e.lines.length-1:0,l=Math.min(j,k),m=e.lines?e.lines.join(this.getEOL()):"";m?(this._pieceTree.delete(e.rangeOffset,e.rangeLength),this._pieceTree.insert(e.rangeOffset,m,!0)):this._pieceTree.delete(e.rangeOffset,e.rangeLength);if(l<k){for(var n=[],o=l+1;o<=k;o++)n.push(e.lines[o]);n[n.length-1]=this.getLineContent(f+k-1)}var p=new z(f,g,h,i);b.push({range:p,rangeLength:e.rangeLength,text:m,rangeOffset:e.rangeOffset,forceMoveMarkers:e.forceMoveMarkers})}return b},d.prototype.findMatchesLineByLine=function(a,b,c,e){return this._pieceTree.findMatchesLineByLine(a,b,c,e)},d._getInverseEditRanges=function(a){for(var b=[],c=0,e=0,f=null,g=0,h=a.length;g<h;g++){var i=a[g],j=void 0,k=void 0;f?f.range.endLineNumber===i.range.startLineNumber?(j=c,k=e+(i.range.startColumn-f.range.endColumn)):(j=c+(i.range.startLineNumber-f.range.endLineNumber),k=i.range.startColumn):(j=i.range.startLineNumber,k=i.range.startColumn);var l=void 0;if(i.lines&&i.lines.length>0){var m=i.lines.length,n=i.lines[0],o=i.lines[m-1];m===1?l=new z(j,k,j,k+n.length):l=new z(j,k,j+m-1,o.length+1)}else l=new z(j,k,j,k);c=l.endLineNumber,e=l.endColumn,b.push(l),f=i}return b},d._sortOpsAscending=function(a,b){var c=z.compareRangesUsingEnds(a.range,b.range);return c===0?a.sortIndex-b.sortIndex:c},d._sortOpsDescending=function(a,b){var c=z.compareRangesUsingEnds(a.range,b.range);return c===0?b.sortIndex-a.sortIndex:-c},d}();var _U=function(){function d(a,b,c,e,f,g,h,i){this._chunks=a,this._bom=b,this._cr=c,this._lf=e,this._crlf=f,this._containsRTL=g,this._isBasicASCII=h,this._normalizeEOL=i}return d.prototype._getEOL=function(a){var b=this._cr+this._lf+this._crlf,c=this._cr+this._crlf;return b===0?a===1?`
`:`\r
`:c>b/2?`\r
`:`
`},d.prototype.create=function(a){var b=this._getEOL(a),c=this._chunks;if(this._normalizeEOL&&(b===`\r
`&&(this._cr>0||this._lf>0)||b===`
`&&(this._cr>0||this._crlf>0)))for(var e=0,f=c.length;e<f;e++){var g=c[e].buffer.replace(/\r\n|\r|\n/g,b),h=yf(g);c[e]=new ph(g,h)}return new rF(c,this._bom,b,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},d}(),sF=function(){function d(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}return d.prototype.acceptChunk=function(a){if(a.length===0)return;this.chunks.length===0&&(uj(a)&&(this.BOM=FB,a=a.substr(1)));var b=a.charCodeAt(a.length-1);b===13||b>=55296&&b<=56319?(this._acceptChunk1(a.substr(0,a.length-1),!1),this._hasPreviousChar=!0,this._previousChar=b):(this._acceptChunk1(a,!1),this._hasPreviousChar=!1,this._previousChar=b)},d.prototype._acceptChunk1=function(a,b){if(!b&&a.length===0)return;this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+a):this._acceptChunk2(a)},d.prototype._acceptChunk2=function(a){var b=pF(this._tmpLineStarts,a);this.chunks.push(new ph(a,b.lineStarts)),this.cr+=b.cr,this.lf+=b.lf,this.crlf+=b.crlf,this.isBasicASCII&&(this.isBasicASCII=b.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=zj(a))},d.prototype.finish=function(a){return a===void 0&&(a=!0),this._finish(),new _U(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,a)},d.prototype._finish=function(){this.chunks.length===0&&this._acceptChunk1("",!0);if(this._hasPreviousChar){this._hasPreviousChar=!1;var a=this.chunks[this.chunks.length-1];a.buffer+=String.fromCharCode(this._previousChar);var b=yf(a.buffer);a.lineStarts=b,this._previousChar===13&&this.cr++}},d}();var vF=function(){function d(){this.changeType=1}return d}(),wF=function(){function d(a,b){this.changeType=2,this.lineNumber=a,this.detail=b}return d}(),xF=function(){function d(a,b){this.changeType=3,this.fromLineNumber=a,this.toLineNumber=b}return d}(),yF=function(){function d(a,b,c){this.changeType=4,this.fromLineNumber=a,this.toLineNumber=b,this.detail=c}return d}(),uF=function(){function d(){this.changeType=5}return d}(),rm=function(){function d(a,b,c,e){this.changes=a,this.versionId=b,this.isUndoing=c,this.isRedoing=e}return d.prototype.containsEvent=function(a){for(var b=0,c=this.changes.length;b<c;b++){var e=this.changes[b];if(e.changeType===a)return!0}return!1},d.merge=function(a,b){var c=[].concat(a.changes).concat(b.changes),e=b.versionId,f=a.isUndoing||b.isUndoing,g=a.isRedoing||b.isRedoing;return new d(c,e,f,g)},d}(),tF=function(){function d(a,b){this.rawContentChangedEvent=a,this.contentChangedEvent=b}return d.prototype.merge=function(a){var b=rm.merge(this.rawContentChangedEvent,a.rawContentChangedEvent),c=d._mergeChangeEvents(this.contentChangedEvent,a.contentChangedEvent);return new d(b,c)},d._mergeChangeEvents=function(a,b){var c=[].concat(a.changes).concat(b.changes),e=b.eol,f=b.versionId,g=a.isUndoing||b.isUndoing,h=a.isRedoing||b.isRedoing,i=a.isFlush||b.isFlush;return{changes:c,eol:e,versionId:f,isUndoing:g,isRedoing:h,isFlush:i}},d}();function um(d){for(var a=0,b=0,c=0,e=0,f=d.length;e<f;e++){var g=d.charCodeAt(e);g===13?(a===0&&(b=e),a++,e+1<f&&d.charCodeAt(e+1)===10&&e++,c=e+1):g===10&&(a===0&&(b=e),a++,c=e+1)}return a===0&&(b=d.length),[a,b,d.length-c]}function IF(d){return(d<<0|0<<8|0<<11|1<<14|2<<23)>>>0}var mg=new Uint32Array(0).buffer,Qp=function(){function d(){this.tokens=[]}return d.prototype.add=function(a,b){if(this.tokens.length>0){var c=this.tokens[this.tokens.length-1],e=c.startLineNumber+c.tokens.length-1;if(e+1===a){c.tokens.push(b);return}}this.tokens.push(new qV(a,[b]))},d}(),JF=function(){function d(a){this._tokens=a,this._tokenCount=a.length/4}return d.prototype.getMaxDeltaLine=function(){var a=this.getTokenCount();return a===0?-1:this.getDeltaLine(a-1)},d.prototype.getTokenCount=function(){return this._tokenCount},d.prototype.getDeltaLine=function(a){return this._tokens[4*a]},d.prototype.getStartCharacter=function(a){return this._tokens[4*a+1]},d.prototype.getEndCharacter=function(a){return this._tokens[4*a+2]},d.prototype.getMetadata=function(a){return this._tokens[4*a+3]},d.prototype.clear=function(){this._tokenCount=0},d.prototype.acceptDeleteRange=function(a,b,c,e,f){for(var g=this._tokens,h=this._tokenCount,i=e-b,j=0,k=!1,l=0;l<h;l++){var m=4*l,n=g[m],o=g[m+1],p=g[m+2],q=g[m+3];if(n<b||n===b&&p<=c){j++;continue}else if(n===b&&o<c)n===e&&p>f?p-=f-c:p=c;else if(n===b&&o===c)if(n===e&&p>f)p-=f-c;else{k=!0;continue}else if(n<e||n===e&&o<f)if(n===e&&p>f)n===b?(o=c,p=o+(p-f)):(o=0,p=o+(p-f));else{k=!0;continue}else if(n>e){if(i===0&&!k){j=h;break}n-=i}else if(n===e&&o>=f)a&&n===0&&(o+=a,p+=a),n-=i,o-=f-c,p-=f-c;else throw new Error("Not possible!");var r=4*j;g[r]=n,g[r+1]=o,g[r+2]=p,g[r+3]=q,j++}this._tokenCount=j},d.prototype.acceptInsertText=function(a,b,c,e,f,g){for(var h=c===0&&e===1&&(g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122),i=this._tokens,j=this._tokenCount,k=0;k<j;k++){var l=4*k,m=i[l],n=i[l+1],o=i[l+2];if(m<a||m===a&&o<b)continue;if(m===a&&o===b)if(h)o+=1;else continue;else if(m===a&&n<b&&b<o)c===0?o+=e:o=b;else{if(m===a&&n===b){if(h)continue}if(m===a){m+=c;if(c===0)n+=e,o+=e;else{var p=o-n;n=f+(n-b),o=n+p}}else m+=c}i[l]=m,i[l+1]=n,i[l+2]=o}},d}(),pV=function(){function d(a,b,c){this._actual=a,this._startTokenIndex=b,this._endTokenIndex=c}return d.prototype.getCount=function(){return this._endTokenIndex-this._startTokenIndex+1},d.prototype.getStartCharacter=function(a){return this._actual.getStartCharacter(this._startTokenIndex+a)},d.prototype.getEndCharacter=function(a){return this._actual.getEndCharacter(this._startTokenIndex+a)},d.prototype.getMetadata=function(a){return this._actual.getMetadata(this._startTokenIndex+a)},d}(),KF=function(){function d(a,b){this.startLineNumber=a,this.tokens=b,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}return d.prototype._updateEndLineNumber=function(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()},d.prototype.getLineTokens=function(a){if(this.startLineNumber<=a&&a<=this.endLineNumber){var b=d._findTokensWithLine(this.tokens,a-this.startLineNumber);if(b){var c=b[0],e=b[1];return new pV(this.tokens,c,e)}}return null},d._findTokensWithLine=function(a,b){for(var c=0,e=a.getTokenCount()-1;c<e;){var f=c+Math.floor((e-c)/2),g=a.getDeltaLine(f);if(g<b)c=f+1;else if(g>b)e=f-1;else{for(var h=f;h>c&&a.getDeltaLine(h-1)===b;)h--;for(var i=f;i<e&&a.getDeltaLine(i+1)===b;)i++;return[h,i]}}return a.getDeltaLine(c)===b?[c,c]:null},d.prototype.applyEdit=function(a,b){var c=um(b),e=c[0],f=c[1],g=c[2];this.acceptEdit(a,e,f,g,b.length>0?b.charCodeAt(0):0)},d.prototype.acceptEdit=function(a,b,c,e,f){this._acceptDeleteRange(a),this._acceptInsertText(new G(a.startLineNumber,a.startColumn),b,c,e,f),this._updateEndLineNumber()},d.prototype._acceptDeleteRange=function(a){if(a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn)return;var b=a.startLineNumber-this.startLineNumber,c=a.endLineNumber-this.startLineNumber;if(c<0){var e=c-b;this.startLineNumber-=e;return}var f=this.tokens.getMaxDeltaLine();if(b>=f+1)return;if(b<0&&c>=f+1){this.startLineNumber=0,this.tokens.clear();return}if(b<0){var g=-b;this.startLineNumber-=g,this.tokens.acceptDeleteRange(a.startColumn-1,0,0,c,a.endColumn-1)}else this.tokens.acceptDeleteRange(0,b,a.startColumn-1,c,a.endColumn-1)},d.prototype._acceptInsertText=function(a,b,c,e,f){if(b===0&&c===0)return;var g=a.lineNumber-this.startLineNumber;if(g<0){this.startLineNumber+=b;return}var h=this.tokens.getMaxDeltaLine();if(g>=h+1)return;this.tokens.acceptInsertText(g,a.column-1,b,c,e,f)},d}(),qV=function(){function d(a,b){this.startLineNumber=a,this.tokens=b}return d}();function vi(d){return d instanceof Uint32Array?d:new Uint32Array(d)}var BF=function(){function d(){this._pieces=[]}return d.prototype.flush=function(){this._pieces=[]},d.prototype.set=function(a){this._pieces=a||[]},d.prototype.addSemanticTokens=function(a,b){var c=this._pieces;if(c.length===0)return b;var e=d._findFirstPieceWithLine(c,a),f=this._pieces[e].getLineTokens(a);if(!f)return b;for(var g=b.getCount(),h=f.getCount(),i=0,j=[],k=0,l=0;l<h;l++){for(var m=f.getStartCharacter(l),n=f.getEndCharacter(l),o=f.getMetadata(l),p=((o&1?2048:0)|(o&2?4096:0)|(o&4?8192:0)|(o&8?8372224:0)|(o&16?4286578688:0))>>>0,q=~p>>>0;i<g&&b.getEndOffset(i)<=m;)j[k++]=b.getEndOffset(i),j[k++]=b.getMetadata(i),i++;for(i<g&&b.getStartOffset(i)<m&&(j[k++]=m,j[k++]=b.getMetadata(i));i<g&&b.getEndOffset(i)<n;)j[k++]=b.getEndOffset(i),j[k++]=b.getMetadata(i)&q|o&p,i++;if(i<g&&b.getEndOffset(i)===n)j[k++]=b.getEndOffset(i),j[k++]=b.getMetadata(i)&q|o&p,i++;else{var r=Math.min(Math.max(0,i-1),g-1);j[k++]=n,j[k++]=b.getMetadata(r)&q|o&p}}for(;i<g;)j[k++]=b.getEndOffset(i),j[k++]=b.getMetadata(i),i++;return new Rc(new Uint32Array(j),b.getLineContent())},d._findFirstPieceWithLine=function(a,b){for(var c=0,e=a.length-1;c<e;){var f=c+Math.floor((e-c)/2);if(a[f].endLineNumber<b)c=f+1;else if(a[f].startLineNumber>b)e=f-1;else{for(;f>c&&a[f-1].startLineNumber<=b&&b<=a[f-1].endLineNumber;)f--;return f}}return c},d.prototype.acceptEdit=function(a,b,c,e,f){for(var g=0,h=this._pieces;g<h.length;g++){var i=h[g];i.acceptEdit(a,b,c,e,f)}},d}(),AF=function(){function d(){this._lineTokens=[],this._len=0}return d.prototype.flush=function(){this._lineTokens=[],this._len=0},d.prototype.getTokens=function(a,b,c){var e=null;b<this._len&&(e=this._lineTokens[b]);if(e!==null&&e!==mg)return new Rc(vi(e),c);var f=new Uint32Array(2);return f[0]=c.length,f[1]=IF(a),new Rc(f,c)},d._massageTokens=function(a,b,c){var e=c?vi(c):null;if(b===0){var f=!1;e&&e.length>1&&(f=Sc.getLanguageId(e[1])!==a);if(!f)return mg}if(!e||e.length===0){var g=new Uint32Array(2);return g[0]=b,g[1]=IF(a),g.buffer}return e[e.length-2]=b,e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:e},d.prototype._ensureLine=function(a){for(;a>=this._len;)this._lineTokens[this._len]=null,this._len++},d.prototype._deleteLines=function(a,b){if(b===0)return;a+b>this._len&&(b=this._len-a),this._lineTokens.splice(a,b),this._len-=b},d.prototype._insertLines=function(a,b){if(b===0)return;for(var c=[],e=0;e<b;e++)c[e]=null;this._lineTokens=Sh(this._lineTokens,a,c),this._len+=b},d.prototype.setTokens=function(a,b,c,e){var f=d._massageTokens(a,c,e);this._ensureLine(b),this._lineTokens[b]=f},d.prototype.acceptEdit=function(a,b,c){this._acceptDeleteRange(a),this._acceptInsertText(new G(a.startLineNumber,a.startColumn),b,c)},d.prototype._acceptDeleteRange=function(a){var b=a.startLineNumber-1;if(b>=this._len)return;if(a.startLineNumber===a.endLineNumber){if(a.startColumn===a.endColumn)return;this._lineTokens[b]=d._delete(this._lineTokens[b],a.startColumn-1,a.endColumn-1);return}this._lineTokens[b]=d._deleteEnding(this._lineTokens[b],a.startColumn-1);var c=a.endLineNumber-1,e=null;c<this._len&&(e=d._deleteBeginning(this._lineTokens[c],a.endColumn-1)),this._lineTokens[b]=d._append(this._lineTokens[b],e),this._deleteLines(a.startLineNumber,a.endLineNumber-a.startLineNumber)},d.prototype._acceptInsertText=function(a,b,c){if(b===0&&c===0)return;var e=a.lineNumber-1;if(e>=this._len)return;if(b===0){this._lineTokens[e]=d._insert(this._lineTokens[e],a.column-1,c);return}this._lineTokens[e]=d._deleteEnding(this._lineTokens[e],a.column-1),this._lineTokens[e]=d._insert(this._lineTokens[e],a.column-1,c),this._insertLines(a.lineNumber,b)},d._deleteBeginning=function(a,b){return a===null||a===mg?a:d._delete(a,0,b)},d._deleteEnding=function(a,b){if(a===null||a===mg)return a;var c=vi(a),e=c[c.length-2];return d._delete(a,b,e)},d._delete=function(a,b,c){if(a===null||a===mg||b===c)return a;var e=vi(a),f=e.length>>>1;if(b===0&&e[e.length-2]===c)return mg;var g=Rc.findIndexInTokensArray(e,b),h=g>0?e[g-1<<1]:0,i=e[g<<1];if(c<i){for(var j=c-b,k=g;k<f;k++)e[k<<1]-=j;return a}var l,m;h!==b?(e[g<<1]=b,l=g+1<<1,m=b):(l=g<<1,m=h);for(var n=c-b,o=g+1;o<f;o++){var p=e[o<<1]-n;p>m&&(e[l++]=p,e[l++]=e[(o<<1)+1],m=p)}if(l===e.length)return a;var q=new Uint32Array(l);return q.set(e.subarray(0,l),0),q.buffer},d._append=function(a,b){if(b===mg)return a;if(a===mg)return b;if(a===null)return a;if(b===null)return null;var c=vi(a),e=vi(b),f=e.length>>>1,g=new Uint32Array(c.length+e.length);g.set(c,0);for(var h=c.length,i=c[c.length-2],j=0;j<f;j++)g[h++]=e[j<<1]+i,g[h++]=e[(j<<1)+1];return g.buffer},d._insert=function(a,b,c){if(a===null||a===mg)return a;var e=vi(a),f=e.length>>>1,g=Rc.findIndexInTokensArray(e,b);if(g>0){var h=e[g-1<<1];h===b&&g--}for(var i=g;i<f;i++)e[i<<1]+=c;return a},d}();var mV=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),nV=function(){function d(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}return d.prototype._reset=function(a){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,a&&this._setBeginState(0,a)},d.prototype.flush=function(a){this._reset(a)},Object.defineProperty(d.prototype,"invalidLineStartIndex",{get:function(){return this._invalidLineStartIndex},enumerable:!0,configurable:!0}),d.prototype._invalidateLine=function(a){a<this._len&&(this._valid[a]=!1),a<this._invalidLineStartIndex&&(this._invalidLineStartIndex=a)},d.prototype._isValid=function(a){return a<this._len?this._valid[a]:!1},d.prototype.getBeginState=function(a){return a<this._len?this._beginState[a]:null},d.prototype._ensureLine=function(a){for(;a>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++},d.prototype._deleteLines=function(a,b){if(b===0)return;a+b>this._len&&(b=this._len-a),this._beginState.splice(a,b),this._valid.splice(a,b),this._len-=b},d.prototype._insertLines=function(a,b){if(b===0)return;for(var c=[],e=[],f=0;f<b;f++)c[f]=null,e[f]=!1;this._beginState=Sh(this._beginState,a,c),this._valid=Sh(this._valid,a,e),this._len+=b},d.prototype._setValid=function(a,b){this._ensureLine(a),this._valid[a]=b},d.prototype._setBeginState=function(a,b){this._ensureLine(a),this._beginState[a]=b},d.prototype.setEndState=function(a,b,c){this._setValid(b,!0),this._invalidLineStartIndex=b+1;if(b===a-1)return;var e=this.getBeginState(b+1);if(e===null||!c.equals(e)){this._setBeginState(b+1,c),this._invalidateLine(b+1);return}for(var f=b+1;f<a;){if(!this._isValid(f))break;f++}this._invalidLineStartIndex=f},d.prototype.setFakeTokens=function(a){this._setValid(a,!1)},d.prototype.applyEdits=function(a,b){for(var c=a.endLineNumber-a.startLineNumber,e=b,f=Math.min(c,e),g=f;g>=0;g--)this._invalidateLine(a.startLineNumber+g-1);this._acceptDeleteRange(a),this._acceptInsertText(new G(a.startLineNumber,a.startColumn),b)},d.prototype._acceptDeleteRange=function(a){var b=a.startLineNumber-1;if(b>=this._len)return;this._deleteLines(a.startLineNumber,a.endLineNumber-a.startLineNumber)},d.prototype._acceptInsertText=function(a,b){var c=a.lineNumber-1;if(c>=this._len)return;this._insertLines(a.lineNumber,b)},d}(),zF=function(d){mV(a,d);function a(b){var c=d.call(this)||this;return c._isDisposed=!1,c._textModel=b,c._tokenizationStateStore=new nV(),c._tokenizationSupport=null,c._register(Ga.onDidChange(function(e){var f=c._textModel.getLanguageIdentifier();if(e.changedLanguages.indexOf(f.language)===-1)return;c._resetTokenizationState(),c._textModel.clearTokens()})),c._register(c._textModel.onDidChangeRawContentFast(function(e){if(e.containsEvent(1)){c._resetTokenizationState();return}})),c._register(c._textModel.onDidChangeContentFast(function(e){for(var f=0,g=e.changes.length;f<g;f++){var h=e.changes[f],i=um(h.text)[0];c._tokenizationStateStore.applyEdits(h.range,i)}c._beginBackgroundTokenization()})),c._register(c._textModel.onDidChangeAttached(function(){c._beginBackgroundTokenization()})),c._register(c._textModel.onDidChangeLanguage(function(){c._resetTokenizationState(),c._textModel.clearTokens()})),c._resetTokenizationState(),c}return a.prototype.dispose=function(){this._isDisposed=!0,d.prototype.dispose.call(this)},a.prototype._resetTokenizationState=function(){var b=oV(this._textModel),c=b[0],e=b[1];this._tokenizationSupport=c,this._tokenizationStateStore.flush(e),this._beginBackgroundTokenization()},a.prototype._beginBackgroundTokenization=function(){var b=this;this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&cj(function(){if(b._isDisposed)return;b._revalidateTokensNow()})},a.prototype._revalidateTokensNow=function(b){b===void 0&&(b=this._textModel.getLineCount());for(var c=1,e=new Qp(),f=wj.create(!1);this._hasLinesToTokenize();){if(f.elapsed()>c)break;var g=this._tokenizeOneInvalidLine(e);if(g>=b)break}this._beginBackgroundTokenization(),this._textModel.setTokens(e.tokens)},a.prototype.tokenizeViewport=function(b,c){var e=new Qp();this._tokenizeViewport(e,b,c),this._textModel.setTokens(e.tokens)},a.prototype.reset=function(){this._resetTokenizationState(),this._textModel.clearTokens()},a.prototype.forceTokenization=function(b){var c=new Qp();this._updateTokensUntilLine(c,b),this._textModel.setTokens(c.tokens)},a.prototype.isCheapToTokenize=function(b){if(!this._tokenizationSupport)return!0;var c=this._tokenizationStateStore.invalidLineStartIndex+1;return b>c?!1:b<c?!0:this._textModel.getLineLength(b)<2048?!0:!1},a.prototype._hasLinesToTokenize=function(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1},a.prototype._tokenizeOneInvalidLine=function(b){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;var c=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(b,c),c},a.prototype._updateTokensUntilLine=function(b,c){if(!this._tokenizationSupport)return;for(var e=this._textModel.getLanguageIdentifier(),f=this._textModel.getLineCount(),g=c-1,h=this._tokenizationStateStore.invalidLineStartIndex;h<=g;h++){var i=this._textModel.getLineContent(h+1),j=this._tokenizationStateStore.getBeginState(h),k=Cv(e,this._tokenizationSupport,i,j);b.add(h+1,k.tokens),this._tokenizationStateStore.setEndState(f,h,k.endState),h=this._tokenizationStateStore.invalidLineStartIndex-1}},a.prototype._tokenizeViewport=function(b,c,e){if(!this._tokenizationSupport)return;if(e<=this._tokenizationStateStore.invalidLineStartIndex)return;if(c<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(b,e);return}for(var f=this._textModel.getLineFirstNonWhitespaceColumn(c),g=[],h=null,i=c-1;f>0&&i>=1;i--){var j=this._textModel.getLineFirstNonWhitespaceColumn(i);if(j===0)continue;if(j<f){h=this._tokenizationStateStore.getBeginState(i-1);if(h)break;g.push(this._textModel.getLineContent(i)),f=j}}h||(h=this._tokenizationSupport.getInitialState());for(var k=this._textModel.getLanguageIdentifier(),l=h,i=g.length-1;i>=0;i--){var m=Cv(k,this._tokenizationSupport,g[i],l);l=m.endState}for(var n=c;n<=e;n++){var o=this._textModel.getLineContent(n),m=Cv(k,this._tokenizationSupport,o,l);b.add(n,m.tokens),this._tokenizationStateStore.setFakeTokens(n-1),l=m.endState}},a}(I);function oV(d){var a=d.getLanguageIdentifier(),b=d.isTooLargeForTokenization()?null:Ga.get(a.language),c=null;if(b)try{c=b.getInitialState()}catch(e){W(e),b=null}return[b,c]}function Cv(d,a,b,c){var e=null;if(a)try{e=a.tokenize2(b,c.clone(),0)}catch(f){W(f)}return e||(e=dk(d.id,b,c,0)),Rc.convertToEndOffset(e.tokens,b.length),e}function Pg(d,a){var b=Math.pow(10,a);return Math.round(d*b)/b}var Ha=function(){function d(a,b,c,e){e===void 0&&(e=1),this.r=Math.min(255,Math.max(0,a))|0,this.g=Math.min(255,Math.max(0,b))|0,this.b=Math.min(255,Math.max(0,c))|0,this.a=Pg(Math.max(Math.min(1,e),0),3)}return d.equals=function(a,b){return a.r===b.r&&a.g===b.g&&a.b===b.b&&a.a===b.a},d}(),oj=function(){function d(a,b,c,e){this.h=Math.max(Math.min(360,a),0)|0,this.s=Pg(Math.max(Math.min(1,b),0),3),this.l=Pg(Math.max(Math.min(1,c),0),3),this.a=Pg(Math.max(Math.min(1,e),0),3)}return d.equals=function(a,b){return a.h===b.h&&a.s===b.s&&a.l===b.l&&a.a===b.a},d.fromRGBA=function(a){var b=a.r/255,c=a.g/255,e=a.b/255,f=a.a,g=Math.max(b,c,e),h=Math.min(b,c,e),i=0,j=0,k=(h+g)/2,l=g-h;if(l>0){j=Math.min(k<=.5?l/(2*k):l/(2-2*k),1);switch(g){case b:i=(c-e)/l+(c<e?6:0);break;case c:i=(e-b)/l+2;break;case e:i=(b-c)/l+4;break}i*=60,i=Math.round(i)}return new d(i,j,k,f)},d._hue2rgb=function(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(b-a)*6*c:c<1/2?b:c<2/3?a+(b-a)*(2/3-c)*6:a},d.toRGBA=function(a){var b=a.h/360,c=a.s,e=a.l,f=a.a,g,h,i;if(c===0)g=h=i=e;else{var j=e<.5?e*(1+c):e+c-e*c,k=2*e-j;g=d._hue2rgb(k,j,b+1/3),h=d._hue2rgb(k,j,b),i=d._hue2rgb(k,j,b-1/3)}return new Ha(Math.round(g*255),Math.round(h*255),Math.round(i*255),f)},d}(),Vf=function(){function d(a,b,c,e){this.h=Math.max(Math.min(360,a),0)|0,this.s=Pg(Math.max(Math.min(1,b),0),3),this.v=Pg(Math.max(Math.min(1,c),0),3),this.a=Pg(Math.max(Math.min(1,e),0),3)}return d.equals=function(a,b){return a.h===b.h&&a.s===b.s&&a.v===b.v&&a.a===b.a},d.fromRGBA=function(a){var b=a.r/255,c=a.g/255,e=a.b/255,f=Math.max(b,c,e),g=Math.min(b,c,e),h=f-g,i=f===0?0:h/f,j;return h===0?j=0:f===b?j=((c-e)/h%6+6)%6:f===c?j=(e-b)/h+2:j=(b-c)/h+4,new d(Math.round(j*60),i,f,a.a)},d.toRGBA=function(a){var b=a.h,c=a.s,e=a.v,f=a.a,g=e*c,h=g*(1-Math.abs(b/60%2-1)),i=e-g,j=[0,0,0],k=j[0],l=j[1],m=j[2];return b<60?(k=g,l=h):b<120?(k=h,l=g):b<180?(l=g,m=h):b<240?(l=h,m=g):b<300?(k=h,m=g):b<360&&(k=g,m=h),k=Math.round((k+i)*255),l=Math.round((l+i)*255),m=Math.round((m+i)*255),new Ha(k,l,m,f)},d}(),M=function(){function d(a){if(a)if(a instanceof Ha)this.rgba=a;else if(a instanceof oj)this._hsla=a,this.rgba=oj.toRGBA(a);else if(a instanceof Vf)this._hsva=a,this.rgba=Vf.toRGBA(a);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}return d.fromHex=function(a){return d.Format.CSS.parseHex(a)||d.red},Object.defineProperty(d.prototype,"hsla",{get:function(){return this._hsla?this._hsla:oj.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"hsva",{get:function(){return this._hsva?this._hsva:Vf.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),d.prototype.equals=function(a){return!!a&&Ha.equals(this.rgba,a.rgba)&&oj.equals(this.hsla,a.hsla)&&Vf.equals(this.hsva,a.hsva)},d.prototype.getRelativeLuminance=function(){var a=d._relativeLuminanceForComponent(this.rgba.r),b=d._relativeLuminanceForComponent(this.rgba.g),c=d._relativeLuminanceForComponent(this.rgba.b),e=.2126*a+.7152*b+.0722*c;return Pg(e,4)},d._relativeLuminanceForComponent=function(a){var b=a/255;return b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4)},d.prototype.isLighter=function(){var a=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return a>=128},d.prototype.isLighterThan=function(a){var b=this.getRelativeLuminance(),c=a.getRelativeLuminance();return b>c},d.prototype.isDarkerThan=function(a){var b=this.getRelativeLuminance(),c=a.getRelativeLuminance();return b<c},d.prototype.lighten=function(a){return new d(new oj(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*a,this.hsla.a))},d.prototype.darken=function(a){return new d(new oj(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*a,this.hsla.a))},d.prototype.transparent=function(a){var b=this.rgba,c=b.r,e=b.g,f=b.b,g=b.a;return new d(new Ha(c,e,f,g*a))},d.prototype.isTransparent=function(){return this.rgba.a===0},d.prototype.isOpaque=function(){return this.rgba.a===1},d.prototype.opposite=function(){return new d(new Ha(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},d.prototype.toString=function(){return""+d.Format.CSS.format(this)},d.getLighterColor=function(a,b,c){if(a.isLighterThan(b))return a;c=c?c:.5;var e=a.getRelativeLuminance(),f=b.getRelativeLuminance();return c=c*(f-e)/f,a.lighten(c)},d.getDarkerColor=function(a,b,c){if(a.isDarkerThan(b))return a;c=c?c:.5;var e=a.getRelativeLuminance(),f=b.getRelativeLuminance();return c=c*(e-f)/e,a.darken(c)},d.white=new d(new Ha(255,255,255,1)),d.black=new d(new Ha(0,0,0,1)),d.red=new d(new Ha(255,0,0,1)),d.blue=new d(new Ha(0,0,255,1)),d.cyan=new d(new Ha(0,255,255,1)),d.lightgrey=new d(new Ha(211,211,211,1)),d.transparent=new d(new Ha(0,0,0,0)),d}();(function(d){var a;(function(b){var c;(function(e){function f(p){return p.rgba.a===1?"rgb("+p.rgba.r+", "+p.rgba.g+", "+p.rgba.b+")":d.Format.CSS.formatRGBA(p)}e.formatRGB=f;function g(p){return"rgba("+p.rgba.r+", "+p.rgba.g+", "+p.rgba.b+", "+ +p.rgba.a.toFixed(2)+")"}e.formatRGBA=g;function h(p){return p.hsla.a===1?"hsl("+p.hsla.h+", "+(p.hsla.s*100).toFixed(2)+"%, "+(p.hsla.l*100).toFixed(2)+"%)":d.Format.CSS.formatHSLA(p)}e.formatHSL=h;function i(p){return"hsla("+p.hsla.h+", "+(p.hsla.s*100).toFixed(2)+"%, "+(p.hsla.l*100).toFixed(2)+"%, "+p.hsla.a.toFixed(2)+")"}e.formatHSLA=i;function j(p){var q=p.toString(16);return q.length!==2?"0"+q:q}function k(p){return"#"+j(p.rgba.r)+j(p.rgba.g)+j(p.rgba.b)}e.formatHex=k;function l(p,q){return q===void 0&&(q=!1),q&&p.rgba.a===1?d.Format.CSS.formatHex(p):"#"+j(p.rgba.r)+j(p.rgba.g)+j(p.rgba.b)+j(Math.round(p.rgba.a*255))}e.formatHexA=l;function m(p){return p.isOpaque()?d.Format.CSS.formatHex(p):d.Format.CSS.formatRGBA(p)}e.format=m;function n(p){var q=p.length;if(q===0)return null;if(p.charCodeAt(0)!==35)return null;if(q===7){var r=16*o(p.charCodeAt(1))+o(p.charCodeAt(2)),t=16*o(p.charCodeAt(3))+o(p.charCodeAt(4)),v=16*o(p.charCodeAt(5))+o(p.charCodeAt(6));return new d(new Ha(r,t,v,1))}if(q===9){var r=16*o(p.charCodeAt(1))+o(p.charCodeAt(2)),t=16*o(p.charCodeAt(3))+o(p.charCodeAt(4)),v=16*o(p.charCodeAt(5))+o(p.charCodeAt(6)),w=16*o(p.charCodeAt(7))+o(p.charCodeAt(8));return new d(new Ha(r,t,v,w/255))}if(q===4){var r=o(p.charCodeAt(1)),t=o(p.charCodeAt(2)),v=o(p.charCodeAt(3));return new d(new Ha(16*r+r,16*t+t,16*v+v))}if(q===5){var r=o(p.charCodeAt(1)),t=o(p.charCodeAt(2)),v=o(p.charCodeAt(3)),w=o(p.charCodeAt(4));return new d(new Ha(16*r+r,16*t+t,16*v+v,(16*w+w)/255))}return null}e.parseHex=n;function o(p){switch(p){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(c=b.CSS||(b.CSS={}))})(a=d.Format||(d.Format={}))})(M||(M={}));var qm=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function $U(){return new sF()}function aV(d){var a=$U();return a.acceptChunk(d),a.finish()}function CF(d,a){var b=typeof d==="string"?aV(d):d;return b.create(a)}var Pp=0,bV=999,cV=1e4,vm=function(){throw new Error("Invalid change accessor")},Qe=function(d){qm(a,d);function a(b,c,e,f){f===void 0&&(f=null);var g=d.call(this)||this;g._onWillDispose=g._register(new E()),g.onWillDispose=g._onWillDispose.event,g._onDidChangeDecorations=g._register(new fV()),g.onDidChangeDecorations=g._onDidChangeDecorations.event,g._onDidChangeLanguage=g._register(new E()),g.onDidChangeLanguage=g._onDidChangeLanguage.event,g._onDidChangeLanguageConfiguration=g._register(new E()),g.onDidChangeLanguageConfiguration=g._onDidChangeLanguageConfiguration.event,g._onDidChangeTokens=g._register(new E()),g.onDidChangeTokens=g._onDidChangeTokens.event,g._onDidChangeOptions=g._register(new E()),g.onDidChangeOptions=g._onDidChangeOptions.event,g._onDidChangeAttached=g._register(new E()),g.onDidChangeAttached=g._onDidChangeAttached.event,g._eventEmitter=g._register(new gV()),Pp++,g.id="$model"+Pp,g.isForSimpleWidget=c.isForSimpleWidget,typeof f==="undefined"||f===null?g._associatedResource=ja.parse("inmemory://model/"+Pp):g._associatedResource=f,g._attachedEditorCount=0,g._buffer=CF(b,c.defaultEOL),g._options=a.resolveOptions(g._buffer,c);var h=g._buffer.getLineCount(),i=g._buffer.getValueLengthInRange(new z(1,1,h,g._buffer.getLineLength(h)+1),0);return c.largeFileOptimizations?g._isTooLargeForTokenization=i>a.LARGE_FILE_SIZE_THRESHOLD||h>a.LARGE_FILE_LINE_COUNT_THRESHOLD:g._isTooLargeForTokenization=!1,g._isTooLargeForSyncing=i>a.MODEL_SYNC_LIMIT,g._versionId=1,g._alternativeVersionId=1,g._isDisposed=!1,g._isDisposing=!1,g._languageIdentifier=e||ti,g._languageRegistryListener=sa.onDidChange(function(j){j.languageIdentifier.id===g._languageIdentifier.id&&g._onDidChangeLanguageConfiguration.fire({})}),g._instanceId=Vo(Pp),g._lastDecorationId=0,g._decorations=Object.create(null),g._decorationsTree=new DF(),g._commandManager=new sv(g),g._isUndoing=!1,g._isRedoing=!1,g._trimAutoWhitespaceLines=null,g._tokens=new AF(),g._tokens2=new BF(),g._tokenization=new zF(g),g}return a.createFromString=function(b,c,e,f){return c===void 0&&(c=a.DEFAULT_CREATION_OPTIONS),e===void 0&&(e=null),f===void 0&&(f=null),new a(b,c,e,f)},a.resolveOptions=function(b,c){if(c.detectIndentation){var e=tv(b,c.tabSize,c.insertSpaces);return new ak({tabSize:e.tabSize,indentSize:e.tabSize,insertSpaces:e.insertSpaces,trimAutoWhitespace:c.trimAutoWhitespace,defaultEOL:c.defaultEOL})}return new ak({tabSize:c.tabSize,indentSize:c.indentSize,insertSpaces:c.insertSpaces,trimAutoWhitespace:c.trimAutoWhitespace,defaultEOL:c.defaultEOL})},a.prototype.onDidChangeRawContentFast=function(b){return this._eventEmitter.fastEvent(function(c){return b(c.rawContentChangedEvent)})},a.prototype.onDidChangeRawContent=function(b){return this._eventEmitter.slowEvent(function(c){return b(c.rawContentChangedEvent)})},a.prototype.onDidChangeContentFast=function(b){return this._eventEmitter.fastEvent(function(c){return b(c.contentChangedEvent)})},a.prototype.onDidChangeContent=function(b){return this._eventEmitter.slowEvent(function(c){return b(c.contentChangedEvent)})},a.prototype.dispose=function(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,d.prototype.dispose.call(this),this._isDisposing=!1},a.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},a.prototype._emitContentChangedEvent=function(b,c){if(this._isDisposing)return;this._eventEmitter.fire(new tF(b,c))},a.prototype.setValue=function(b){this._assertNotDisposed();if(b===null)return;var c=CF(b,this._options.defaultEOL);this.setValueFromTextBuffer(c)},a.prototype._createContentChanged2=function(b,c,e,f,g,h,i){return{changes:[{range:b,rangeOffset:c,rangeLength:e,text:f}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:g,isRedoing:h,isFlush:i}},a.prototype.setValueFromTextBuffer=function(b){this._assertNotDisposed();if(b===null)return;var c=this.getFullModelRange(),e=this.getValueLengthInRange(c),f=this.getLineCount(),g=this.getLineMaxColumn(f);this._buffer=b,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new DF(),this._commandManager=new sv(this),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new rm([new vF()],this._versionId,!1,!1),this._createContentChanged2(new z(1,1,f,g),0,e,this.getValue(),!1,!1,!0))},a.prototype.setEOL=function(b){this._assertNotDisposed();var c=b===1?`\r
`:`
`;if(this._buffer.getEOL()===c)return;var e=this.getFullModelRange(),f=this.getValueLengthInRange(e),g=this.getLineCount(),h=this.getLineMaxColumn(g);this._onBeforeEOLChange(),this._buffer.setEOL(c),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new rm([new uF()],this._versionId,!1,!1),this._createContentChanged2(new z(1,1,g,h),0,f,this.getValue(),!1,!1,!1))},a.prototype._onBeforeEOLChange=function(){var b=this.getVersionId(),c=this._decorationsTree.search(0,!1,!1,b);this._ensureNodesHaveRanges(c)},a.prototype._onAfterEOLChange=function(){for(var b=this.getVersionId(),c=this._decorationsTree.collectNodesPostOrder(),e=0,f=c.length;e<f;e++){var g=c[e],h=g.cachedAbsoluteStart-g.start,i=this._buffer.getOffsetAt(g.range.startLineNumber,g.range.startColumn),j=this._buffer.getOffsetAt(g.range.endLineNumber,g.range.endColumn);g.cachedAbsoluteStart=i,g.cachedAbsoluteEnd=j,g.cachedVersionId=b,g.start=i-h,g.end=j-h,jg(g)}},a.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)},a.prototype.onBeforeDetached=function(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)},a.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},a.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount},a.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing},a.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},a.prototype.isDisposed=function(){return this._isDisposed},a.prototype.isDominatedByLongLines=function(){this._assertNotDisposed();if(this.isTooLargeForTokenization())return!1;for(var b=0,c=0,e=this._buffer.getLineCount(),f=1;f<=e;f++){var g=this._buffer.getLineLength(f);g>=cV?c+=g:b+=g}return c>b},Object.defineProperty(a.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),a.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},a.prototype.getFormattingOptions=function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}},a.prototype.updateOptions=function(b){this._assertNotDisposed();var c=typeof b.tabSize!=="undefined"?b.tabSize:this._options.tabSize,e=typeof b.indentSize!=="undefined"?b.indentSize:this._options.indentSize,f=typeof b.insertSpaces!=="undefined"?b.insertSpaces:this._options.insertSpaces,g=typeof b.trimAutoWhitespace!=="undefined"?b.trimAutoWhitespace:this._options.trimAutoWhitespace,h=new ak({tabSize:c,indentSize:e,insertSpaces:f,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:g});if(this._options.equals(h))return;var i=this._options.createChangeEvent(h);this._options=h,this._onDidChangeOptions.fire(i)},a.prototype.detectIndentation=function(b,c){this._assertNotDisposed();var e=tv(this._buffer,c,b);this.updateOptions({insertSpaces:e.insertSpaces,tabSize:e.tabSize,indentSize:e.tabSize})},a._normalizeIndentationFromWhitespace=function(b,c,e){for(var f=0,g=0;g<b.length;g++)b.charAt(g)==="	"?f+=c:f++;var h="";if(!e){var i=Math.floor(f/c);f=f%c;for(var g=0;g<i;g++)h+="	"}for(var g=0;g<f;g++)h+=" ";return h},a.normalizeIndentation=function(b,c,e){var f=Jb(b);return f===-1&&(f=b.length),a._normalizeIndentationFromWhitespace(b.substring(0,f),c,e)+b.substring(f)},a.prototype.normalizeIndentation=function(b){return this._assertNotDisposed(),a.normalizeIndentation(b,this._options.indentSize,this._options.insertSpaces)},a.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},a.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()},a.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()},a.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},a.prototype.getOffsetAt=function(b){this._assertNotDisposed();var c=this._validatePosition(b.lineNumber,b.column,0);return this._buffer.getOffsetAt(c.lineNumber,c.column)},a.prototype.getPositionAt=function(b){this._assertNotDisposed();var c=Math.min(this._buffer.getLength(),Math.max(0,b));return this._buffer.getPositionAt(c)},a.prototype._increaseVersionId=function(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId},a.prototype._overwriteAlternativeVersionId=function(b){this._alternativeVersionId=b},a.prototype.getValue=function(b,c){c===void 0&&(c=!1),this._assertNotDisposed();var e=this.getFullModelRange(),f=this.getValueInRange(e,b);return c?this._buffer.getBOM()+f:f},a.prototype.getValueLength=function(b,c){c===void 0&&(c=!1),this._assertNotDisposed();var e=this.getFullModelRange(),f=this.getValueLengthInRange(e,b);return c?this._buffer.getBOM().length+f:f},a.prototype.getValueInRange=function(b,c){return c===void 0&&(c=0),this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(b),c)},a.prototype.getValueLengthInRange=function(b,c){return c===void 0&&(c=0),this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(b),c)},a.prototype.getCharacterCountInRange=function(b,c){return c===void 0&&(c=0),this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(b),c)},a.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()},a.prototype.getLineContent=function(b){this._assertNotDisposed();if(b<1||b>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(b)},a.prototype.getLineLength=function(b){this._assertNotDisposed();if(b<1||b>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(b)},a.prototype.getLinesContent=function(){return this._assertNotDisposed(),this._buffer.getLinesContent()},a.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()},a.prototype.getLineMinColumn=function(b){return this._assertNotDisposed(),1},a.prototype.getLineMaxColumn=function(b){this._assertNotDisposed();if(b<1||b>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(b)+1},a.prototype.getLineFirstNonWhitespaceColumn=function(b){this._assertNotDisposed();if(b<1||b>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(b)},a.prototype.getLineLastNonWhitespaceColumn=function(b){this._assertNotDisposed();if(b<1||b>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(b)},a.prototype._validateRangeRelaxedNoAllocations=function(b){var c=this._buffer.getLineCount(),e=b.startLineNumber,f=b.startColumn,g,h;if(e<1)g=1,h=1;else if(e>c)g=c,h=this.getLineMaxColumn(g);else{g=e|0;if(f<=1)h=1;else{var i=this.getLineMaxColumn(g);f>=i?h=i:h=f|0}}var j=b.endLineNumber,k=b.endColumn,l,m;if(j<1)l=1,m=1;else if(j>c)l=c,m=this.getLineMaxColumn(l);else{l=j|0;if(k<=1)m=1;else{var i=this.getLineMaxColumn(l);k>=i?m=i:m=k|0}}return e===g&&f===h&&j===l&&k===m&&b instanceof z&&!(b instanceof V)?b:new z(g,h,l,m)},a.prototype._isValidPosition=function(b,c,e){if(typeof b!=="number"||typeof c!=="number")return!1;if(isNaN(b)||isNaN(c))return!1;if(b<1||c<1)return!1;if((b|0)!==b||(c|0)!==c)return!1;var f=this._buffer.getLineCount();if(b>f)return!1;if(c===1)return!0;var g=this.getLineMaxColumn(b);if(c>g)return!1;if(e===1){var h=this._buffer.getLineCharCode(b,c-2);if(Cb(h))return!1}return!0},a.prototype._validatePosition=function(b,c,e){var f=Math.floor(typeof b==="number"&&!isNaN(b)?b:1),g=Math.floor(typeof c==="number"&&!isNaN(c)?c:1),h=this._buffer.getLineCount();if(f<1)return new G(1,1);if(f>h)return new G(h,this.getLineMaxColumn(h));if(g<=1)return new G(f,1);var i=this.getLineMaxColumn(f);if(g>=i)return new G(f,i);if(e===1){var j=this._buffer.getLineCharCode(f,g-2);if(Cb(j))return new G(f,g-1)}return new G(f,g)},a.prototype.validatePosition=function(b){var c=1;this._assertNotDisposed();if(b instanceof G){if(this._isValidPosition(b.lineNumber,b.column,c))return b}return this._validatePosition(b.lineNumber,b.column,c)},a.prototype._isValidRange=function(b,c){var e=b.startLineNumber,f=b.startColumn,g=b.endLineNumber,h=b.endColumn;if(!this._isValidPosition(e,f,0))return!1;if(!this._isValidPosition(g,h,0))return!1;if(c===1){var i=f>1?this._buffer.getLineCharCode(e,f-2):0,j=h>1&&h<=this._buffer.getLineLength(g)?this._buffer.getLineCharCode(g,h-2):0,k=Cb(i),l=Cb(j);return!k&&!l?!0:!1}return!0},a.prototype.validateRange=function(b){var c=1;this._assertNotDisposed();if(b instanceof z&&!(b instanceof V)){if(this._isValidRange(b,c))return b}var e=this._validatePosition(b.startLineNumber,b.startColumn,0),f=this._validatePosition(b.endLineNumber,b.endColumn,0),g=e.lineNumber,h=e.column,i=f.lineNumber,j=f.column;if(c===1){var k=h>1?this._buffer.getLineCharCode(g,h-2):0,l=j>1&&j<=this._buffer.getLineLength(i)?this._buffer.getLineCharCode(i,j-2):0,m=Cb(k),n=Cb(l);return!m&&!n?new z(g,h,i,j):g===i&&h===j?new z(g,h-1,i,j-1):m&&n?new z(g,h-1,i,j+1):m?new z(g,h-1,i,j):new z(g,h,i,j+1)}return new z(g,h,i,j)},a.prototype.modifyPosition=function(b,c){this._assertNotDisposed();var e=this.getOffsetAt(b)+c;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,e)))},a.prototype.getFullModelRange=function(){this._assertNotDisposed();var b=this.getLineCount();return new z(1,1,b,this.getLineMaxColumn(b))},a.prototype.findMatchesLineByLine=function(b,c,e,f){return this._buffer.findMatchesLineByLine(b,c,e,f)},a.prototype.findMatches=function(b,c,e,f,g,h,i){i===void 0&&(i=bV),this._assertNotDisposed();var j;z.isIRange(c)?j=this.validateRange(c):j=this.getFullModelRange();if(!e&&b.indexOf(`
`)<0){var k=new lg(b,e,f,g),l=k.parseSearchRequest();return l?this.findMatchesLineByLine(j,l,h,i):[]}return sm.findMatches(this,new lg(b,e,f,g),j,h,i)},a.prototype.findNextMatch=function(b,c,e,f,g,h){this._assertNotDisposed();var i=this.validatePosition(c);if(!e&&b.indexOf(`
`)<0){var j=new lg(b,e,f,g),k=j.parseSearchRequest();if(!k)return null;var l=this.getLineCount(),m=new z(i.lineNumber,i.column,l,this.getLineMaxColumn(l)),n=this.findMatchesLineByLine(m,k,h,1);return sm.findNextMatch(this,new lg(b,e,f,g),i,h),n.length>0?n[0]:(m=new z(1,1,i.lineNumber,this.getLineMaxColumn(i.lineNumber)),n=this.findMatchesLineByLine(m,k,h,1),n.length>0?n[0]:null)}return sm.findNextMatch(this,new lg(b,e,f,g),i,h)},a.prototype.findPreviousMatch=function(b,c,e,f,g,h){this._assertNotDisposed();var i=this.validatePosition(c);return sm.findPreviousMatch(this,new lg(b,e,f,g),i,h)},a.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},a.prototype.pushEOL=function(b){var c=this.getEOL()===`
`?0:1;if(c===b)return;try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._commandManager.pushEOL(b)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},a.prototype.pushEditOperations=function(b,c,e){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(b,c,e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},a.prototype._pushEditOperations=function(b,c,e){var f=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var g=c.map(function(x){return{range:f.validateRange(x.range),text:x.text}}),h=!0,i=0,j=b.length;i<j;i++){for(var k=b[i],l=!1,m=0,n=g.length;m<n;m++){var o=g[m].range,p=o.startLineNumber>k.endLineNumber,q=k.startLineNumber>o.endLineNumber;if(!p&&!q){l=!0;break}}if(!l){h=!1;break}}if(h)for(var i=0,j=this._trimAutoWhitespaceLines.length;i<j;i++){for(var r=this._trimAutoWhitespaceLines[i],t=this.getLineMaxColumn(r),v=!0,m=0,n=g.length;m<n;m++){var o=g[m].range,w=g[m].text;if(r<o.startLineNumber||r>o.endLineNumber)continue;if(r===o.startLineNumber&&o.startColumn===t&&o.isEmpty()&&w&&w.length>0&&w.charAt(0)===`
`)continue;if(r===o.startLineNumber&&o.startColumn===1&&o.isEmpty()&&w&&w.length>0&&w.charAt(w.length-1)===`
`)continue;v=!1;break}v&&c.push({range:new z(r,1,r,t),text:null})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(b,c,e)},a.prototype.applyEdits=function(b){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._applyEdits(b)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},a.prototype._applyEdits=function(b){for(var c=0,e=b.length;c<e;c++)b[c].range=this.validateRange(b[c].range);var f=this._buffer.getLineCount(),g=this._buffer.applyEdits(b,this._options.trimAutoWhitespace),h=this._buffer.getLineCount(),i=g.changes;this._trimAutoWhitespaceLines=g.trimAutoWhitespaceLineNumbers;if(i.length!==0){for(var j=[],k=f,c=0,e=i.length;c<e;c++){var l=i[c],m=um(l.text),n=m[0],o=m[1],p=m[2];this._tokens.acceptEdit(l.range,n,o),this._tokens2.acceptEdit(l.range,n,o,p,l.text.length>0?l.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(l.rangeOffset,l.rangeLength,l.text.length,l.forceMoveMarkers);for(var q=l.range.startLineNumber,r=l.range.endLineNumber,t=r-q,v=n,w=Math.min(t,v),x=v-t,u=w;u>=0;u--){var y=q+u,A=h-k-x+y;j.push(new wF(y,this.getLineContent(A)))}if(w<t){var F=q+w;j.push(new xF(F+1,r))}if(w<v){for(var B=q+w,D=v-w,H=h-k-D+B+1,J=[],L=0;L<D;L++){var O=H+L;J[O-H]=this.getLineContent(O)}j.push(new yF(B+1,q+v,J))}k+=x}this._increaseVersionId(),this._emitContentChangedEvent(new rm(j,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:i,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return g.reverseEdits},a.prototype._undo=function(){this._isUndoing=!0;var b=this._commandManager.undo();return this._isUndoing=!1,b?(this._overwriteAlternativeVersionId(b.recordedVersionId),b.selections):null},a.prototype.undo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._undo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},a.prototype.canUndo=function(){return this._commandManager.canUndo()},a.prototype._redo=function(){this._isRedoing=!0;var b=this._commandManager.redo();return this._isRedoing=!1,b?(this._overwriteAlternativeVersionId(b.recordedVersionId),b.selections):null},a.prototype.redo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._redo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},a.prototype.canRedo=function(){return this._commandManager.canRedo()},a.prototype.changeDecorations=function(b,c){c===void 0&&(c=0),this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(c,b)}finally{this._onDidChangeDecorations.endDeferredEmit()}},a.prototype._changeDecorations=function(b,c){var e=this,f={addDecoration:function(h,i){return e._onDidChangeDecorations.fire(),e._deltaDecorationsImpl(b,[],[{range:h,options:i}])[0]},changeDecoration:function(h,i){e._onDidChangeDecorations.fire(),e._changeDecorationImpl(h,i)},changeDecorationOptions:function(h,i){e._onDidChangeDecorations.fire(),e._changeDecorationOptionsImpl(h,GF(i))},removeDecoration:function(h){e._onDidChangeDecorations.fire(),e._deltaDecorationsImpl(b,[h],[])},deltaDecorations:function(h,i){return h.length===0&&i.length===0?[]:(e._onDidChangeDecorations.fire(),e._deltaDecorationsImpl(b,h,i))}},g=null;try{g=c(f)}catch(h){W(h)}return f.addDecoration=vm,f.changeDecoration=vm,f.changeDecorationOptions=vm,f.removeDecoration=vm,f.deltaDecorations=vm,g},a.prototype.deltaDecorations=function(b,c,e){e===void 0&&(e=0),this._assertNotDisposed(),b||(b=[]);if(b.length===0&&c.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._deltaDecorationsImpl(e,b,c)}finally{this._onDidChangeDecorations.endDeferredEmit()}},a.prototype._getTrackedRange=function(b){return this.getDecorationRange(b)},a.prototype._setTrackedRange=function(b,c,e){var f=b?this._decorations[b]:null;if(!f)return c?this._deltaDecorationsImpl(0,[],[{range:c,options:FF[e]}])[0]:null;if(!c)return this._decorationsTree.delete(f),delete this._decorations[f.id],null;var g=this._validateRangeRelaxedNoAllocations(c),h=this._buffer.getOffsetAt(g.startLineNumber,g.startColumn),i=this._buffer.getOffsetAt(g.endLineNumber,g.endColumn);return this._decorationsTree.delete(f),f.reset(this.getVersionId(),h,i,g),f.setOptions(FF[e]),this._decorationsTree.insert(f),f.id},a.prototype.removeAllDecorationsWithOwnerId=function(b){if(this._isDisposed)return;for(var c=this._decorationsTree.collectNodesFromOwner(b),e=0,f=c.length;e<f;e++){var g=c[e];this._decorationsTree.delete(g),delete this._decorations[g.id]}},a.prototype.getDecorationOptions=function(b){var c=this._decorations[b];return c?c.options:null},a.prototype.getDecorationRange=function(b){var c=this._decorations[b];if(!c)return null;var e=this.getVersionId();return c.cachedVersionId!==e&&this._decorationsTree.resolveNode(c,e),c.range===null&&(c.range=this._getRangeAt(c.cachedAbsoluteStart,c.cachedAbsoluteEnd)),c.range},a.prototype.getLineDecorations=function(b,c,e){return c===void 0&&(c=0),e===void 0&&(e=!1),b<1||b>this.getLineCount()?[]:this.getLinesDecorations(b,b,c,e)},a.prototype.getLinesDecorations=function(b,c,e,f){e===void 0&&(e=0),f===void 0&&(f=!1);var g=this.getLineCount(),h=Math.min(g,Math.max(1,b)),i=Math.min(g,Math.max(1,c)),j=this.getLineMaxColumn(i);return this._getDecorationsInRange(new z(h,1,i,j),e,f)},a.prototype.getDecorationsInRange=function(b,c,e){c===void 0&&(c=0),e===void 0&&(e=!1);var f=this.validateRange(b);return this._getDecorationsInRange(f,c,e)},a.prototype.getOverviewRulerDecorations=function(b,c){b===void 0&&(b=0),c===void 0&&(c=!1);var e=this.getVersionId(),f=this._decorationsTree.search(b,c,!0,e);return this._ensureNodesHaveRanges(f)},a.prototype.getAllDecorations=function(b,c){b===void 0&&(b=0),c===void 0&&(c=!1);var e=this.getVersionId(),f=this._decorationsTree.search(b,c,!1,e);return this._ensureNodesHaveRanges(f)},a.prototype._getDecorationsInRange=function(b,c,e){var f=this._buffer.getOffsetAt(b.startLineNumber,b.startColumn),g=this._buffer.getOffsetAt(b.endLineNumber,b.endColumn),h=this.getVersionId(),i=this._decorationsTree.intervalSearch(f,g,c,e,h);return this._ensureNodesHaveRanges(i)},a.prototype._ensureNodesHaveRanges=function(b){for(var c=0,e=b.length;c<e;c++){var f=b[c];f.range===null&&(f.range=this._getRangeAt(f.cachedAbsoluteStart,f.cachedAbsoluteEnd))}return b},a.prototype._getRangeAt=function(b,c){return this._buffer.getRangeAt(b,c-b)},a.prototype._changeDecorationImpl=function(b,c){var e=this._decorations[b];if(!e)return;var f=this._validateRangeRelaxedNoAllocations(c),g=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),h=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);this._decorationsTree.delete(e),e.reset(this.getVersionId(),g,h,f),this._decorationsTree.insert(e)},a.prototype._changeDecorationOptionsImpl=function(b,c){var e=this._decorations[b];if(!e)return;var f=e.options.overviewRuler&&e.options.overviewRuler.color?!0:!1,g=c.overviewRuler&&c.overviewRuler.color?!0:!1;f!==g?(this._decorationsTree.delete(e),e.setOptions(c),this._decorationsTree.insert(e)):e.setOptions(c)},a.prototype._deltaDecorationsImpl=function(b,c,e){for(var f=this.getVersionId(),g=c.length,h=0,i=e.length,j=0,k=new Array(i);h<g||j<i;){var l=null;if(h<g){do l=this._decorations[c[h++]];while(!l&&h<g);l&&this._decorationsTree.delete(l)}if(j<i){if(!l){var m=++this._lastDecorationId,n=this._instanceId+";"+m;l=new uv(n,0,0),this._decorations[n]=l}var o=e[j],p=this._validateRangeRelaxedNoAllocations(o.range),q=GF(o.options),r=this._buffer.getOffsetAt(p.startLineNumber,p.startColumn),t=this._buffer.getOffsetAt(p.endLineNumber,p.endColumn);l.ownerId=b,l.reset(f,r,t,p),l.setOptions(q),this._decorationsTree.insert(l),k[j]=l.id,j++}else l&&delete this._decorations[l.id]}return k},a.prototype.setLineTokens=function(b,c){if(b<1||b>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokens.setTokens(this._languageIdentifier.id,b-1,this._buffer.getLineLength(b),c)},a.prototype.setTokens=function(b){if(b.length===0)return;for(var c=[],e=0,f=b.length;e<f;e++){var g=b[e];c.push({fromLineNumber:g.startLineNumber,toLineNumber:g.startLineNumber+g.tokens.length-1});for(var h=0,i=g.tokens.length;h<i;h++)this.setLineTokens(g.startLineNumber+h,g.tokens[h])}this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges:c})},a.prototype.setSemanticTokens=function(b){this._tokens2.set(b),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})},a.prototype.tokenizeViewport=function(b,c){b=Math.max(1,b),c=Math.min(this._buffer.getLineCount(),c),this._tokenization.tokenizeViewport(b,c)},a.prototype.clearTokens=function(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})},a.prototype._emitModelTokensChangedEvent=function(b){this._isDisposing||this._onDidChangeTokens.fire(b)},a.prototype.resetTokenization=function(){this._tokenization.reset()},a.prototype.forceTokenization=function(b){if(b<1||b>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(b)},a.prototype.isCheapToTokenize=function(b){return this._tokenization.isCheapToTokenize(b)},a.prototype.tokenizeIfCheap=function(b){this.isCheapToTokenize(b)&&this.forceTokenization(b)},a.prototype.getLineTokens=function(b){if(b<1||b>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(b)},a.prototype._getLineTokens=function(b){var c=this.getLineContent(b),e=this._tokens.getTokens(this._languageIdentifier.id,b-1,c);return this._tokens2.addSemanticTokens(b,e)},a.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},a.prototype.getModeId=function(){return this._languageIdentifier.language},a.prototype.setMode=function(b){if(this._languageIdentifier.id===b.id)return;var c={oldLanguage:this._languageIdentifier.language,newLanguage:b.language};this._languageIdentifier=b,this._onDidChangeLanguage.fire(c),this._onDidChangeLanguageConfiguration.fire({})},a.prototype.getLanguageIdAtPosition=function(b,c){var e=this.validatePosition(new G(b,c)),f=this.getLineTokens(e.lineNumber);return f.getLanguageId(f.findTokenIndexAtOffset(e.column-1))},a.prototype.getWordAtPosition=function(b){this._assertNotDisposed();var c=this.validatePosition(b),e=this.getLineContent(c.lineNumber),f=this._getLineTokens(c.lineNumber),g=f.findTokenIndexAtOffset(c.column-1),h=a._findLanguageBoundaries(f,g),i=h[0],j=h[1],k=tm(c.column,sa.getWordDefinition(f.getLanguageId(g)),e.substring(i,j),i);if(k&&k.startColumn<=b.column&&b.column<=k.endColumn)return k;if(g>0&&i===c.column-1){var l=a._findLanguageBoundaries(f,g-1),m=l[0],n=l[1],o=tm(c.column,sa.getWordDefinition(f.getLanguageId(g-1)),e.substring(m,n),m);if(o&&o.startColumn<=b.column&&b.column<=o.endColumn)return o}return null},a._findLanguageBoundaries=function(b,c){for(var e=b.getLanguageId(c),f=0,g=c;g>=0&&b.getLanguageId(g)===e;g--)f=b.getStartOffset(g);for(var h=b.getLineContent().length,g=c,i=b.getCount();g<i&&b.getLanguageId(g)===e;g++)h=b.getEndOffset(g);return[f,h]},a.prototype.getWordUntilPosition=function(b){var c=this.getWordAtPosition(b);return c?{word:c.word.substr(0,b.column-c.startColumn),startColumn:c.startColumn,endColumn:b.column}:{word:"",startColumn:b.column,endColumn:b.column}},a.prototype.findMatchingBracketUp=function(b,c){var e=b.toLowerCase(),f=this.validatePosition(c),g=this._getLineTokens(f.lineNumber),h=g.getLanguageId(g.findTokenIndexAtOffset(f.column-1)),i=sa.getBracketsSupport(h);if(!i)return null;var j=i.textIsBracket[e];return j?this._findMatchingBracketUp(j,f):null},a.prototype.matchBracket=function(b){return this._matchBracket(this.validatePosition(b))},a.prototype._matchBracket=function(b){var c=b.lineNumber,e=this._getLineTokens(c),f=e.getCount(),g=this._buffer.getLineContent(c),h=e.findTokenIndexAtOffset(b.column-1);if(h<0)return null;var i=sa.getBracketsSupport(e.getLanguageId(h));if(i&&!oe(e.getStandardTokenType(h))){for(var j=Math.max(0,b.column-1-i.maxBracketLength),k=h-1;k>=0;k--){var l=e.getEndOffset(k);if(l<=j)break;oe(e.getStandardTokenType(k))&&(j=l)}for(var m=Math.min(g.length,b.column-1+i.maxBracketLength),n=null;;){var o=Md.findNextBracketInRange(i.forwardRegex,c,g,j,m);if(!o)break;if(o.startColumn<=b.column&&b.column<=o.endColumn){var p=g.substring(o.startColumn-1,o.endColumn-1).toLowerCase(),q=this._matchFoundBracket(o,i.textIsBracket[p],i.textIsOpenBracket[p]);q&&(n=q)}j=o.endColumn-1}if(n)return n}if(h>0&&e.getStartOffset(h)===b.column-1){var r=h-1,t=sa.getBracketsSupport(e.getLanguageId(r));if(t&&!oe(e.getStandardTokenType(r))){for(var j=Math.max(0,b.column-1-t.maxBracketLength),m=Math.min(g.length,b.column-1+t.maxBracketLength),k=r+1;k<f;k++){var v=e.getStartOffset(k);if(v>=m)break;oe(e.getStandardTokenType(k))&&(m=v)}var o=Md.findPrevBracketInRange(t.reversedRegex,c,g,j,m);if(o&&o.startColumn<=b.column&&b.column<=o.endColumn){var p=g.substring(o.startColumn-1,o.endColumn-1).toLowerCase(),q=this._matchFoundBracket(o,t.textIsBracket[p],t.textIsOpenBracket[p]);if(q)return q}}}return null},a.prototype._matchFoundBracket=function(b,c,e){if(!c)return null;if(e){var f=this._findMatchingBracketDown(c,b.getEndPosition());if(f)return[b,f]}else{var f=this._findMatchingBracketUp(c,b.getStartPosition());if(f)return[b,f]}return null},a.prototype._findMatchingBracketUp=function(b,c){for(var e=b.languageIdentifier.id,f=b.reversedRegex,g=-1,h=function(t,v,w,x){for(;;){var u=Md.findPrevBracketInRange(f,t,v,w,x);if(!u)break;var y=v.substring(u.startColumn-1,u.endColumn-1).toLowerCase();b.isOpen(y)?g++:b.isClose(y)&&g--;if(g===0)return u;x=u.startColumn-1}return null},i=c.lineNumber;i>=1;i--){var j=this._getLineTokens(i),k=j.getCount(),l=this._buffer.getLineContent(i),m=k-1,n=l.length,o=l.length;i===c.lineNumber&&(m=j.findTokenIndexAtOffset(c.column-1),n=c.column-1,o=c.column-1);for(var p=!0;m>=0;m--){var q=j.getLanguageId(m)===e&&!oe(j.getStandardTokenType(m));if(q)p?n=j.getStartOffset(m):(n=j.getStartOffset(m),o=j.getEndOffset(m));else if(p&&n!==o){var r=h(i,l,n,o);if(r)return r}p=q}if(p&&n!==o){var r=h(i,l,n,o);if(r)return r}}return null},a.prototype._findMatchingBracketDown=function(b,c){for(var e=b.languageIdentifier.id,f=b.forwardRegex,g=1,h=function(v,w,x,u){for(;;){var y=Md.findNextBracketInRange(f,v,w,x,u);if(!y)break;var A=w.substring(y.startColumn-1,y.endColumn-1).toLowerCase();b.isOpen(A)?g++:b.isClose(A)&&g--;if(g===0)return y;x=y.endColumn-1}return null},i=this.getLineCount(),j=c.lineNumber;j<=i;j++){var k=this._getLineTokens(j),l=k.getCount(),m=this._buffer.getLineContent(j),n=0,o=0,p=0;j===c.lineNumber&&(n=k.findTokenIndexAtOffset(c.column-1),o=c.column-1,p=c.column-1);for(var q=!0;n<l;n++){var r=k.getLanguageId(n)===e&&!oe(k.getStandardTokenType(n));if(r)q?p=k.getEndOffset(n):(o=k.getStartOffset(n),p=k.getEndOffset(n));else if(q&&o!==p){var t=h(j,m,o,p);if(t)return t}q=r}if(q&&o!==p){var t=h(j,m,o,p);if(t)return t}}return null},a.prototype.findPrevBracket=function(b){for(var c=this.validatePosition(b),e=-1,f=null,g=c.lineNumber;g>=1;g--){var h=this._getLineTokens(g),i=h.getCount(),j=this._buffer.getLineContent(g),k=i-1,l=j.length,m=j.length;if(g===c.lineNumber){k=h.findTokenIndexAtOffset(c.column-1),l=c.column-1,m=c.column-1;var n=h.getLanguageId(k);e!==n&&(e=n,f=sa.getBracketsSupport(e))}for(var o=!0;k>=0;k--){var n=h.getLanguageId(k);if(e!==n){if(f&&o&&l!==m){var p=Md.findPrevBracketInRange(f.reversedRegex,g,j,l,m);if(p)return this._toFoundBracket(f,p);o=!1}e=n,f=sa.getBracketsSupport(e)}var q=!!f&&!oe(h.getStandardTokenType(k));if(q)o?l=h.getStartOffset(k):(l=h.getStartOffset(k),m=h.getEndOffset(k));else if(f&&o&&l!==m){var p=Md.findPrevBracketInRange(f.reversedRegex,g,j,l,m);if(p)return this._toFoundBracket(f,p)}o=q}if(f&&o&&l!==m){var p=Md.findPrevBracketInRange(f.reversedRegex,g,j,l,m);if(p)return this._toFoundBracket(f,p)}}return null},a.prototype.findNextBracket=function(b){for(var c=this.validatePosition(b),e=this.getLineCount(),f=-1,g=null,h=c.lineNumber;h<=e;h++){var i=this._getLineTokens(h),j=i.getCount(),k=this._buffer.getLineContent(h),l=0,m=0,n=0;if(h===c.lineNumber){l=i.findTokenIndexAtOffset(c.column-1),m=c.column-1,n=c.column-1;var o=i.getLanguageId(l);f!==o&&(f=o,g=sa.getBracketsSupport(f))}for(var p=!0;l<j;l++){var o=i.getLanguageId(l);if(f!==o){if(g&&p&&m!==n){var q=Md.findNextBracketInRange(g.forwardRegex,h,k,m,n);if(q)return this._toFoundBracket(g,q);p=!1}f=o,g=sa.getBracketsSupport(f)}var r=!!g&&!oe(i.getStandardTokenType(l));if(r)p?n=i.getEndOffset(l):(m=i.getStartOffset(l),n=i.getEndOffset(l));else if(g&&p&&m!==n){var q=Md.findNextBracketInRange(g.forwardRegex,h,k,m,n);if(q)return this._toFoundBracket(g,q)}p=r}if(g&&p&&m!==n){var q=Md.findNextBracketInRange(g.forwardRegex,h,k,m,n);if(q)return this._toFoundBracket(g,q)}}return null},a.prototype.findEnclosingBrackets=function(b,c){var e=this;c===void 0&&(c=1073741824);for(var f=this.validatePosition(b),g=this.getLineCount(),h=new Map(),i=[],j=function(B,D){if(!h.has(B)){for(var H=[],J=0,L=D?D.brackets.length:0;J<L;J++)H[J]=0;h.set(B,H)}i=h.get(B)},k=function(B,D,H,J,L){for(;;){var O=Md.findNextBracketInRange(B.forwardRegex,D,H,J,L);if(!O)break;var T=H.substring(O.startColumn-1,O.endColumn-1).toLowerCase(),$=B.textIsBracket[T];if($){$.isOpen(T)?i[$.index]++:$.isClose(T)&&i[$.index]--;if(i[$.index]===-1)return e._matchFoundBracket(O,$,!1)}J=O.endColumn-1}return null},l=-1,m=null,n=Date.now(),o=f.lineNumber;o<=g;o++){var p=Date.now()-n;if(p>c)return null;var q=this._getLineTokens(o),r=q.getCount(),t=this._buffer.getLineContent(o),v=0,w=0,x=0;if(o===f.lineNumber){v=q.findTokenIndexAtOffset(f.column-1),w=f.column-1,x=f.column-1;var u=q.getLanguageId(v);l!==u&&(l=u,m=sa.getBracketsSupport(l),j(l,m))}for(var y=!0;v<r;v++){var u=q.getLanguageId(v);if(l!==u){if(m&&y&&w!==x){var A=k(m,o,t,w,x);if(A)return A;y=!1}l=u,m=sa.getBracketsSupport(l),j(l,m)}var F=!!m&&!oe(q.getStandardTokenType(v));if(F)y?x=q.getEndOffset(v):(w=q.getStartOffset(v),x=q.getEndOffset(v));else if(m&&y&&w!==x){var A=k(m,o,t,w,x);if(A)return A}y=F}if(m&&y&&w!==x){var A=k(m,o,t,w,x);if(A)return A}}return null},a.prototype._toFoundBracket=function(b,c){if(!c)return null;var e=this.getValueInRange(c);e=e.toLowerCase();var f=b.textIsBracket[e];return f?{range:c,open:f.open,close:f.close,isOpen:b.textIsOpenBracket[e]}:null},a.computeIndentLevel=function(b,c){for(var e=0,f=0,g=b.length;f<g;){var h=b.charCodeAt(f);if(h===32)e++;else if(h===9)e=e-e%c+c;else break;f++}return f===g?-1:e},a.prototype._computeIndentLevel=function(b){return a.computeIndentLevel(this._buffer.getLineContent(b+1),this._options.tabSize)},a.prototype.getActiveIndentGuide=function(b,c,e){var f=this;this._assertNotDisposed();var g=this.getLineCount();if(b<1||b>g)throw new Error("Illegal value for lineNumber");for(var h=sa.getFoldingRules(this._languageIdentifier.id),i=Boolean(h&&h.offSide),j=-2,k=-1,l=-2,m=-1,n=function(L){if(j!==-1&&(j===-2||j>L-1)){j=-1,k=-1;for(var O=L-2;O>=0;O--){var T=f._computeIndentLevel(O);if(T>=0){j=O,k=T;break}}}if(l===-2){l=-1,m=-1;for(var O=L;O<g;O++){var $=f._computeIndentLevel(O);if($>=0){l=O,m=$;break}}}},o=-2,p=-1,q=-2,r=-1,t=function(L){if(o===-2){o=-1,p=-1;for(var O=L-2;O>=0;O--){var T=f._computeIndentLevel(O);if(T>=0){o=O,p=T;break}}}if(q!==-1&&(q===-2||q<L-1)){q=-1,r=-1;for(var O=L;O<g;O++){var $=f._computeIndentLevel(O);if($>=0){q=O,r=$;break}}}},v=0,w=!0,x=0,u=!0,y=0,A=0;w||u;A++){var F=b-A,B=b+A;A!==0&&(F<1||F<c)&&(w=!1),A!==0&&(B>g||B>e)&&(u=!1),A>5e4&&(w=!1,u=!1);if(w){var D=void 0,H=this._computeIndentLevel(F-1);H>=0?(l=F-1,m=H,D=Math.ceil(H/this._options.indentSize)):(n(F),D=this._getIndentLevelForWhitespaceLine(i,k,m));if(A===0){v=F,x=B,y=D;if(y===0)return{startLineNumber:v,endLineNumber:x,indent:y};continue}D>=y?v=F:w=!1}if(u){var J=void 0,H=this._computeIndentLevel(B-1);H>=0?(o=B-1,p=H,J=Math.ceil(H/this._options.indentSize)):(t(B),J=this._getIndentLevelForWhitespaceLine(i,p,r)),J>=y?x=B:u=!1}}return{startLineNumber:v,endLineNumber:x,indent:y}},a.prototype.getLinesIndentGuides=function(b,c){this._assertNotDisposed();var e=this.getLineCount();if(b<1||b>e)throw new Error("Illegal value for startLineNumber");if(c<1||c>e)throw new Error("Illegal value for endLineNumber");for(var f=sa.getFoldingRules(this._languageIdentifier.id),g=Boolean(f&&f.offSide),h=new Array(c-b+1),i=-2,j=-1,k=-2,l=-1,m=b;m<=c;m++){var n=m-b,o=this._computeIndentLevel(m-1);if(o>=0){i=m-1,j=o,h[n]=Math.ceil(o/this._options.indentSize);continue}if(i===-2){i=-1,j=-1;for(var p=m-2;p>=0;p--){var q=this._computeIndentLevel(p);if(q>=0){i=p,j=q;break}}}if(k!==-1&&(k===-2||k<m-1)){k=-1,l=-1;for(var p=m;p<e;p++){var q=this._computeIndentLevel(p);if(q>=0){k=p,l=q;break}}}h[n]=this._getIndentLevelForWhitespaceLine(g,j,l)}return h},a.prototype._getIndentLevelForWhitespaceLine=function(b,c,e){return c===-1||e===-1?0:c<e?1+Math.floor(c/this._options.indentSize):c===e?Math.ceil(e/this._options.indentSize):b?Math.ceil(e/this._options.indentSize):1+Math.floor(e/this._options.indentSize)},a.MODEL_SYNC_LIMIT=50*1024*1024,a.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,a.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,a.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Ec.tabSize,indentSize:Ec.indentSize,insertSpaces:Ec.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Ec.trimAutoWhitespace,largeFileOptimizations:Ec.largeFileOptimizations},a}(I),DF=function(){function d(){this._decorationsTree0=new vv(),this._decorationsTree1=new vv()}return d.prototype.intervalSearch=function(a,b,c,e,f){var g=this._decorationsTree0.intervalSearch(a,b,c,e,f),h=this._decorationsTree1.intervalSearch(a,b,c,e,f);return g.concat(h)},d.prototype.search=function(a,b,c,e){if(c)return this._decorationsTree1.search(a,b,e);{var f=this._decorationsTree0.search(a,b,e),g=this._decorationsTree1.search(a,b,e);return f.concat(g)}},d.prototype.collectNodesFromOwner=function(a){var b=this._decorationsTree0.collectNodesFromOwner(a),c=this._decorationsTree1.collectNodesFromOwner(a);return b.concat(c)},d.prototype.collectNodesPostOrder=function(){var a=this._decorationsTree0.collectNodesPostOrder(),b=this._decorationsTree1.collectNodesPostOrder();return a.concat(b)},d.prototype.insert=function(a){Lp(a)?this._decorationsTree1.insert(a):this._decorationsTree0.insert(a)},d.prototype.delete=function(a){Lp(a)?this._decorationsTree1.delete(a):this._decorationsTree0.delete(a)},d.prototype.resolveNode=function(a,b){Lp(a)?this._decorationsTree1.resolveNode(a,b):this._decorationsTree0.resolveNode(a,b)},d.prototype.acceptReplace=function(a,b,c,e){this._decorationsTree0.acceptReplace(a,b,c,e),this._decorationsTree1.acceptReplace(a,b,c,e)},d}();function ui(d){return d.replace(/[^a-z0-9\-_]/gi," ")}var EF=function(){function d(a){this.color=a.color||"",this.darkColor=a.darkColor||""}return d}(),dV=function(d){qm(a,d);function a(b){var c=d.call(this,b)||this;return c._resolvedColor=null,c.position=typeof b.position==="number"?b.position:oc.Center,c}return a.prototype.getColor=function(b){return this._resolvedColor||(b.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,b):this._resolvedColor=this._resolveColor(this.color,b)),this._resolvedColor},a.prototype.invalidateCachedColor=function(){this._resolvedColor=null},a.prototype._resolveColor=function(b,c){if(typeof b==="string")return b;var e=b?c.getColor(b.id):null;return e?e.toString():""},a}(EF),eV=function(d){qm(a,d);function a(b){var c=d.call(this,b)||this;return c.position=b.position,c}return a.prototype.getColor=function(b){return this._resolvedColor||(b.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,b):this._resolvedColor=this._resolveColor(this.color,b)),this._resolvedColor},a.prototype.invalidateCachedColor=function(){this._resolvedColor=void 0},a.prototype._resolveColor=function(b,c){return typeof b==="string"?M.fromHex(b):c.getColor(b.id)},a}(EF),na=function(){function d(a){this.stickiness=a.stickiness||0,this.zIndex=a.zIndex||0,this.className=a.className?ui(a.className):null,this.hoverMessage=ag(a.hoverMessage),this.glyphMarginHoverMessage=ag(a.glyphMarginHoverMessage),this.isWholeLine=a.isWholeLine||!1,this.showIfCollapsed=a.showIfCollapsed||!1,this.collapseOnReplaceEdit=a.collapseOnReplaceEdit||!1,this.overviewRuler=a.overviewRuler?new dV(a.overviewRuler):null,this.minimap=a.minimap?new eV(a.minimap):null,this.glyphMarginClassName=a.glyphMarginClassName?ui(a.glyphMarginClassName):null,this.linesDecorationsClassName=a.linesDecorationsClassName?ui(a.linesDecorationsClassName):null,this.marginClassName=a.marginClassName?ui(a.marginClassName):null,this.inlineClassName=a.inlineClassName?ui(a.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=a.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=a.beforeContentClassName?ui(a.beforeContentClassName):null,this.afterContentClassName=a.afterContentClassName?ui(a.afterContentClassName):null}return d.register=function(a){return new d(a)},d.createDynamic=function(a){return new d(a)},d}();na.EMPTY=na.register({});var FF=[na.register({stickiness:0}),na.register({stickiness:1}),na.register({stickiness:2}),na.register({stickiness:3})];function GF(d){return d instanceof na?d:na.createDynamic(d)}var fV=function(d){qm(a,d);function a(){var b=d.call(this)||this;return b._actual=b._register(new E()),b.event=b._actual.event,b._deferredCnt=0,b._shouldFire=!1,b}return a.prototype.beginDeferredEmit=function(){this._deferredCnt++},a.prototype.endDeferredEmit=function(){this._deferredCnt--,this._deferredCnt===0&&(this._shouldFire&&(this._shouldFire=!1,this._actual.fire({})))},a.prototype.fire=function(){this._shouldFire=!0},a}(I),gV=function(d){qm(a,d);function a(){var b=d.call(this)||this;return b._fastEmitter=b._register(new E()),b.fastEvent=b._fastEmitter.event,b._slowEmitter=b._register(new E()),b.slowEvent=b._slowEmitter.event,b._deferredCnt=0,b._deferredEvent=null,b}return a.prototype.beginDeferredEmit=function(){this._deferredCnt++},a.prototype.endDeferredEmit=function(){this._deferredCnt--;if(this._deferredCnt===0){if(this._deferredEvent!==null){var b=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(b),this._slowEmitter.fire(b)}}},a.prototype.fire=function(b){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(b):this._deferredEvent=b;return}this._fastEmitter.fire(b),this._slowEmitter.fire(b)},a}(I);var sU=function(){return!0},YE=function(){return!1},tU=function(d){return d===" "||d==="	"};function ZE(d,a,b){d.has(a)?d.get(a).push(b):d.set(a,[b])}var hv=function(){function d(a,b,c){this._languageIdentifier=a;var e=c.options,f=e.get(107);this.readOnly=e.get(68),this.tabSize=b.tabSize,this.indentSize=b.indentSize,this.insertSpaces=b.insertSpaces,this.lineHeight=e.get(49),this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=e.get(95),this.wordSeparators=e.get(96),this.emptySelectionClipboard=e.get(25),this.copyWithSyntaxHighlighting=e.get(15),this.multiCursorMergeOverlapping=e.get(58),this.multiCursorPaste=e.get(60),this.autoClosingBrackets=e.get(5),this.autoClosingQuotes=e.get(7),this.autoClosingOvertype=e.get(6),this.autoSurround=e.get(10),this.autoIndent=e.get(8),this.autoClosingPairsOpen2=new Map(),this.autoClosingPairsClose2=new Map(),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:d._getShouldAutoClose(a,this.autoClosingQuotes),bracket:d._getShouldAutoClose(a,this.autoClosingBrackets)};var g=d._getAutoClosingPairs(a);if(g)for(var h=0,i=g;h<i.length;h++){var j=i[h];ZE(this.autoClosingPairsOpen2,j.open.charAt(j.open.length-1),j),j.close.length===1&&ZE(this.autoClosingPairsClose2,j.close,j)}var k=d._getSurroundingPairs(a);if(k)for(var l=0,m=k;l<m.length;l++){var j=m[l];this.surroundingPairs[j.open]=j.close}}return d.shouldRecreate=function(a){return a.hasChanged(107)||a.hasChanged(96)||a.hasChanged(25)||a.hasChanged(58)||a.hasChanged(60)||a.hasChanged(5)||a.hasChanged(7)||a.hasChanged(6)||a.hasChanged(10)||a.hasChanged(95)||a.hasChanged(49)||a.hasChanged(68)},Object.defineProperty(d.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var a=d._getElectricCharacters(this._languageIdentifier);if(a)for(var b=0,c=a;b<c.length;b++){var e=c[b];this._electricChars[e]=!0}}return this._electricChars},enumerable:!0,configurable:!0}),d.prototype.normalizeIndentation=function(a){return Qe.normalizeIndentation(a,this.indentSize,this.insertSpaces)},d._getElectricCharacters=function(a){try{return sa.getElectricCharacters(a.id)}catch(b){return W(b),null}},d._getAutoClosingPairs=function(a){try{return sa.getAutoClosingPairs(a.id)}catch(b){return W(b),null}},d._getShouldAutoClose=function(a,b){switch(b){case"beforeWhitespace":return tU;case"languageDefined":return d._getLanguageDefinedShouldAutoClose(a);case"always":return sU;case"never":return YE}},d._getLanguageDefinedShouldAutoClose=function(a){try{var b=sa.getAutoCloseBeforeSet(a.id);return function(c){return b.indexOf(c)!==-1}}catch(c){return W(c),YE}},d._getSurroundingPairs=function(a){try{return sa.getSurroundingPairs(a.id)}catch(b){return W(b),null}},d}(),kc=function(){function d(a,b,c,e){this.selectionStart=a,this.selectionStartLeftoverVisibleColumns=b,this.position=c,this.leftoverVisibleColumns=e,this.selection=d._computeSelection(this.selectionStart,this.position)}return d.prototype.equals=function(a){return this.selectionStartLeftoverVisibleColumns===a.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===a.leftoverVisibleColumns&&this.position.equals(a.position)&&this.selectionStart.equalsRange(a.selectionStart)},d.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},d.prototype.move=function(a,b,c,e){return a?new d(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new G(b,c),e):new d(new z(b,c,b,c),e,new G(b,c),e)},d._computeSelection=function(a,b){var c,e,f,g;return a.isEmpty()?(c=a.startLineNumber,e=a.startColumn,f=b.lineNumber,g=b.column):b.isBeforeOrEqual(a.getStartPosition())?(c=a.endLineNumber,e=a.endColumn,f=b.lineNumber,g=b.column):(c=a.startLineNumber,e=a.startColumn,f=b.lineNumber,g=b.column),new V(c,e,f,g)},d}(),iv=function(){function d(a,b,c){this.model=b,this.viewModel=c,this.config=new hv(this.model.getLanguageIdentifier(),this.model.getOptions(),a)}return d.prototype.validateViewPosition=function(a,b){return this.viewModel.coordinatesConverter.validateViewPosition(a,b)},d.prototype.validateViewRange=function(a,b){return this.viewModel.coordinatesConverter.validateViewRange(a,b)},d.prototype.convertViewRangeToModelRange=function(a){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(a)},d.prototype.convertViewPositionToModelPosition=function(a,b){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new G(a,b))},d.prototype.convertModelPositionToViewPosition=function(a){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(a)},d.prototype.convertModelRangeToViewRange=function(a){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(a)},d.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()},d.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},d.prototype.getCompletelyVisibleModelRange=function(){var a=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(a)},d.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(a){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(a)},d.prototype.getVerticalOffsetForViewLine=function(a){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(a)},d}(),uU=function(){function d(a){this.modelState=a,this.viewState=null}return d}(),vU=function(){function d(a){this.modelState=null,this.viewState=a}return d}(),za=function(){function d(a,b){this.modelState=a,this.viewState=b}return d.fromModelState=function(a){return new uU(a)},d.fromViewState=function(a){return new vU(a)},d.fromModelSelection=function(a){var b=a.selectionStartLineNumber,c=a.selectionStartColumn,e=a.positionLineNumber,f=a.positionColumn,g=new kc(new z(b,c,b,c),0,new G(e,f),0);return d.fromModelState(g)},d.fromModelSelections=function(a){for(var b=[],c=0,e=a.length;c<e;c++)b[c]=this.fromModelSelection(a[c]);return b},d.prototype.equals=function(a){return this.viewState.equals(a.viewState)&&this.modelState.equals(a.modelState)},d}(),Fc=function(){function d(a,b,c){this.type=a,this.commands=b,this.shouldPushStackElementBefore=c.shouldPushStackElementBefore,this.shouldPushStackElementAfter=c.shouldPushStackElementAfter}return d}(),Ya=function(){function d(){}return d.visibleColumnFromColumn=function(a,b,c){for(var e=a.length,f=b-1<e?b-1:e,g=0,h=0;h<f;){var i=Yh(a,f,h);h+=i>=65536?2:1;if(i===9)g=d.nextRenderTabStop(g,c);else{for(var j=Jl(i);h<f;){var k=Yh(a,f,h),l=Jl(k);if(Kl(j,l))break;h+=k>=65536?2:1,j=l}nd(i)||ou(i)?g=g+2:g=g+1}}return g},d.visibleColumnFromColumn2=function(a,b,c){return this.visibleColumnFromColumn(b.getLineContent(c.lineNumber),c.column,a.tabSize)},d.columnFromVisibleColumn=function(a,b,c){if(b<=0)return 1;for(var e=a.length,f=0,g=1,h=0;h<e;){var i=Yh(a,e,h);h+=i>=65536?2:1;var j=void 0;if(i===9)j=d.nextRenderTabStop(f,c);else{for(var k=Jl(i);h<e;){var l=Yh(a,e,h),m=Jl(l);if(Kl(k,m))break;h+=l>=65536?2:1,k=m}nd(i)||ou(i)?j=f+2:j=f+1}var n=h+1;if(j>=b){var o=b-f,p=j-b;return p<o?n:g}f=j,g=n}return e+1},d.columnFromVisibleColumn2=function(a,b,c,e){var f=this.columnFromVisibleColumn(b.getLineContent(c),e,a.tabSize),g=b.getLineMinColumn(c);if(f<g)return g;var h=b.getLineMaxColumn(c);return f>h?h:f},d.nextRenderTabStop=function(a,b){return a+b-a%b},d.nextIndentTabStop=function(a,b){return a+b-a%b},d.prevRenderTabStop=function(a,b){return a-1-(a-1)%b},d.prevIndentTabStop=function(a,b){return a-1-(a-1)%b},d}();function kh(d){return d==="'"||d==='"'||d==="`"}var KR=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),RC=function(){function d(a,b){this.lastViewCursorsRenderData=a,this.lastTextareaPosition=b}return d}(),Ke=function(){function d(a,b,c,e,f,g){c===void 0&&(c=0),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.element=a,this.type=b,this.mouseColumn=c,this.position=e,!f&&e&&(f=new z(e.lineNumber,e.column,e.lineNumber,e.column)),this.range=f,this.detail=g}return d._typeToString=function(a){return a===1?"TEXTAREA":a===2?"GUTTER_GLYPH_MARGIN":a===3?"GUTTER_LINE_NUMBERS":a===4?"GUTTER_LINE_DECORATIONS":a===5?"GUTTER_VIEW_ZONE":a===6?"CONTENT_TEXT":a===7?"CONTENT_EMPTY":a===8?"CONTENT_VIEW_ZONE":a===9?"CONTENT_WIDGET":a===10?"OVERVIEW_RULER":a===11?"SCROLLBAR":a===12?"OVERLAY_WIDGET":"UNKNOWN"},d.toString=function(a){return this._typeToString(a.type)+": "+a.position+" - "+a.range+" - "+a.detail},d.prototype.toString=function(){return d.toString(this)},d}(),ge=function(){function d(){}return d.isTextArea=function(a){return a.length===2&&a[0]===3&&a[1]===6},d.isChildOfViewLines=function(a){return a.length>=4&&a[0]===3&&a[3]===7},d.isStrictChildOfViewLines=function(a){return a.length>4&&a[0]===3&&a[3]===7},d.isChildOfScrollableElement=function(a){return a.length>=2&&a[0]===3&&a[1]===5},d.isChildOfMinimap=function(a){return a.length>=2&&a[0]===3&&a[1]===8},d.isChildOfContentWidgets=function(a){return a.length>=4&&a[0]===3&&a[3]===1},d.isChildOfOverflowingContentWidgets=function(a){return a.length>=1&&a[0]===2},d.isChildOfOverlayWidgets=function(a){return a.length>=2&&a[0]===3&&a[1]===4},d}(),gp=function(){function d(a,b,c){this.model=a.model;var e=a.configuration.options;this.layoutInfo=e.get(107),this.viewDomNode=b.viewDomNode,this.lineHeight=e.get(49),this.typicalHalfwidthCharacterWidth=e.get(34).typicalHalfwidthCharacterWidth,this.lastRenderData=c,this._context=a,this._viewHelper=b}return d.prototype.getZoneAtCoord=function(a){return d.getZoneAtCoord(this._context,a)},d.getZoneAtCoord=function(a,b){var c=a.viewLayout.getWhitespaceAtVerticalOffset(b);if(c){var e=c.verticalOffset+c.height/2,f=a.model.getLineCount(),g=null,h=void 0,i=null;return c.afterLineNumber!==f&&(i=new G(c.afterLineNumber+1,1)),c.afterLineNumber>0&&(g=new G(c.afterLineNumber,a.model.getLineMaxColumn(c.afterLineNumber))),i===null?h=g:g===null?h=i:b<e?h=g:h=i,{viewZoneId:c.id,afterLineNumber:c.afterLineNumber,positionBefore:g,positionAfter:i,position:h}}return null},d.prototype.getFullLineRangeAtCoord=function(a){if(this._context.viewLayout.isAfterLines(a)){var b=this._context.model.getLineCount(),c=this._context.model.getLineMaxColumn(b);return{range:new z(b,c,b,c),isAfterLines:!0}}var e=this._context.viewLayout.getLineNumberAtVerticalOffset(a),f=this._context.model.getLineMaxColumn(e);return{range:new z(e,1,e,f),isAfterLines:!1}},d.prototype.getLineNumberAtVerticalOffset=function(a){return this._context.viewLayout.getLineNumberAtVerticalOffset(a)},d.prototype.isAfterLines=function(a){return this._context.viewLayout.isAfterLines(a)},d.prototype.getVerticalOffsetForLineNumber=function(a){return this._context.viewLayout.getVerticalOffsetForLineNumber(a)},d.prototype.findAttribute=function(a,b){return d._findAttribute(a,b,this._viewHelper.viewDomNode)},d._findAttribute=function(a,b,c){for(;a&&a!==document.body;){if(a.hasAttribute&&a.hasAttribute(b))return a.getAttribute(b);if(a===c)return null;a=a.parentNode}return null},d.prototype.getLineWidth=function(a){return this._viewHelper.getLineWidth(a)},d.prototype.visibleRangeForPosition=function(a,b){return this._viewHelper.visibleRangeForPosition(a,b)},d.prototype.getPositionFromDOMInfo=function(a,b){return this._viewHelper.getPositionFromDOMInfo(a,b)},d.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},d.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},d}(),LR=function(){function d(a,b,c){this.editorPos=b,this.pos=c,this.mouseVerticalOffset=Math.max(0,a.getCurrentScrollTop()+c.y-b.y),this.mouseContentHorizontalOffset=a.getCurrentScrollLeft()+c.x-b.x-a.layoutInfo.contentLeft,this.isInMarginArea=c.x-b.x<a.layoutInfo.contentLeft&&c.x-b.x>=a.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,zu._getMouseColumn(this.mouseContentHorizontalOffset,a.typicalHalfwidthCharacterWidth))}return d}(),MR=function(d){KR(a,d);function a(b,c,e,f){var g=d.call(this,b,c,e)||this;return g._ctx=b,f?(g.target=f,g.targetPath=Dc.collect(f,b.viewDomNode)):(g.target=null,g.targetPath=new Uint8Array(0)),g}return a.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+`
	target: `+(this.target?this.target.outerHTML:null)},a.prototype.fulfill=function(b,c,e,f){c===void 0&&(c=null),e===void 0&&(e=null),f===void 0&&(f=null);var g=this.mouseColumn;return c&&c.column<this._ctx.model.getLineMaxColumn(c.lineNumber)&&(g=Ya.visibleColumnFromColumn(this._ctx.model.getLineContent(c.lineNumber),c.column,this._ctx.model.getOptions().tabSize)+1),new Ke(this.target,b,g,c,e,f)},a.prototype.withTarget=function(b){return new a(this._ctx,this.editorPos,this.pos,b)},a}(LR),NR={isAfterLines:!0};function ip(d){return{isAfterLines:!1,horizontalDistanceToText:d}}var zu=function(){function d(a,b){this._context=a,this._viewHelper=b}return d.prototype.mouseTargetIsWidget=function(a){var b=a.target,c=Dc.collect(b,this._viewHelper.viewDomNode);return ge.isChildOfContentWidgets(c)||ge.isChildOfOverflowingContentWidgets(c)?!0:ge.isChildOfOverlayWidgets(c)?!0:!1},d.prototype.createMouseTarget=function(a,b,c,e){var f=new gp(this._context,this._viewHelper,a),g=new MR(f,b,c,e);try{var h=d._createMouseTarget(f,g,!1);return h}catch(i){return g.fulfill(0)}},d._createMouseTarget=function(a,b,c){if(b.target===null){if(c)return b.fulfill(0);var e=d._doHitTest(a,b);return e.position?d.createMouseTargetFromHitTestPosition(a,b,e.position.lineNumber,e.position.column):this._createMouseTarget(a,b.withTarget(e.hitTarget),!0)}var f=b,g=null;return g=g||d._hitTestContentWidget(a,f),g=g||d._hitTestOverlayWidget(a,f),g=g||d._hitTestMinimap(a,f),g=g||d._hitTestScrollbarSlider(a,f),g=g||d._hitTestViewZone(a,f),g=g||d._hitTestMargin(a,f),g=g||d._hitTestViewCursor(a,f),g=g||d._hitTestTextArea(a,f),g=g||d._hitTestViewLines(a,f,c),g=g||d._hitTestScrollbar(a,f),g||b.fulfill(0)},d._hitTestContentWidget=function(a,b){if(ge.isChildOfContentWidgets(b.targetPath)||ge.isChildOfOverflowingContentWidgets(b.targetPath)){var c=a.findAttribute(b.target,"widgetId");return c?b.fulfill(9,null,null,c):b.fulfill(0)}return null},d._hitTestOverlayWidget=function(a,b){if(ge.isChildOfOverlayWidgets(b.targetPath)){var c=a.findAttribute(b.target,"widgetId");return c?b.fulfill(12,null,null,c):b.fulfill(0)}return null},d._hitTestViewCursor=function(a,b){if(b.target)for(var c=a.lastRenderData.lastViewCursorsRenderData,e=0,f=c;e<f.length;e++){var g=f[e];if(b.target===g.domNode)return b.fulfill(6,g.position)}if(b.isInContentArea)for(var c=a.lastRenderData.lastViewCursorsRenderData,h=b.mouseContentHorizontalOffset,i=b.mouseVerticalOffset,j=0,k=c;j<k.length;j++){var g=k[j];if(h<g.contentLeft)continue;if(h>g.contentLeft+g.width)continue;var l=a.getVerticalOffsetForLineNumber(g.position.lineNumber);if(l<=i&&i<=l+g.height)return b.fulfill(6,g.position)}return null},d._hitTestViewZone=function(a,b){var c=a.getZoneAtCoord(b.mouseVerticalOffset);if(c){var e=b.isInContentArea?8:5;return b.fulfill(e,c.position,null,c)}return null},d._hitTestTextArea=function(a,b){return ge.isTextArea(b.targetPath)?a.lastRenderData.lastTextareaPosition?b.fulfill(6,a.lastRenderData.lastTextareaPosition):b.fulfill(1,a.lastRenderData.lastTextareaPosition):null},d._hitTestMargin=function(a,b){if(b.isInMarginArea){var c=a.getFullLineRangeAtCoord(b.mouseVerticalOffset),e=c.range.getStartPosition(),f=Math.abs(b.pos.x-b.editorPos.x),g={isAfterLines:c.isAfterLines,glyphMarginLeft:a.layoutInfo.glyphMarginLeft,glyphMarginWidth:a.layoutInfo.glyphMarginWidth,lineNumbersWidth:a.layoutInfo.lineNumbersWidth,offsetX:f};return f-=a.layoutInfo.glyphMarginLeft,f<=a.layoutInfo.glyphMarginWidth?b.fulfill(2,e,c.range,g):(f-=a.layoutInfo.glyphMarginWidth,f<=a.layoutInfo.lineNumbersWidth?b.fulfill(3,e,c.range,g):(f-=a.layoutInfo.lineNumbersWidth,b.fulfill(4,e,c.range,g)))}return null},d._hitTestViewLines=function(a,b,c){if(!ge.isChildOfViewLines(b.targetPath))return null;if(a.isAfterLines(b.mouseVerticalOffset)){var e=a.model.getLineCount(),f=a.model.getLineMaxColumn(e);return b.fulfill(7,new G(e,f),void 0,NR)}if(c){if(ge.isStrictChildOfViewLines(b.targetPath)){var g=a.getLineNumberAtVerticalOffset(b.mouseVerticalOffset);if(a.model.getLineLength(g)===0){var h=a.getLineWidth(g),i=ip(b.mouseContentHorizontalOffset-h);return b.fulfill(7,new G(g,1),void 0,i)}var j=a.getLineWidth(g);if(b.mouseContentHorizontalOffset>=j){var i=ip(b.mouseContentHorizontalOffset-j),k=new G(g,a.model.getLineMaxColumn(g));return b.fulfill(7,k,void 0,i)}}return b.fulfill(0)}var l=d._doHitTest(a,b);return l.position?d.createMouseTargetFromHitTestPosition(a,b,l.position.lineNumber,l.position.column):this._createMouseTarget(a,b.withTarget(l.hitTarget),!0)},d._hitTestMinimap=function(a,b){if(ge.isChildOfMinimap(b.targetPath)){var c=a.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),e=a.model.getLineMaxColumn(c);return b.fulfill(11,new G(c,e))}return null},d._hitTestScrollbarSlider=function(a,b){if(ge.isChildOfScrollableElement(b.targetPath)){if(b.target&&b.target.nodeType===1){var c=b.target.className;if(c&&/\b(slider|scrollbar)\b/.test(c)){var e=a.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),f=a.model.getLineMaxColumn(e);return b.fulfill(11,new G(e,f))}}}return null},d._hitTestScrollbar=function(a,b){if(ge.isChildOfScrollableElement(b.targetPath)){var c=a.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),e=a.model.getLineMaxColumn(c);return b.fulfill(11,new G(c,e))}return null},d.prototype.getMouseColumn=function(a,b){var c=this._context.configuration.options,e=c.get(107),f=this._context.viewLayout.getCurrentScrollLeft()+b.x-a.x-e.contentLeft;return d._getMouseColumn(f,c.get(34).typicalHalfwidthCharacterWidth)},d._getMouseColumn=function(a,b){if(a<0)return 1;var c=Math.round(a/b);return c+1},d.createMouseTargetFromHitTestPosition=function(a,b,c,e){var f=new G(c,e),g=a.getLineWidth(c);if(b.mouseContentHorizontalOffset>g){if(zg&&f.column===1){var h=ip(b.mouseContentHorizontalOffset-g);return b.fulfill(7,new G(c,a.model.getLineMaxColumn(c)),void 0,h)}var i=ip(b.mouseContentHorizontalOffset-g);return b.fulfill(7,f,void 0,i)}var j=a.visibleRangeForPosition(c,e);if(!j)return b.fulfill(0,f);var k=j.left;if(b.mouseContentHorizontalOffset===k)return b.fulfill(6,f);var l=[];l.push({offset:j.left,column:e});if(e>1){var m=a.visibleRangeForPosition(c,e-1);m&&l.push({offset:m.left,column:e-1})}var n=a.model.getLineMaxColumn(c);if(e<n){var o=a.visibleRangeForPosition(c,e+1);o&&l.push({offset:o.left,column:e+1})}l.sort(function(v,w){return v.offset-w.offset});for(var p=1;p<l.length;p++){var q=l[p-1],r=l[p];if(q.offset<=b.mouseContentHorizontalOffset&&b.mouseContentHorizontalOffset<=r.offset){var t=new z(c,q.column,c,r.column);return b.fulfill(6,f,t)}}return b.fulfill(6,f)},d._doHitTestWithCaretRangeFromPoint=function(a,b){var c=a.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),e=a.getVerticalOffsetForLineNumber(c),f=e+Math.floor(a.lineHeight/2),g=b.pos.y+(f-b.mouseVerticalOffset);g<=b.editorPos.y&&(g=b.editorPos.y+1),g>=b.editorPos.y+a.layoutInfo.height&&(g=b.editorPos.y+a.layoutInfo.height-1);var h=new hp(b.pos.x,g),i=this._actualDoHitTestWithCaretRangeFromPoint(a,h.toClientCoordinates());return i.position?i:this._actualDoHitTestWithCaretRangeFromPoint(a,b.pos.toClientCoordinates())},d._actualDoHitTestWithCaretRangeFromPoint=function(a,b){var c=Ag(a.viewDomNode),e;c?typeof c.caretRangeFromPoint==="undefined"?e=OR(c,b.clientX,b.clientY):e=c.caretRangeFromPoint(b.clientX,b.clientY):e=document.caretRangeFromPoint(b.clientX,b.clientY);if(!e||!e.startContainer)return{position:null,hitTarget:null};var f=e.startContainer,g=null;if(f.nodeType===f.TEXT_NODE){var h=f.parentNode,i=h?h.parentNode:null,j=i?i.parentNode:null,k=j&&j.nodeType===j.ELEMENT_NODE?j.className:null;if(k===ah.CLASS_NAME){var l=a.getPositionFromDOMInfo(h,e.startOffset);return{position:l,hitTarget:null}}else g=f.parentNode}else if(f.nodeType===f.ELEMENT_NODE){var h=f.parentNode,i=h?h.parentNode:null,m=i&&i.nodeType===i.ELEMENT_NODE?i.className:null;if(m===ah.CLASS_NAME){var l=a.getPositionFromDOMInfo(f,f.textContent.length);return{position:l,hitTarget:null}}else g=f}return{position:null,hitTarget:g}},d._doHitTestWithCaretPositionFromPoint=function(a,b){var c=document.caretPositionFromPoint(b.clientX,b.clientY);if(c.offsetNode.nodeType===c.offsetNode.TEXT_NODE){var e=c.offsetNode.parentNode,f=e?e.parentNode:null,g=f?f.parentNode:null,h=g&&g.nodeType===g.ELEMENT_NODE?g.className:null;if(h===ah.CLASS_NAME){var i=a.getPositionFromDOMInfo(c.offsetNode.parentNode,c.offset);return{position:i,hitTarget:null}}else return{position:null,hitTarget:c.offsetNode.parentNode}}return{position:null,hitTarget:c.offsetNode}},d._doHitTestWithMoveToPoint=function(a,b){var c=null,e=null,f=document.body.createTextRange();try{f.moveToPoint(b.clientX,b.clientY)}catch(l){return{position:null,hitTarget:null}}f.collapse(!0);var g=f?f.parentElement():null,h=g?g.parentNode:null,i=h?h.parentNode:null,j=i&&i.nodeType===i.ELEMENT_NODE?i.className:"";if(j===ah.CLASS_NAME){var k=f.duplicate();k.moveToElementText(g),k.setEndPoint("EndToStart",f),c=a.getPositionFromDOMInfo(g,k.text.length),k.moveToElementText(a.viewDomNode)}else e=g;return f.moveToElementText(a.viewDomNode),{position:c,hitTarget:e}},d._doHitTest=function(a,b){if(typeof document.caretRangeFromPoint==="function")return this._doHitTestWithCaretRangeFromPoint(a,b);{if(document.caretPositionFromPoint)return this._doHitTestWithCaretPositionFromPoint(a,b.pos.toClientCoordinates());if(document.body.createTextRange)return this._doHitTestWithMoveToPoint(a,b.pos.toClientCoordinates())}return{position:null,hitTarget:null}},d}();function OR(d,a,b){var c=document.createRange(),e=d.elementFromPoint(a,b);if(e!==null){for(;e&&e.firstChild&&e.firstChild.nodeType!==e.firstChild.TEXT_NODE;)e=e.lastChild;var f=e.getBoundingClientRect(),g=window.getComputedStyle(e,null).getPropertyValue("font"),h=e.innerText,i=f.left,j=0,k=void 0;if(a>f.left+f.width)j=h.length;else for(var l=PR.getInstance(),m=0;m<h.length+1;m++){k=l.getCharWidth(h.charAt(m),g)/2,i+=k;if(a<i){j=m;break}i+=k}c.setStart(e.firstChild,j),c.setEnd(e.firstChild,j)}return c}var PR=function(){function d(){this._cache={},this._canvas=document.createElement("canvas")}return d.getInstance=function(){return d._INSTANCE||(d._INSTANCE=new d()),d._INSTANCE},d.prototype.getCharWidth=function(a,b){var c=a+b;if(this._cache[c])return this._cache[c];var e=this._canvas.getContext("2d");e.font=b;var f=e.measureText(a),g=f.width;return this._cache[c]=g,g},d._INSTANCE=null,d}();var OC=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function Ql(d){return function(a,b){var c=!1;return d&&(c=d.mouseTargetIsWidget(b)),c||b.preventDefault(),b}}var bi=function(d){OC(a,d);function a(b,c,e){var f=d.call(this)||this;f._isFocused=!1,f._context=b,f.viewController=c,f.viewHelper=e,f.mouseTargetFactory=new zu(f._context,e),f._mouseDownOperation=f._register(new IR(f._context,f.viewController,f.viewHelper,function(i,j){return f._createMouseTarget(i,j)},function(i){return f._getMouseColumn(i)})),f._asyncFocus=f._register(new Ka(function(){return f.viewHelper.focusTextArea()},0)),f.lastMouseLeaveTime=-1;var g=new PC(f.viewHelper.viewDomNode);f._register(g.onContextMenu(f.viewHelper.viewDomNode,function(i){return f._onContextMenu(i,!0)})),f._register(g.onMouseMoveThrottled(f.viewHelper.viewDomNode,function(i){return f._onMouseMove(i)},Ql(f.mouseTargetFactory),a.MOUSE_MOVE_MINIMUM_TIME)),f._register(g.onMouseUp(f.viewHelper.viewDomNode,function(i){return f._onMouseUp(i)})),f._register(g.onMouseLeave(f.viewHelper.viewDomNode,function(i){return f._onMouseLeave(i)})),f._register(g.onMouseDown(f.viewHelper.viewDomNode,function(i){return f._onMouseDown(i)}));var h=function(i){f.viewController.emitMouseWheel(i);if(!f._context.configuration.options.get(57))return;var j=new af(i);if(j.browserEvent.ctrlKey||j.browserEvent.metaKey){var k=Vd.getZoomLevel(),l=j.deltaY>0?1:-1;Vd.setZoomLevel(k+l),j.preventDefault(),j.stopPropagation()}};return f._register(R(f.viewHelper.viewDomNode,Jc?"mousewheel":"wheel",h,{capture:!0,passive:!1})),f._context.addEventHandler(f),f}return a.prototype.dispose=function(){this._context.removeEventHandler(this),d.prototype.dispose.call(this)},a.prototype.onCursorStateChanged=function(b){return this._mouseDownOperation.onCursorStateChanged(b),!1},a.prototype.onFocusChanged=function(b){return this._isFocused=b.isFocused,!1},a.prototype.onScrollChanged=function(b){return this._mouseDownOperation.onScrollChanged(),!1},a.prototype.getTargetAtClientPoint=function(b,c){var e=new Au(b,c),f=e.toPageCoordinates(),g=Bu(this.viewHelper.viewDomNode);return f.y<g.y||f.y>g.y+g.height||f.x<g.x||f.x>g.x+g.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,f,null)},a.prototype._createMouseTarget=function(b,c){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),b.editorPos,b.pos,c?b.target:null)},a.prototype._getMouseColumn=function(b){return this.mouseTargetFactory.getMouseColumn(b.editorPos,b.pos)},a.prototype._onContextMenu=function(b,c){this.viewController.emitContextMenu({event:b,target:this._createMouseTarget(b,c)})},a.prototype._onMouseMove=function(b){if(this._mouseDownOperation.isActive())return;var c=b.timestamp;if(c<this.lastMouseLeaveTime)return;this.viewController.emitMouseMove({event:b,target:this._createMouseTarget(b,!0)})},a.prototype._onMouseLeave=function(b){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:b,target:null})},a.prototype._onMouseUp=function(b){this.viewController.emitMouseUp({event:b,target:this._createMouseTarget(b,!0)})},a.prototype._onMouseDown=function(b){var c=this,e=this._createMouseTarget(b,!0),f=e.type===6||e.type===7,g=e.type===2||e.type===3||e.type===4,h=e.type===3,i=this._context.configuration.options.get(83),j=e.type===8||e.type===5,k=e.type===9,l=b.leftButton||b.middleButton;ka&&b.leftButton&&b.ctrlKey&&(l=!1);var m=function(){xb&&!c._isFocused?c._asyncFocus.schedule():(b.preventDefault(),c.viewHelper.focusTextArea())};if(l&&(f||h&&i))m(),this._mouseDownOperation.start(e.type,b);else if(g)b.preventDefault();else if(j){var n=e.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(n.viewZoneId)&&(m(),this._mouseDownOperation.start(e.type,b),b.preventDefault())}else k&&this.viewHelper.shouldSuppressMouseDownOnWidget(e.detail)&&(m(),b.preventDefault());this.viewController.emitMouseDown({event:b,target:e})},a.MOUSE_MOVE_MINIMUM_TIME=100,a}(kf),IR=function(d){OC(a,d);function a(b,c,e,f,g){var h=d.call(this)||this;return h._context=b,h._viewController=c,h._viewHelper=e,h._createMouseTarget=f,h._getMouseColumn=g,h._mouseMoveMonitor=h._register(new QC(h._viewHelper.viewDomNode)),h._onScrollTimeout=h._register(new rb()),h._mouseState=new JR(),h._currentSelection=new V(1,1,1,1),h._isActive=!1,h._lastMouseEvent=null,h}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.isActive=function(){return this._isActive},a.prototype._onMouseDownThenMove=function(b){this._lastMouseEvent=b,this._mouseState.setModifiers(b);var c=this._findMousePosition(b,!0);if(!c)return;this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:b,target:c}):this._dispatchMouse(c,!0)},a.prototype.start=function(b,c){var e=this;this._lastMouseEvent=c,this._mouseState.setStartedOnLineNumbers(b===3),this._mouseState.setStartButtons(c),this._mouseState.setModifiers(c);var f=this._findMousePosition(c,!0);if(!f||!f.position)return;this._mouseState.trySetCount(c.detail,f.position),c.detail=this._mouseState.count;var g=this._context.configuration.options;if(!g.get(68)&&g.get(24)&&!this._mouseState.altKey&&c.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&f.type===6&&f.position&&this._currentSelection.containsPosition(f.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,Ql(null),function(h){return e._onMouseDownThenMove(h)},function(){var h=e._findMousePosition(e._lastMouseEvent,!0);e._viewController.emitMouseDrop({event:e._lastMouseEvent,target:h?e._createMouseTarget(e._lastMouseEvent,!0):null}),e._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(f,c.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,Ql(null),function(h){return e._onMouseDownThenMove(h)},function(){return e._stop()}))},a.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},a.prototype.onScrollChanged=function(){var b=this;if(!this._isActive)return;this._onScrollTimeout.setIfNotSet(function(){if(!b._lastMouseEvent)return;var c=b._findMousePosition(b._lastMouseEvent,!1);if(!c)return;if(b._mouseState.isDragAndDrop)return;b._dispatchMouse(c,!0)},10)},a.prototype.onCursorStateChanged=function(b){this._currentSelection=b.selections[0]},a.prototype._getPositionOutsideEditor=function(b){var c=b.editorPos,e=this._context.model,f=this._context.viewLayout,g=this._getMouseColumn(b);if(b.posy<c.y){var h=Math.max(f.getCurrentScrollTop()-(c.y-b.posy),0),i=gp.getZoneAtCoord(this._context,h);if(i){var j=this._helpPositionJumpOverViewZone(i);if(j)return new Ke(null,13,g,j)}var k=f.getLineNumberAtVerticalOffset(h);return new Ke(null,13,g,new G(k,1))}if(b.posy>c.y+c.height){var h=f.getCurrentScrollTop()+(b.posy-c.y),i=gp.getZoneAtCoord(this._context,h);if(i){var j=this._helpPositionJumpOverViewZone(i);if(j)return new Ke(null,13,g,j)}var l=f.getLineNumberAtVerticalOffset(h);return new Ke(null,13,g,new G(l,e.getLineMaxColumn(l)))}var m=f.getLineNumberAtVerticalOffset(f.getCurrentScrollTop()+(b.posy-c.y));return b.posx<c.x?new Ke(null,13,g,new G(m,1)):b.posx>c.x+c.width?new Ke(null,13,g,new G(m,e.getLineMaxColumn(m))):null},a.prototype._findMousePosition=function(b,c){var e=this._getPositionOutsideEditor(b);if(e)return e;var f=this._createMouseTarget(b,c),g=f.position;if(!g)return null;if(f.type===8||f.type===5){var h=this._helpPositionJumpOverViewZone(f.detail);if(h)return new Ke(f.element,f.type,f.mouseColumn,h,null,f.detail)}return f},a.prototype._helpPositionJumpOverViewZone=function(b){var c=new G(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),e=b.positionBefore,f=b.positionAfter;return e&&f?e.isBefore(c)?e:f:null},a.prototype._dispatchMouse=function(b,c){if(!b.position)return;this._viewController.dispatchMouse({position:b.position,mouseColumn:b.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:c,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},a}(I),JR=function(){function d(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(d.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),d.prototype.setModifiers=function(a){this._altKey=a.altKey,this._ctrlKey=a.ctrlKey,this._metaKey=a.metaKey,this._shiftKey=a.shiftKey},d.prototype.setStartButtons=function(a){this._leftButton=a.leftButton,this._middleButton=a.middleButton},d.prototype.setStartedOnLineNumbers=function(a){this._startedOnLineNumbers=a},d.prototype.trySetCount=function(a,b){var c=new Date().getTime();c-this._lastSetMouseDownCountTime>d.CLEAR_MOUSE_DOWN_COUNT_TIME&&(a=1),this._lastSetMouseDownCountTime=c,a>this._lastMouseDownCount+1&&(a=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(b)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=b,this._lastMouseDownCount=Math.min(a,this._lastMouseDownPositionEqualCount)},d.CLEAR_MOUSE_DOWN_COUNT_TIME=400,d}();var Rl=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function TC(d,a){var b={translationY:a.translationY,translationX:a.translationX};return d&&(b.translationY+=d.translationY,b.translationX+=d.translationX),b}var QR=function(d){Rl(a,d);function a(b,c,e){var f=d.call(this,b,c,e)||this;return f.viewHelper.linesContentDomNode.style.msTouchAction="none",f.viewHelper.linesContentDomNode.style.msContentZooming="none",f._installGestureHandlerTimeout=window.setTimeout(function(){f._installGestureHandlerTimeout=-1;if(window.MSGesture){var g=new MSGesture(),h=new MSGesture();g.target=f.viewHelper.linesContentDomNode,h.target=f.viewHelper.linesContentDomNode,f.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(i){var j=i.pointerType;if(j===(i.MSPOINTER_TYPE_MOUSE||"mouse")){f._lastPointerType="mouse";return}else j===(i.MSPOINTER_TYPE_TOUCH||"touch")?(f._lastPointerType="touch",g.addPointer(i.pointerId)):(f._lastPointerType="pen",h.addPointer(i.pointerId))}),f._register($e(f.viewHelper.linesContentDomNode,"MSGestureChange",function(i){return f._onGestureChange(i)},TC)),f._register(R(f.viewHelper.linesContentDomNode,"MSGestureTap",function(i){return f._onCaptureGestureTap(i)},!0))}},100),f._lastPointerType="mouse",f}return a.prototype._onMouseDown=function(b){this._lastPointerType==="mouse"&&d.prototype._onMouseDown.call(this,b)},a.prototype._onCaptureGestureTap=function(b){var c=this,e=new lf(b,this.viewHelper.viewDomNode),f=this._createMouseTarget(e,!1);f.position&&this.viewController.moveTo(f.position),e.browserEvent.fromElement?(e.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){c.viewHelper.focusTextArea()})},a.prototype._onGestureChange=function(b){this._context.viewLayout.deltaScrollNow(-b.translationX,-b.translationY)},a.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),d.prototype.dispose.call(this)},a}(bi),RR=function(d){Rl(a,d);function a(b,c,e){var f=d.call(this,b,c,e)||this;return f.viewHelper.linesContentDomNode.style.touchAction="none",f._installGestureHandlerTimeout=window.setTimeout(function(){f._installGestureHandlerTimeout=-1;if(window.MSGesture){var g=new MSGesture(),h=new MSGesture();g.target=f.viewHelper.linesContentDomNode,h.target=f.viewHelper.linesContentDomNode,f.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(i){var j=i.pointerType;if(j==="mouse"){f._lastPointerType="mouse";return}else j==="touch"?(f._lastPointerType="touch",g.addPointer(i.pointerId)):(f._lastPointerType="pen",h.addPointer(i.pointerId))}),f._register($e(f.viewHelper.linesContentDomNode,"MSGestureChange",function(i){return f._onGestureChange(i)},TC)),f._register(R(f.viewHelper.linesContentDomNode,"MSGestureTap",function(i){return f._onCaptureGestureTap(i)},!0))}},100),f._lastPointerType="mouse",f}return a.prototype._onMouseDown=function(b){this._lastPointerType==="mouse"&&d.prototype._onMouseDown.call(this,b)},a.prototype._onCaptureGestureTap=function(b){var c=this,e=new lf(b,this.viewHelper.viewDomNode),f=this._createMouseTarget(e,!1);f.position&&this.viewController.moveTo(f.position),e.browserEvent.fromElement?(e.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){c.viewHelper.focusTextArea()})},a.prototype._onGestureChange=function(b){this._context.viewLayout.deltaScrollNow(-b.translationX,-b.translationY)},a.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),d.prototype.dispose.call(this)},a}(bi),SR=function(d){Rl(a,d);function a(b,c,e){var f=d.call(this,b,c,e)||this;f._register(wc.addTarget(f.viewHelper.linesContentDomNode)),f._register(R(f.viewHelper.linesContentDomNode,Xa.Tap,function(h){return f.onTap(h)})),f._register(R(f.viewHelper.linesContentDomNode,Xa.Change,function(h){return f.onChange(h)})),f._register(R(f.viewHelper.linesContentDomNode,Xa.Contextmenu,function(h){return f._onContextMenu(new lf(h,f.viewHelper.viewDomNode),!1)})),f._lastPointerType="mouse",f._register(R(f.viewHelper.linesContentDomNode,"pointerdown",function(h){var i=h.pointerType;if(i==="mouse"){f._lastPointerType="mouse";return}else i==="touch"?f._lastPointerType="touch":f._lastPointerType="pen"}));var g=new SC(f.viewHelper.viewDomNode);return f._register(g.onPointerMoveThrottled(f.viewHelper.viewDomNode,function(h){return f._onMouseMove(h)},Ql(f.mouseTargetFactory),bi.MOUSE_MOVE_MINIMUM_TIME)),f._register(g.onPointerUp(f.viewHelper.viewDomNode,function(h){return f._onMouseUp(h)})),f._register(g.onPointerLeave(f.viewHelper.viewDomNode,function(h){return f._onMouseLeave(h)})),f._register(g.onPointerDown(f.viewHelper.viewDomNode,function(h){return f._onMouseDown(h)})),f}return a.prototype.onTap=function(b){if(!b.initialTarget||!this.viewHelper.linesContentDomNode.contains(b.initialTarget))return;b.preventDefault(),this.viewHelper.focusTextArea();var c=this._createMouseTarget(new lf(b,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.dispatchMouse({position:c.position,mouseColumn:c.position.column,startedOnLineNumbers:!1,mouseDownCount:b.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})},a.prototype.onChange=function(b){this._lastPointerType==="touch"&&this._context.viewLayout.deltaScrollNow(-b.translationX,-b.translationY)},a.prototype._onMouseDown=function(b){if(b.target&&this.viewHelper.linesContentDomNode.contains(b.target)&&this._lastPointerType==="touch")return;d.prototype._onMouseDown.call(this,b)},a}(bi),TR=function(d){Rl(a,d);function a(b,c,e){var f=d.call(this,b,c,e)||this;return f._register(wc.addTarget(f.viewHelper.linesContentDomNode)),f._register(R(f.viewHelper.linesContentDomNode,Xa.Tap,function(g){return f.onTap(g)})),f._register(R(f.viewHelper.linesContentDomNode,Xa.Change,function(g){return f.onChange(g)})),f._register(R(f.viewHelper.linesContentDomNode,Xa.Contextmenu,function(g){return f._onContextMenu(new lf(g,f.viewHelper.viewDomNode),!1)})),f}return a.prototype.onTap=function(b){b.preventDefault(),this.viewHelper.focusTextArea();var c=this._createMouseTarget(new lf(b,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.moveTo(c.position)},a.prototype.onChange=function(b){this._context.viewLayout.deltaScrollNow(-b.translationX,-b.translationY)},a}(bi),UC=function(d){Rl(a,d);function a(b,c,e){var f=d.call(this)||this;return window.navigator.msPointerEnabled?f.handler=f._register(new QR(b,c,e)):ze&&ae.pointerEvents?f.handler=f._register(new SR(b,c,e)):window.TouchEvent?f.handler=f._register(new TR(b,c,e)):window.navigator.pointerEnabled||window.PointerEvent?f.handler=f._register(new RR(b,c,e)):f.handler=f._register(new bi(b,c,e)),f}return a.prototype.getTargetAtClientPoint=function(b,c){return this.handler.getTargetAtClientPoint(b,c)},a}(I);var pd=function(){function d(a,b,c,e,f){this.value=a,this.selectionStart=b,this.selectionEnd=c,this.selectionStartPosition=e,this.selectionEndPosition=f}return d.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},d.readFromTextArea=function(a){return new d(a.getValue(),a.getSelectionStart(),a.getSelectionEnd(),null,null)},d.prototype.collapseSelection=function(){return new d(this.value,this.value.length,this.value.length,null,null)},d.prototype.writeToTextArea=function(a,b,c){b.setValue(a,this.value),c&&b.setSelectionRange(a,this.selectionStart,this.selectionEnd)},d.prototype.deduceEditorPosition=function(a){if(a<=this.selectionStart){var b=this.value.substring(a,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,b,-1)}if(a>=this.selectionEnd){var b=this.value.substring(this.selectionEnd,a);return this._finishDeduceEditorPosition(this.selectionEndPosition,b,1)}var c=this.value.substring(this.selectionStart,a);if(c.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,c,1);var e=this.value.substring(a,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,e,-1)},d.prototype._finishDeduceEditorPosition=function(a,b,c){for(var e=0,f=-1;(f=b.indexOf(`
`,f+1))!==-1;)e++;return[a,c*b.length,e]},d.selectedText=function(a){return new d(a,0,a.length,null,null)},d.deduceInput=function(a,b,c){if(!a)return{text:"",replaceCharCnt:0};var e=a.value,f=a.selectionStart,g=a.selectionEnd,h=b.value,i=b.selectionStart,j=b.selectionEnd,k=e.substring(g),l=h.substring(j),m=AB(k,l);h=h.substring(0,h.length-m),e=e.substring(0,e.length-m);var n=e.substring(0,f),o=h.substring(0,i),p=xj(n,o);h=h.substring(p),e=e.substring(p),i-=p,f-=p,j-=p,g-=p;if(c&&i===j&&e.length>0){var q=null;i===h.length?Ug(h,e)&&(q=h.substring(e.length)):Sd(h,e)&&(q=h.substring(0,h.length-e.length));if(q!==null&&q.length>0){if(/\uFE0F/.test(q)||DB(q))return{text:q,replaceCharCnt:0}}}if(i===j){if(e===h&&f===0&&g===e.length&&i===h.length&&h.indexOf(`
`)===-1){if(EB(h))return{text:"",replaceCharCnt:0}}var r=n.length-p;return{text:h,replaceCharCnt:r}}var t=g-f;return{text:h,replaceCharCnt:t}},d.EMPTY=new d("",0,0,null,null),d}(),WC=function(){function d(){}return d._getPageOfLine=function(a,b){return Math.floor((a-1)/b)},d._getRangeForPage=function(a,b){var c=a*b,e=c+1,f=c+b;return new z(e,1,f+1,1)},d.fromEditorSelection=function(a,b,c,e,f){var g=d._getPageOfLine(c.startLineNumber,e),h=d._getRangeForPage(g,e),i=d._getPageOfLine(c.endLineNumber,e),j=d._getRangeForPage(i,e),k=h.intersectRanges(new z(1,1,c.startLineNumber,c.startColumn)),l=b.getValueInRange(k,1),m=b.getLineCount(),n=b.getLineMaxColumn(m),o=j.intersectRanges(new z(c.endLineNumber,c.endColumn,m,n)),p=b.getValueInRange(o,1),q;if(g===i||g+1===i)q=b.getValueInRange(c,1);else{var r=h.intersectRanges(c),t=j.intersectRanges(c);q=b.getValueInRange(r,1)+String.fromCharCode(8230)+b.getValueInRange(t,1)}if(f){var v=500;l.length>v&&(l=l.substring(l.length-v,l.length)),p.length>v&&(p=p.substring(0,v)),q.length>2*v&&(q=q.substring(0,v)+String.fromCharCode(8230)+q.substring(q.length-v,q.length))}return new pd(l+q+p,l.length,l.length+q.length,new G(c.startLineNumber,c.startColumn),new G(c.endLineNumber,c.endColumn))},d}();var YC=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Sl={forceCopyWithSyntaxHighlighting:!1},ZC=function(){function d(){this._lastState=null}return d.prototype.set=function(a,b){this._lastState={lastCopiedValue:a,data:b}},d.prototype.get=function(a){return this._lastState&&this._lastState.lastCopiedValue===a?this._lastState.data:(this._lastState=null,null)},d.INSTANCE=new d(),d}(),VC=function(d){YC(a,d);function a(b,c){var e=d.call(this)||this;e.textArea=c,e._onFocus=e._register(new E()),e.onFocus=e._onFocus.event,e._onBlur=e._register(new E()),e.onBlur=e._onBlur.event,e._onKeyDown=e._register(new E()),e.onKeyDown=e._onKeyDown.event,e._onKeyUp=e._register(new E()),e.onKeyUp=e._onKeyUp.event,e._onCut=e._register(new E()),e.onCut=e._onCut.event,e._onPaste=e._register(new E()),e.onPaste=e._onPaste.event,e._onType=e._register(new E()),e.onType=e._onType.event,e._onCompositionStart=e._register(new E()),e.onCompositionStart=e._onCompositionStart.event,e._onCompositionUpdate=e._register(new E()),e.onCompositionUpdate=e._onCompositionUpdate.event,e._onCompositionEnd=e._register(new E()),e.onCompositionEnd=e._onCompositionEnd.event,e._onSelectionChangeRequest=e._register(new E()),e.onSelectionChangeRequest=e._onSelectionChangeRequest.event,e._host=b,e._textArea=e._register(new ZR(c)),e._asyncTriggerCut=e._register(new Ka(function(){return e._onCut.fire()},0)),e._textAreaState=pd.EMPTY,e._selectionChangeListener=null,e.writeScreenReaderContent("ctor"),e._hasFocus=!1,e._isDoingComposition=!1,e._nextCommand=0,e._register(Ua(c.domNode,"keydown",function(i){e._isDoingComposition&&(i.keyCode===109||i.keyCode===1)&&i.stopPropagation(),i.equals(9)&&i.preventDefault(),e._onKeyDown.fire(i)})),e._register(Ua(c.domNode,"keyup",function(i){e._onKeyUp.fire(i)})),e._register(R(c.domNode,"compositionstart",function(i){if(e._isDoingComposition)return;e._isDoingComposition=!0,Jc||e._setAndWriteTextAreaState("compositionstart",pd.EMPTY),e._onCompositionStart.fire()}));var f=function(i){var j=e._textAreaState,k=pd.readFromTextArea(e._textArea);return[k,pd.deduceInput(j,k,i)]},g=function(i){var j=e._textAreaState,k=pd.selectedText(i),l={text:k.value,replaceCharCnt:j.selectionEnd-j.selectionStart};return[k,l]},h=function(i){return Jc&&i==="ja"?!0:xb&&i.indexOf("zh-Han")===0?!0:!1};return e._register(R(c.domNode,"compositionupdate",function(i){if(h(i.locale)){var j=f(!1),k=j[0],l=j[1];e._textAreaState=k,e._onType.fire(l),e._onCompositionUpdate.fire(i);return}var m=g(i.data),n=m[0],o=m[1];e._textAreaState=n,e._onType.fire(o),e._onCompositionUpdate.fire(i)})),e._register(R(c.domNode,"compositionend",function(i){if(!e._isDoingComposition)return;if(h(i.locale)){var j=f(!1),k=j[0],l=j[1];e._textAreaState=k,e._onType.fire(l)}else{var m=g(i.data),k=m[0],l=m[1];e._textAreaState=k,e._onType.fire(l)}(Jc||Hh)&&(e._textAreaState=pd.readFromTextArea(e._textArea));if(!e._isDoingComposition)return;e._isDoingComposition=!1,e._onCompositionEnd.fire()})),e._register(R(c.domNode,"input",function(){e._textArea.setIgnoreSelectionChangeTime("received input event");if(e._isDoingComposition)return;var i=f(ka),j=i[0],k=i[1];if(k.replaceCharCnt===0&&k.text.length===1&&Cb(k.text.charCodeAt(0)))return;e._textAreaState=j,e._nextCommand===0?k.text!==""&&e._onType.fire(k):((k.text!==""||k.replaceCharCnt!==0)&&e._firePaste(k.text,null),e._nextCommand=0)})),e._register(R(c.domNode,"cut",function(i){e._textArea.setIgnoreSelectionChangeTime("received cut event"),e._ensureClipboardGetsEditorSelection(i),e._asyncTriggerCut.schedule()})),e._register(R(c.domNode,"copy",function(i){e._ensureClipboardGetsEditorSelection(i)})),e._register(R(c.domNode,"paste",function(i){e._textArea.setIgnoreSelectionChangeTime("received paste event");if(Ul.canUseTextData(i)){var j=Ul.getTextData(i),k=j[0],l=j[1];k!==""&&e._firePaste(k,l)}else e._textArea.getSelectionStart()!==e._textArea.getSelectionEnd()&&e._setAndWriteTextAreaState("paste",pd.EMPTY),e._nextCommand=1})),e._register(R(c.domNode,"focus",function(){e._setHasFocus(!0)})),e._register(R(c.domNode,"blur",function(){e._setHasFocus(!1)})),e}return a.prototype._installSelectionChangeListener=function(){var b=this,c=0;return R(document,"selectionchange",function(e){if(!b._hasFocus)return;if(b._isDoingComposition)return;if(!Hh||!sb)return;var f=Date.now(),g=f-c;c=f;if(g<5)return;var h=f-b._textArea.getIgnoreSelectionChangeTime();b._textArea.resetSelectionChangeTime();if(h<100)return;if(!b._textAreaState.selectionStartPosition||!b._textAreaState.selectionEndPosition)return;var i=b._textArea.getValue();if(b._textAreaState.value!==i)return;var j=b._textArea.getSelectionStart(),k=b._textArea.getSelectionEnd();if(b._textAreaState.selectionStart===j&&b._textAreaState.selectionEnd===k)return;var l=b._textAreaState.deduceEditorPosition(j),m=b._host.deduceModelPosition(l[0],l[1],l[2]),n=b._textAreaState.deduceEditorPosition(k),o=b._host.deduceModelPosition(n[0],n[1],n[2]),p=new V(m.lineNumber,m.column,o.lineNumber,o.column);b._onSelectionChangeRequest.fire(p)})},a.prototype.dispose=function(){d.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)},a.prototype.focusTextArea=function(){this._setHasFocus(!0),this.refreshFocusState()},a.prototype.isFocused=function(){return this._hasFocus},a.prototype.refreshFocusState=function(){var b=Ag(this.textArea.domNode);b?this._setHasFocus(b.activeElement===this.textArea.domNode):Wi(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)},a.prototype._setHasFocus=function(b){if(this._hasFocus===b)return;this._hasFocus=b,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(zg?this._setAndWriteTextAreaState("focusgain",pd.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire()},a.prototype._setAndWriteTextAreaState=function(b,c){this._hasFocus||(c=c.collapseSelection()),c.writeToTextArea(b,this._textArea,this._hasFocus),this._textAreaState=c},a.prototype.writeScreenReaderContent=function(b){if(this._isDoingComposition)return;this._setAndWriteTextAreaState(b,this._host.getScreenReaderContent(this._textAreaState))},a.prototype._ensureClipboardGetsEditorSelection=function(b){var c=this._host.getDataToCopy(Ul.canUseTextData(b)&&ae.clipboard.richText),e={version:1,isFromEmptySelection:c.isFromEmptySelection,multicursorText:c.multicursorText,mode:c.mode};ZC.INSTANCE.set(uc?c.text.replace(/\r\n/g,`
`):c.text,e);if(!Ul.canUseTextData(b)){this._setAndWriteTextAreaState("copy or cut",pd.selectedText(c.text));return}Ul.setTextData(b,c.text,c.html,e)},a.prototype._firePaste=function(b,c){c||(c=ZC.INSTANCE.get(b)),this._onPaste.fire({text:b,metadata:c})},a}(I),Ul=function(){function d(){}return d.canUseTextData=function(a){return a.clipboardData?!0:window.clipboardData?!0:!1},d.getTextData=function(a){if(a.clipboardData){a.preventDefault();var b=a.clipboardData.getData("text/plain"),c=null,e=a.clipboardData.getData("vscode-editor-data");if(typeof e==="string")try{c=JSON.parse(e),c.version!==1&&(c=null)}catch(f){}return[b,c]}if(window.clipboardData){a.preventDefault();var b=window.clipboardData.getData("Text");return[b,null]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},d.setTextData=function(a,b,c,e){if(a.clipboardData){a.clipboardData.setData("text/plain",b),typeof c==="string"&&a.clipboardData.setData("text/html",c),a.clipboardData.setData("vscode-editor-data",JSON.stringify(e)),a.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",b),a.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},d}(),ZR=function(d){YC(a,d);function a(b){var c=d.call(this)||this;return c._actual=b,c._ignoreSelectionChangeTime=0,c}return a.prototype.setIgnoreSelectionChangeTime=function(b){this._ignoreSelectionChangeTime=Date.now()},a.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},a.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},a.prototype.getValue=function(){return this._actual.domNode.value},a.prototype.setValue=function(b,c){var e=this._actual.domNode;if(e.value===c)return;this.setIgnoreSelectionChangeTime("setValue"),e.value=c},a.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},a.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},a.prototype.setSelectionRange=function(b,c,e){var f=this._actual.domNode,g=null,h=Ag(f);h?g=h.activeElement:g=document.activeElement;var i=g===f,j=f.selectionStart,k=f.selectionEnd;if(i&&j===c&&k===e){uc&&window.parent!==window&&f.focus();return}if(i){this.setIgnoreSelectionChangeTime("setSelectionRange"),f.setSelectionRange(c,e),uc&&window.parent!==window&&f.focus();return}try{var l=Ny(f);this.setIgnoreSelectionChangeTime("setSelectionRange"),f.focus(),f.setSelectionRange(c,e),Oy(f,l)}catch(m){}},a}(I);var nS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),he=function(d){nS(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a}(kf);var Nx={ColorContribution:"base.contributions.colors"},P4=function(){function d(){this._onDidChangeSchema=new E(),this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return d.prototype.registerColor=function(a,b,c,e,f){e===void 0&&(e=!1);var g={id:a,description:c,defaults:b,needsTransparency:e,deprecationMessage:f};this.colorsById[a]=g;var h={type:"string",description:c,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return f&&(h.deprecationMessage=f),this.colorSchema.properties[a]=h,this.colorReferenceSchema.enum.push(a),this.colorReferenceSchema.enumDescriptions.push(c),this._onDidChangeSchema.fire(),a},d.prototype.resolveDefaultColor=function(a,b){var c=this.colorsById[a];if(c&&c.defaults){var e=c.defaults[b.type];return xg(e,b)}return},d.prototype.getColorSchema=function(){return this.colorSchema},d.prototype.toString=function(){var a=this,b=function(c,e){var f=c.indexOf(".")===-1?0:1,g=e.indexOf(".")===-1?0:1;return f!==g?f-g:c.localeCompare(e)};return Object.keys(this.colorsById).sort(b).map(function(c){return"- `"+c+"`: "+a.colorsById[c].description}).join(`
`)},d}(),ys=new P4();ib.add(Nx.ColorContribution,ys);function K(d,a,b,c,e){return ys.registerColor(d,a,b,c,e)}var ga=K("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},s("foreground","Overall foreground color. This color is only used if not overridden by a component.")),UH=K("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},s("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),th=K("focusBorder",{dark:M.fromHex("#0E639C").transparent(.8),light:M.fromHex("#007ACC").transparent(.4),hc:"#F38518"},s("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Fb=K("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},s("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Sb=K("contrastActiveBorder",{light:null,dark:null,hc:th},s("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),Ff=K("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},s("textLinkForeground","Foreground color for links in text.")),Kk=K("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:M.black},s("textCodeBlockBackground","Background color for code blocks in text.")),re=K("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},s("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),tk=K("input.background",{dark:"#3C3C3C",light:M.white,hc:M.black},s("inputBoxBackground","Input box background.")),vk=K("input.foreground",{dark:ga,light:ga,hc:ga},s("inputBoxForeground","Input box foreground.")),uk=K("input.border",{dark:null,light:null,hc:Fb},s("inputBoxBorder","Input box border.")),Xm=K("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Fb},s("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Ym=K("inputOption.activeBackground",{dark:Te(th,.5),light:Te(th,.3),hc:null},s("inputOption.activeBackground","Background color of activated options in input fields.")),wk=K("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:M.black},s("inputValidationInfoBackground","Input validation background color for information severity.")),yk=K("inputValidation.infoForeground",{dark:null,light:null,hc:null},s("inputValidationInfoForeground","Input validation foreground color for information severity.")),xk=K("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Fb},s("inputValidationInfoBorder","Input validation border color for information severity.")),kr=K("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:M.black},s("inputValidationWarningBackground","Input validation background color for warning severity.")),mr=K("inputValidation.warningForeground",{dark:null,light:null,hc:null},s("inputValidationWarningForeground","Input validation foreground color for warning severity.")),lr=K("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Fb},s("inputValidationWarningBorder","Input validation border color for warning severity.")),hr=K("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:M.black},s("inputValidationErrorBackground","Input validation background color for error severity.")),jr=K("inputValidation.errorForeground",{dark:null,light:null,hc:null},s("inputValidationErrorForeground","Input validation foreground color for error severity.")),ir=K("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Fb},s("inputValidationErrorBorder","Input validation border color for error severity.")),oy=K("dropdown.background",{dark:"#3C3C3C",light:M.white,hc:M.black},s("dropdownBackground","Dropdown background.")),OM=K("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:M.white},s("dropdownForeground","Dropdown foreground.")),PM=K("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:M.white},s("pickerGroupForeground","Quick picker color for grouping labels.")),QM=K("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:M.white},s("pickerGroupBorder","Quick picker color for grouping borders.")),RM=K("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:M.black},s("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),SM=K("badge.foreground",{dark:M.white,light:"#333",hc:M.white},s("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),fh=K("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},s("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),aE=K("scrollbarSlider.background",{dark:M.fromHex("#797979").transparent(.4),light:M.fromHex("#646464").transparent(.4),hc:Te(Fb,.6)},s("scrollbarSliderBackground","Scrollbar slider background color.")),bE=K("scrollbarSlider.hoverBackground",{dark:M.fromHex("#646464").transparent(.7),light:M.fromHex("#646464").transparent(.7),hc:Te(Fb,.8)},s("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),$D=K("scrollbarSlider.activeBackground",{dark:M.fromHex("#BFBFBF").transparent(.4),light:M.fromHex("#000000").transparent(.6),hc:Fb},s("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),TM=K("progressBar.background",{dark:M.fromHex("#0E70C0"),light:M.fromHex("#0E70C0"),hc:Fb},s("progressBarBackground","Background color of the progress bar that can show for long running operations.")),fi=K("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},s("editorError.foreground","Foreground color of error squigglies in the editor.")),xp=K("editorError.border",{dark:null,light:null,hc:M.fromHex("#E47777").transparent(.8)},s("errorBorder","Border color of error boxes in the editor.")),ie=K("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},s("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),gi=K("editorWarning.border",{dark:null,light:null,hc:M.fromHex("#FFCC00").transparent(.8)},s("warningBorder","Border color of warning boxes in the editor.")),tf=K("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},s("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Pj=K("editorInfo.border",{dark:null,light:null,hc:M.fromHex("#75BEFF").transparent(.8)},s("infoBorder","Border color of info boxes in the editor.")),tE=K("editorHint.foreground",{dark:M.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},s("editorHint.foreground","Foreground color of hint squigglies in the editor.")),sE=K("editorHint.border",{dark:null,light:null,hc:M.fromHex("#eeeeee").transparent(.8)},s("hintBorder","Border color of hint boxes in the editor.")),Xd=K("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:M.black},s("editorBackground","Editor background color.")),je=K("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:M.white},s("editorForeground","Editor default foreground color.")),cd=K("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},s("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),sg=K("editorWidget.foreground",{dark:ga,light:ga,hc:ga},s("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),tg=K("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Fb},s("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),TH=K("editorWidget.resizeBorder",{light:null,dark:null,hc:null},s("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),sf=K("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},s("editorSelectionBackground","Color of the editor selection.")),nE=K("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},s("editorSelectionForeground","Color of the selected text for high contrast.")),cm=K("editor.inactiveSelectionBackground",{light:Te(sf,.5),dark:Te(sf,.5),hc:Te(sf,.5)},s("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),un=K("editor.selectionHighlightBackground",{light:dN(sf,Xd,.3,.6),dark:dN(sf,Xd,.3,.6),hc:null},s("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),CK=K("editor.selectionHighlightBorder",{light:null,dark:null,hc:Sb},s("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),OH=K("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},s("editorFindMatch","Color of the current search match.")),Fm=K("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},s("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),RH=K("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},s("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),PH=K("editor.findMatchBorder",{light:null,dark:null,hc:Sb},s("editorFindMatchBorder","Border color of the current search match.")),QH=K("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Sb},s("findMatchHighlightBorder","Border color of the other search matches.")),SH=K("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Te(Sb,.4)},s("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),eJ=K("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},s("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Se=K("editorHoverWidget.background",{light:cd,dark:cd,hc:cd},s("hoverBackground","Background color of the editor hover.")),Lk=K("editorHoverWidget.foreground",{light:sg,dark:sg,hc:sg},s("hoverForeground","Foreground color of the editor hover.")),Jk=K("editorHoverWidget.border",{light:tg,dark:tg,hc:tg},s("hoverBorder","Border color of the editor hover.")),fJ=K("editorHoverWidget.statusBarBackground",{dark:Q4(Se,.2),light:zs(Se,.05),hc:cd},s("statusBarBackground","Background color of the editor hover status bar.")),pk=K("editorLink.activeForeground",{dark:"#4E94CE",light:M.blue,hc:M.cyan},s("activeLinkForeground","Color of active links.")),pH=K("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},s("editorLightBulbForeground","The color used for the lightbulb actions icon.")),qH=K("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},s("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),yp=new M(new Ha(155,185,85,.2)),zp=new M(new Ha(255,0,0,.2)),Yu=K("diffEditor.insertedTextBackground",{dark:yp,light:yp,hc:null},s("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Zu=K("diffEditor.removedTextBackground",{dark:zp,light:zp,hc:null},s("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),zE=K("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},s("diffEditorInsertedOutline","Outline color for the text that got inserted.")),AE=K("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},s("diffEditorRemovedOutline","Outline color for text that got removed.")),yE=K("diffEditor.border",{dark:null,light:null,hc:Fb},s("diffEditorBorder","Border color between the two text editors.")),wg=K("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},s("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),py=K("list.focusForeground",{dark:null,light:null,hc:null},s("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Fh=K("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},s("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gh=K("list.activeSelectionForeground",{dark:M.white,light:M.white,hc:null},s("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),qy=K("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},s("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ry=K("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},s("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),sy=K("list.inactiveFocusBackground",{dark:null,light:null,hc:null},s("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ty=K("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},s("listHoverBackground","List/Tree background when hovering over items using the mouse.")),uy=K("list.hoverForeground",{dark:null,light:null,hc:null},s("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),vy=K("list.dropBackground",{dark:wg,light:wg,hc:null},s("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Zr=K("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:th},s("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),UM=K("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:M.black},s("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),VM=K("listFilterWidget.outline",{dark:M.transparent,light:M.transparent,hc:"#f38518"},s("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),WM=K("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Fb},s("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),XM=K("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},s("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),YM=K("menu.border",{dark:null,light:null,hc:Fb},s("menuBorder","Border color of menus.")),ZM=K("menu.foreground",{dark:OM,light:ga,hc:OM},s("menuForeground","Foreground color of menu items.")),_M=K("menu.background",{dark:oy,light:oy,hc:oy},s("menuBackground","Background color of menu items.")),$M=K("menu.selectionForeground",{dark:Gh,light:Gh,hc:Gh},s("menuSelectionForeground","Foreground color of the selected menu item in menus.")),aN=K("menu.selectionBackground",{dark:Fh,light:Fh,hc:Fh},s("menuSelectionBackground","Background color of the selected menu item in menus.")),bN=K("menu.selectionBorder",{dark:null,light:null,hc:Sb},s("menuSelectionBorder","Border color of the selected menu item in menus.")),cN=K("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Fb},s("menuSeparatorBackground","Color of a separator menu item in menus.")),iK=K("editor.snippetTabstopHighlightBackground",{dark:new M(new Ha(124,124,124,.3)),light:new M(new Ha(10,50,100,.2)),hc:new M(new Ha(124,124,124,.3))},s("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),jK=K("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},s("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),kK=K("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},s("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),lK=K("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new M(new Ha(10,50,100,.5)),hc:"#525252"},s("snippetFinalTabstopHighlightBorder","Highlight border color of the final stabstop of a snippet.")),er=K("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},s("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ir=K("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},s("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),sw=K("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},s("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Qu=K("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},s("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),oG=K("minimap.errorHighlight",{dark:new M(new Ha(255,18,18,.7)),light:new M(new Ha(255,18,18,.7)),hc:new M(new Ha(255,50,50,1))},s("minimapError","Minimap marker color for errors.")),nG=K("minimap.warningHighlight",{dark:ie,light:ie,hc:gi},s("overviewRuleWarning","Minimap marker color for warnings.")),LM=K("problemsErrorIcon.foreground",{dark:fi,light:fi,hc:fi},s("problemsErrorIconForeground","The color used for the problems error icon.")),NM=K("problemsWarningIcon.foreground",{dark:ie,light:ie,hc:ie},s("problemsWarningIconForeground","The color used for the problems warning icon.")),MM=K("problemsInfoIcon.foreground",{dark:tf,light:tf,hc:tf},s("problemsInfoIconForeground","The color used for the problems info icon."));function zs(d,a){return function(b){var c=xg(d,b);return c?c.darken(a):void 0}}function Q4(d,a){return function(b){var c=xg(d,b);return c?c.lighten(a):void 0}}function Te(d,a){return function(b){var c=xg(d,b);return c?c.transparent(a):void 0}}function tr(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];return function(b){for(var c=0,e=d;c<e.length;c++){var f=e[c],g=xg(f,b);if(g)return g}return}}function dN(d,a,b,c){return function(e){var f=xg(d,e);if(f){var g=xg(a,e);return g?f.isDarkerThan(g)?M.getLighterColor(f,g,b).transparent(c):M.getDarkerColor(f,g,b).transparent(c):f.transparent(b*c)}return}}function xg(d,a){if(d===null)return;{if(typeof d==="string")return d[0]==="#"?M.fromHex(d):a.getColor(d);{if(d instanceof M)return d;if(typeof d==="function")return d(a)}}return}var eN="vscode://schemas/workbench-colors",fN=ib.as(Bn.JSONContribution);fN.registerSchema(eN,ys.getColorSchema());var gN=new Ka(function(){return fN.notifySchemaChanged(eN)},200);ys.onDidChangeSchema(function(){gN.isScheduled()||gN.schedule()});var QD=K("editor.lineHighlightBackground",{dark:null,light:null,hc:null},s("lineHighlight","Background color for the highlight of line at the cursor position.")),Mu=K("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},s("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),wW=K("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},s("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),xW=K("editor.rangeHighlightBorder",{dark:null,light:null,hc:Sb},s("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),yW=K("editor.symbolHighlightBackground",{dark:Fm,light:Fm,hc:null},s("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),zW=K("editor.symbolHighlightBorder",{dark:null,light:null,hc:Sb},s("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),up=K("editorCursor.foreground",{dark:"#AEAFAD",light:M.black,hc:M.white},s("caret","Color of the editor cursor.")),pE=K("editorCursor.background",null,s("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),Ai=K("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},s("editorWhitespaces","Color of whitespace characters in the editor.")),Mj=K("editorIndentGuide.background",{dark:Ai,light:Ai,hc:Ai},s("editorIndentGuides","Color of the editor indentation guides.")),Lj=K("editorIndentGuide.activeBackground",{dark:Ai,light:Ai,hc:Ai},s("editorActiveIndentGuide","Color of the active editor indentation guides.")),qp=K("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:M.white},s("editorLineNumbers","Color of editor line numbers.")),Qv=K("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Sb},s("editorActiveLineNumber","Color of editor active line number"),!1,s("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),TD=K("editorLineNumber.activeForeground",{dark:Qv,light:Qv,hc:Qv},s("editorActiveLineNumber","Color of editor active line number")),mE=K("editorRuler.foreground",{dark:"#5A5A5A",light:M.lightgrey,hc:M.white},s("editorRuler","Color of the editor rulers.")),vG=K("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},s("editorCodeLensForeground","Foreground color of editor code lenses")),wG=K("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},s("editorBracketMatchBackground","Background color behind matching brackets")),Oq=K("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Fb},s("editorBracketMatchBorder","Color for matching brackets boxes")),kE=K("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},s("editorOverviewRulerBorder","Color of the overview ruler border.")),AW=K("editorGutter.background",{dark:Xd,light:Xd,hc:Xd},s("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),qE=K("editorUnnecessaryCode.border",{dark:null,light:null,hc:M.fromHex("#fff").transparent(.8)},s("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),rE=K("editorUnnecessaryCode.opacity",{dark:M.fromHex("#000a"),light:M.fromHex("#0007"),hc:null},s("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),mG=K("editorOverviewRuler.errorForeground",{dark:new M(new Ha(255,18,18,.7)),light:new M(new Ha(255,18,18,.7)),hc:new M(new Ha(255,50,50,1))},s("overviewRuleError","Overview ruler marker color for errors.")),kG=K("editorOverviewRuler.warningForeground",{dark:ie,light:ie,hc:gi},s("overviewRuleWarning","Overview ruler marker color for warnings.")),lG=K("editorOverviewRuler.infoForeground",{dark:tf,light:tf,hc:Pj},s("overviewRuleInfo","Overview ruler marker color for infos."));la(function(d,a){var b=d.getColor(Xd);b&&a.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+b+"; }");var c=d.getColor(je);c&&a.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+c+"; }");var e=d.getColor(AW);e&&a.addRule(".monaco-editor .margin { background-color: "+e+"; }");var f=d.getColor(wW);f&&a.addRule(".monaco-editor .rangeHighlight { background-color: "+f+"; }");var g=d.getColor(xW);g&&a.addRule(".monaco-editor .rangeHighlight { border: 1px "+(d.type==="hc"?"dotted":"solid")+" "+g+"; }");var h=d.getColor(yW);h&&a.addRule(".monaco-editor .symbolHighlight { background-color: "+h+"; }");var i=d.getColor(zW);i&&a.addRule(".monaco-editor .symbolHighlight { border: 1px "+(d.type==="hc"?"dotted":"solid")+" "+i+"; }");var j=d.getColor(Ai);j&&a.addRule(".vs-whitespace { color: "+j+" !important; }")});var zS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),jp=function(d){zS(a,d);function a(b){var c=d.call(this)||this;return c._context=b,c._readConfig(),c._lastCursorModelPosition=new G(1,1),c._renderResult=null,c._context.addEventHandler(c),c}return a.prototype._readConfig=function(){var b=this._context.configuration.options;this._lineHeight=b.get(49);var c=b.get(50);this._renderLineNumbers=c.renderType,this._renderCustomLineNumbers=c.renderFn,this._renderFinalNewline=b.get(71);var e=b.get(107);this._lineNumbersLeft=e.lineNumbersLeft,this._lineNumbersWidth=e.lineNumbersWidth},a.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){return this._readConfig(),!0},a.prototype.onCursorStateChanged=function(b){var c=b.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(c),this._renderLineNumbers===2||this._renderLineNumbers===3?!0:!1},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollTopChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype._getLineRenderLineNumber=function(b){var c=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new G(b,1));if(c.column!==1)return"";var e=c.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(e);if(this._renderLineNumbers===2){var f=Math.abs(this._lastCursorModelPosition.lineNumber-e);return f===0?'<span class="relative-current-line-number">'+e+"</span>":String(f)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===e?String(e):e%10===0?String(e):"":String(e)},a.prototype.prepareRender=function(b){if(this._renderLineNumbers===0){this._renderResult=null;return}for(var c=cc?this._lineHeight%2===0?" lh-even":" lh-odd":"",e=b.visibleRange.startLineNumber,f=b.visibleRange.endLineNumber,g='<div class="'+a.CLASS_NAME+c+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',h=this._context.model.getLineCount(),i=[],j=e;j<=f;j++){var k=j-e;if(!this._renderFinalNewline){if(j===h&&this._context.model.getLineLength(j)===0){i[k]="";continue}}var l=this._getLineRenderLineNumber(j);l?i[k]=g+l+"</div>":i[k]=""}this._renderResult=i},a.prototype.render=function(b,c){if(!this._renderResult)return"";var e=c-b;return e<0||e>=this._renderResult.length?"":this._renderResult[e]},a.CLASS_NAME="line-numbers",a}(he);la(function(d,a){var b=d.getColor(qp);b&&a.addRule(".monaco-editor .line-numbers { color: "+b+"; }");var c=d.getColor(TD);c&&a.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+c+"; }")});var LS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),kp=function(d){LS(a,d);function a(b){var c=d.call(this,b)||this,e=c._context.configuration.options,f=e.get(107);return c._canUseLayerHinting=!e.get(22),c._contentLeft=f.contentLeft,c._glyphMarginLeft=f.glyphMarginLeft,c._glyphMarginWidth=f.glyphMarginWidth,c._domNode=ma(document.createElement("div")),c._domNode.setClassName(a.OUTER_CLASS_NAME),c._domNode.setPosition("absolute"),c._domNode.setAttribute("role","presentation"),c._domNode.setAttribute("aria-hidden","true"),c._glyphMarginBackgroundDomNode=ma(document.createElement("div")),c._glyphMarginBackgroundDomNode.setClassName(a.CLASS_NAME),c._domNode.appendChild(c._glyphMarginBackgroundDomNode),c}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.getDomNode=function(){return this._domNode},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(107);return this._canUseLayerHinting=!c.get(22),this._contentLeft=e.contentLeft,this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,!0},a.prototype.onScrollChanged=function(b){return d.prototype.onScrollChanged.call(this,b)||b.scrollTopChanged},a.prototype.prepareRender=function(b){},a.prototype.render=function(b){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var c=b.scrollTop-b.bigNumbersDelta;this._domNode.setTop(-c);var e=Math.min(b.scrollHeight,1e6);this._domNode.setHeight(e),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(e)},a.CLASS_NAME="glyph-margin",a.OUTER_CLASS_NAME="margin",a}(Kb);var DW=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),yG=function(){function d(a){this.type=1,this._source=a}return d.prototype.hasChanged=function(a){return this._source.hasChanged(a)},d}(),zG=function(){function d(a){this.type=2,this.contentWidth=a.contentWidth,this.contentHeight=a.contentHeight,this.contentWidthChanged=a.contentWidthChanged,this.contentHeightChanged=a.contentHeightChanged}return d}(),XE=function(){function d(a,b){this.type=3,this.selections=a,this.modelSelections=b}return d}(),Bi=function(){function d(){this.type=4}return d}(),Gm=function(){function d(){this.type=5}return d}(),Cu=function(){function d(a){this.type=6,this.isFocused=a}return d}(),AG=function(){function d(){this.type=7}return d}(),Hm=function(){function d(){this.type=8}return d}(),Rv=function(){function d(a,b){this.type=9,this.fromLineNumber=a,this.toLineNumber=b}return d}(),Pq=function(){function d(a,b){this.type=10,this.fromLineNumber=a,this.toLineNumber=b}return d}(),Qq=function(){function d(a,b){this.type=11,this.fromLineNumber=a,this.toLineNumber=b}return d}(),Gj=function(){function d(a,b,c,e,f){this.type=12,this.source=a,this.range=b,this.verticalType=c,this.revealHorizontal=e,this.scrollType=f}return d}(),BG=function(){function d(a){this.type=13,this.scrollWidth=a.scrollWidth,this.scrollLeft=a.scrollLeft,this.scrollHeight=a.scrollHeight,this.scrollTop=a.scrollTop,this.scrollWidthChanged=a.scrollWidthChanged,this.scrollLeftChanged=a.scrollLeftChanged,this.scrollHeightChanged=a.scrollHeightChanged,this.scrollTopChanged=a.scrollTopChanged}return d}(),ND=function(){function d(){this.type=14}return d}(),CG=function(){function d(a){this.type=15,this.ranges=a}return d}(),DG=function(){function d(){this.type=16}return d}(),OD=function(){function d(){this.type=17}return d}(),Hp=function(d){DW(a,d);function a(){var b=d.call(this)||this;return b._listeners=[],b._collector=null,b._collectorCnt=0,b}return a.prototype.dispose=function(){this._listeners=[],d.prototype.dispose.call(this)},a.prototype._beginEmit=function(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new EW()),this._collector},a.prototype._endEmit=function(){this._collectorCnt--;if(this._collectorCnt===0){var b=this._collector.finalize();this._collector=null,b.length>0&&this._emit(b)}},a.prototype._emit=function(b){for(var c=this._listeners.slice(0),e=0,f=c.length;e<f;e++)FW(c[e],b)},a.prototype.addEventListener=function(b){var c=this;return this._listeners.push(b),va(function(){for(var e=c._listeners,f=0,g=e.length;f<g;f++)if(e[f]===b){e.splice(f,1);break}})},a}(I),EW=function(){function d(){this._eventsLen=0,this._events=[],this._eventsLen=0}return d.prototype.emit=function(a){this._events[this._eventsLen++]=a},d.prototype.finalize=function(){var a=this._events;return this._events=[],a},d}();function FW(d,a){try{d(a)}catch(b){W(b)}}var UR=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),VR=function(){function d(a,b,c){this.top=a,this.left=b,this.width=c}return d.prototype.setWidth=function(a){return new d(this.top,this.left,a)},d}(),Tl=Jc||uc,XC=function(d){UR(a,d);function a(b,c,e){var f=d.call(this,b)||this;f._primaryCursorPosition=new G(1,1),f._primaryCursorVisibleRange=null,f._viewController=c,f._viewHelper=e,f._scrollLeft=0,f._scrollTop=0;var g=f._context.configuration.options,h=g.get(107);f._setAccessibilityOptions(g),f._contentLeft=h.contentLeft,f._contentWidth=h.contentWidth,f._contentHeight=h.height,f._fontInfo=g.get(34),f._lineHeight=g.get(49),f._emptySelectionClipboard=g.get(25),f._copyWithSyntaxHighlighting=g.get(15),f._visibleTextArea=null,f._selections=[new V(1,1,1,1)],f._modelSelections=[new V(1,1,1,1)],f._lastRenderPosition=null,f.textArea=ma(document.createElement("textarea")),Dc.write(f.textArea,6),f.textArea.setClassName("inputarea"),f.textArea.setAttribute("wrap","off"),f.textArea.setAttribute("autocorrect","off"),f.textArea.setAttribute("autocapitalize","off"),f.textArea.setAttribute("autocomplete","off"),f.textArea.setAttribute("spellcheck","false"),f.textArea.setAttribute("aria-label",f._getAriaLabel(g)),f.textArea.setAttribute("role","textbox"),f.textArea.setAttribute("aria-multiline","true"),f.textArea.setAttribute("aria-haspopup","false"),f.textArea.setAttribute("aria-autocomplete","both"),$f&&g.get(68)&&f.textArea.setAttribute("readonly","true"),f.textAreaCover=ma(document.createElement("div")),f.textAreaCover.setPosition("absolute");var i={getLineCount:function(){return f._context.model.getLineCount()},getLineMaxColumn:function(k){return f._context.model.getLineMaxColumn(k)},getValueInRange:function(k,l){return f._context.model.getValueInRange(k,l)}},j={getDataToCopy:function(k){var l=f._context.model.getPlainTextToCopy(f._modelSelections,f._emptySelectionClipboard,sb),m=f._context.model.getEOL(),n=f._emptySelectionClipboard&&f._modelSelections.length===1&&f._modelSelections[0].isEmpty(),o=Array.isArray(l)?l:null,p=Array.isArray(l)?l.join(m):l,q=void 0,r=null;if(k){if(Sl.forceCopyWithSyntaxHighlighting||f._copyWithSyntaxHighlighting&&p.length<65536){var t=f._context.model.getRichTextToCopy(f._modelSelections,f._emptySelectionClipboard);t&&(q=t.html,r=t.mode)}}return{isFromEmptySelection:n,multicursorText:o,text:p,html:q,mode:r}},getScreenReaderContent:function(k){if(Ih)return pd.EMPTY;if(f._accessibilitySupport===1){if(ka){var l=f._selections[0];if(l.isEmpty()){var m=l.getStartPosition(),n=f._getWordBeforePosition(m);n.length===0&&(n=f._getCharacterBeforePosition(m));if(n.length>0)return new pd(n,n.length,n.length,m,m)}}return pd.EMPTY}return WC.fromEditorSelection(k,i,f._selections[0],f._accessibilityPageSize,f._accessibilitySupport===0)},deduceModelPosition:function(k,l,m){return f._context.model.deduceModelPositionRelativeToViewPosition(k,l,m)}};return f._textAreaInput=f._register(new VC(j,f.textArea)),f._register(f._textAreaInput.onKeyDown(function(k){f._viewController.emitKeyDown(k)})),f._register(f._textAreaInput.onKeyUp(function(k){f._viewController.emitKeyUp(k)})),f._register(f._textAreaInput.onPaste(function(k){var l=!1,m=null,n=null;k.metadata&&(l=f._emptySelectionClipboard&&!!k.metadata.isFromEmptySelection,m=typeof k.metadata.multicursorText!=="undefined"?k.metadata.multicursorText:null,n=k.metadata.mode),f._viewController.paste("keyboard",k.text,l,m,n)})),f._register(f._textAreaInput.onCut(function(){f._viewController.cut("keyboard")})),f._register(f._textAreaInput.onType(function(k){k.replaceCharCnt?f._viewController.replacePreviousChar("keyboard",k.text,k.replaceCharCnt):f._viewController.type("keyboard",k.text)})),f._register(f._textAreaInput.onSelectionChangeRequest(function(k){f._viewController.setSelection("keyboard",k)})),f._register(f._textAreaInput.onCompositionStart(function(){var k=f._selections[0].startLineNumber,l=f._selections[0].startColumn;f._context.privateViewEventBus.emit(new Gj("keyboard",new z(k,l,k,l),0,!0,1));var m=f._viewHelper.visibleRangeForPositionRelativeToEditor(k,l);m&&(f._visibleTextArea=new VR(f._context.viewLayout.getVerticalOffsetForLineNumber(k),m.left,Tl?0:1),f._render()),f.textArea.setClassName("inputarea ime-input"),f._viewController.compositionStart("keyboard")})),f._register(f._textAreaInput.onCompositionUpdate(function(k){Jc?f._visibleTextArea=f._visibleTextArea.setWidth(0):f._visibleTextArea=f._visibleTextArea.setWidth(WR(k.data,f._fontInfo)),f._render()})),f._register(f._textAreaInput.onCompositionEnd(function(){f._visibleTextArea=null,f._render(),f.textArea.setClassName("inputarea"),f._viewController.compositionEnd("keyboard")})),f._register(f._textAreaInput.onFocus(function(){f._context.privateViewEventBus.emit(new Cu(!0))})),f._register(f._textAreaInput.onBlur(function(){f._context.privateViewEventBus.emit(new Cu(!1))})),f}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype._getWordBeforePosition=function(b){for(var c=this._context.model.getLineContent(b.lineNumber),e=qd(this._context.configuration.options.get(96)),f=b.column,g=0;f>1;){var h=c.charCodeAt(f-2),i=e.get(h);if(i!==0||g>50)return c.substring(f-1,b.column-1);g++,f--}return c.substring(0,b.column-1)},a.prototype._getCharacterBeforePosition=function(b){if(b.column>1){var c=this._context.model.getLineContent(b.lineNumber),e=c.charAt(b.column-2);if(!Cb(e.charCodeAt(0)))return e}return""},a.prototype._getAriaLabel=function(b){var c=b.get(2);return c===1?s("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):b.get(4)},a.prototype._setAccessibilityOptions=function(b){this._accessibilitySupport=b.get(2);var c=b.get(3);this._accessibilitySupport===2&&c===$c.accessibilityPageSize.defaultValue?this._accessibilityPageSize=160:this._accessibilityPageSize=c},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(107);return this._setAccessibilityOptions(c),this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._contentHeight=e.height,this._fontInfo=c.get(34),this._lineHeight=c.get(49),this._emptySelectionClipboard=c.get(25),this._copyWithSyntaxHighlighting=c.get(15),this.textArea.setAttribute("aria-label",this._getAriaLabel(c)),$f&&b.hasChanged(68)&&(c.get(68)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),b.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0},a.prototype.onCursorStateChanged=function(b){return this._selections=b.selections.slice(0),this._modelSelections=b.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return this._scrollLeft=b.scrollLeft,this._scrollTop=b.scrollTop,!0},a.prototype.onZonesChanged=function(b){return!0},a.prototype.isFocused=function(){return this._textAreaInput.isFocused()},a.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},a.prototype.getLastRenderData=function(){return this._lastRenderPosition},a.prototype.setAriaOptions=function(b){b.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",b.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant"))},a.prototype.prepareRender=function(b){this._primaryCursorPosition=new G(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=b.visibleRangeForPosition(this._primaryCursorPosition)},a.prototype.render=function(b){this._textAreaInput.writeScreenReaderContent("render"),this._render()},a.prototype._render=function(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}var b=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(b<this._contentLeft||b>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}var c=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(c<0||c>this._contentHeight){this._renderAtTopLeft();return}if(ka){this._renderInsideEditor(this._primaryCursorPosition,c,b,Tl?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,c,b,Tl?0:1,Tl?0:1)},a.prototype._renderInsideEditor=function(b,c,e,f,g){this._lastRenderPosition=b;var h=this.textArea,i=this.textAreaCover;_b.applyFontInfo(h,this._fontInfo),h.setTop(c),h.setLeft(e),h.setWidth(f),h.setHeight(g),i.setTop(0),i.setLeft(0),i.setWidth(0),i.setHeight(0)},a.prototype._renderAtTopLeft=function(){this._lastRenderPosition=null;var b=this.textArea,c=this.textAreaCover;_b.applyFontInfo(b,this._fontInfo),b.setTop(0),b.setLeft(0),c.setTop(0),c.setLeft(0);if(Tl){b.setWidth(0),b.setHeight(0),c.setWidth(0),c.setHeight(0);return}b.setWidth(1),b.setHeight(1),c.setWidth(1),c.setHeight(1);var e=this._context.configuration.options;e.get(40)?c.setClassName("monaco-editor-background textAreaCover "+kp.OUTER_CLASS_NAME):e.get(50).renderType!==0?c.setClassName("monaco-editor-background textAreaCover "+jp.CLASS_NAME):c.setClassName("monaco-editor-background textAreaCover")},a}(Kb);function WR(d,a){var b=document.createElement("canvas"),c=b.getContext("2d");c.font=XR(a);var e=c.measureText(d);return uc?e.width+2:e.width}function XR(d){return YR("normal",d.fontWeight,d.fontSize,d.lineHeight,d.fontFamily)}function YR(d,a,b,c,e){return d+" normal "+a+" "+b+"px / "+c+"px "+e}var Dj=function(){function d(){}return d.columnSelect=function(a,b,c,e,f,g){for(var h=Math.abs(f-c)+1,i=c>f,j=e>g,k=e<g,l=[],m=0;m<h;m++){var n=c+(i?-m:m),o=Ya.columnFromVisibleColumn2(a,b,n,e),p=Ya.columnFromVisibleColumn2(a,b,n,g),q=Ya.visibleColumnFromColumn2(a,b,new G(n,o)),r=Ya.visibleColumnFromColumn2(a,b,new G(n,p));if(k){if(q>g)continue;if(r<e)continue}if(j){if(r>e)continue;if(q<g)continue}l.push(new kc(new z(n,o,n,o),0,new G(n,p),0))}if(l.length===0)for(var m=0;m<h;m++){var n=c+(i?-m:m),t=b.getLineMaxColumn(n);l.push(new kc(new z(n,t,n,t),0,new G(n,t),0))}return{viewStates:l,reversed:i,fromLineNumber:c,fromVisualColumn:e,toLineNumber:f,toVisualColumn:g}},d.columnSelectLeft=function(a,b,c){var e=c.toViewVisualColumn;return e>1&&e--,d.columnSelect(a,b,c.fromViewLineNumber,c.fromViewVisualColumn,c.toViewLineNumber,e)},d.columnSelectRight=function(a,b,c){for(var e=0,f=Math.min(c.fromViewLineNumber,c.toViewLineNumber),g=Math.max(c.fromViewLineNumber,c.toViewLineNumber),h=f;h<=g;h++){var i=b.getLineMaxColumn(h),j=Ya.visibleColumnFromColumn2(a,b,new G(h,i));e=Math.max(e,j)}var k=c.toViewVisualColumn;return k<e&&k++,this.columnSelect(a,b,c.fromViewLineNumber,c.fromViewVisualColumn,c.toViewLineNumber,k)},d.columnSelectUp=function(a,b,c,e){var f=e?a.pageSize:1,g=Math.max(1,c.toViewLineNumber-f);return this.columnSelect(a,b,c.fromViewLineNumber,c.fromViewVisualColumn,g,c.toViewVisualColumn)},d.columnSelectDown=function(a,b,c,e){var f=e?a.pageSize:1,g=Math.min(b.getLineCount(),c.toViewLineNumber+f);return this.columnSelect(a,b,c.fromViewLineNumber,c.fromViewVisualColumn,g,c.toViewVisualColumn)},d}();var Lb=function(){function d(a,b,c){c===void 0&&(c=!1),this._range=a,this._text=b,this.insertsAutoWhitespace=c}return d.prototype.getEditOperations=function(a,b){b.addTrackedEditOperation(this._range,this._text)},d.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),e=c[0].range;return new V(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)},d}(),KE=function(){function d(a,b){this._range=a,this._text=b}return d.prototype.getEditOperations=function(a,b){b.addTrackedEditOperation(this._range,this._text)},d.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),e=c[0].range;return new V(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)},d}(),fm=function(){function d(a,b,c){c===void 0&&(c=!1),this._range=a,this._text=b,this.insertsAutoWhitespace=c}return d.prototype.getEditOperations=function(a,b){b.addTrackedEditOperation(this._range,this._text)},d.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),e=c[0].range;return new V(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)},d}(),Cp=function(){function d(a,b,c,e,f){f===void 0&&(f=!1),this._range=a,this._text=b,this._columnDeltaOffset=e,this._lineNumberDeltaOffset=c,this.insertsAutoWhitespace=f}return d.prototype.getEditOperations=function(a,b){b.addTrackedEditOperation(this._range,this._text)},d.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),e=c[0].range;return new V(e.endLineNumber+this._lineNumberDeltaOffset,e.endColumn+this._columnDeltaOffset,e.endLineNumber+this._lineNumberDeltaOffset,e.endColumn+this._columnDeltaOffset)},d}(),ih=function(){function d(a,b,c,e){e===void 0&&(e=!1),this._range=a,this._text=b,this._initialSelection=c,this._forceMoveMarkers=e,this._selectionId=null}return d.prototype.getEditOperations=function(a,b){b.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=b.trackSelection(this._initialSelection)},d.prototype.computeCursorState=function(a,b){return b.getTrackedSelection(this._selectionId)},d}();var Ip=function(){function d(a,b,c){this.lineNumber=a,this.column=b,this.leftoverVisibleColumns=c}return d}(),vb=function(){function d(){}return d.leftPosition=function(a,b,c){return c>a.getLineMinColumn(b)?c=c-CB(a.getLineContent(b),c-1):b>1&&(b=b-1,c=a.getLineMaxColumn(b)),new G(b,c)},d.left=function(a,b,c,e){var f=d.leftPosition(b,c,e);return new Ip(f.lineNumber,f.column,0)},d.moveLeft=function(a,b,c,e,f){var g,h;if(c.hasSelection()&&!e)g=c.selection.startLineNumber,h=c.selection.startColumn;else{var i=d.left(a,b,c.position.lineNumber,c.position.column-(f-1));g=i.lineNumber,h=i.column}return c.move(e,g,h,0)},d.rightPosition=function(a,b,c){return c<a.getLineMaxColumn(b)?c=c+Zh(a.getLineContent(b),c-1):b<a.getLineCount()&&(b=b+1,c=a.getLineMinColumn(b)),new G(b,c)},d.right=function(a,b,c,e){var f=d.rightPosition(b,c,e);return new Ip(f.lineNumber,f.column,0)},d.moveRight=function(a,b,c,e,f){var g,h;if(c.hasSelection()&&!e)g=c.selection.endLineNumber,h=c.selection.endColumn;else{var i=d.right(a,b,c.position.lineNumber,c.position.column+(f-1));g=i.lineNumber,h=i.column}return c.move(e,g,h,0)},d.down=function(a,b,c,e,f,g,h){var i=Ya.visibleColumnFromColumn(b.getLineContent(c),e,a.tabSize)+f;c=c+g;var j=b.getLineCount();return c>j?(c=j,h?e=b.getLineMaxColumn(c):e=Math.min(b.getLineMaxColumn(c),e)):e=Ya.columnFromVisibleColumn2(a,b,c,i),f=i-Ya.visibleColumnFromColumn(b.getLineContent(c),e,a.tabSize),new Ip(c,e,f)},d.moveDown=function(a,b,c,e,f){var g,h;c.hasSelection()&&!e?(g=c.selection.endLineNumber,h=c.selection.endColumn):(g=c.position.lineNumber,h=c.position.column);var i=d.down(a,b,g,h,c.leftoverVisibleColumns,f,!0);return c.move(e,i.lineNumber,i.column,i.leftoverVisibleColumns)},d.translateDown=function(a,b,c){var e=c.selection,f=d.down(a,b,e.selectionStartLineNumber,e.selectionStartColumn,c.selectionStartLeftoverVisibleColumns,1,!1),g=d.down(a,b,e.positionLineNumber,e.positionColumn,c.leftoverVisibleColumns,1,!1);return new kc(new z(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new G(g.lineNumber,g.column),g.leftoverVisibleColumns)},d.up=function(a,b,c,e,f,g,h){var i=Ya.visibleColumnFromColumn(b.getLineContent(c),e,a.tabSize)+f;return c=c-g,c<1?(c=1,h?e=b.getLineMinColumn(c):e=Math.min(b.getLineMaxColumn(c),e)):e=Ya.columnFromVisibleColumn2(a,b,c,i),f=i-Ya.visibleColumnFromColumn(b.getLineContent(c),e,a.tabSize),new Ip(c,e,f)},d.moveUp=function(a,b,c,e,f){var g,h;c.hasSelection()&&!e?(g=c.selection.startLineNumber,h=c.selection.startColumn):(g=c.position.lineNumber,h=c.position.column);var i=d.up(a,b,g,h,c.leftoverVisibleColumns,f,!0);return c.move(e,i.lineNumber,i.column,i.leftoverVisibleColumns)},d.translateUp=function(a,b,c){var e=c.selection,f=d.up(a,b,e.selectionStartLineNumber,e.selectionStartColumn,c.selectionStartLeftoverVisibleColumns,1,!1),g=d.up(a,b,e.positionLineNumber,e.positionColumn,c.leftoverVisibleColumns,1,!1);return new kc(new z(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new G(g.lineNumber,g.column),g.leftoverVisibleColumns)},d.moveToBeginningOfLine=function(a,b,c,e){var f=c.position.lineNumber,g=b.getLineMinColumn(f),h=b.getLineFirstNonWhitespaceColumn(f)||g,i,j=c.position.column;return j===h?i=g:i=h,c.move(e,f,i,0)},d.moveToEndOfLine=function(a,b,c,e){var f=c.position.lineNumber,g=b.getLineMaxColumn(f);return c.move(e,f,g,0)},d.moveToBeginningOfBuffer=function(a,b,c,e){return c.move(e,1,1,0)},d.moveToEndOfBuffer=function(a,b,c,e){var f=b.getLineCount(),g=b.getLineMaxColumn(f);return c.move(e,f,g,0)},d}();var Ol=function(){function d(){}return d.deleteRight=function(a,b,c,e){for(var f=[],g=a!==3,h=0,i=e.length;h<i;h++){var j=e[h],k=j;if(k.isEmpty()){var l=j.getPosition(),m=vb.right(b,c,l.lineNumber,l.column);k=new z(m.lineNumber,m.column,l.lineNumber,l.column)}if(k.isEmpty()){f[h]=null;continue}k.startLineNumber!==k.endLineNumber&&(g=!0),f[h]=new Lb(k,"")}return[g,f]},d._isAutoClosingPairDelete=function(a,b,c){if(a.autoClosingBrackets==="never"&&a.autoClosingQuotes==="never")return!1;for(var e=0,f=c.length;e<f;e++){var g=c[e],h=g.getPosition();if(!g.isEmpty())return!1;var i=b.getLineContent(h.lineNumber),j=i[h.column-2],k=a.autoClosingPairsOpen2.get(j);if(!k)return!1;if(kh(j)){if(a.autoClosingQuotes==="never")return!1}else if(a.autoClosingBrackets==="never")return!1;for(var l=i[h.column-1],m=!1,n=0,o=k;n<o.length;n++){var p=o[n];p.open===j&&p.close===l&&(m=!0)}if(!m)return!1}return!0},d._runAutoClosingPairDelete=function(a,b,c){for(var e=[],f=0,g=c.length;f<g;f++){var h=c[f].getPosition(),i=new z(h.lineNumber,h.column-1,h.lineNumber,h.column+1);e[f]=new Lb(i,"")}return[!0,e]},d.deleteLeft=function(a,b,c,e){if(this._isAutoClosingPairDelete(b,c,e))return this._runAutoClosingPairDelete(b,c,e);for(var f=[],g=a!==2,h=0,i=e.length;h<i;h++){var j=e[h],k=j;if(k.isEmpty()){var l=j.getPosition();if(b.useTabStops&&l.column>1){var m=c.getLineContent(l.lineNumber),n=Jb(m),o=n===-1?m.length+1:n+1;if(l.column<=o){var p=Ya.visibleColumnFromColumn2(b,c,l),q=Ya.prevIndentTabStop(p,b.indentSize),r=Ya.columnFromVisibleColumn2(b,c,l.lineNumber,q);k=new z(l.lineNumber,r,l.lineNumber,l.column)}else k=new z(l.lineNumber,l.column-1,l.lineNumber,l.column)}else{var t=vb.left(b,c,l.lineNumber,l.column);k=new z(t.lineNumber,t.column,l.lineNumber,l.column)}}if(k.isEmpty()){f[h]=null;continue}k.startLineNumber!==k.endLineNumber&&(g=!0),f[h]=new Lb(k,"")}return[g,f]},d.cut=function(a,b,c){for(var e=[],f=0,g=c.length;f<g;f++){var h=c[f];if(h.isEmpty())if(a.emptySelectionClipboard){var i=h.getPosition(),j=void 0,k=void 0,l=void 0,m=void 0;i.lineNumber<b.getLineCount()?(j=i.lineNumber,k=1,l=i.lineNumber+1,m=1):i.lineNumber>1?(j=i.lineNumber-1,k=b.getLineMaxColumn(i.lineNumber-1),l=i.lineNumber,m=b.getLineMaxColumn(i.lineNumber)):(j=i.lineNumber,k=1,l=i.lineNumber,m=b.getLineMaxColumn(i.lineNumber));var n=new z(j,k,l,m);n.isEmpty()?e[f]=null:e[f]=new Lb(n,"")}else e[f]=null;else e[f]=new Lb(h,"")}return new Fc(0,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},d}();var xU=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),qc=function(){function d(){}return d._createWord=function(a,b,c,e,f){return{start:e,end:f,wordType:b,nextCharClass:c}},d._findPreviousWordOnLine=function(a,b,c){var e=b.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(e,a,c)},d._doFindPreviousWordOnLine=function(a,b,c){for(var e=0,f=c.column-2;f>=0;f--){var g=a.charCodeAt(f),h=b.get(g);if(h===0){if(e===2)return this._createWord(a,e,h,f+1,this._findEndOfWord(a,b,e,f+1));e=1}else if(h===2){if(e===1)return this._createWord(a,e,h,f+1,this._findEndOfWord(a,b,e,f+1));e=2}else if(h===1){if(e!==0)return this._createWord(a,e,h,f+1,this._findEndOfWord(a,b,e,f+1))}}return e!==0?this._createWord(a,e,1,0,this._findEndOfWord(a,b,e,0)):null},d._findEndOfWord=function(a,b,c,e){for(var f=a.length,g=e;g<f;g++){var h=a.charCodeAt(g),i=b.get(h);if(i===1)return g;if(c===1&&i===2)return g;if(c===2&&i===0)return g}return f},d._findNextWordOnLine=function(a,b,c){var e=b.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(e,a,c)},d._doFindNextWordOnLine=function(a,b,c){for(var e=0,f=a.length,g=c.column-1;g<f;g++){var h=a.charCodeAt(g),i=b.get(h);if(i===0){if(e===2)return this._createWord(a,e,i,this._findStartOfWord(a,b,e,g-1),g);e=1}else if(i===2){if(e===1)return this._createWord(a,e,i,this._findStartOfWord(a,b,e,g-1),g);e=2}else if(i===1){if(e!==0)return this._createWord(a,e,i,this._findStartOfWord(a,b,e,g-1),g)}}return e!==0?this._createWord(a,e,1,this._findStartOfWord(a,b,e,f-1),f):null},d._findStartOfWord=function(a,b,c,e){for(var f=e;f>=0;f--){var g=a.charCodeAt(f),h=b.get(g);if(h===1)return f+1;if(c===1&&h===2)return f+1;if(c===2&&h===0)return f+1}return 0},d.moveWordLeft=function(a,b,c,e){var f=c.lineNumber,g=c.column,h=!1;g===1&&(f>1&&(h=!0,f=f-1,g=b.getLineMaxColumn(f)));var i=d._findPreviousWordOnLine(a,b,new G(f,g));if(e===0){if(i&&!h){var j=b.getLineLastNonWhitespaceColumn(f);if(j<g)return new G(f,i.end+1)}return new G(f,i?i.start+1:1)}if(e===1)return i&&i.wordType===2&&i.end-i.start===1&&i.nextCharClass===0&&(i=d._findPreviousWordOnLine(a,b,new G(f,i.start+1))),new G(f,i?i.start+1:1);if(e===3){for(;i&&i.wordType===2;)i=d._findPreviousWordOnLine(a,b,new G(f,i.start+1));return new G(f,i?i.start+1:1)}return i&&g<=i.end+1&&(i=d._findPreviousWordOnLine(a,b,new G(f,i.start+1))),new G(f,i?i.end+1:1)},d._moveWordPartLeft=function(a,b){var c=b.lineNumber,e=a.getLineMaxColumn(c);if(b.column===1)return c>1?new G(c-1,a.getLineMaxColumn(c-1)):b;for(var f=a.getLineContent(c),g=b.column-1;g>1;g--){var h=f.charCodeAt(g-2),i=f.charCodeAt(g-1);if(h!==95&&i===95)return new G(c,g);if(Ie(h)&&Ud(i))return new G(c,g);if(Ud(h)&&Ud(i)){if(g+1<e){var j=f.charCodeAt(g);if(Ie(j))return new G(c,g)}}}return new G(c,1)},d.moveWordRight=function(a,b,c,e){var f=c.lineNumber,g=c.column,h=!1;g===b.getLineMaxColumn(f)&&(f<b.getLineCount()&&(h=!0,f=f+1,g=1));var i=d._findNextWordOnLine(a,b,new G(f,g));if(e===2)i&&i.wordType===2&&(i.end-i.start===1&&i.nextCharClass===0&&(i=d._findNextWordOnLine(a,b,new G(f,i.end+1)))),i?g=i.end+1:g=b.getLineMaxColumn(f);else if(e===3){for(h&&(g=0);i&&(i.wordType===2||i.start+1<=g);)i=d._findNextWordOnLine(a,b,new G(f,i.end+1));i?g=i.start+1:g=b.getLineMaxColumn(f)}else i&&!h&&g>=i.start+1&&(i=d._findNextWordOnLine(a,b,new G(f,i.end+1))),i?g=i.start+1:g=b.getLineMaxColumn(f);return new G(f,g)},d._moveWordPartRight=function(a,b){var c=b.lineNumber,e=a.getLineMaxColumn(c);if(b.column===e)return c<a.getLineCount()?new G(c+1,1):b;for(var f=a.getLineContent(c),g=b.column+1;g<e;g++){var h=f.charCodeAt(g-2),i=f.charCodeAt(g-1);if(h===95&&i!==95)return new G(c,g);if(Ie(h)&&Ud(i))return new G(c,g);if(Ud(h)&&Ud(i)){if(g+1<e){var j=f.charCodeAt(g);if(Ie(j))return new G(c,g)}}}return new G(c,e)},d._deleteWordLeftWhitespace=function(a,b){var c=a.getLineContent(b.lineNumber),e=b.column-2,f=_c(c,e);return f+1<e?new z(b.lineNumber,f+2,b.lineNumber,b.column):null},d.deleteWordLeft=function(a,b,c,e,f){if(!c.isEmpty())return c;var g=new G(c.positionLineNumber,c.positionColumn),h=g.lineNumber,i=g.column;if(h===1&&i===1)return null;if(e){var j=this._deleteWordLeftWhitespace(b,g);if(j)return j}var k=d._findPreviousWordOnLine(a,b,g);return f===0?k?i=k.start+1:i>1?i=1:(h--,i=b.getLineMaxColumn(h)):(k&&i<=k.end+1&&(k=d._findPreviousWordOnLine(a,b,new G(h,k.start+1))),k?i=k.end+1:i>1?i=1:(h--,i=b.getLineMaxColumn(h))),new z(h,i,g.lineNumber,g.column)},d._deleteWordPartLeft=function(a,b){if(!b.isEmpty())return b;var c=b.getPosition(),e=d._moveWordPartLeft(a,c);return new z(c.lineNumber,c.column,e.lineNumber,e.column)},d._findFirstNonWhitespaceChar=function(a,b){for(var c=a.length,e=b;e<c;e++){var f=a.charAt(e);if(f!==" "&&f!=="	")return e}return c},d._deleteWordRightWhitespace=function(a,b){var c=a.getLineContent(b.lineNumber),e=b.column-1,f=this._findFirstNonWhitespaceChar(c,e);return e+1<f?new z(b.lineNumber,b.column,b.lineNumber,f+1):null},d.deleteWordRight=function(a,b,c,e,f){if(!c.isEmpty())return c;var g=new G(c.positionLineNumber,c.positionColumn),h=g.lineNumber,i=g.column,j=b.getLineCount(),k=b.getLineMaxColumn(h);if(h===j&&i===k)return null;if(e){var l=this._deleteWordRightWhitespace(b,g);if(l)return l}var m=d._findNextWordOnLine(a,b,g);return f===2?m?i=m.end+1:i<k||h===j?i=k:(h++,m=d._findNextWordOnLine(a,b,new G(h,1)),m?i=m.start+1:i=b.getLineMaxColumn(h)):(m&&i>=m.start+1&&(m=d._findNextWordOnLine(a,b,new G(h,m.end+1))),m?i=m.start+1:i<k||h===j?i=k:(h++,m=d._findNextWordOnLine(a,b,new G(h,1)),m?i=m.start+1:i=b.getLineMaxColumn(h))),new z(h,i,g.lineNumber,g.column)},d._deleteWordPartRight=function(a,b){if(!b.isEmpty())return b;var c=b.getPosition(),e=d._moveWordPartRight(a,c);return new z(c.lineNumber,c.column,e.lineNumber,e.column)},d.word=function(a,b,c,e,f){var g=qd(a.wordSeparators),h=d._findPreviousWordOnLine(g,b,f),i=d._findNextWordOnLine(g,b,f);if(!e){var j,k;return h&&h.wordType===1&&h.start<=f.column-1&&f.column-1<=h.end?(j=h.start+1,k=h.end+1):i&&i.wordType===1&&i.start<=f.column-1&&f.column-1<=i.end?(j=i.start+1,k=i.end+1):(h?j=h.end+1:j=1,i?k=i.start+1:k=b.getLineMaxColumn(f.lineNumber)),new kc(new z(f.lineNumber,j,f.lineNumber,k),0,new G(f.lineNumber,k),0)}var l,m;h&&h.wordType===1&&h.start<f.column-1&&f.column-1<h.end?(l=h.start+1,m=h.end+1):i&&i.wordType===1&&i.start<f.column-1&&f.column-1<i.end?(l=i.start+1,m=i.end+1):(l=f.column,m=f.column);var n=f.lineNumber,o;if(c.selectionStart.containsPosition(f))o=c.selectionStart.endColumn;else if(f.isBeforeOrEqual(c.selectionStart.getStartPosition())){o=l;var p=new G(n,o);c.selectionStart.containsPosition(p)&&(o=c.selectionStart.endColumn)}else{o=m;var p=new G(n,o);c.selectionStart.containsPosition(p)&&(o=c.selectionStart.startColumn)}return c.move(!0,n,o,0)},d}(),jm=function(d){xU(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.deleteWordPartLeft=function(b,c,e,f){var g=Jp([qc.deleteWordLeft(b,c,e,f,0),qc.deleteWordLeft(b,c,e,f,2),qc._deleteWordPartLeft(c,e)]);return g.sort(z.compareRangesUsingEnds),g[2]},a.deleteWordPartRight=function(b,c,e,f){var g=Jp([qc.deleteWordRight(b,c,e,f,0),qc.deleteWordRight(b,c,e,f,2),qc._deleteWordPartRight(c,e)]);return g.sort(z.compareRangesUsingStarts),g[0]},a.moveWordPartLeft=function(b,c,e){var f=Jp([qc.moveWordLeft(b,c,e,0),qc.moveWordLeft(b,c,e,2),qc._moveWordPartLeft(c,e)]);return f.sort(G.compare),f[2]},a.moveWordPartRight=function(b,c,e){var f=Jp([qc.moveWordRight(b,c,e,0),qc.moveWordRight(b,c,e,2),qc._moveWordPartRight(c,e)]);return f.sort(G.compare),f[0]},a}(qc);function Jp(d){return d.filter(function(a){return Boolean(a)})}var jc=function(){function d(){}return d.addCursorDown=function(a,b,c){for(var e=[],f=0,g=0,h=b.length;g<h;g++){var i=b[g];e[f++]=new za(i.modelState,i.viewState),c?e[f++]=za.fromModelState(vb.translateDown(a.config,a.model,i.modelState)):e[f++]=za.fromViewState(vb.translateDown(a.config,a.viewModel,i.viewState))}return e},d.addCursorUp=function(a,b,c){for(var e=[],f=0,g=0,h=b.length;g<h;g++){var i=b[g];e[f++]=new za(i.modelState,i.viewState),c?e[f++]=za.fromModelState(vb.translateUp(a.config,a.model,i.modelState)):e[f++]=za.fromViewState(vb.translateUp(a.config,a.viewModel,i.viewState))}return e},d.moveToBeginningOfLine=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f];e[f]=this._moveToLineStart(a,h,c)}return e},d._moveToLineStart=function(a,b,c){var e=b.viewState.position.column,f=b.modelState.position.column,g=e===f,h=b.viewState.position.lineNumber,i=a.viewModel.getLineFirstNonWhitespaceColumn(h),j=e===i;return!g&&!j?this._moveToLineStartByView(a,b,c):this._moveToLineStartByModel(a,b,c)},d._moveToLineStartByView=function(a,b,c){return za.fromViewState(vb.moveToBeginningOfLine(a.config,a.viewModel,b.viewState,c))},d._moveToLineStartByModel=function(a,b,c){return za.fromModelState(vb.moveToBeginningOfLine(a.config,a.model,b.modelState,c))},d.moveToEndOfLine=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f];e[f]=this._moveToLineEnd(a,h,c)}return e},d._moveToLineEnd=function(a,b,c){var e=b.viewState.position,f=a.viewModel.getLineMaxColumn(e.lineNumber),g=e.column===f,h=b.modelState.position,i=a.model.getLineMaxColumn(h.lineNumber),j=f-e.column===i-h.column;return g||j?this._moveToLineEndByModel(a,b,c):this._moveToLineEndByView(a,b,c)},d._moveToLineEndByView=function(a,b,c){return za.fromViewState(vb.moveToEndOfLine(a.config,a.viewModel,b.viewState,c))},d._moveToLineEndByModel=function(a,b,c){return za.fromModelState(vb.moveToEndOfLine(a.config,a.model,b.modelState,c))},d.expandLineSelection=function(a,b){for(var c=[],e=0,f=b.length;e<f;e++){var g=b[e],h=g.modelState.selection.startLineNumber,i=a.model.getLineCount(),j=g.modelState.selection.endLineNumber,k=void 0;j===i?k=a.model.getLineMaxColumn(i):(j++,k=1),c[e]=za.fromModelState(new kc(new z(h,1,h,1),0,new G(j,k),0))}return c},d.moveToBeginningOfBuffer=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f];e[f]=za.fromModelState(vb.moveToBeginningOfBuffer(a.config,a.model,h.modelState,c))}return e},d.moveToEndOfBuffer=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f];e[f]=za.fromModelState(vb.moveToEndOfBuffer(a.config,a.model,h.modelState,c))}return e},d.selectAll=function(a,b){var c=a.model.getLineCount(),e=a.model.getLineMaxColumn(c);return za.fromModelState(new kc(new z(1,1,1,1),0,new G(c,e),0))},d.line=function(a,b,c,e,f){var g=a.model.validatePosition(e),h=f?a.validateViewPosition(new G(f.lineNumber,f.column),g):a.convertModelPositionToViewPosition(g);if(!c||!b.modelState.hasSelection()){var i=a.model.getLineCount(),j=g.lineNumber+1,k=1;return j>i&&(j=i,k=a.model.getLineMaxColumn(j)),za.fromModelState(new kc(new z(g.lineNumber,1,j,k),0,new G(j,k),0))}var l=b.modelState.selectionStart.getStartPosition().lineNumber;if(g.lineNumber<l)return za.fromViewState(b.viewState.move(b.modelState.hasSelection(),h.lineNumber,1,0));if(g.lineNumber>l){var i=a.viewModel.getLineCount(),m=h.lineNumber+1,n=1;return m>i&&(m=i,n=a.viewModel.getLineMaxColumn(m)),za.fromViewState(b.viewState.move(b.modelState.hasSelection(),m,n,0))}else{var o=b.modelState.selectionStart.getEndPosition();return za.fromModelState(b.modelState.move(b.modelState.hasSelection(),o.lineNumber,o.column,0))}},d.word=function(a,b,c,e){var f=a.model.validatePosition(e);return za.fromModelState(qc.word(a.config,a.model,b.modelState,c,f))},d.cancelSelection=function(a,b){if(!b.modelState.hasSelection())return new za(b.modelState,b.viewState);var c=b.viewState.position.lineNumber,e=b.viewState.position.column;return za.fromViewState(new kc(new z(c,e,c,e),0,new G(c,e),0))},d.moveTo=function(a,b,c,e,f){var g=a.model.validatePosition(e),h=f?a.validateViewPosition(new G(f.lineNumber,f.column),g):a.convertModelPositionToViewPosition(g);return za.fromViewState(b.viewState.move(c,h.lineNumber,h.column,0))},d.move=function(a,b,c){var e=c.select,f=c.value;switch(c.direction){case 0:return c.unit===4?this._moveHalfLineLeft(a,b,e):this._moveLeft(a,b,e,f);case 1:return c.unit===4?this._moveHalfLineRight(a,b,e):this._moveRight(a,b,e,f);case 2:return c.unit===2?this._moveUpByViewLines(a,b,e,f):this._moveUpByModelLines(a,b,e,f);case 3:return c.unit===2?this._moveDownByViewLines(a,b,e,f):this._moveDownByModelLines(a,b,e,f);case 4:return this._moveToViewMinColumn(a,b,e);case 5:return this._moveToViewFirstNonWhitespaceColumn(a,b,e);case 6:return this._moveToViewCenterColumn(a,b,e);case 7:return this._moveToViewMaxColumn(a,b,e);case 8:return this._moveToViewLastNonWhitespaceColumn(a,b,e);case 9:{var g=b[0],h=a.getCompletelyVisibleModelRange(),i=this._firstLineNumberInRange(a.model,h,f),j=a.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(a,g,e,i,j)]}case 11:{var g=b[0],h=a.getCompletelyVisibleModelRange(),i=this._lastLineNumberInRange(a.model,h,f),j=a.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(a,g,e,i,j)]}case 10:{var g=b[0],h=a.getCompletelyVisibleModelRange(),i=Math.round((h.startLineNumber+h.endLineNumber)/2),j=a.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(a,g,e,i,j)]}case 12:{for(var k=a.getCompletelyVisibleViewRange(),l=[],m=0,n=b.length;m<n;m++){var g=b[m];l[m]=this.findPositionInViewportIfOutside(a,g,k,e)}return l}}return null},d.findPositionInViewportIfOutside=function(a,b,c,e){var f=b.viewState.position.lineNumber;if(c.startLineNumber<=f&&f<=c.endLineNumber-1)return new za(b.modelState,b.viewState);{f>c.endLineNumber-1&&(f=c.endLineNumber-1),f<c.startLineNumber&&(f=c.startLineNumber);var g=a.viewModel.getLineFirstNonWhitespaceColumn(f);return this._moveToViewPosition(a,b,e,f,g)}},d._firstLineNumberInRange=function(a,b,c){var e=b.startLineNumber;return b.startColumn!==a.getLineMinColumn(e)&&e++,Math.min(b.endLineNumber,e+c-1)},d._lastLineNumberInRange=function(a,b,c){var e=b.startLineNumber;return b.startColumn!==a.getLineMinColumn(e)&&e++,Math.max(e,b.endLineNumber-c+1)},d._moveLeft=function(a,b,c,e){for(var f=[],g=0,h=b.length;g<h;g++){var i=b[g],j=vb.moveLeft(a.config,a.viewModel,i.viewState,c,e);if(e===1&&j.position.lineNumber!==i.viewState.position.lineNumber){var k=a.viewModel.coordinatesConverter.convertViewPositionToModelPosition(j.position);k.lineNumber===i.modelState.position.lineNumber&&(j=vb.moveLeft(a.config,a.viewModel,j,c,1))}f[g]=za.fromViewState(j)}return f},d._moveHalfLineLeft=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f],i=h.viewState.position.lineNumber,j=Math.round(a.viewModel.getLineContent(i).length/2);e[f]=za.fromViewState(vb.moveLeft(a.config,a.viewModel,h.viewState,c,j))}return e},d._moveRight=function(a,b,c,e){for(var f=[],g=0,h=b.length;g<h;g++){var i=b[g],j=vb.moveRight(a.config,a.viewModel,i.viewState,c,e);if(e===1&&j.position.lineNumber!==i.viewState.position.lineNumber){var k=a.viewModel.coordinatesConverter.convertViewPositionToModelPosition(j.position);k.lineNumber===i.modelState.position.lineNumber&&(j=vb.moveRight(a.config,a.viewModel,j,c,1))}f[g]=za.fromViewState(j)}return f},d._moveHalfLineRight=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f],i=h.viewState.position.lineNumber,j=Math.round(a.viewModel.getLineContent(i).length/2);e[f]=za.fromViewState(vb.moveRight(a.config,a.viewModel,h.viewState,c,j))}return e},d._moveDownByViewLines=function(a,b,c,e){for(var f=[],g=0,h=b.length;g<h;g++){var i=b[g];f[g]=za.fromViewState(vb.moveDown(a.config,a.viewModel,i.viewState,c,e))}return f},d._moveDownByModelLines=function(a,b,c,e){for(var f=[],g=0,h=b.length;g<h;g++){var i=b[g];f[g]=za.fromModelState(vb.moveDown(a.config,a.model,i.modelState,c,e))}return f},d._moveUpByViewLines=function(a,b,c,e){for(var f=[],g=0,h=b.length;g<h;g++){var i=b[g];f[g]=za.fromViewState(vb.moveUp(a.config,a.viewModel,i.viewState,c,e))}return f},d._moveUpByModelLines=function(a,b,c,e){for(var f=[],g=0,h=b.length;g<h;g++){var i=b[g];f[g]=za.fromModelState(vb.moveUp(a.config,a.model,i.modelState,c,e))}return f},d._moveToViewPosition=function(a,b,c,e,f){return za.fromViewState(b.viewState.move(c,e,f,0))},d._moveToModelPosition=function(a,b,c,e,f){return za.fromModelState(b.modelState.move(c,e,f,0))},d._moveToViewMinColumn=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f],i=h.viewState.position.lineNumber,j=a.viewModel.getLineMinColumn(i);e[f]=this._moveToViewPosition(a,h,c,i,j)}return e},d._moveToViewFirstNonWhitespaceColumn=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f],i=h.viewState.position.lineNumber,j=a.viewModel.getLineFirstNonWhitespaceColumn(i);e[f]=this._moveToViewPosition(a,h,c,i,j)}return e},d._moveToViewCenterColumn=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f],i=h.viewState.position.lineNumber,j=Math.round((a.viewModel.getLineMaxColumn(i)+a.viewModel.getLineMinColumn(i))/2);e[f]=this._moveToViewPosition(a,h,c,i,j)}return e},d._moveToViewMaxColumn=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f],i=h.viewState.position.lineNumber,j=a.viewModel.getLineMaxColumn(i);e[f]=this._moveToViewPosition(a,h,c,i,j)}return e},d._moveToViewLastNonWhitespaceColumn=function(a,b,c){for(var e=[],f=0,g=b.length;f<g;f++){var h=b[f],i=h.viewState.position.lineNumber,j=a.viewModel.getLineLastNonWhitespaceColumn(i);e[f]=this._moveToViewPosition(a,h,c,i,j)}return e},d}(),Pl;(function(d){var a=function(c){if(!Ab(c))return!1;var e=c;return od(e.to)?!dc(e.select)&&!Wo(e.select)?!1:!dc(e.by)&&!od(e.by)?!1:!dc(e.value)&&!id(e.value)?!1:!0:!1};d.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down'
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:a,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},d.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},d.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function b(c){if(!c.to)return null;var e;switch(c.to){case d.RawDirection.Left:e=0;break;case d.RawDirection.Right:e=1;break;case d.RawDirection.Up:e=2;break;case d.RawDirection.Down:e=3;break;case d.RawDirection.WrappedLineStart:e=4;break;case d.RawDirection.WrappedLineFirstNonWhitespaceCharacter:e=5;break;case d.RawDirection.WrappedLineColumnCenter:e=6;break;case d.RawDirection.WrappedLineEnd:e=7;break;case d.RawDirection.WrappedLineLastNonWhitespaceCharacter:e=8;break;case d.RawDirection.ViewPortTop:e=9;break;case d.RawDirection.ViewPortBottom:e=11;break;case d.RawDirection.ViewPortCenter:e=10;break;case d.RawDirection.ViewPortIfOutside:e=12;break;default:return null}var f=0;switch(c.by){case d.RawUnit.Line:f=1;break;case d.RawUnit.WrappedLine:f=2;break;case d.RawUnit.Character:f=3;break;case d.RawUnit.HalfLine:f=4;break}return{direction:e,unit:f,select:!!c.select,value:c.value||1}}d.parse=b})(Pl||(Pl={}));var cv=Object.create(null);function oi(d,a){cv[d]||(cv[d]=["",d]);for(var b=cv[d],c=b.length;c<=a;c++)b[c]=b[c-1]+d;return b[a]}var hg=function(){function d(a,b){this._opts=b,this._selection=a,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return d.unshiftIndent=function(a,b,c,e,f){var g=Ya.visibleColumnFromColumn(a,b,c);if(f){var h=oi(" ",e),i=Ya.prevIndentTabStop(g,e),j=i/e;return oi(h,j)}else{var h="	",i=Ya.prevRenderTabStop(g,c),j=i/c;return oi(h,j)}},d.shiftIndent=function(a,b,c,e,f){var g=Ya.visibleColumnFromColumn(a,b,c);if(f){var h=oi(" ",e),i=Ya.nextIndentTabStop(g,e),j=i/e;return oi(h,j)}else{var h="	",i=Ya.nextRenderTabStop(g,c),j=i/c;return oi(h,j)}},d.prototype._addEditOperation=function(a,b,c){this._useLastEditRangeForCursorEndPosition?a.addTrackedEditOperation(b,c):a.addEditOperation(b,c)},d.prototype.getEditOperations=function(a,b){var c=this._selection.startLineNumber,e=this._selection.endLineNumber;this._selection.endColumn===1&&c!==e&&(e=e-1);var f=this._opts,g=f.tabSize,h=f.indentSize,i=f.insertSpaces,j=c===e;this._selection.isEmpty()&&(/^\s*$/.test(a.getLineContent(c))&&(this._useLastEditRangeForCursorEndPosition=!0));if(this._opts.useTabStops)for(var k=0,l=0,m=c;m<=e;m++,k=l){l=0;var n=a.getLineContent(m),o=Jb(n);if(this._opts.isUnshift&&(n.length===0||o===0))continue;if(!j&&!this._opts.isUnshift&&n.length===0)continue;o===-1&&(o=n.length);if(m>1){var p=Ya.visibleColumnFromColumn(n,o+1,g);if(p%h!==0){if(a.isCheapToTokenize(m-1)){var q=sa.getEnterAction(this._opts.autoIndent,a,new z(m-1,a.getLineMaxColumn(m-1),m-1,a.getLineMaxColumn(m-1)));if(q){l=k;if(q.appendText)for(var r=0,t=q.appendText.length;r<t&&l<h;r++)if(q.appendText.charCodeAt(r)===32)l++;else break;q.removeText&&(l=Math.max(0,l-q.removeText));for(var r=0;r<l;r++){if(o===0||n.charCodeAt(o-1)!==32)break;o--}}}}}if(this._opts.isUnshift&&o===0)continue;var v=void 0;this._opts.isUnshift?v=d.unshiftIndent(n,o+1,g,h,i):v=d.shiftIndent(n,o+1,g,h,i),this._addEditOperation(b,new z(m,1,m,o+1),v),m===c&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=o+1)}else for(var w=i?oi(" ",h):"	",m=c;m<=e;m++){var n=a.getLineContent(m),o=Jb(n);if(this._opts.isUnshift&&(n.length===0||o===0))continue;if(!j&&!this._opts.isUnshift&&n.length===0)continue;o===-1&&(o=n.length);if(this._opts.isUnshift&&o===0)continue;if(this._opts.isUnshift){o=Math.min(o,h);for(var x=0;x<o;x++){var u=n.charCodeAt(x);if(u===9){o=x+1;break}}this._addEditOperation(b,new z(m,1,m,o+1),"")}else this._addEditOperation(b,new z(m,1,m,1),w),m===c&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}this._selectionId=b.trackSelection(this._selection)},d.prototype.computeCursorState=function(a,b){if(this._useLastEditRangeForCursorEndPosition){var c=b.getInverseEditOperations()[0];return new V(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}var e=b.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var f=this._selection.startColumn,g=e.startColumn;return g<=f?e:e.getDirection()===0?new V(e.startLineNumber,f,e.endLineNumber,e.endColumn):new V(e.endLineNumber,e.endColumn,e.startLineNumber,f)}return e},d}();var LE=function(){function d(a,b,c){this._range=a,this._charBeforeSelection=b,this._charAfterSelection=c}return d.prototype.getEditOperations=function(a,b){b.addTrackedEditOperation(new z(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),b.addTrackedEditOperation(new z(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},d.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),e=c[0].range,f=c[1].range;return new V(e.endLineNumber,e.endColumn,f.endLineNumber,f.endColumn-this._charAfterSelection.length)},d}();var wU=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Hd=function(){function d(){}return d.indent=function(a,b,c){if(b===null||c===null)return[];for(var e=[],f=0,g=c.length;f<g;f++)e[f]=new hg(c[f],{isUnshift:!1,tabSize:a.tabSize,indentSize:a.indentSize,insertSpaces:a.insertSpaces,useTabStops:a.useTabStops,autoIndent:a.autoIndent});return e},d.outdent=function(a,b,c){for(var e=[],f=0,g=c.length;f<g;f++)e[f]=new hg(c[f],{isUnshift:!0,tabSize:a.tabSize,indentSize:a.indentSize,insertSpaces:a.insertSpaces,useTabStops:a.useTabStops,autoIndent:a.autoIndent});return e},d.shiftIndent=function(a,b,c){return c=c||1,hg.shiftIndent(b,b.length+c,a.tabSize,a.indentSize,a.insertSpaces)},d.unshiftIndent=function(a,b,c){return c=c||1,hg.unshiftIndent(b,b.length+c,a.tabSize,a.indentSize,a.insertSpaces)},d._distributedPaste=function(a,b,c,e){for(var f=[],g=0,h=c.length;g<h;g++)f[g]=new Lb(c[g],e[g]);return new Fc(0,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},d._simplePaste=function(a,b,c,e,f){for(var g=[],h=0,i=c.length;h<i;h++){var j=c[h],k=j.getPosition();f&&!j.isEmpty()&&(f=!1),f&&e.indexOf(`
`)!==e.length-1&&(f=!1);if(f){var l=new z(k.lineNumber,1,k.lineNumber,1);g[h]=new ih(l,e,j,!0)}else g[h]=new Lb(j,e)}return new Fc(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},d._distributePasteToCursors=function(a,b,c,e,f){if(e)return null;if(b.length===1)return null;if(f&&f.length===b.length)return f;if(a.multiCursorPaste==="spread"){c.charCodeAt(c.length-1)===10&&(c=c.substr(0,c.length-1)),c.charCodeAt(c.length-1)===13&&(c=c.substr(0,c.length-1));var g=c.split(/\r\n|\r|\n/);if(g.length===b.length)return g}return null},d.paste=function(a,b,c,e,f,g){var h=this._distributePasteToCursors(a,c,e,f,g);return h?(c=c.sort(z.compareRangesUsingStarts),this._distributedPaste(a,b,c,h)):this._simplePaste(a,b,c,e,f)},d._goodIndentForLine=function(a,b,c){var e=null,f="",g=sa.getInheritIndentForLine(a.autoIndent,b,c,!1);if(g)e=g.action,f=g.indentation;else if(c>1){var h=void 0;for(h=c-1;h>=1;h--){var i=b.getLineContent(h),j=_c(i);if(j>=0)break}if(h<1)return null;var k=b.getLineMaxColumn(h),l=sa.getEnterAction(a.autoIndent,b,new z(h,k,h,k));l&&(f=l.indentation+l.appendText)}return e&&(e===qb.Indent&&(f=d.shiftIndent(a,f)),e===qb.Outdent&&(f=d.unshiftIndent(a,f)),f=a.normalizeIndentation(f)),f?f:null},d._replaceJumpToNextIndent=function(a,b,c,e){var f="",g=c.getStartPosition();if(a.insertSpaces)for(var h=Ya.visibleColumnFromColumn2(a,b,g),i=a.indentSize,j=i-h%i,k=0;k<j;k++)f+=" ";else f="	";return new Lb(c,f,e)},d.tab=function(a,b,c){for(var e=[],f=0,g=c.length;f<g;f++){var h=c[f];if(h.isEmpty()){var i=b.getLineContent(h.startLineNumber);if(/^\s*$/.test(i)&&b.isCheapToTokenize(h.startLineNumber)){var j=this._goodIndentForLine(a,b,h.startLineNumber);j=j||"	";var k=a.normalizeIndentation(j);if(!Ug(i,k)){e[f]=new Lb(new z(h.startLineNumber,1,h.startLineNumber,i.length+1),k,!0);continue}}e[f]=this._replaceJumpToNextIndent(a,b,h,!0)}else{if(h.startLineNumber===h.endLineNumber){var l=b.getLineMaxColumn(h.startLineNumber);if(h.startColumn!==1||h.endColumn!==l){e[f]=this._replaceJumpToNextIndent(a,b,h,!1);continue}}e[f]=new hg(h,{isUnshift:!1,tabSize:a.tabSize,indentSize:a.indentSize,insertSpaces:a.insertSpaces,useTabStops:a.useTabStops,autoIndent:a.autoIndent})}}return e},d.replacePreviousChar=function(a,b,c,e,f,g){for(var h=[],i=0,j=e.length;i<j;i++){var k=e[i];if(!k.isEmpty()){h[i]=null;continue}var l=k.getPosition(),m=Math.max(1,l.column-g),n=new z(l.lineNumber,m,l.lineNumber,l.column);h[i]=new Lb(n,f)}return new Fc(1,h,{shouldPushStackElementBefore:a!==1,shouldPushStackElementAfter:!1})},d._typeCommand=function(a,b,c){return c?new fm(a,b,!0):new Lb(a,b,!0)},d._enter=function(a,b,c,e){if(a.autoIndent===0)return d._typeCommand(e,`
`,c);if(!b.isCheapToTokenize(e.getStartPosition().lineNumber)||a.autoIndent===1){var f=b.getLineContent(e.startLineNumber),g=cb(f).substring(0,e.startColumn-1);return d._typeCommand(e,`
`+a.normalizeIndentation(g),c)}var h=sa.getEnterAction(a.autoIndent,b,e);if(h){if(h.indentAction===qb.None)return d._typeCommand(e,`
`+a.normalizeIndentation(h.indentation+h.appendText),c);{if(h.indentAction===qb.Indent)return d._typeCommand(e,`
`+a.normalizeIndentation(h.indentation+h.appendText),c);if(h.indentAction===qb.IndentOutdent){var i=a.normalizeIndentation(h.indentation),j=a.normalizeIndentation(h.indentation+h.appendText),k=`
`+j+`
`+i;return c?new fm(e,k,!0):new Cp(e,k,-1,j.length-i.length,!0)}else if(h.indentAction===qb.Outdent){var l=d.unshiftIndent(a,h.indentation);return d._typeCommand(e,`
`+a.normalizeIndentation(l+h.appendText),c)}}}var m=b.getLineContent(e.startLineNumber),n=cb(m).substring(0,e.startColumn-1);if(a.autoIndent>=4){var o=sa.getIndentForEnter(a.autoIndent,b,e,{unshiftIndent:function(x){return d.unshiftIndent(a,x)},shiftIndent:function(x){return d.shiftIndent(a,x)},normalizeIndentation:function(x){return a.normalizeIndentation(x)}});if(o){var p=Ya.visibleColumnFromColumn2(a,b,e.getEndPosition()),q=e.endColumn,r=`
`;n!==a.normalizeIndentation(o.beforeEnter)&&(r=a.normalizeIndentation(o.beforeEnter)+m.substring(n.length,e.startColumn-1)+`
`,e=new z(e.startLineNumber,1,e.endLineNumber,e.endColumn));var t=b.getLineContent(e.endLineNumber),v=Jb(t);v>=0?e=e.setEndPosition(e.endLineNumber,Math.max(e.endColumn,v+1)):e=e.setEndPosition(e.endLineNumber,b.getLineMaxColumn(e.endLineNumber));if(c)return new fm(e,r+a.normalizeIndentation(o.afterEnter),!0);{var w=0;return q<=v+1&&(a.insertSpaces||(p=Math.ceil(p/a.indentSize)),w=Math.min(p+1-a.normalizeIndentation(o.afterEnter).length-1,0)),new Cp(e,r+a.normalizeIndentation(o.afterEnter),0,w,!0)}}}return d._typeCommand(e,`
`+a.normalizeIndentation(n),c)},d._isAutoIndentType=function(a,b,c){if(a.autoIndent<4)return!1;for(var e=0,f=c.length;e<f;e++)if(!b.isCheapToTokenize(c[e].getEndPosition().lineNumber))return!1;return!0},d._runAutoIndentType=function(a,b,c,e){var f=sa.getIndentationAtPosition(b,c.startLineNumber,c.startColumn),g=sa.getIndentActionForType(a.autoIndent,b,c,e,{shiftIndent:function(i){return d.shiftIndent(a,i)},unshiftIndent:function(i){return d.unshiftIndent(a,i)}});if(g===null)return null;if(g!==a.normalizeIndentation(f)){var h=b.getLineFirstNonWhitespaceColumn(c.startLineNumber);return h===0?d._typeCommand(new z(c.startLineNumber,0,c.endLineNumber,c.endColumn),a.normalizeIndentation(g)+e,!1):d._typeCommand(new z(c.startLineNumber,0,c.endLineNumber,c.endColumn),a.normalizeIndentation(g)+b.getLineContent(c.startLineNumber).substring(h-1,c.startColumn-1)+e,!1)}return null},d._isAutoClosingOvertype=function(a,b,c,e,f){if(a.autoClosingOvertype==="never")return!1;if(!a.autoClosingPairsClose2.has(f))return!1;for(var g=0,h=c.length;g<h;g++){var i=c[g];if(!i.isEmpty())return!1;var j=i.getPosition(),k=b.getLineContent(j.lineNumber),l=k.charAt(j.column-1);if(l!==f)return!1;var m=kh(f),n=j.column>2?k.charCodeAt(j.column-2):0;if(n===92&&m)return!1;if(a.autoClosingOvertype==="auto"){for(var o=!1,p=0,q=e.length;p<q;p++){var r=e[p];if(j.lineNumber===r.startLineNumber&&j.column===r.startColumn){o=!0;break}}if(!o)return!1}}return!0},d._runAutoClosingOvertype=function(a,b,c,e,f){for(var g=[],h=0,i=e.length;h<i;h++){var j=e[h],k=j.getPosition(),l=new z(k.lineNumber,k.column,k.lineNumber,k.column+1);g[h]=new Lb(l,f)}return new Fc(1,g,{shouldPushStackElementBefore:a!==1,shouldPushStackElementAfter:!1})},d._autoClosingPairIsSymmetric=function(a){var b=a.open,c=a.close;return b.indexOf(c)>=0||c.indexOf(b)>=0},d._isBeforeClosingBrace=function(a,b,c){var e=a.autoClosingPairsClose2.get(c);if(!e)return!1;for(var f=d._autoClosingPairIsSymmetric(b),g=0,h=e;g<h.length;g++){var i=h[g],j=d._autoClosingPairIsSymmetric(i);if(!f&&j)continue;return!0}return!1},d._findAutoClosingPairOpen=function(a,b,c,e){var f=a.autoClosingPairsOpen2.get(e);if(!f)return null;for(var g=null,h=0,i=f;h<i.length;h++){var j=i[h];if(g===null||j.open.length>g.open.length){for(var k=!0,l=0,m=c;l<m.length;l++){var n=m[l],o=b.getValueInRange(new z(n.lineNumber,n.column-j.open.length+1,n.lineNumber,n.column));if(o+e!==j.open){k=!1;break}}k&&(g=j)}}return g},d._isAutoClosingOpenCharType=function(a,b,c,e,f){var g=kh(e),h=g?a.autoClosingQuotes:a.autoClosingBrackets;if(h==="never")return null;var i=this._findAutoClosingPairOpen(a,b,c.map(function(w){return w.getPosition()}),e);if(!i)return null;for(var j=g?a.shouldAutoCloseBefore.quote:a.shouldAutoCloseBefore.bracket,k=0,l=c.length;k<l;k++){var m=c[k];if(!m.isEmpty())return null;var n=m.getPosition(),o=b.getLineContent(n.lineNumber);if(o.length>n.column-1){var p=o.charAt(n.column-1),q=d._isBeforeClosingBrace(a,i,p);if(!q&&!j(p))return null}if(!b.isCheapToTokenize(n.lineNumber))return null;if(i.open.length===1&&g&&h!=="always"){var r=qd(a.wordSeparators);if(f&&n.column>1&&r.get(o.charCodeAt(n.column-2))===0)return null;if(!f&&n.column>2&&r.get(o.charCodeAt(n.column-3))===0)return null}b.forceTokenization(n.lineNumber);var t=b.getLineTokens(n.lineNumber),v=!1;try{v=sa.shouldAutoClosePair(i,t,f?n.column:n.column-1)}catch(w){W(w)}if(!v)return null}return i},d._runAutoClosingOpenCharType=function(a,b,c,e,f,g,h){for(var i=[],j=0,k=e.length;j<k;j++){var l=e[j];i[j]=new jv(l,f,g,h.close)}return new Fc(1,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},d._shouldSurroundChar=function(a,b){return kh(b)?a.autoSurround==="quotes"||a.autoSurround==="languageDefined":a.autoSurround==="brackets"||a.autoSurround==="languageDefined"},d._isSurroundSelectionType=function(a,b,c,e){if(!d._shouldSurroundChar(a,e)||!a.surroundingPairs.hasOwnProperty(e))return!1;for(var f=kh(e),g=0,h=c.length;g<h;g++){var i=c[g];if(i.isEmpty())return!1;for(var j=!0,k=i.startLineNumber;k<=i.endLineNumber;k++){var l=b.getLineContent(k),m=k===i.startLineNumber?i.startColumn-1:0,n=k===i.endLineNumber?i.endColumn-1:l.length,o=l.substring(m,n);if(/[^ \t]/.test(o)){j=!1;break}}if(j)return!1;if(f&&i.startLineNumber===i.endLineNumber&&i.startColumn+1===i.endColumn){var p=b.getValueInRange(i);if(kh(p))return!1}}return!0},d._runSurroundSelectionType=function(a,b,c,e,f){for(var g=[],h=0,i=e.length;h<i;h++){var j=e[h],k=b.surroundingPairs[f];g[h]=new LE(j,f,k)}return new Fc(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},d._isTypeInterceptorElectricChar=function(a,b,c){return c.length===1&&b.isCheapToTokenize(c[0].getEndPosition().lineNumber)?!0:!1},d._typeInterceptorElectricChar=function(a,b,c,e,f){if(!b.electricChars.hasOwnProperty(f)||!e.isEmpty())return null;var g=e.getPosition();c.forceTokenization(g.lineNumber);var h=c.getLineTokens(g.lineNumber),i;try{i=sa.onElectricCharacter(f,h,g.column)}catch(w){return W(w),null}if(!i)return null;if(i.matchOpenBracket){var j=(h.getLineContent()+f).lastIndexOf(i.matchOpenBracket)+1,k=c.findMatchingBracketUp(i.matchOpenBracket,{lineNumber:g.lineNumber,column:j});if(k){if(k.startLineNumber===g.lineNumber)return null;var l=c.getLineContent(k.startLineNumber),m=cb(l),n=b.normalizeIndentation(m),o=c.getLineContent(g.lineNumber),p=c.getLineFirstNonWhitespaceColumn(g.lineNumber)||g.column,q=o.substring(p-1,g.column-1),r=n+q+f,t=new z(g.lineNumber,1,g.lineNumber,g.column),v=new Lb(t,r);return new Fc(1,[v],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},d.compositionEndWithInterceptors=function(a,b,c,e,f,g){if(!e||V.selectionsArrEqual(e,f))return null;for(var h=null,i=0,j=f;i<j.length;i++){var k=j[i];if(!k.isEmpty())return null;var l=k.getPosition(),m=c.getValueInRange(new z(l.lineNumber,l.column-1,l.lineNumber,l.column));if(h===null)h=m;else if(h!==m)return null}if(!h)return null;if(this._isAutoClosingOvertype(b,c,f,g,h)){var n=f.map(function(p){return new Lb(new z(p.positionLineNumber,p.positionColumn,p.positionLineNumber,p.positionColumn+1),"",!1)});return new Fc(1,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var o=this._isAutoClosingOpenCharType(b,c,f,h,!1);return o?this._runAutoClosingOpenCharType(a,b,c,f,h,!1,o):null},d.typeWithInterceptors=function(a,b,c,e,f,g){if(g===`
`){for(var h=[],i=0,j=e.length;i<j;i++)h[i]=d._enter(b,c,!1,e[i]);return new Fc(1,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoIndentType(b,c,e)){for(var k=[],l=!1,i=0,j=e.length;i<j;i++){k[i]=this._runAutoIndentType(b,c,e[i],g);if(!k[i]){l=!0;break}}if(!l)return new Fc(1,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(b,c,e,f,g))return this._runAutoClosingOvertype(a,b,c,e,g);var m=this._isAutoClosingOpenCharType(b,c,e,g,!0);if(m)return this._runAutoClosingOpenCharType(a,b,c,e,g,!0,m);if(this._isSurroundSelectionType(b,c,e,g))return this._runSurroundSelectionType(a,b,c,e,g);if(this._isTypeInterceptorElectricChar(b,c,e)){var n=this._typeInterceptorElectricChar(a,b,c,e[0],g);if(n)return n}for(var o=[],i=0,j=e.length;i<j;i++)o[i]=new Lb(e[i],g);var p=a!==1;return g===" "&&(p=!0),new Fc(1,o,{shouldPushStackElementBefore:p,shouldPushStackElementAfter:!1})},d.typeWithoutInterceptors=function(a,b,c,e,f){for(var g=[],h=0,i=e.length;h<i;h++)g[h]=new Lb(e[h],f);return new Fc(1,g,{shouldPushStackElementBefore:a!==1,shouldPushStackElementAfter:!1})},d.lineInsertBefore=function(a,b,c){if(b===null||c===null)return[];for(var e=[],f=0,g=c.length;f<g;f++){var h=c[f].positionLineNumber;if(h===1)e[f]=new fm(new z(1,1,1,1),`
`);else{h--;var i=b.getLineMaxColumn(h);e[f]=this._enter(a,b,!1,new z(h,i,h,i))}}return e},d.lineInsertAfter=function(a,b,c){if(b===null||c===null)return[];for(var e=[],f=0,g=c.length;f<g;f++){var h=c[f].positionLineNumber,i=b.getLineMaxColumn(h);e[f]=this._enter(a,b,!1,new z(h,i,h,i))}return e},d.lineBreakInsert=function(a,b,c){for(var e=[],f=0,g=c.length;f<g;f++)e[f]=this._enter(a,b,!0,c[f]);return e},d}(),jv=function(d){wU(a,d);function a(b,c,e,f){var g=d.call(this,b,(e?c:"")+f,0,-f.length)||this;return g._openCharacter=c,g._closeCharacter=f,g.closeCharacterRange=null,g.enclosingRange=null,g}return a.prototype.computeCursorState=function(b,c){var e=c.getInverseEditOperations(),f=e[0].range;return this.closeCharacterRange=new z(f.startLineNumber,f.endColumn-this._closeCharacter.length,f.endLineNumber,f.endColumn),this.enclosingRange=new z(f.startLineNumber,f.endColumn-this._openCharacter.length-this._closeCharacter.length,f.endLineNumber,f.endColumn),d.prototype.computeCursorState.call(this,b,c)},a}(Cp);var C;(function(d){d.editorSimpleInput=new ea("editorSimpleInput",!1),d.editorTextFocus=new ea("editorTextFocus",!1),d.focus=new ea("editorFocus",!1),d.textInputFocus=new ea("textInputFocus",!1),d.readOnly=new ea("editorReadonly",!1),d.writable=d.readOnly.toNegated(),d.hasNonEmptySelection=new ea("editorHasSelection",!1),d.hasOnlyEmptySelection=d.hasNonEmptySelection.toNegated(),d.hasMultipleSelections=new ea("editorHasMultipleSelections",!1),d.hasSingleSelection=d.hasMultipleSelections.toNegated(),d.tabMovesFocus=new ea("editorTabMovesFocus",!1),d.tabDoesNotMoveFocus=d.tabMovesFocus.toNegated(),d.isInEmbeddedEditor=new ea("isInEmbeddedEditor",!1),d.canUndo=new ea("canUndo",!1),d.canRedo=new ea("canRedo",!1),d.languageId=new ea("editorLangId",""),d.hasCompletionItemProvider=new ea("editorHasCompletionItemProvider",!1),d.hasCodeActionsProvider=new ea("editorHasCodeActionsProvider",!1),d.hasCodeLensProvider=new ea("editorHasCodeLensProvider",!1),d.hasDefinitionProvider=new ea("editorHasDefinitionProvider",!1),d.hasDeclarationProvider=new ea("editorHasDeclarationProvider",!1),d.hasImplementationProvider=new ea("editorHasImplementationProvider",!1),d.hasTypeDefinitionProvider=new ea("editorHasTypeDefinitionProvider",!1),d.hasHoverProvider=new ea("editorHasHoverProvider",!1),d.hasDocumentHighlightProvider=new ea("editorHasDocumentHighlightProvider",!1),d.hasDocumentSymbolProvider=new ea("editorHasDocumentSymbolProvider",!1),d.hasReferenceProvider=new ea("editorHasReferenceProvider",!1),d.hasRenameProvider=new ea("editorHasRenameProvider",!1),d.hasSignatureHelpProvider=new ea("editorHasSignatureHelpProvider",!1),d.hasDocumentFormattingProvider=new ea("editorHasDocumentFormattingProvider",!1),d.hasDocumentSelectionFormattingProvider=new ea("editorHasDocumentSelectionFormattingProvider",!1),d.hasMultipleDocumentFormattingProvider=new ea("editorHasMultipleDocumentFormattingProvider",!1),d.hasMultipleDocumentSelectionFormattingProvider=new ea("editorHasMultipleDocumentSelectionFormattingProvider",!1)})(C||(C={}));var Fa=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Da=0,Eb=function(d){Fa(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.runEditorCommand=function(b,c,e){var f=c._getCursors();if(!f)return;this.runCoreEditorCommand(f,e||{})},a}(ob),dp;(function(d){var a=function(c){if(!Ab(c))return!1;var e=c;return od(e.to)?!dc(e.by)&&!od(e.by)?!1:!dc(e.value)&&!id(e.value)?!1:!dc(e.revealCursor)&&!Wo(e.revealCursor)?!1:!0:!1};d.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:a,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},d.RawDirection={Up:"up",Down:"down"},d.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function b(c){var e;switch(c.to){case d.RawDirection.Up:e=1;break;case d.RawDirection.Down:e=2;break;default:return null}var f;switch(c.by){case d.RawUnit.Line:f=1;break;case d.RawUnit.WrappedLine:f=2;break;case d.RawUnit.Page:f=3;break;case d.RawUnit.HalfPage:f=4;break;default:f=2}var g=Math.floor(c.value||1),h=!!c.revealCursor;return{direction:e,unit:f,value:g,revealCursor:h,select:!!c.select}}d.parse=b})(dp||(dp={}));var Ej;(function(d){var a=function(b){if(!Ab(b))return!1;var c=b;return id(c.lineNumber)?!dc(c.at)&&!od(c.at)?!1:!0:!1};d.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed .\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:a,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},d.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(Ej||(Ej={}));var Cc;(function(d){var a=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._inSelectionMode=r.inSelectionMode,t}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,[jc.moveTo(r.context,r.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),r.reveal(t.source,!0,0,0)},q}(Eb);d.MoveTo=Q(new a({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),d.MoveToSelect=Q(new a({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var b=function(p){Fa(q,p);function q(){return p!==null&&p.apply(this,arguments)||this}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement();var v=this._getColumnSelectResult(r.context,r.getPrimaryCursor(),r.getColumnSelectData(),t);r.setStates(t.source,3,v.viewStates.map(function(w){return za.fromViewState(w)})),r.setColumnSelectData({isReal:!0,fromViewLineNumber:v.fromLineNumber,fromViewVisualColumn:v.fromVisualColumn,toViewLineNumber:v.toLineNumber,toViewVisualColumn:v.toVisualColumn}),r.reveal(t.source,!0,v.reversed?1:2,0)},q}(Eb);d.ColumnSelect=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"columnSelect",precondition:void 0})||this}return q.prototype._getColumnSelectResult=function(r,t,v,w){var x=r.model.validatePosition(w.position),u=r.validateViewPosition(new G(w.viewPosition.lineNumber,w.viewPosition.column),x),y=w.doColumnSelect?v.fromViewLineNumber:u.lineNumber,A=w.doColumnSelect?v.fromViewVisualColumn:w.mouseColumn-1;return Dj.columnSelect(r.config,r.viewModel,y,A,u.lineNumber,w.mouseColumn-1)},q}(b))()),d.CursorColumnSelectLeft=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})||this}return q.prototype._getColumnSelectResult=function(r,t,v,w){return Dj.columnSelectLeft(r.config,r.viewModel,v)},q}(b))()),d.CursorColumnSelectRight=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})||this}return q.prototype._getColumnSelectResult=function(r,t,v,w){return Dj.columnSelectRight(r.config,r.viewModel,v)},q}(b))());var c=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._isPaged=r.isPaged,t}return q.prototype._getColumnSelectResult=function(r,t,v,w){return Dj.columnSelectUp(r.config,r.viewModel,v,this._isPaged)},q}(b);d.CursorColumnSelectUp=Q(new c({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),d.CursorColumnSelectPageUp=Q(new c({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));var e=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._isPaged=r.isPaged,t}return q.prototype._getColumnSelectResult=function(r,t,v,w){return Dj.columnSelectDown(r.config,r.viewModel,v,this._isPaged)},q}(b);d.CursorColumnSelectDown=Q(new e({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),d.CursorColumnSelectPageDown=Q(new e({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));var f=function(p){Fa(q,p);function q(){return p.call(this,{id:"cursorMove",precondition:void 0,description:Pl.description})||this}return q.prototype.runCoreEditorCommand=function(r,t){var v=Pl.parse(t);if(!v)return;this._runCursorMove(r,t.source,v)},q.prototype._runCursorMove=function(r,t,v){r.context.model.pushStackElement(),r.setStates(t,3,jc.move(r.context,r.getAll(),v)),r.reveal(t,!0,0,0)},q}(Eb);d.CursorMoveImpl=f,d.CursorMove=Q(new f());var g=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._staticArgs=r.args,t}return q.prototype.runCoreEditorCommand=function(r,t){var v=this._staticArgs;this._staticArgs.value===-1&&(v={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:r.context.config.pageSize}),d.CursorMove._runCursorMove(r,t.source,v)},q}(Eb);d.CursorLeft=Q(new g({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),d.CursorLeftSelect=Q(new g({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1024|15}})),d.CursorRight=Q(new g({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),d.CursorRightSelect=Q(new g({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1024|17}})),d.CursorUp=Q(new g({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),d.CursorUpSelect=Q(new g({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),d.CursorPageUp=Q(new g({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:11}})),d.CursorPageUpSelect=Q(new g({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1024|11}})),d.CursorDown=Q(new g({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),d.CursorDownSelect=Q(new g({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),d.CursorPageDown=Q(new g({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:12}})),d.CursorPageDownSelect=Q(new g({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1024|12}})),d.CreateCursor=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"createCursor",precondition:void 0})||this}return q.prototype.runCoreEditorCommand=function(r,t){var v=r.context,w;t.wholeLine?w=jc.line(v,r.getPrimaryCursor(),!1,t.position,t.viewPosition):w=jc.moveTo(v,r.getPrimaryCursor(),!1,t.position,t.viewPosition);var x=r.getAll();if(x.length>1)for(var u=w.modelState?w.modelState.position:null,y=w.viewState?w.viewState.position:null,A=0,F=x.length;A<F;A++){var B=x[A];if(u&&!B.modelState.selection.containsPosition(u))continue;if(y&&!B.viewState.selection.containsPosition(y))continue;x.splice(A,1),r.context.model.pushStackElement(),r.setStates(t.source,3,x);return}x.push(w),r.context.model.pushStackElement(),r.setStates(t.source,3,x)},q}(Eb))()),d.LastCursorMoveToSelect=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})||this}return q.prototype.runCoreEditorCommand=function(r,t){var v=r.context,w=r.getLastAddedCursorIndex(),x=r.getAll(),u=x.slice(0);u[w]=jc.moveTo(v,x[w],!0,t.position,t.viewPosition),r.context.model.pushStackElement(),r.setStates(t.source,3,u)},q}(Eb))());var h=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._inSelectionMode=r.inSelectionMode,t}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,jc.moveToBeginningOfLine(r.context,r.getAll(),this._inSelectionMode)),r.reveal(t.source,!0,0,0)},q}(Eb);d.CursorHome=Q(new h({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),d.CursorHomeSelect=Q(new h({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}})),d.CursorLineStart=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:0,mac:{primary:256|31}}})||this}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,this._exec(r.context,r.getAll())),r.reveal(t.source,!0,0,0)},q.prototype._exec=function(r,t){for(var v=[],w=0,x=t.length;w<x;w++){var u=t[w],y=u.modelState.position.lineNumber;v[w]=za.fromModelState(u.modelState.move(!1,y,1,0))}return v},q}(Eb))());var i=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._inSelectionMode=r.inSelectionMode,t}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,jc.moveToEndOfLine(r.context,r.getAll(),this._inSelectionMode)),r.reveal(t.source,!0,0,0)},q}(Eb);d.CursorEnd=Q(new i({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}}})),d.CursorEndSelect=Q(new i({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}}})),d.CursorLineEnd=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:0,mac:{primary:256|35}}})||this}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,this._exec(r.context,r.getAll())),r.reveal(t.source,!0,0,0)},q.prototype._exec=function(r,t){for(var v=[],w=0,x=t.length;w<x;w++){var u=t[w],y=u.modelState.position.lineNumber,A=r.model.getLineMaxColumn(y);v[w]=za.fromModelState(u.modelState.move(!1,y,A,0))}return v},q}(Eb))());var j=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._inSelectionMode=r.inSelectionMode,t}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,jc.moveToBeginningOfBuffer(r.context,r.getAll(),this._inSelectionMode)),r.reveal(t.source,!0,0,0)},q}(Eb);d.CursorTop=Q(new j({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),d.CursorTopSelect=Q(new j({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));var k=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._inSelectionMode=r.inSelectionMode,t}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,jc.moveToEndOfBuffer(r.context,r.getAll(),this._inSelectionMode)),r.reveal(t.source,!0,0,0)},q}(Eb);d.CursorBottom=Q(new k({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),d.CursorBottomSelect=Q(new k({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));var l=function(p){Fa(q,p);function q(){return p.call(this,{id:"editorScroll",precondition:void 0,description:dp.description})||this}return q.prototype.runCoreEditorCommand=function(r,t){var v=dp.parse(t);if(!v)return;this._runEditorScroll(r,t.source,v)},q.prototype._runEditorScroll=function(r,t,v){var w=this._computeDesiredScrollTop(r.context,v);if(v.revealCursor){var x=r.context.getCompletelyVisibleViewRangeAtScrollTop(w);r.setStates(t,3,[jc.findPositionInViewportIfOutside(r.context,r.getPrimaryCursor(),x,v.select)])}r.scrollTo(w)},q.prototype._computeDesiredScrollTop=function(r,t){if(t.unit===1){var v=r.getCompletelyVisibleModelRange(),w=void 0;t.direction===1?w=Math.max(1,v.startLineNumber-t.value):w=Math.min(r.model.getLineCount(),v.startLineNumber+t.value);var x=r.convertModelPositionToViewPosition(new G(w,1));return r.getVerticalOffsetForViewLine(x.lineNumber)}var u;t.unit===3?u=r.config.pageSize*t.value:t.unit===4?u=Math.round(r.config.pageSize/2)*t.value:u=t.value;var y=(t.direction===1?-1:1)*u;return r.getCurrentScrollTop()+y*r.config.lineHeight},q}(Eb);d.EditorScrollImpl=l,d.EditorScroll=Q(new l()),d.ScrollLineUp=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|16,mac:{primary:256|11}}})||this}return q.prototype.runCoreEditorCommand=function(r,t){d.EditorScroll._runEditorScroll(r,t.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},q}(Eb))()),d.ScrollPageUp=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})||this}return q.prototype.runCoreEditorCommand=function(r,t){d.EditorScroll._runEditorScroll(r,t.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},q}(Eb))()),d.ScrollLineDown=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|18,mac:{primary:256|12}}})||this}return q.prototype.runCoreEditorCommand=function(r,t){d.EditorScroll._runEditorScroll(r,t.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},q}(Eb))()),d.ScrollPageDown=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})||this}return q.prototype.runCoreEditorCommand=function(r,t){d.EditorScroll._runEditorScroll(r,t.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},q}(Eb))());var m=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._inSelectionMode=r.inSelectionMode,t}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,[jc.word(r.context,r.getPrimaryCursor(),this._inSelectionMode,t.position)]),r.reveal(t.source,!0,0,0)},q}(Eb);d.WordSelect=Q(new m({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),d.WordSelectDrag=Q(new m({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),d.LastCursorWordSelect=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"lastCursorWordSelect",precondition:void 0})||this}return q.prototype.runCoreEditorCommand=function(r,t){var v=r.context,w=r.getLastAddedCursorIndex(),x=r.getAll(),u=x.slice(0),y=x[w];u[w]=jc.word(v,y,y.modelState.hasSelection(),t.position),v.model.pushStackElement(),r.setStates(t.source,3,u)},q}(Eb))());var n=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._inSelectionMode=r.inSelectionMode,t}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,[jc.line(r.context,r.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),r.reveal(t.source,!1,0,0)},q}(Eb);d.LineSelect=Q(new n({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),d.LineSelectDrag=Q(new n({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var o=function(p){Fa(q,p);function q(r){var t=p.call(this,r)||this;return t._inSelectionMode=r.inSelectionMode,t}return q.prototype.runCoreEditorCommand=function(r,t){var v=r.getLastAddedCursorIndex(),w=r.getAll(),x=w.slice(0);x[v]=jc.line(r.context,w[v],this._inSelectionMode,t.position,t.viewPosition),r.context.model.pushStackElement(),r.setStates(t.source,3,x)},q}(Eb);d.LastCursorLineSelect=Q(new o({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),d.LastCursorLineSelectDrag=Q(new o({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),d.ExpandLineSelection=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"expandLineSelection",precondition:void 0,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|42}})||this}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,jc.expandLineSelection(r.context,r.getAll())),r.reveal(t.source,!0,0,0)},q}(Eb))()),d.CancelSelection=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"cancelSelection",precondition:C.hasNonEmptySelection,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:9,secondary:[1024|9]}})||this}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,[jc.cancelSelection(r.context,r.getPrimaryCursor())]),r.reveal(t.source,!0,0,0)},q}(Eb))()),d.RemoveSecondaryCursors=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"removeSecondaryCursors",precondition:C.hasMultipleSelections,kbOpts:{weight:Da+1,kbExpr:C.textInputFocus,primary:9,secondary:[1024|9]}})||this}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,[r.getPrimaryCursor()]),r.reveal(t.source,!0,0,0)},q}(Eb))()),d.RevealLine=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"revealLine",precondition:void 0,description:Ej.description})||this}return q.prototype.runCoreEditorCommand=function(r,t){var v=t,w=(v.lineNumber||0)+1;w<1&&(w=1);var x=r.context.model.getLineCount();w>x&&(w=x);var u=new z(w,1,w,r.context.model.getLineMaxColumn(w)),y=0;if(v.at)switch(v.at){case Ej.RawAtArgument.Top:y=3;break;case Ej.RawAtArgument.Center:y=1;break;case Ej.RawAtArgument.Bottom:y=4;break;default:break}var A=r.context.convertModelRangeToViewRange(u);r.revealRange(t.source,!1,A,y,0)},q}(Eb))()),d.SelectAll=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"selectAll",precondition:void 0})||this}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,[jc.selectAll(r.context,r.getPrimaryCursor())])},q}(Eb))()),d.SetSelection=Q(new(function(p){Fa(q,p);function q(){return p.call(this,{id:"setSelection",precondition:void 0})||this}return q.prototype.runCoreEditorCommand=function(r,t){r.context.model.pushStackElement(),r.setStates(t.source,3,[za.fromModelSelection(t.selection)])},q}(Eb))())})(Cc||(Cc={}));var ep;(function(d){var a=function(b){Fa(c,b);function c(){return b!==null&&b.apply(this,arguments)||this}return c.prototype.runEditorCommand=function(e,f,g){var h=f._getCursors();if(!h)return;this.runCoreEditingCommand(f,h,g||{})},c}(ob);d.CoreEditingCommand=a,d.LineBreakInsert=Q(new(function(b){Fa(c,b);function c(){return b.call(this,{id:"lineBreakInsert",precondition:C.writable,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:0,mac:{primary:256|45}}})||this}return c.prototype.runCoreEditingCommand=function(e,f,g){e.pushUndoStop(),e.executeCommands(this.id,Hd.lineBreakInsert(f.context.config,f.context.model,f.getAll().map(function(h){return h.modelState.selection})))},c}(a))()),d.Outdent=Q(new(function(b){Fa(c,b);function c(){return b.call(this,{id:"outdent",precondition:C.writable,kbOpts:{weight:Da,kbExpr:Z.and(C.editorTextFocus,C.tabDoesNotMoveFocus),primary:1024|2}})||this}return c.prototype.runCoreEditingCommand=function(e,f,g){e.pushUndoStop(),e.executeCommands(this.id,Hd.outdent(f.context.config,f.context.model,f.getAll().map(function(h){return h.modelState.selection}))),e.pushUndoStop()},c}(a))()),d.Tab=Q(new(function(b){Fa(c,b);function c(){return b.call(this,{id:"tab",precondition:C.writable,kbOpts:{weight:Da,kbExpr:Z.and(C.editorTextFocus,C.tabDoesNotMoveFocus),primary:2}})||this}return c.prototype.runCoreEditingCommand=function(e,f,g){e.pushUndoStop(),e.executeCommands(this.id,Hd.tab(f.context.config,f.context.model,f.getAll().map(function(h){return h.modelState.selection}))),e.pushUndoStop()},c}(a))()),d.DeleteLeft=Q(new(function(b){Fa(c,b);function c(){return b.call(this,{id:"deleteLeft",precondition:C.writable,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})||this}return c.prototype.runCoreEditingCommand=function(e,f,g){var h=Ol.deleteLeft(f.getPrevEditOperationType(),f.context.config,f.context.model,f.getAll().map(function(k){return k.modelState.selection})),i=h[0],j=h[1];i&&e.pushUndoStop(),e.executeCommands(this.id,j),f.setPrevEditOperationType(2)},c}(a))()),d.DeleteRight=Q(new(function(b){Fa(c,b);function c(){return b.call(this,{id:"deleteRight",precondition:C.writable,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})||this}return c.prototype.runCoreEditingCommand=function(e,f,g){var h=Ol.deleteRight(f.getPrevEditOperationType(),f.context.config,f.context.model,f.getAll().map(function(k){return k.modelState.selection})),i=h[0],j=h[1];i&&e.pushUndoStop(),e.executeCommands(this.id,j),f.setPrevEditOperationType(3)},c}(a))())})(ep||(ep={}));function ai(d){d.register()}var yu=function(d){Fa(a,d);function a(b){var c=d.call(this,b)||this;return c._editorHandler=b.editorHandler,c._inputHandler=b.inputHandler,c}return a.prototype.runCommand=function(b,c){var e=b.get(ya).getFocusedCodeEditor();if(e&&e.hasTextFocus())return this._runEditorHandler(b,e,c);var f=document.activeElement;if(f&&["input","textarea"].indexOf(f.tagName.toLowerCase())>=0){document.execCommand(this._inputHandler);return}var g=b.get(ya).getActiveCodeEditor();if(g)return g.focus(),this._runEditorHandler(b,g,c)},a.prototype._runEditorHandler=function(b,c,e){var f=this._editorHandler;typeof f==="string"?c.trigger("keyboard",f,e):(e=e||{},e.source="keyboard",f.runEditorCommand(b,c,e))},a}(cp),fp=function(d){Fa(a,d);function a(b,c,e){var f=d.call(this,{id:b,precondition:void 0,description:e})||this;return f._handlerId=c,f}return a.prototype.runCommand=function(b,c){var e=b.get(ya).getFocusedCodeEditor();if(!e)return;e.trigger("keyboard",this._handlerId,c)},a}(cp);ai(new yu({editorHandler:Cc.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:C.textInputFocus,kbOpts:{weight:Da,kbExpr:null,primary:2048|31},menuOpts:{menuId:25,group:"1_basic",title:s({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}}));ai(new yu({editorHandler:Qa.Undo,inputHandler:"undo",id:Qa.Undo,precondition:C.writable,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|56},menuOpts:{menuId:17,group:"1_do",title:s({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}}));ai(new fp("default:"+Qa.Undo,Qa.Undo));ai(new yu({editorHandler:Qa.Redo,inputHandler:"redo",id:Qa.Redo,precondition:C.writable,kbOpts:{weight:Da,kbExpr:C.textInputFocus,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:{menuId:17,group:"1_do",title:s({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}}));ai(new fp("default:"+Qa.Redo,Qa.Redo));function Fj(d,a){ai(new fp("default:"+d,d)),ai(new fp(d,d,a))}Fj(Qa.Type,{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});Fj(Qa.ReplacePreviousChar);Fj(Qa.CompositionStart);Fj(Qa.CompositionEnd);Fj(Qa.Paste);Fj(Qa.Cut);var lD=function(){function d(a,b,c,e){this.configuration=a,this.viewModel=b,this.outgoingEvents=c,this.commandDelegate=e}return d.prototype._execMouseCommand=function(a,b){b.source="mouse",this.commandDelegate.executeEditorCommand(a,b)},d.prototype.paste=function(a,b,c,e,f){this.commandDelegate.paste(a,b,c,e,f)},d.prototype.type=function(a,b){this.commandDelegate.type(a,b)},d.prototype.replacePreviousChar=function(a,b,c){this.commandDelegate.replacePreviousChar(a,b,c)},d.prototype.compositionStart=function(a){this.commandDelegate.compositionStart(a)},d.prototype.compositionEnd=function(a){this.commandDelegate.compositionEnd(a)},d.prototype.cut=function(a){this.commandDelegate.cut(a)},d.prototype.setSelection=function(a,b){this.commandDelegate.executeEditorCommand(Cc.SetSelection,{source:a,selection:b})},d.prototype._validateViewColumn=function(a){var b=this.viewModel.getLineMinColumn(a.lineNumber);return a.column<b?new G(a.lineNumber,b):a},d.prototype._hasMulticursorModifier=function(a){switch(this.configuration.options.get(59)){case"altKey":return a.altKey;case"ctrlKey":return a.ctrlKey;case"metaKey":return a.metaKey}return!1},d.prototype._hasNonMulticursorModifier=function(a){switch(this.configuration.options.get(59)){case"altKey":return a.ctrlKey||a.metaKey;case"ctrlKey":return a.altKey||a.metaKey;case"metaKey":return a.ctrlKey||a.altKey}return!1},d.prototype.dispatchMouse=function(a){var b=cc&&this.configuration.options.get(81);a.middleButton&&!b?this._columnSelect(a.position,a.mouseColumn,a.inSelectionMode):a.startedOnLineNumbers?this._hasMulticursorModifier(a)?a.inSelectionMode?this._lastCursorLineSelect(a.position):this._createCursor(a.position,!0):a.inSelectionMode?this._lineSelectDrag(a.position):this._lineSelect(a.position):a.mouseDownCount>=4?this._selectAll():a.mouseDownCount===3?this._hasMulticursorModifier(a)?a.inSelectionMode?this._lastCursorLineSelectDrag(a.position):this._lastCursorLineSelect(a.position):a.inSelectionMode?this._lineSelectDrag(a.position):this._lineSelect(a.position):a.mouseDownCount===2?this._hasMulticursorModifier(a)?this._lastCursorWordSelect(a.position):a.inSelectionMode?this._wordSelectDrag(a.position):this._wordSelect(a.position):this._hasMulticursorModifier(a)?this._hasNonMulticursorModifier(a)||(a.shiftKey?this._columnSelect(a.position,a.mouseColumn,!0):a.inSelectionMode?this._lastCursorMoveToSelect(a.position):this._createCursor(a.position,!1)):a.inSelectionMode?a.altKey?this._columnSelect(a.position,a.mouseColumn,!0):this._moveToSelect(a.position):this.moveTo(a.position)},d.prototype._usualArgs=function(a){return a=this._validateViewColumn(a),{position:this._convertViewToModelPosition(a),viewPosition:a}},d.prototype.moveTo=function(a){this._execMouseCommand(Cc.MoveTo,this._usualArgs(a))},d.prototype._moveToSelect=function(a){this._execMouseCommand(Cc.MoveToSelect,this._usualArgs(a))},d.prototype._columnSelect=function(a,b,c){a=this._validateViewColumn(a),this._execMouseCommand(Cc.ColumnSelect,{position:this._convertViewToModelPosition(a),viewPosition:a,mouseColumn:b,doColumnSelect:c})},d.prototype._createCursor=function(a,b){a=this._validateViewColumn(a),this._execMouseCommand(Cc.CreateCursor,{position:this._convertViewToModelPosition(a),viewPosition:a,wholeLine:b})},d.prototype._lastCursorMoveToSelect=function(a){this._execMouseCommand(Cc.LastCursorMoveToSelect,this._usualArgs(a))},d.prototype._wordSelect=function(a){this._execMouseCommand(Cc.WordSelect,this._usualArgs(a))},d.prototype._wordSelectDrag=function(a){this._execMouseCommand(Cc.WordSelectDrag,this._usualArgs(a))},d.prototype._lastCursorWordSelect=function(a){this._execMouseCommand(Cc.LastCursorWordSelect,this._usualArgs(a))},d.prototype._lineSelect=function(a){this._execMouseCommand(Cc.LineSelect,this._usualArgs(a))},d.prototype._lineSelectDrag=function(a){this._execMouseCommand(Cc.LineSelectDrag,this._usualArgs(a))},d.prototype._lastCursorLineSelect=function(a){this._execMouseCommand(Cc.LastCursorLineSelect,this._usualArgs(a))},d.prototype._lastCursorLineSelectDrag=function(a){this._execMouseCommand(Cc.LastCursorLineSelectDrag,this._usualArgs(a))},d.prototype._selectAll=function(){this._execMouseCommand(Cc.SelectAll,{})},d.prototype._convertViewToModelPosition=function(a){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(a)},d.prototype.emitKeyDown=function(a){this.outgoingEvents.emitKeyDown(a)},d.prototype.emitKeyUp=function(a){this.outgoingEvents.emitKeyUp(a)},d.prototype.emitContextMenu=function(a){this.outgoingEvents.emitContextMenu(a)},d.prototype.emitMouseMove=function(a){this.outgoingEvents.emitMouseMove(a)},d.prototype.emitMouseLeave=function(a){this.outgoingEvents.emitMouseLeave(a)},d.prototype.emitMouseUp=function(a){this.outgoingEvents.emitMouseUp(a)},d.prototype.emitMouseDown=function(a){this.outgoingEvents.emitMouseDown(a)},d.prototype.emitMouseDrag=function(a){this.outgoingEvents.emitMouseDrag(a)},d.prototype.emitMouseDrop=function(a){this.outgoingEvents.emitMouseDrop(a)},d.prototype.emitMouseWheel=function(a){this.outgoingEvents.emitMouseWheel(a)},d}();var qS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),op=function(d){qS(a,d);function a(b){var c=d.call(this)||this;return c.onDidContentSizeChange=null,c.onDidScroll=null,c.onDidGainFocus=null,c.onDidLoseFocus=null,c.onKeyDown=null,c.onKeyUp=null,c.onContextMenu=null,c.onMouseMove=null,c.onMouseLeave=null,c.onMouseUp=null,c.onMouseDown=null,c.onMouseDrag=null,c.onMouseDrop=null,c.onMouseWheel=null,c._viewModel=b,c}return a.prototype.emitContentSizeChange=function(b){this.onDidContentSizeChange&&this.onDidContentSizeChange(b)},a.prototype.emitScrollChanged=function(b){this.onDidScroll&&this.onDidScroll(b)},a.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},a.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},a.prototype.emitKeyDown=function(b){this.onKeyDown&&this.onKeyDown(b)},a.prototype.emitKeyUp=function(b){this.onKeyUp&&this.onKeyUp(b)},a.prototype.emitContextMenu=function(b){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(b))},a.prototype.emitMouseMove=function(b){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(b))},a.prototype.emitMouseLeave=function(b){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(b))},a.prototype.emitMouseUp=function(b){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(b))},a.prototype.emitMouseDown=function(b){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(b))},a.prototype.emitMouseDrag=function(b){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(b))},a.prototype.emitMouseDrop=function(b){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(b))},a.prototype.emitMouseWheel=function(b){this.onMouseWheel&&this.onMouseWheel(b)},a.prototype._convertViewToModelMouseEvent=function(b){return b.target?{event:b.event,target:this._convertViewToModelMouseTarget(b.target)}:b},a.prototype._convertViewToModelMouseTarget=function(b){return a.convertViewToModelMouseTarget(b,this._viewModel.coordinatesConverter)},a.convertViewToModelMouseTarget=function(b,c){return new rS(b.element,b.type,b.mouseColumn,b.position?c.convertViewPositionToModelPosition(b.position):null,b.range?c.convertViewRangeToModelRange(b.range):null,b.detail)},a}(I),rS=function(){function d(a,b,c,e,f,g){this.element=a,this.type=b,this.mouseColumn=c,this.position=e,this.range=f,this.detail=g}return d.prototype.toString=function(){return Ke.toString(this)},d}();var Ju=function(){function d(a){this._createLine=a,this._set(1,[])}return d.prototype.flush=function(){this._set(1,[])},d.prototype._set=function(a,b){this._lines=b,this._rendLineNumberStart=a},d.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},d.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},d.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},d.prototype.getCount=function(){return this._lines.length},d.prototype.getLine=function(a){var b=a-this._rendLineNumberStart;if(b<0||b>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[b]},d.prototype.onLinesDeleted=function(a,b){if(this.getCount()===0)return null;var c=this.getStartLineNumber(),e=this.getEndLineNumber();if(b<c){var f=b-a+1;return this._rendLineNumberStart-=f,null}if(a>e)return null;for(var g=0,h=0,i=c;i<=e;i++){var j=i-this._rendLineNumberStart;a<=i&&i<=b&&(h===0?(g=j,h=1):h++)}if(a<c){var k=0;b<c?k=b-a+1:k=c-a,this._rendLineNumberStart-=k}var l=this._lines.splice(g,h);return l},d.prototype.onLinesChanged=function(a,b){if(this.getCount()===0)return!1;for(var c=this.getStartLineNumber(),e=this.getEndLineNumber(),f=!1,g=a;g<=b;g++)g>=c&&g<=e&&(this._lines[g-this._rendLineNumberStart].onContentChanged(),f=!0);return f},d.prototype.onLinesInserted=function(a,b){if(this.getCount()===0)return null;var c=b-a+1,e=this.getStartLineNumber(),f=this.getEndLineNumber();if(a<=e)return this._rendLineNumberStart+=c,null;if(a>f)return null;if(c+a>f){var g=this._lines.splice(a-this._rendLineNumberStart,f-a+1);return g}for(var h=[],i=0;i<c;i++)h[i]=this._createLine();var j=a-this._rendLineNumberStart,k=this._lines.slice(0,j),l=this._lines.slice(j,this._lines.length-c),m=this._lines.slice(this._lines.length-c,this._lines.length);return this._lines=k.concat(h).concat(l),m},d.prototype.onTokensChanged=function(a){if(this.getCount()===0)return!1;for(var b=this.getStartLineNumber(),c=this.getEndLineNumber(),e=!1,f=0,g=a.length;f<g;f++){var h=a[f];if(h.toLineNumber<b||h.fromLineNumber>c)continue;for(var i=Math.max(b,h.fromLineNumber),j=Math.min(c,h.toLineNumber),k=i;k<=j;k++){var l=k-this._rendLineNumberStart;this._lines[l].onTokensChanged(),e=!0}}return e},d}(),pp=function(){function d(a){var b=this;this._host=a,this.domNode=this._createDomNode(),this._linesCollection=new Ju(function(){return b._host.createVisibleLine()})}return d.prototype._createDomNode=function(){var a=ma(document.createElement("div"));return a.setClassName("view-layer"),a.setPosition("absolute"),a.domNode.setAttribute("role","presentation"),a.domNode.setAttribute("aria-hidden","true"),a},d.prototype.onConfigurationChanged=function(a){return a.hasChanged(107)?!0:!1},d.prototype.onFlushed=function(a){return this._linesCollection.flush(),!0},d.prototype.onLinesChanged=function(a){return this._linesCollection.onLinesChanged(a.fromLineNumber,a.toLineNumber)},d.prototype.onLinesDeleted=function(a){var b=this._linesCollection.onLinesDeleted(a.fromLineNumber,a.toLineNumber);if(b)for(var c=0,e=b.length;c<e;c++){var f=b[c].getDomNode();f&&this.domNode.domNode.removeChild(f)}return!0},d.prototype.onLinesInserted=function(a){var b=this._linesCollection.onLinesInserted(a.fromLineNumber,a.toLineNumber);if(b)for(var c=0,e=b.length;c<e;c++){var f=b[c].getDomNode();f&&this.domNode.domNode.removeChild(f)}return!0},d.prototype.onScrollChanged=function(a){return a.scrollTopChanged},d.prototype.onTokensChanged=function(a){return this._linesCollection.onTokensChanged(a.ranges)},d.prototype.onZonesChanged=function(a){return!0},d.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},d.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},d.prototype.getVisibleLine=function(a){return this._linesCollection.getLine(a)},d.prototype.renderLines=function(a){var b=this._linesCollection._get(),c=new pS(this.domNode.domNode,this._host,a),e={rendLineNumberStart:b.rendLineNumberStart,lines:b.lines,linesLength:b.lines.length},f=c.render(e,a.startLineNumber,a.endLineNumber,a.relativeVerticalOffset);this._linesCollection._set(f.rendLineNumberStart,f.lines)},d}(),pS=function(){function d(a,b,c){this.domNode=a,this.host=b,this.viewportData=c}return d.prototype.render=function(a,b,c,e){var f={rendLineNumberStart:a.rendLineNumberStart,lines:a.lines.slice(0),linesLength:a.linesLength};if(f.rendLineNumberStart+f.linesLength-1<b||c<f.rendLineNumberStart){f.rendLineNumberStart=b,f.linesLength=c-b+1,f.lines=[];for(var g=b;g<=c;g++)f.lines[g-b]=this.host.createVisibleLine();return this._finishRendering(f,!0,e),f}this._renderUntouchedLines(f,Math.max(b-f.rendLineNumberStart,0),Math.min(c-f.rendLineNumberStart,f.linesLength-1),e,b);if(f.rendLineNumberStart>b){var h=b,i=Math.min(c,f.rendLineNumberStart-1);h<=i&&(this._insertLinesBefore(f,h,i,e,b),f.linesLength+=i-h+1)}else if(f.rendLineNumberStart<b){var j=Math.min(f.linesLength,b-f.rendLineNumberStart);j>0&&(this._removeLinesBefore(f,j),f.linesLength-=j)}f.rendLineNumberStart=b;if(f.rendLineNumberStart+f.linesLength-1<c){var h=f.rendLineNumberStart+f.linesLength,i=c;h<=i&&(this._insertLinesAfter(f,h,i,e,b),f.linesLength+=i-h+1)}else if(f.rendLineNumberStart+f.linesLength-1>c){var h=Math.max(0,c-f.rendLineNumberStart+1),i=f.linesLength-1,j=i-h+1;j>0&&(this._removeLinesAfter(f,j),f.linesLength-=j)}return this._finishRendering(f,!1,e),f},d.prototype._renderUntouchedLines=function(a,b,c,e,f){for(var g=a.rendLineNumberStart,h=a.lines,i=b;i<=c;i++){var j=g+i;h[i].layoutLine(j,e[j-f])}},d.prototype._insertLinesBefore=function(a,b,c,e,f){for(var g=[],h=0,i=b;i<=c;i++)g[h++]=this.host.createVisibleLine();a.lines=g.concat(a.lines)},d.prototype._removeLinesBefore=function(a,b){for(var c=0;c<b;c++){var e=a.lines[c].getDomNode();e&&this.domNode.removeChild(e)}a.lines.splice(0,b)},d.prototype._insertLinesAfter=function(a,b,c,e,f){for(var g=[],h=0,i=b;i<=c;i++)g[h++]=this.host.createVisibleLine();a.lines=a.lines.concat(g)},d.prototype._removeLinesAfter=function(a,b){for(var c=a.linesLength-b,e=0;e<b;e++){var f=a.lines[c+e].getDomNode();f&&this.domNode.removeChild(f)}a.lines.splice(c,b)},d.prototype._finishRenderingNewLines=function(a,b,c,e){var f=this.domNode.lastChild;b||!f?this.domNode.innerHTML=c:f.insertAdjacentHTML("afterend",c);for(var g=this.domNode.lastChild,h=a.linesLength-1;h>=0;h--){var i=a.lines[h];e[h]&&(i.setDomNode(g),g=g.previousSibling)}},d.prototype._finishRenderingInvalidLines=function(a,b,c){var e=document.createElement("div");e.innerHTML=b;for(var f=0;f<a.linesLength;f++){var g=a.lines[f];if(c[f]){var h=e.firstChild,i=g.getDomNode();i.parentNode.replaceChild(h,i),g.setDomNode(h)}}},d.prototype._finishRendering=function(a,b,c){var e=d._sb,f=a.linesLength,g=a.lines,h=a.rendLineNumberStart,i=[];{e.reset();for(var j=!1,k=0;k<f;k++){var l=g[k];i[k]=!1;var m=l.getDomNode();if(m)continue;var n=l.renderLine(k+h,c[k],this.viewportData,e);if(!n)continue;i[k]=!0,j=!0}j&&this._finishRenderingNewLines(a,b,e.build(),i)}{e.reset();for(var o=!1,p=[],k=0;k<f;k++){var l=g[k];p[k]=!1;if(i[k])continue;var n=l.renderLine(k+h,c[k],this.viewportData,e);if(!n)continue;p[k]=!0,o=!0}o&&this._finishRenderingInvalidLines(a,e.build(),p)}},d._sb=pf(1e5),d}();var Ku=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),PD=function(d){Ku(a,d);function a(b){var c=d.call(this,b)||this;return c._visibleLines=new pp(c),c.domNode=c._visibleLines.domNode,c._dynamicOverlays=[],c._isFocused=!1,c.domNode.setClassName("view-overlays"),c}return a.prototype.shouldRender=function(){if(d.prototype.shouldRender.call(this))return!0;for(var b=0,c=this._dynamicOverlays.length;b<c;b++){var e=this._dynamicOverlays[b];if(e.shouldRender())return!0}return!1},a.prototype.dispose=function(){d.prototype.dispose.call(this);for(var b=0,c=this._dynamicOverlays.length;b<c;b++){var e=this._dynamicOverlays[b];e.dispose()}this._dynamicOverlays=[]},a.prototype.getDomNode=function(){return this.domNode},a.prototype.createVisibleLine=function(){return new sS(this._context.configuration,this._dynamicOverlays)},a.prototype.addDynamicOverlay=function(b){this._dynamicOverlays.push(b)},a.prototype.onConfigurationChanged=function(b){this._visibleLines.onConfigurationChanged(b);for(var c=this._visibleLines.getStartLineNumber(),e=this._visibleLines.getEndLineNumber(),f=c;f<=e;f++){var g=this._visibleLines.getVisibleLine(f);g.onConfigurationChanged(b)}return!0},a.prototype.onFlushed=function(b){return this._visibleLines.onFlushed(b)},a.prototype.onFocusChanged=function(b){return this._isFocused=b.isFocused,!0},a.prototype.onLinesChanged=function(b){return this._visibleLines.onLinesChanged(b)},a.prototype.onLinesDeleted=function(b){return this._visibleLines.onLinesDeleted(b)},a.prototype.onLinesInserted=function(b){return this._visibleLines.onLinesInserted(b)},a.prototype.onScrollChanged=function(b){return this._visibleLines.onScrollChanged(b)||!0},a.prototype.onTokensChanged=function(b){return this._visibleLines.onTokensChanged(b)},a.prototype.onZonesChanged=function(b){return this._visibleLines.onZonesChanged(b)},a.prototype.prepareRender=function(b){for(var c=this._dynamicOverlays.filter(function(h){return h.shouldRender()}),e=0,f=c.length;e<f;e++){var g=c[e];g.prepareRender(b),g.onDidRender()}},a.prototype.render=function(b){this._viewOverlaysRender(b),this.domNode.toggleClassName("focused",this._isFocused)},a.prototype._viewOverlaysRender=function(b){this._visibleLines.renderLines(b.viewportData)},a}(Kb),sS=function(){function d(a,b){this._configuration=a,this._lineHeight=this._configuration.options.get(49),this._dynamicOverlays=b,this._domNode=null,this._renderedContent=null}return d.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},d.prototype.setDomNode=function(a){this._domNode=ma(a)},d.prototype.onContentChanged=function(){},d.prototype.onTokensChanged=function(){},d.prototype.onConfigurationChanged=function(a){this._lineHeight=this._configuration.options.get(49)},d.prototype.renderLine=function(a,b,c,e){for(var f="",g=0,h=this._dynamicOverlays.length;g<h;g++){var i=this._dynamicOverlays[g];f+=i.render(c.startLineNumber,a)}return this._renderedContent===f?!1:(this._renderedContent=f,e.appendASCIIString('<div style="position:absolute;top:'),e.appendASCIIString(String(b)),e.appendASCIIString("px;width:100%;height:"),e.appendASCIIString(String(this._lineHeight)),e.appendASCIIString('px;">'),e.appendASCIIString(f),e.appendASCIIString("</div>"),!0)},d.prototype.layoutLine=function(a,b){this._domNode&&(this._domNode.setTop(b),this._domNode.setHeight(this._lineHeight))},d}(),mD=function(d){Ku(a,d);function a(b){var c=d.call(this,b)||this,e=c._context.configuration.options,f=e.get(107);return c._contentWidth=f.contentWidth,c.domNode.setHeight(0),c}return a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(107);return this._contentWidth=e.contentWidth,d.prototype.onConfigurationChanged.call(this,b)||!0},a.prototype.onScrollChanged=function(b){return d.prototype.onScrollChanged.call(this,b)||b.scrollWidthChanged},a.prototype._viewOverlaysRender=function(b){d.prototype._viewOverlaysRender.call(this,b),this.domNode.setWidth(Math.max(b.scrollWidth,this._contentWidth))},a}(PD),nD=function(d){Ku(a,d);function a(b){var c=d.call(this,b)||this,e=c._context.configuration.options,f=e.get(107);return c._contentLeft=f.contentLeft,c.domNode.setClassName("margin-view-overlays"),c.domNode.setWidth(1),_b.applyFontInfo(c.domNode,e.get(34)),c}return a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options;_b.applyFontInfo(this.domNode,c.get(34));var e=c.get(107);return this._contentLeft=e.contentLeft,d.prototype.onConfigurationChanged.call(this,b)||!0},a.prototype.onScrollChanged=function(b){return d.prototype.onScrollChanged.call(this,b)||b.scrollHeightChanged},a.prototype._viewOverlaysRender=function(b){d.prototype._viewOverlaysRender.call(this,b);var c=Math.min(b.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)},a}(PD);var uS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),_l=function(){function d(a,b){this.top=a,this.left=b}return d}(),oD=function(d){uS(a,d);function a(b,c){var e=d.call(this,b)||this;return e._viewDomNode=c,e._widgets={},e.domNode=ma(document.createElement("div")),Dc.write(e.domNode,1),e.domNode.setClassName("contentWidgets"),e.domNode.setPosition("absolute"),e.domNode.setTop(0),e.overflowingContentWidgetsDomNode=ma(document.createElement("div")),Dc.write(e.overflowingContentWidgetsDomNode,2),e.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),e}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this._widgets={}},a.prototype.onConfigurationChanged=function(b){for(var c=Object.keys(this._widgets),e=0,f=c;e<f.length;e++){var g=f[e];this._widgets[g].onConfigurationChanged(b)}return!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onLineMappingChanged=function(b){for(var c=Object.keys(this._widgets),e=0,f=c;e<f.length;e++){var g=f[e];this._widgets[g].onLineMappingChanged(b)}return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return!0},a.prototype.onZonesChanged=function(b){return!0},a.prototype.addWidget=function(b){var c=new vS(this._context,this._viewDomNode,b);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()},a.prototype.setWidgetPosition=function(b,c,e){var f=this._widgets[b.getId()];f.setPosition(c,e),this.setShouldRender()},a.prototype.removeWidget=function(b){var c=b.getId();if(this._widgets.hasOwnProperty(c)){var e=this._widgets[c];delete this._widgets[c];var f=e.domNode.domNode;f.parentNode.removeChild(f),f.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},a.prototype.shouldSuppressMouseDownOnWidget=function(b){return this._widgets.hasOwnProperty(b)?this._widgets[b].suppressMouseDown:!1},a.prototype.onBeforeRender=function(b){for(var c=Object.keys(this._widgets),e=0,f=c;e<f.length;e++){var g=f[e];this._widgets[g].onBeforeRender(b)}},a.prototype.prepareRender=function(b){for(var c=Object.keys(this._widgets),e=0,f=c;e<f.length;e++){var g=f[e];this._widgets[g].prepareRender(b)}},a.prototype.render=function(b){for(var c=Object.keys(this._widgets),e=0,f=c;e<f.length;e++){var g=f[e];this._widgets[g].render(b)}},a}(Kb),vS=function(){function d(a,b,c){this._context=a,this._viewDomNode=b,this._actual=c,this.domNode=ma(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;var e=this._context.configuration.options,f=e.get(107);this._fixedOverflowWidgets=e.get(29),this._contentWidth=f.contentWidth,this._contentLeft=f.contentLeft,this._lineHeight=e.get(49),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return d.prototype.onConfigurationChanged=function(a){var b=this._context.configuration.options;this._lineHeight=b.get(49);if(a.hasChanged(107)){var c=b.get(107);this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._maxWidth=this._getMaxWidth()}},d.prototype.onLineMappingChanged=function(a){this._setPosition(this._range)},d.prototype._setPosition=function(a){this._range=a,this._viewRange=null;if(this._range){var b=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(b.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(b.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(b))}},d.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},d.prototype.setPosition=function(a,b){this._setPosition(a),this._preference=b,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},d.prototype._layoutBoxInViewport=function(a,b,c,e,f){var g=a.top,h=g,i=b.top+this._lineHeight,j=f.viewportHeight-i,k=g-e,l=h>=e,m=i,n=j>=e,o=a.left,p=b.left;return o+c>f.scrollLeft+f.viewportWidth&&(o=f.scrollLeft+f.viewportWidth-c),p+c>f.scrollLeft+f.viewportWidth&&(p=f.scrollLeft+f.viewportWidth-c),o<f.scrollLeft&&(o=f.scrollLeft),p<f.scrollLeft&&(p=f.scrollLeft),{fitsAbove:l,aboveTop:k,aboveLeft:o,fitsBelow:n,belowTop:m,belowLeft:p}},d.prototype._layoutHorizontalSegmentInPage=function(a,b,c,e){var f=Math.max(0,b.left-e),g=Math.min(b.left+b.width+e,a.width),h=b.left+c-ye.scrollX;if(h+e>g){var i=h-(g-e);h-=i,c-=i}if(h<f){var i=h-f;h-=i,c-=i}return[c,h]},d.prototype._layoutBoxInPage=function(a,b,c,e,f){var g=a.top-e,h=b.top+this._lineHeight,i=ab(this._viewDomNode.domNode),j=i.top+g-ye.scrollY,k=i.top+h-ye.scrollY,l=Iy(document.body),m=this._layoutHorizontalSegmentInPage(l,i,a.left-f.scrollLeft+this._contentLeft,c),n=m[0],o=m[1],p=this._layoutHorizontalSegmentInPage(l,i,b.left-f.scrollLeft+this._contentLeft,c),q=p[0],r=p[1],t=22,v=22,w=j>=t,x=k+e<=l.height-v;return this._fixedOverflowWidgets?{fitsAbove:w,aboveTop:Math.max(j,t),aboveLeft:o,fitsBelow:x,belowTop:k,belowLeft:r}:{fitsAbove:w,aboveTop:Math.max(g,t),aboveLeft:n,fitsBelow:x,belowTop:h,belowLeft:q}},d.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(a){return new _l(a.top,a.left+this._contentLeft)},d.prototype._getTopAndBottomLeft=function(a){if(!this._viewRange)return[null,null];var b=a.linesVisibleRangesForRange(this._viewRange,!1);if(!b||b.length===0)return[null,null];for(var c=b[0],e=b[0],f=0,g=b;f<g.length;f++){var h=g[f];h.lineNumber<c.lineNumber&&(c=h),h.lineNumber>e.lineNumber&&(e=h)}for(var i=1073741824,j=0,k=c.ranges;j<k.length;j++){var l=k[j];l.left<i&&(i=l.left)}for(var m=1073741824,n=0,o=e.ranges;n<o.length;n++){var l=o[n];l.left<m&&(m=l.left)}var p=a.getVerticalOffsetForLineNumber(c.lineNumber)-a.scrollTop,q=new _l(p,i),r=a.getVerticalOffsetForLineNumber(e.lineNumber)-a.scrollTop,t=new _l(r,m);return[q,t]},d.prototype._prepareRenderWidget=function(a){var b=this._getTopAndBottomLeft(a),c=b[0],e=b[1];if(!c||!e)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){var f=this.domNode.domNode;this._cachedDomNodeClientWidth=f.clientWidth,this._cachedDomNodeClientHeight=f.clientHeight}var g;this.allowEditorOverflow?g=this._layoutBoxInPage(c,e,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,a):g=this._layoutBoxInViewport(c,e,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,a);if(this._preference)for(var h=1;h<=2;h++)for(var i=0,j=this._preference;i<j.length;i++){var k=j[i];if(k===1){if(!g)return null;if(h===2||g.fitsAbove)return new _l(g.aboveTop,g.aboveLeft)}else if(k===2){if(!g)return null;if(h===2||g.fitsBelow)return new _l(g.belowTop,g.belowLeft)}else return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(c):c}return null},d.prototype.onBeforeRender=function(a){if(!this._viewRange||!this._preference)return;if(this._viewRange.endLineNumber<a.startLineNumber||this._viewRange.startLineNumber>a.endLineNumber)return;this.domNode.setMaxWidth(this._maxWidth)},d.prototype.prepareRender=function(a){this._renderData=this._prepareRenderWidget(a)},d.prototype.render=function(a){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"));return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+a.scrollTop-a.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)},d}();var Lu=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Nu=!0,RD=function(d){Lu(a,d);function a(b){var c=d.call(this)||this;c._context=b;var e=c._context.configuration.options,f=e.get(107);return c._lineHeight=e.get(49),c._renderLineHighlight=e.get(72),c._contentLeft=f.contentLeft,c._contentWidth=f.contentWidth,c._selectionIsEmpty=!0,c._cursorLineNumbers=[],c._selections=[],c._renderData=null,c._context.addEventHandler(c),c}return a.prototype.dispose=function(){this._context.removeEventHandler(this),d.prototype.dispose.call(this)},a.prototype._readFromSelections=function(){var b=!1,c=Nu?this._selections.slice(0,1):this._selections,e=c.map(function(g){return g.positionLineNumber});e.sort(function(g,h){return g-h}),xc(this._cursorLineNumbers,e)||(this._cursorLineNumbers=e,b=!0);var f=c.every(function(g){return g.isEmpty()});return this._selectionIsEmpty!==f&&(this._selectionIsEmpty=f,b=!0),b},a.prototype.onThemeChanged=function(b){return this._readFromSelections()},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(107);return this._lineHeight=c.get(49),this._renderLineHighlight=c.get(72),this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,!0},a.prototype.onCursorStateChanged=function(b){return this._selections=b.selections,this._readFromSelections()},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollWidthChanged||b.scrollTopChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype.prepareRender=function(b){if(!this._shouldRenderThis()){this._renderData=null;return}for(var c=this._renderOne(b),e=b.visibleRange.startLineNumber,f=b.visibleRange.endLineNumber,g=this._cursorLineNumbers.length,h=0,i=[],j=e;j<=f;j++){for(var k=j-e;h<g&&this._cursorLineNumbers[h]<j;)h++;h<g&&this._cursorLineNumbers[h]===j?i[k]=c:i[k]=""}this._renderData=i},a.prototype.render=function(b,c){if(!this._renderData)return"";var e=c-b;return e>=this._renderData.length?"":this._renderData[e]},a}(he),pD=function(d){Lu(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._renderOne=function(b){var c="current-line"+(this._shouldRenderOther()?" current-line-both":"");return'<div class="'+c+'" style="width:'+Math.max(b.scrollWidth,this._contentWidth)+"px; height:"+this._lineHeight+'px;"></div>'},a.prototype._shouldRenderThis=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty},a.prototype._shouldRenderOther=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"},a}(RD),qD=function(d){Lu(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._renderOne=function(b){var c="current-line current-line-margin"+(this._shouldRenderOther()?" current-line-margin-both":"");return'<div class="'+c+'" style="width:'+this._contentLeft+"px; height:"+this._lineHeight+'px;"></div>'},a.prototype._shouldRenderThis=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"},a.prototype._shouldRenderOther=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty},a}(RD);la(function(d,a){Nu=!1;var b=d.getColor(QD);b&&(a.addRule(".monaco-editor .view-overlays .current-line { background-color: "+b+"; }"),a.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+b+"; border: none; }"));if(!b||b.isTransparent()||d.defines(Mu)){var c=d.getColor(Mu);c&&(Nu=!0,a.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+c+"; }"),a.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+c+"; }"),d.type==="hc"&&(a.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),a.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var wS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),rD=function(d){wS(a,d);function a(b){var c=d.call(this)||this;c._context=b;var e=c._context.configuration.options;return c._lineHeight=e.get(49),c._typicalHalfwidthCharacterWidth=e.get(34).typicalHalfwidthCharacterWidth,c._renderResult=null,c._context.addEventHandler(c),c}return a.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options;return this._lineHeight=c.get(49),this._typicalHalfwidthCharacterWidth=c.get(34).typicalHalfwidthCharacterWidth,!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollTopChanged||b.scrollWidthChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype.prepareRender=function(b){for(var c=b.getDecorationsInViewport(),e=[],f=0,g=0,h=c.length;g<h;g++){var i=c[g];i.options.className&&(e[f++]=i)}e=e.sort(function(o,p){if(o.options.zIndex<p.options.zIndex)return-1;if(o.options.zIndex>p.options.zIndex)return 1;var q=o.options.className,r=p.options.className;return q<r?-1:q>r?1:z.compareRangesUsingStarts(o.range,p.range)});for(var j=b.visibleRange.startLineNumber,k=b.visibleRange.endLineNumber,l=[],m=j;m<=k;m++){var n=m-j;l[n]=""}this._renderWholeLineDecorations(b,e,l),this._renderNormalDecorations(b,e,l),this._renderResult=l},a.prototype._renderWholeLineDecorations=function(b,c,e){for(var f=String(this._lineHeight),g=b.visibleRange.startLineNumber,h=b.visibleRange.endLineNumber,i=0,j=c.length;i<j;i++){var k=c[i];if(!k.options.isWholeLine)continue;for(var l='<div class="cdr '+k.options.className+'" style="left:0;width:100%;height:'+f+'px;"></div>',m=Math.max(k.range.startLineNumber,g),n=Math.min(k.range.endLineNumber,h),o=m;o<=n;o++){var p=o-g;e[p]+=l}}},a.prototype._renderNormalDecorations=function(b,c,e){for(var f=String(this._lineHeight),g=b.visibleRange.startLineNumber,h=null,i=!1,j=null,k=0,l=c.length;k<l;k++){var m=c[k];if(m.options.isWholeLine)continue;var n=m.options.className,o=Boolean(m.options.showIfCollapsed),p=m.range;o&&p.endColumn===1&&p.endLineNumber!==p.startLineNumber&&(p=new z(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.model.getLineMaxColumn(p.endLineNumber-1)));if(h===n&&i===o&&z.areIntersectingOrTouching(j,p)){j=z.plusRange(j,p);continue}h!==null&&this._renderNormalDecoration(b,j,h,i,f,g,e),h=n,i=o,j=p}h!==null&&this._renderNormalDecoration(b,j,h,i,f,g,e)},a.prototype._renderNormalDecoration=function(b,c,e,f,g,h,i){var j=b.linesVisibleRangesForRange(c,e==="findMatch");if(!j)return;for(var k=0,l=j.length;k<l;k++){var m=j[k];if(m.outsideRenderedLine)continue;var n=m.lineNumber-h;if(f&&m.ranges.length===1){var o=m.ranges[0];o.width===0&&(m.ranges[0]=new Me(o.left,this._typicalHalfwidthCharacterWidth))}for(var p=0,q=m.ranges.length;p<q;p++){var r=m.ranges[p],t='<div class="cdr '+e+'" style="left:'+String(r.left)+"px;width:"+String(r.width)+"px;height:"+g+'px;"></div>';i[n]+=t}}},a.prototype.render=function(b,c){if(!this._renderResult)return"";var e=c-b;return e<0||e>=this._renderResult.length?"":this._renderResult[e]},a}(he);var CP=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Hb=function(d){CP(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.onclick=function(b,c){this._register(R(b,pa.CLICK,function(e){return c(new yb(e))}))},a.prototype.onmousedown=function(b,c){this._register(R(b,pa.MOUSE_DOWN,function(e){return c(new yb(e))}))},a.prototype.onmouseover=function(b,c){this._register(R(b,pa.MOUSE_OVER,function(e){return c(new yb(e))}))},a.prototype.onnonbubblingmouseout=function(b,c){this._register(Xi(b,function(e){return c(new yb(e))}))},a.prototype.onkeydown=function(b,c){this._register(R(b,pa.KEY_DOWN,function(e){return c(new Pa(e))}))},a.prototype.onkeyup=function(b,c){this._register(R(b,pa.KEY_UP,function(e){return c(new Pa(e))}))},a.prototype.oninput=function(b,c){this._register(R(b,pa.INPUT,c))},a.prototype.onblur=function(b,c){this._register(R(b,pa.BLUR,c))},a.prototype.onfocus=function(b,c){this._register(R(b,pa.FOCUS,c))},a.prototype.ignoreGesture=function(b){wc.ignoreTarget(b)},a}(I);var SO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Hg=11,yz=function(d){SO(a,d);function a(b){var c=d.call(this)||this;return c._onActivate=b.onActivate,c.bgDomNode=document.createElement("div"),c.bgDomNode.className="arrow-background",c.bgDomNode.style.position="absolute",c.bgDomNode.style.width=b.bgWidth+"px",c.bgDomNode.style.height=b.bgHeight+"px",typeof b.top!=="undefined"&&(c.bgDomNode.style.top="0px"),typeof b.left!=="undefined"&&(c.bgDomNode.style.left="0px"),typeof b.bottom!=="undefined"&&(c.bgDomNode.style.bottom="0px"),typeof b.right!=="undefined"&&(c.bgDomNode.style.right="0px"),c.domNode=document.createElement("div"),c.domNode.className=b.className,c.domNode.style.position="absolute",c.domNode.style.width=Hg+"px",c.domNode.style.height=Hg+"px",typeof b.top!=="undefined"&&(c.domNode.style.top=b.top+"px"),typeof b.left!=="undefined"&&(c.domNode.style.left=b.left+"px"),typeof b.bottom!=="undefined"&&(c.domNode.style.bottom=b.bottom+"px"),typeof b.right!=="undefined"&&(c.domNode.style.right=b.right+"px"),c._mouseMoveMonitor=c._register(new Rd()),c.onmousedown(c.bgDomNode,function(e){return c._arrowMouseDown(e)}),c.onmousedown(c.domNode,function(e){return c._arrowMouseDown(e)}),c._mousedownRepeatTimer=c._register(new Qf()),c._mousedownScheduleRepeatTimer=c._register(new rb()),c}return a.prototype._arrowMouseDown=function(b){var c=this,e=function(){c._mousedownRepeatTimer.cancelAndSet(function(){return c._onActivate()},1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(e,200),this._mouseMoveMonitor.startMonitoring(b.target,b.buttons,Ae,function(f){},function(){c._mousedownRepeatTimer.cancel(),c._mousedownScheduleRepeatTimer.cancel()}),b.preventDefault()},a}(Hb);var UO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),zz=function(d){UO(a,d);function a(b,c,e){var f=d.call(this)||this;return f._visibility=b,f._visibleClassName=c,f._invisibleClassName=e,f._domNode=null,f._isVisible=!1,f._isNeeded=!1,f._shouldBeVisible=!1,f._revealTimer=f._register(new rb()),f}return a.prototype.applyVisibilitySetting=function(b){return this._visibility===2?!1:this._visibility===3?!0:b},a.prototype.setShouldBeVisible=function(b){var c=this.applyVisibilitySetting(b);this._shouldBeVisible!==c&&(this._shouldBeVisible=c,this.ensureVisibility())},a.prototype.setIsNeeded=function(b){this._isNeeded!==b&&(this._isNeeded=b,this.ensureVisibility())},a.prototype.setDomNode=function(b){this._domNode=b,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},a.prototype.ensureVisibility=function(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)},a.prototype._reveal=function(){var b=this;if(this._isVisible)return;this._isVisible=!0,this._revealTimer.setIfNotSet(function(){b._domNode&&b._domNode.setClassName(b._visibleClassName)},0)},a.prototype._hide=function(b){this._revealTimer.cancel();if(!this._isVisible)return;this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(b?" fade":""))},a}(I);var MO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),NO=140,fo=function(d){MO(a,d);function a(b){var c=d.call(this)||this;return c._lazyRender=b.lazyRender,c._host=b.host,c._scrollable=b.scrollable,c._scrollbarState=b.scrollbarState,c._visibilityController=c._register(new zz(b.visibility,"visible scrollbar "+b.extraScrollbarClassName,"invisible scrollbar "+b.extraScrollbarClassName)),c._visibilityController.setIsNeeded(c._scrollbarState.isNeeded()),c._mouseMoveMonitor=c._register(new Rd()),c._shouldRender=!0,c.domNode=ma(document.createElement("div")),c.domNode.setAttribute("role","presentation"),c.domNode.setAttribute("aria-hidden","true"),c._visibilityController.setDomNode(c.domNode),c.domNode.setPosition("absolute"),c.onmousedown(c.domNode.domNode,function(e){return c._domNodeMouseDown(e)}),c}return a.prototype._createArrow=function(b){var c=this._register(new yz(b));this.domNode.domNode.appendChild(c.bgDomNode),this.domNode.domNode.appendChild(c.domNode)},a.prototype._createSlider=function(b,c,e,f){var g=this;this.slider=ma(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(b),this.slider.setLeft(c),typeof e==="number"&&this.slider.setWidth(e),typeof f==="number"&&this.slider.setHeight(f),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(h){h.leftButton&&(h.preventDefault(),g._sliderMouseDown(h,function(){}))}),this.onclick(this.slider.domNode,function(h){h.leftButton&&h.stopPropagation()})},a.prototype._onElementSize=function(b){return this._scrollbarState.setVisibleSize(b)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},a.prototype._onElementScrollSize=function(b){return this._scrollbarState.setScrollSize(b)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},a.prototype._onElementScrollPosition=function(b){return this._scrollbarState.setScrollPosition(b)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},a.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},a.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},a.prototype.render=function(){if(!this._shouldRender)return;this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition())},a.prototype._domNodeMouseDown=function(b){if(b.target!==this.domNode.domNode)return;this._onMouseDown(b)},a.prototype.delegateMouseDown=function(b){var c=this.domNode.domNode.getClientRects()[0].top,e=c+this._scrollbarState.getSliderPosition(),f=c+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),g=this._sliderMousePosition(b);e<=g&&g<=f?b.leftButton&&(b.preventDefault(),this._sliderMouseDown(b,function(){})):this._onMouseDown(b)},a.prototype._onMouseDown=function(b){var c,e;if(b.target===this.domNode.domNode&&typeof b.browserEvent.offsetX==="number"&&typeof b.browserEvent.offsetY==="number")c=b.browserEvent.offsetX,e=b.browserEvent.offsetY;else{var f=ab(this.domNode.domNode);c=b.posx-f.left,e=b.posy-f.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(c,e))),b.leftButton&&(b.preventDefault(),this._sliderMouseDown(b,function(){}))},a.prototype._sliderMouseDown=function(b,c){var e=this,f=this._sliderMousePosition(b),g=this._sliderOrthogonalMousePosition(b),h=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(b.target,b.buttons,Ae,function(i){var j=e._sliderOrthogonalMousePosition(i),k=Math.abs(j-g);if(sb&&k>NO){e._setDesiredScrollPositionNow(h.getScrollPosition());return}var l=e._sliderMousePosition(i),m=l-f;e._setDesiredScrollPositionNow(h.getDesiredScrollPositionFromDelta(m))},function(){e.slider.toggleClassName("active",!1),e._host.onDragEnd(),c()}),this._host.onDragStart()},a.prototype._setDesiredScrollPositionNow=function(b){var c={};this.writeScrollPosition(c,b),this._scrollable.setScrollPositionNow(c)},a}(Hb);var TO=20,go=function(){function d(a,b,c,e,f,g){this._scrollbarSize=Math.round(b),this._oppositeScrollbarSize=Math.round(c),this._arrowSize=Math.round(a),this._visibleSize=e,this._scrollSize=f,this._scrollPosition=g,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return d.prototype.clone=function(){return new d(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)},d.prototype.setVisibleSize=function(a){var b=Math.round(a);return this._visibleSize!==b?(this._visibleSize=b,this._refreshComputedValues(),!0):!1},d.prototype.setScrollSize=function(a){var b=Math.round(a);return this._scrollSize!==b?(this._scrollSize=b,this._refreshComputedValues(),!0):!1},d.prototype.setScrollPosition=function(a){var b=Math.round(a);return this._scrollPosition!==b?(this._scrollPosition=b,this._refreshComputedValues(),!0):!1},d._computeValues=function(a,b,c,e,f){var g=Math.max(0,c-a),h=Math.max(0,g-2*b),i=e>0&&e>c;if(!i)return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(h),computedSliderRatio:0,computedSliderPosition:0};var j=Math.round(Math.max(TO,Math.floor(c*h/e))),k=(h-j)/(e-c),l=f*k;return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(j),computedSliderRatio:k,computedSliderPosition:Math.round(l)}},d.prototype._refreshComputedValues=function(){var a=d._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=a.computedAvailableSize,this._computedIsNeeded=a.computedIsNeeded,this._computedSliderSize=a.computedSliderSize,this._computedSliderRatio=a.computedSliderRatio,this._computedSliderPosition=a.computedSliderPosition},d.prototype.getArrowSize=function(){return this._arrowSize},d.prototype.getScrollPosition=function(){return this._scrollPosition},d.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},d.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},d.prototype.isNeeded=function(){return this._computedIsNeeded},d.prototype.getSliderSize=function(){return this._computedSliderSize},d.prototype.getSliderPosition=function(){return this._computedSliderPosition},d.prototype.getDesiredScrollPositionFromOffset=function(a){if(!this._computedIsNeeded)return 0;var b=a-this._arrowSize-this._computedSliderSize/2;return Math.round(b/this._computedSliderRatio)},d.prototype.getDesiredScrollPositionFromDelta=function(a){if(!this._computedIsNeeded)return 0;var b=this._computedSliderPosition+a;return Math.round(b/this._computedSliderRatio)},d}();var OO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Az=function(d){OO(a,d);function a(b,c,e){var f=this,g=b.getScrollDimensions(),h=b.getCurrentScrollPosition();f=d.call(this,{lazyRender:c.lazyRender,host:e,scrollbarState:new go(c.horizontalHasArrows?c.arrowSize:0,c.horizontal===2?0:c.horizontalScrollbarSize,c.vertical===2?0:c.verticalScrollbarSize,g.width,g.scrollWidth,h.scrollLeft),visibility:c.horizontal,extraScrollbarClassName:"horizontal",scrollable:b})||this;if(c.horizontalHasArrows){var i=(c.arrowSize-Hg)/2,j=(c.horizontalScrollbarSize-Hg)/2;f._createArrow({className:"left-arrow",top:j,left:i,bottom:void 0,right:void 0,bgWidth:c.arrowSize,bgHeight:c.horizontalScrollbarSize,onActivate:function(){return f._host.onMouseWheel(new af(null,1,0))}}),f._createArrow({className:"right-arrow",top:j,left:void 0,bottom:void 0,right:i,bgWidth:c.arrowSize,bgHeight:c.horizontalScrollbarSize,onActivate:function(){return f._host.onMouseWheel(new af(null,-1,0))}})}return f._createSlider(Math.floor((c.horizontalScrollbarSize-c.horizontalSliderSize)/2),0,void 0,c.horizontalSliderSize),f}return a.prototype._updateSlider=function(b,c){this.slider.setWidth(b),this.slider.setLeft(c)},a.prototype._renderDomNode=function(b,c){this.domNode.setWidth(b),this.domNode.setHeight(c),this.domNode.setLeft(0),this.domNode.setBottom(0)},a.prototype.onDidScroll=function(b){return this._shouldRender=this._onElementScrollSize(b.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(b.width)||this._shouldRender,this._shouldRender},a.prototype._mouseDownRelativePosition=function(b,c){return b},a.prototype._sliderMousePosition=function(b){return b.posx},a.prototype._sliderOrthogonalMousePosition=function(b){return b.posy},a.prototype.writeScrollPosition=function(b,c){b.scrollLeft=c},a}(fo);var VO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Bz=function(d){VO(a,d);function a(b,c,e){var f=this,g=b.getScrollDimensions(),h=b.getCurrentScrollPosition();f=d.call(this,{lazyRender:c.lazyRender,host:e,scrollbarState:new go(c.verticalHasArrows?c.arrowSize:0,c.vertical===2?0:c.verticalScrollbarSize,0,g.height,g.scrollHeight,h.scrollTop),visibility:c.vertical,extraScrollbarClassName:"vertical",scrollable:b})||this;if(c.verticalHasArrows){var i=(c.arrowSize-Hg)/2,j=(c.verticalScrollbarSize-Hg)/2;f._createArrow({className:"up-arrow",top:i,left:j,bottom:void 0,right:void 0,bgWidth:c.verticalScrollbarSize,bgHeight:c.arrowSize,onActivate:function(){return f._host.onMouseWheel(new af(null,0,1))}}),f._createArrow({className:"down-arrow",top:void 0,left:j,bottom:i,right:void 0,bgWidth:c.verticalScrollbarSize,bgHeight:c.arrowSize,onActivate:function(){return f._host.onMouseWheel(new af(null,0,-1))}})}return f._createSlider(0,Math.floor((c.verticalScrollbarSize-c.verticalSliderSize)/2),c.verticalSliderSize,void 0),f}return a.prototype._updateSlider=function(b,c){this.slider.setHeight(b),this.slider.setTop(c)},a.prototype._renderDomNode=function(b,c){this.domNode.setWidth(c),this.domNode.setHeight(b),this.domNode.setRight(0),this.domNode.setTop(0)},a.prototype.onDidScroll=function(b){return this._shouldRender=this._onElementScrollSize(b.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(b.height)||this._shouldRender,this._shouldRender},a.prototype._mouseDownRelativePosition=function(b,c){return c},a.prototype._sliderMousePosition=function(b){return b.posy},a.prototype._sliderOrthogonalMousePosition=function(b){return b.posx},a.prototype.writeScrollPosition=function(b,c){b.scrollTop=c},a}(fo);var PQ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),QQ=function(){function d(a,b,c,e,f,g){a=a|0,b=b|0,c=c|0,e=e|0,f=f|0,g=g|0,a<0&&(a=0),c+a>b&&(c=b-a),c<0&&(c=0),e<0&&(e=0),g+e>f&&(g=f-e),g<0&&(g=0),this.width=a,this.scrollWidth=b,this.scrollLeft=c,this.height=e,this.scrollHeight=f,this.scrollTop=g}return d.prototype.equals=function(a){return this.width===a.width&&this.scrollWidth===a.scrollWidth&&this.scrollLeft===a.scrollLeft&&this.height===a.height&&this.scrollHeight===a.scrollHeight&&this.scrollTop===a.scrollTop},d.prototype.withScrollDimensions=function(a){return new d(typeof a.width!=="undefined"?a.width:this.width,typeof a.scrollWidth!=="undefined"?a.scrollWidth:this.scrollWidth,this.scrollLeft,typeof a.height!=="undefined"?a.height:this.height,typeof a.scrollHeight!=="undefined"?a.scrollHeight:this.scrollHeight,this.scrollTop)},d.prototype.withScrollPosition=function(a){return new d(this.width,this.scrollWidth,typeof a.scrollLeft!=="undefined"?a.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,typeof a.scrollTop!=="undefined"?a.scrollTop:this.scrollTop)},d.prototype.createScrollEvent=function(a){var b=this.width!==a.width,c=this.scrollWidth!==a.scrollWidth,e=this.scrollLeft!==a.scrollLeft,f=this.height!==a.height,g=this.scrollHeight!==a.scrollHeight,h=this.scrollTop!==a.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:b,scrollWidthChanged:c,scrollLeftChanged:e,heightChanged:f,scrollHeightChanged:g,scrollTopChanged:h}},d}(),io=function(d){PQ(a,d);function a(b,c){var e=d.call(this)||this;return e._onScroll=e._register(new E()),e.onScroll=e._onScroll.event,e._smoothScrollDuration=b,e._scheduleAtNextAnimationFrame=c,e._state=new QQ(0,0,0,0,0,0),e._smoothScrolling=null,e}return a.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),d.prototype.dispose.call(this)},a.prototype.setSmoothScrollDuration=function(b){this._smoothScrollDuration=b},a.prototype.validateScrollPosition=function(b){return this._state.withScrollPosition(b)},a.prototype.getScrollDimensions=function(){return this._state},a.prototype.setScrollDimensions=function(b){var c=this._state.withScrollDimensions(b);this._setState(c),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)},a.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state},a.prototype.getCurrentScrollPosition=function(){return this._state},a.prototype.setScrollPositionNow=function(b){var c=this._state.withScrollPosition(b);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c)},a.prototype.setScrollPositionSmooth=function(b){var c=this;if(this._smoothScrollDuration===0)return this.setScrollPositionNow(b);if(this._smoothScrolling){b={scrollLeft:typeof b.scrollLeft==="undefined"?this._smoothScrolling.to.scrollLeft:b.scrollLeft,scrollTop:typeof b.scrollTop==="undefined"?this._smoothScrolling.to.scrollTop:b.scrollTop};var e=this._state.withScrollPosition(b);if(this._smoothScrolling.to.scrollLeft===e.scrollLeft&&this._smoothScrolling.to.scrollTop===e.scrollTop)return;var f=this._smoothScrolling.combine(this._state,e,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=f}else{var e=this._state.withScrollPosition(b);this._smoothScrolling=SQ.start(this._state,e,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){if(!c._smoothScrolling)return;c._smoothScrolling.animationFrameDisposable=null,c._performSmoothScrolling()})},a.prototype._performSmoothScrolling=function(){var b=this;if(!this._smoothScrolling)return;var c=this._smoothScrolling.tick(),e=this._state.withScrollPosition(c);this._setState(e);if(c.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){if(!b._smoothScrolling)return;b._smoothScrolling.animationFrameDisposable=null,b._performSmoothScrolling()})},a.prototype._setState=function(b){var c=this._state;if(c.equals(b))return;this._state=b,this._onScroll.fire(this._state.createScrollEvent(c))},a}(I),rB=function(){function d(a,b,c){this.scrollLeft=a,this.scrollTop=b,this.isDone=c}return d}();function mu(d,a){var b=a-d;return function(c){return d+b*UQ(c)}}function RQ(d,a,b){return function(c){return c<b?d(c/b):a((c-b)/(1-b))}}var SQ=function(){function d(a,b,c,e){this.from=a,this.to=b,this.duration=e,this._startTime=c,this.animationFrameDisposable=null,this._initAnimations()}return d.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)},d.prototype._initAnimation=function(a,b,c){var e=Math.abs(a-b);if(e>2.5*c){var f=void 0,g=void 0;return a<b?(f=a+.75*c,g=b-.75*c):(f=a-.75*c,g=b+.75*c),RQ(mu(a,f),mu(g,b),.33)}return mu(a,b)},d.prototype.dispose=function(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)},d.prototype.acceptScrollDimensions=function(a){this.to=a.withScrollPosition(this.to),this._initAnimations()},d.prototype.tick=function(){return this._tick(Date.now())},d.prototype._tick=function(a){var b=(a-this._startTime)/this.duration;if(b<1){var c=this.scrollLeft(b),e=this.scrollTop(b);return new rB(c,e,!1)}return new rB(this.to.scrollLeft,this.to.scrollTop,!0)},d.prototype.combine=function(a,b,c){return d.start(a,b,c)},d.start=function(a,b,c){c=c+10;var e=Date.now()-10;return new d(a,b,e,c)},d}();function TQ(d){return Math.pow(d,3)}function UQ(d){return 1-TQ(1-d)}var ho=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),PO=500,Cz=50,Dz=!0,QO=function(){function d(a,b,c){this.timestamp=a,this.deltaX=b,this.deltaY=c,this.score=0}return d}(),RO=function(){function d(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return d.prototype.isPhysicalMouseWheel=function(){if(this._front===-1&&this._rear===-1)return!1;var a=1,b=0,c=1,e=this._rear;do{var f=e===this._front?a:Math.pow(2,-c);a-=f,b+=this._memory[e].score*f;if(e===this._front)break;e=(this._capacity+e-1)%this._capacity,c++}while(!0);return b<=.5},d.prototype.accept=function(a,b,c){var e=new QO(a,b,c);e.score=this._computeScore(e),this._front===-1&&this._rear===-1?(this._memory[0]=e,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=e)},d.prototype._computeScore=function(a){if(Math.abs(a.deltaX)>0&&Math.abs(a.deltaY)>0)return 1;var b=.5,c=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(Math.abs(a.deltaX-Math.round(a.deltaX))>0||Math.abs(a.deltaY-Math.round(a.deltaY))>0)&&(b+=.25),Math.min(Math.max(b,0),1)},d.INSTANCE=new d(),d}(),Ez=function(d){ho(a,d);function a(b,c,e){var f=d.call(this)||this;f._onScroll=f._register(new E()),f.onScroll=f._onScroll.event,b.style.overflow="hidden",f._options=Gz(c),f._scrollable=e,f._register(f._scrollable.onScroll(function(h){f._onDidScroll(h),f._onScroll.fire(h)}));var g={onMouseWheel:function(h){return f._onMouseWheel(h)},onDragStart:function(){return f._onDragStart()},onDragEnd:function(){return f._onDragEnd()}};return f._verticalScrollbar=f._register(new Bz(f._scrollable,f._options,g)),f._horizontalScrollbar=f._register(new Az(f._scrollable,f._options,g)),f._domNode=document.createElement("div"),f._domNode.className="monaco-scrollable-element "+f._options.className,f._domNode.setAttribute("role","presentation"),f._domNode.style.position="relative",f._domNode.style.overflow="hidden",f._domNode.appendChild(b),f._domNode.appendChild(f._horizontalScrollbar.domNode.domNode),f._domNode.appendChild(f._verticalScrollbar.domNode.domNode),f._options.useShadows?(f._leftShadowDomNode=ma(document.createElement("div")),f._leftShadowDomNode.setClassName("shadow"),f._domNode.appendChild(f._leftShadowDomNode.domNode),f._topShadowDomNode=ma(document.createElement("div")),f._topShadowDomNode.setClassName("shadow"),f._domNode.appendChild(f._topShadowDomNode.domNode),f._topLeftShadowDomNode=ma(document.createElement("div")),f._topLeftShadowDomNode.setClassName("shadow top-left-corner"),f._domNode.appendChild(f._topLeftShadowDomNode.domNode)):(f._leftShadowDomNode=null,f._topShadowDomNode=null,f._topLeftShadowDomNode=null),f._listenOnDomNode=f._options.listenOnDomNode||f._domNode,f._mouseWheelToDispose=[],f._setListeningToMouseWheel(f._options.handleMouseWheel),f.onmouseover(f._listenOnDomNode,function(h){return f._onMouseOver(h)}),f.onnonbubblingmouseout(f._listenOnDomNode,function(h){return f._onMouseOut(h)}),f._hideTimeout=f._register(new rb()),f._isDragging=!1,f._mouseIsOver=!1,f._shouldRender=!0,f._revealOnScroll=!0,f}return a.prototype.dispose=function(){this._mouseWheelToDispose=ca(this._mouseWheelToDispose),d.prototype.dispose.call(this)},a.prototype.getDomNode=function(){return this._domNode},a.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},a.prototype.delegateVerticalScrollbarMouseDown=function(b){this._verticalScrollbar.delegateMouseDown(b)},a.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()},a.prototype.setScrollDimensions=function(b){this._scrollable.setScrollDimensions(b)},a.prototype.updateClassName=function(b){this._options.className=b,ka&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},a.prototype.updateOptions=function(b){var c=Gz(b);this._options.handleMouseWheel=c.handleMouseWheel,this._options.mouseWheelScrollSensitivity=c.mouseWheelScrollSensitivity,this._options.fastScrollSensitivity=c.fastScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},a.prototype._setListeningToMouseWheel=function(b){var c=this,e=this._mouseWheelToDispose.length>0;if(e===b)return;this._mouseWheelToDispose=ca(this._mouseWheelToDispose);if(b){var f=function(g){c._onMouseWheel(new af(g))};this._mouseWheelToDispose.push(R(this._listenOnDomNode,Jc?"mousewheel":"wheel",f,{passive:!1}))}},a.prototype._onMouseWheel=function(b){var c,e=RO.INSTANCE;Dz&&e.accept(Date.now(),b.deltaX,b.deltaY);if(b.deltaY||b.deltaX){var f=b.deltaY*this._options.mouseWheelScrollSensitivity,g=b.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(c=[g,f],f=c[0],g=c[1]);var h=!ka&&b.browserEvent&&b.browserEvent.shiftKey;(this._options.scrollYToX||h)&&!g&&(g=f,f=0),b.browserEvent&&b.browserEvent.altKey&&(g=g*this._options.fastScrollSensitivity,f=f*this._options.fastScrollSensitivity);var i=this._scrollable.getFutureScrollPosition(),j={};if(f){var k=i.scrollTop-Cz*f;this._verticalScrollbar.writeScrollPosition(j,k)}if(g){var l=i.scrollLeft-Cz*g;this._horizontalScrollbar.writeScrollPosition(j,l)}j=this._scrollable.validateScrollPosition(j);if(i.scrollLeft!==j.scrollLeft||i.scrollTop!==j.scrollTop){var m=Dz&&this._options.mouseWheelSmoothScroll&&e.isPhysicalMouseWheel();m?this._scrollable.setScrollPositionSmooth(j):this._scrollable.setScrollPositionNow(j),this._shouldRender=!0}}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(b.preventDefault(),b.stopPropagation())},a.prototype._onDidScroll=function(b){this._shouldRender=this._horizontalScrollbar.onDidScroll(b)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(b)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()},a.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},a.prototype._render=function(){if(!this._shouldRender)return;this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render();if(this._options.useShadows){var b=this._scrollable.getCurrentScrollPosition(),c=b.scrollTop>0,e=b.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(e?" left":"")),this._topShadowDomNode.setClassName("shadow"+(c?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(c?" top":"")+(e?" left":""))}},a.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},a.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},a.prototype._onMouseOut=function(b){this._mouseIsOver=!1,this._hide()},a.prototype._onMouseOver=function(b){this._mouseIsOver=!0,this._reveal()},a.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},a.prototype._hide=function(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},a.prototype._scheduleHide=function(){var b=this;!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(function(){return b._hide()},PO)},a}(Hb),Of=function(d){ho(a,d);function a(b,c){var e=this;c=c||{},c.mouseWheelSmoothScroll=!1;var f=new io(0,function(g){return ce(g)});return e=d.call(this,b,c,f)||this,e._register(f),e}return a.prototype.setScrollPosition=function(b){this._scrollable.setScrollPositionNow(b)},a.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},a}(Ez),Fz=function(d){ho(a,d);function a(b,c,e){return d.call(this,b,c,e)||this}return a}(Ez),df=function(d){ho(a,d);function a(b,c){var e=d.call(this,b,c)||this;return e._element=b,e.onScroll(function(f){f.scrollTopChanged&&(e._element.scrollTop=f.scrollTop),f.scrollLeftChanged&&(e._element.scrollLeft=f.scrollLeft)}),e.scanDomNode(),e}return a.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})},a}(Of);function Gz(d){var a={lazyRender:typeof d.lazyRender!=="undefined"?d.lazyRender:!1,className:typeof d.className!=="undefined"?d.className:"",useShadows:typeof d.useShadows!=="undefined"?d.useShadows:!0,handleMouseWheel:typeof d.handleMouseWheel!=="undefined"?d.handleMouseWheel:!0,flipAxes:typeof d.flipAxes!=="undefined"?d.flipAxes:!1,alwaysConsumeMouseWheel:typeof d.alwaysConsumeMouseWheel!=="undefined"?d.alwaysConsumeMouseWheel:!1,scrollYToX:typeof d.scrollYToX!=="undefined"?d.scrollYToX:!1,mouseWheelScrollSensitivity:typeof d.mouseWheelScrollSensitivity!=="undefined"?d.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof d.fastScrollSensitivity!=="undefined"?d.fastScrollSensitivity:5,mouseWheelSmoothScroll:typeof d.mouseWheelSmoothScroll!=="undefined"?d.mouseWheelSmoothScroll:!0,arrowSize:typeof d.arrowSize!=="undefined"?d.arrowSize:11,listenOnDomNode:typeof d.listenOnDomNode!=="undefined"?d.listenOnDomNode:null,horizontal:typeof d.horizontal!=="undefined"?d.horizontal:1,horizontalScrollbarSize:typeof d.horizontalScrollbarSize!=="undefined"?d.horizontalScrollbarSize:10,horizontalSliderSize:typeof d.horizontalSliderSize!=="undefined"?d.horizontalSliderSize:0,horizontalHasArrows:typeof d.horizontalHasArrows!=="undefined"?d.horizontalHasArrows:!1,vertical:typeof d.vertical!=="undefined"?d.vertical:1,verticalScrollbarSize:typeof d.verticalScrollbarSize!=="undefined"?d.verticalScrollbarSize:10,verticalHasArrows:typeof d.verticalHasArrows!=="undefined"?d.verticalHasArrows:!1,verticalSliderSize:typeof d.verticalSliderSize!=="undefined"?d.verticalSliderSize:0};return a.horizontalSliderSize=typeof d.horizontalSliderSize!=="undefined"?d.horizontalSliderSize:a.horizontalScrollbarSize,a.verticalSliderSize=typeof d.verticalSliderSize!=="undefined"?d.verticalSliderSize:a.verticalScrollbarSize,ka&&(a.className+=" mac"),a}var xS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),sD=function(d){xS(a,d);function a(b,c,e,f){var g=d.call(this,b)||this,h=g._context.configuration.options,i=h.get(78),j=h.get(56),k=h.get(27),l={listenOnDomNode:e.domNode,className:"editor-scrollable "+di(b.theme.type),useShadows:!1,lazyRender:!0,vertical:i.vertical,horizontal:i.horizontal,verticalHasArrows:i.verticalHasArrows,horizontalHasArrows:i.horizontalHasArrows,verticalScrollbarSize:i.verticalScrollbarSize,verticalSliderSize:i.verticalSliderSize,horizontalScrollbarSize:i.horizontalScrollbarSize,horizontalSliderSize:i.horizontalSliderSize,handleMouseWheel:i.handleMouseWheel,alwaysConsumeMouseWheel:i.alwaysConsumeMouseWheel,arrowSize:i.arrowSize,mouseWheelScrollSensitivity:j,fastScrollSensitivity:k};g.scrollbar=g._register(new Fz(c.domNode,l,g._context.viewLayout.getScrollable())),Dc.write(g.scrollbar.getDomNode(),5),g.scrollbarDomNode=ma(g.scrollbar.getDomNode()),g.scrollbarDomNode.setPosition("absolute"),g._setLayout();var m=function(n,o,p){var q={};if(o){var r=n.scrollTop;r&&(q.scrollTop=g._context.viewLayout.getCurrentScrollTop()+r,n.scrollTop=0)}if(p){var t=n.scrollLeft;t&&(q.scrollLeft=g._context.viewLayout.getCurrentScrollLeft()+t,n.scrollLeft=0)}g._context.viewLayout.setScrollPositionNow(q)};return g._register(R(e.domNode,"scroll",function(n){return m(e.domNode,!0,!0)})),g._register(R(c.domNode,"scroll",function(n){return m(c.domNode,!0,!1)})),g._register(R(f.domNode,"scroll",function(n){return m(f.domNode,!0,!1)})),g._register(R(g.scrollbarDomNode.domNode,"scroll",function(n){return m(g.scrollbarDomNode.domNode,!0,!1)})),g}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype._setLayout=function(){var b=this._context.configuration.options,c=b.get(107);this.scrollbarDomNode.setLeft(c.contentLeft);var e=b.get(54),f=e.side;f==="right"?this.scrollbarDomNode.setWidth(c.contentWidth+c.minimapWidth):this.scrollbarDomNode.setWidth(c.contentWidth),this.scrollbarDomNode.setHeight(c.height)},a.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},a.prototype.getDomNode=function(){return this.scrollbarDomNode},a.prototype.delegateVerticalScrollbarMouseDown=function(b){this.scrollbar.delegateVerticalScrollbarMouseDown(b)},a.prototype.onConfigurationChanged=function(b){if(b.hasChanged(78)||b.hasChanged(56)||b.hasChanged(27)){var c=this._context.configuration.options,e=c.get(78),f=c.get(56),g=c.get(27),h={handleMouseWheel:e.handleMouseWheel,mouseWheelScrollSensitivity:f,fastScrollSensitivity:g};this.scrollbar.updateOptions(h)}return b.hasChanged(107)&&this._setLayout(),!0},a.prototype.onScrollChanged=function(b){return!0},a.prototype.onThemeChanged=function(b){return this.scrollbar.updateClassName("editor-scrollable "+di(this._context.theme.type)),!0},a.prototype.prepareRender=function(b){},a.prototype.render=function(b){this.scrollbar.renderNow()},a}(Kb);var SD=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),$l=function(){function d(a,b,c){this.startLineNumber=+a,this.endLineNumber=+b,this.className=String(c)}return d}(),am=function(d){SD(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._render=function(b,c,e){for(var f=[],g=b;g<=c;g++){var h=g-b;f[h]=[]}if(e.length===0)return f;e.sort(function(r,t){return r.className===t.className?r.startLineNumber===t.startLineNumber?r.endLineNumber-t.endLineNumber:r.startLineNumber-t.startLineNumber:r.className<t.className?-1:1});for(var i=null,j=0,k=0,l=e.length;k<l;k++){var m=e[k],n=m.className,o=Math.max(m.startLineNumber,b)-b,p=Math.min(m.endLineNumber,c)-b;i===n?(o=Math.max(j+1,o),j=Math.max(j,p)):(i=n,j=p);for(var q=o;q<=j;q++)f[q].push(i)}return f},a}(he),tD=function(d){SD(a,d);function a(b){var c=d.call(this)||this;c._context=b;var e=c._context.configuration.options,f=e.get(107);return c._lineHeight=e.get(49),c._glyphMargin=e.get(40),c._glyphMarginLeft=f.glyphMarginLeft,c._glyphMarginWidth=f.glyphMarginWidth,c._renderResult=null,c._context.addEventHandler(c),c}return a.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(107);return this._lineHeight=c.get(49),this._glyphMargin=c.get(40),this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollTopChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype._getDecorations=function(b){for(var c=b.getDecorationsInViewport(),e=[],f=0,g=0,h=c.length;g<h;g++){var i=c[g],j=i.options.glyphMarginClassName;j&&(e[f++]=new $l(i.range.startLineNumber,i.range.endLineNumber,j))}return e},a.prototype.prepareRender=function(b){if(!this._glyphMargin){this._renderResult=null;return}for(var c=b.visibleRange.startLineNumber,e=b.visibleRange.endLineNumber,f=this._render(c,e,this._getDecorations(b)),g=this._lineHeight.toString(),h=this._glyphMarginLeft.toString(),i=this._glyphMarginWidth.toString(),j='" style="left:'+h+"px;width:"+i+"px;height:"+g+'px;"></div>',k=[],l=c;l<=e;l++){var m=l-c,n=f[m];n.length===0?k[m]="":k[m]='<div class="cgmr codicon '+n.join(" ")+j}this._renderResult=k},a.prototype.render=function(b,c){if(!this._renderResult)return"";var e=c-b;return e<0||e>=this._renderResult.length?"":this._renderResult[e]},a}(am);var yS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),uD=function(d){yS(a,d);function a(b){var c=d.call(this)||this;c._context=b,c._primaryLineNumber=0;var e=c._context.configuration.options,f=e.get(108),g=e.get(34);return c._lineHeight=e.get(49),c._spaceWidth=g.spaceWidth,c._enabled=e.get(70),c._activeIndentEnabled=e.get(43),c._maxIndentLeft=f.wrappingColumn===-1?-1:f.wrappingColumn*g.typicalHalfwidthCharacterWidth,c._renderResult=null,c._context.addEventHandler(c),c}return a.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(108),f=c.get(34);return this._lineHeight=c.get(49),this._spaceWidth=f.spaceWidth,this._enabled=c.get(70),this._activeIndentEnabled=c.get(43),this._maxIndentLeft=e.wrappingColumn===-1?-1:e.wrappingColumn*f.typicalHalfwidthCharacterWidth,!0},a.prototype.onCursorStateChanged=function(b){var c=b.selections[0],e=c.isEmpty()?c.positionLineNumber:0;return this._primaryLineNumber!==e?(this._primaryLineNumber=e,!0):!1},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollTopChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype.onLanguageConfigurationChanged=function(b){return!0},a.prototype.prepareRender=function(b){if(!this._enabled){this._renderResult=null;return}var c=b.visibleRange.startLineNumber,e=b.visibleRange.endLineNumber,f=this._context.model.getOptions().indentSize,g=f*this._spaceWidth,h=b.scrollWidth,i=this._lineHeight,j=this._context.model.getLinesIndentGuides(c,e),k=0,l=0,m=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var n=this._context.model.getActiveIndentGuide(this._primaryLineNumber,c,e);k=n.startLineNumber,l=n.endLineNumber,m=n.indent}for(var o=[],p=c;p<=e;p++){var q=k<=p&&p<=l,r=p-c,t=j[r],v="";if(t>=1)for(var w=b.visibleRangeForPosition(new G(p,1)),x=w?w.left:0,u=1;u<=t;u++){var y=q&&u===m?"cigra":"cigr";v+='<div class="'+y+'" style="left:'+x+"px;height:"+i+"px;width:"+g+'px"></div>',x+=g;if(x>h||this._maxIndentLeft>0&&x>this._maxIndentLeft)break}o[r]=v}this._renderResult=o},a.prototype.render=function(b,c){if(!this._renderResult)return"";var e=c-b;return e<0||e>=this._renderResult.length?"":this._renderResult[e]},a}(he);la(function(d,a){var b=d.getColor(Mj);b&&a.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+b+" inset; }");var c=d.getColor(Lj)||b;c&&a.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+c+" inset; }")});var HS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),IS=function(){function d(){this._currentVisibleRange=new z(1,1,1,1)}return d.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},d.prototype.setCurrentVisibleRange=function(a){this._currentVisibleRange=a},d}(),JS=function(){function d(a,b,c,e,f,g){this.lineNumber=a,this.startColumn=b,this.endColumn=c,this.startScrollTop=e,this.stopScrollTop=f,this.scrollType=g}return d}(),vD=function(d){HS(a,d);function a(b,c){var e=d.call(this,b)||this;e._linesContent=c,e._textRangeRestingSpot=document.createElement("div"),e._visibleLines=new pp(e),e.domNode=e._visibleLines.domNode;var f=e._context.configuration,g=e._context.configuration.options,h=g.get(34),i=g.get(108);return e._lineHeight=g.get(49),e._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,e._isViewportWrapping=i.isViewportWrapping,e._revealHorizontalRightPadding=g.get(75),e._cursorSurroundingLines=g.get(19),e._cursorSurroundingLinesStyle=g.get(20),e._canUseLayerHinting=!g.get(22),e._viewLineOptions=new Pu(f,e._context.theme.type),Dc.write(e.domNode,7),e.domNode.setClassName("view-lines"),_b.applyFontInfo(e.domNode,h),e._maxLineWidth=0,e._asyncUpdateLineWidths=new Ka(function(){e._updateLineWidthsSlow()},200),e._lastRenderedData=new IS(),e._horizontalRevealRequest=null,e}return a.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),d.prototype.dispose.call(this)},a.prototype.getDomNode=function(){return this.domNode},a.prototype.createVisibleLine=function(){return new ah(this._viewLineOptions)},a.prototype.onConfigurationChanged=function(b){this._visibleLines.onConfigurationChanged(b),b.hasChanged(108)&&(this._maxLineWidth=0);var c=this._context.configuration.options,e=c.get(34),f=c.get(108);return this._lineHeight=c.get(49),this._typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this._isViewportWrapping=f.isViewportWrapping,this._revealHorizontalRightPadding=c.get(75),this._cursorSurroundingLines=c.get(19),this._cursorSurroundingLinesStyle=c.get(20),this._canUseLayerHinting=!c.get(22),_b.applyFontInfo(this.domNode,e),this._onOptionsMaybeChanged(),b.hasChanged(107)&&(this._maxLineWidth=0),!0},a.prototype._onOptionsMaybeChanged=function(){var b=this._context.configuration,c=new Pu(b,this._context.theme.type);if(!this._viewLineOptions.equals(c)){this._viewLineOptions=c;for(var e=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber(),g=e;g<=f;g++){var h=this._visibleLines.getVisibleLine(g);h.onOptionsChanged(this._viewLineOptions)}return!0}return!1},a.prototype.onCursorStateChanged=function(b){for(var c=this._visibleLines.getStartLineNumber(),e=this._visibleLines.getEndLineNumber(),f=!1,g=c;g<=e;g++)f=this._visibleLines.getVisibleLine(g).onSelectionChanged()||f;return f},a.prototype.onDecorationsChanged=function(b){for(var c=this._visibleLines.getStartLineNumber(),e=this._visibleLines.getEndLineNumber(),f=c;f<=e;f++)this._visibleLines.getVisibleLine(f).onDecorationsChanged();return!0},a.prototype.onFlushed=function(b){var c=this._visibleLines.onFlushed(b);return this._maxLineWidth=0,c},a.prototype.onLinesChanged=function(b){return this._visibleLines.onLinesChanged(b)},a.prototype.onLinesDeleted=function(b){return this._visibleLines.onLinesDeleted(b)},a.prototype.onLinesInserted=function(b){return this._visibleLines.onLinesInserted(b)},a.prototype.onRevealRangeRequest=function(b){var c=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),b.source,b.range,b.verticalType),e=this._context.viewLayout.validateScrollPosition({scrollTop:c});b.revealHorizontal?b.range.startLineNumber!==b.range.endLineNumber?e={scrollTop:e.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new JS(b.range.startLineNumber,b.range.startColumn,b.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),e.scrollTop,b.scrollType):this._horizontalRevealRequest=null;var f=Math.abs(this._context.viewLayout.getCurrentScrollTop()-e.scrollTop);return b.scrollType===0&&f>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(e):this._context.viewLayout.setScrollPositionNow(e),!0},a.prototype.onScrollChanged=function(b){this._horizontalRevealRequest&&b.scrollLeftChanged&&(this._horizontalRevealRequest=null);if(this._horizontalRevealRequest&&b.scrollTopChanged){var c=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),e=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(b.scrollTop<c||b.scrollTop>e)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(b.scrollWidth),this._visibleLines.onScrollChanged(b)||!0},a.prototype.onTokensChanged=function(b){return this._visibleLines.onTokensChanged(b)},a.prototype.onZonesChanged=function(b){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(b)},a.prototype.onThemeChanged=function(b){return this._onOptionsMaybeChanged()},a.prototype.getPositionFromDOMInfo=function(b,c){var e=this._getViewLineDomNode(b);if(e===null)return null;var f=this._getLineNumberFor(e);if(f===-1)return null;if(f<1||f>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(f)===1)return new G(f,1);var g=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber();if(f<g||f>h)return null;var i=this._visibleLines.getVisibleLine(f).getColumnOfNodeOffset(f,b,c),j=this._context.model.getLineMinColumn(f);return i<j&&(i=j),new G(f,i)},a.prototype._getViewLineDomNode=function(b){for(;b&&b.nodeType===1;){if(b.className===ah.CLASS_NAME)return b;b=b.parentElement}return null},a.prototype._getLineNumberFor=function(b){for(var c=this._visibleLines.getStartLineNumber(),e=this._visibleLines.getEndLineNumber(),f=c;f<=e;f++){var g=this._visibleLines.getVisibleLine(f);if(b===g.getDomNode())return f}return-1},a.prototype.getLineWidth=function(b){var c=this._visibleLines.getStartLineNumber(),e=this._visibleLines.getEndLineNumber();return b<c||b>e?-1:this._visibleLines.getVisibleLine(b).getWidth()},a.prototype.linesVisibleRangesForRange=function(b,c){if(this.shouldRender())return null;var e=b.endLineNumber,f=z.intersectRanges(b,this._lastRenderedData.getCurrentVisibleRange());if(!f)return null;var g=[],h=0,i=new Ou(this.domNode.domNode,this._textRangeRestingSpot),j=0;c&&(j=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new G(f.startLineNumber,1)).lineNumber);for(var k=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber(),m=f.startLineNumber;m<=f.endLineNumber;m++){if(m<k||m>l)continue;var n=m===f.startLineNumber?f.startColumn:1,o=m===f.endLineNumber?f.endColumn:this._context.model.getLineMaxColumn(m),p=this._visibleLines.getVisibleLine(m).getVisibleRangesForRange(n,o,i);if(!p)continue;if(c&&m<e){var q=j;j=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new G(m+1,1)).lineNumber,q!==j&&(p.ranges[p.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}g[h++]=new ZD(p.outsideRenderedLine,m,p.ranges)}return h===0?null:g},a.prototype._visibleRangesForLineRange=function(b,c,e){return this.shouldRender()?null:b<this._visibleLines.getStartLineNumber()||b>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(b).getVisibleRangesForRange(c,e,new Ou(this.domNode.domNode,this._textRangeRestingSpot))},a.prototype.visibleRangeForPosition=function(b){var c=this._visibleRangesForLineRange(b.lineNumber,b.column,b.column);return c?new _D(c.outsideRenderedLine,c.ranges[0].left):null},a.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},a.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},a.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},a.prototype._updateLineWidths=function(b){for(var c=this._visibleLines.getStartLineNumber(),e=this._visibleLines.getEndLineNumber(),f=1,g=!0,h=c;h<=e;h++){var i=this._visibleLines.getVisibleLine(h);if(b&&!i.getWidthIsFast()){g=!1;continue}f=Math.max(f,i.getWidth())}return g&&c===1&&e===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(f),g},a.prototype.prepareRender=function(){throw new Error("Not supported")},a.prototype.render=function(){throw new Error("Not supported")},a.prototype.renderText=function(b){this._visibleLines.renderLines(b),this._lastRenderedData.setCurrentVisibleRange(b.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6));if(this._horizontalRevealRequest){var c=this._horizontalRevealRequest.lineNumber,e=this._horizontalRevealRequest.startColumn,f=this._horizontalRevealRequest.endColumn,g=this._horizontalRevealRequest.scrollType;if(b.startLineNumber<=c&&c<=b.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var h=this._computeScrollLeftToRevealRange(c,e,f),i=this._isViewportWrapping;i||this._ensureMaxLineWidth(h.maxHorizontalOffset),g===0?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:h.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:h.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");var j=this._context.viewLayout.getCurrentScrollTop()-b.bigNumbersDelta;this._linesContent.setTop(-j),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},a.prototype._ensureMaxLineWidth=function(b){var c=Math.ceil(b);this._maxLineWidth<c&&(this._maxLineWidth=c,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},a.prototype._computeScrollTopToRevealRange=function(b,c,e,f){var g=b.top,h=b.height,i=g+h,j,k;j=this._context.viewLayout.getVerticalOffsetForLineNumber(e.startLineNumber),k=this._context.viewLayout.getVerticalOffsetForLineNumber(e.endLineNumber)+this._lineHeight;var l=c==="mouse"&&this._cursorSurroundingLinesStyle==="default";if(!l){var m=Math.min(h/this._lineHeight/2,this._cursorSurroundingLines);j-=m*this._lineHeight,k+=Math.max(0,m-1)*this._lineHeight}(f===0||f===4)&&(k+=this._lineHeight);var n;if(k-j>h)n=j;else if(f===1||f===2)if(f===2&&g<=j&&k<=i)n=g;else{var o=(j+k)/2;n=Math.max(0,o-h/2)}else n=this._computeMinimumScrolling(g,i,j,k,f===3,f===4);return n},a.prototype._computeScrollLeftToRevealRange=function(b,c,e){var f=0,g=this._context.viewLayout.getCurrentViewport(),h=g.left,i=h+g.width,j=this._visibleRangesForLineRange(b,c,e),k=1073741824,l=0;if(!j)return{scrollLeft:h,maxHorizontalOffset:f};for(var m=0,n=j.ranges;m<n.length;m++){var o=n[m];o.left<k&&(k=o.left),o.left+o.width>l&&(l=o.left+o.width)}f=l,k=Math.max(0,k-a.HORIZONTAL_EXTRA_PX),l+=this._revealHorizontalRightPadding;var p=this._computeMinimumScrolling(h,i,k,l);return{scrollLeft:p,maxHorizontalOffset:f}},a.prototype._computeMinimumScrolling=function(b,c,e,f,g,h){b=b|0,c=c|0,e=e|0,f=f|0,g=!!g,h=!!h;var i=c-b,j=f-e;if(j<i){if(g)return e;if(h)return Math.max(0,f-i);if(e<b)return e;if(f>c)return Math.max(0,f-i)}else return e;return b},a.HORIZONTAL_EXTRA_PX=30,a}(Kb);var KS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),wD=function(d){KS(a,d);function a(b){var c=d.call(this)||this;c._context=b;var e=c._context.configuration.options,f=e.get(107);return c._decorationsLeft=f.decorationsLeft,c._decorationsWidth=f.decorationsWidth,c._renderResult=null,c._context.addEventHandler(c),c}return a.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(107);return this._decorationsLeft=e.decorationsLeft,this._decorationsWidth=e.decorationsWidth,!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollTopChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype._getDecorations=function(b){for(var c=b.getDecorationsInViewport(),e=[],f=0,g=0,h=c.length;g<h;g++){var i=c[g],j=i.options.linesDecorationsClassName;j&&(e[f++]=new $l(i.range.startLineNumber,i.range.endLineNumber,j))}return e},a.prototype.prepareRender=function(b){for(var c=b.visibleRange.startLineNumber,e=b.visibleRange.endLineNumber,f=this._render(c,e,this._getDecorations(b)),g=this._decorationsLeft.toString(),h=this._decorationsWidth.toString(),i='" style="left:'+g+"px;width:"+h+'px;"></div>',j=[],k=c;k<=e;k++){for(var l=k-c,m=f[l],n="",o=0,p=m.length;o<p;o++)n+='<div class="cldr '+m[o]+i;j[l]=n}this._renderResult=j},a.prototype.render=function(b,c){return this._renderResult?this._renderResult[c-b]:""},a}(am);var MS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),xD=function(d){MS(a,d);function a(b){var c=d.call(this)||this;return c._context=b,c._renderResult=null,c._context.addEventHandler(c),c}return a.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){return!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollTopChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype._getDecorations=function(b){for(var c=b.getDecorationsInViewport(),e=[],f=0,g=0,h=c.length;g<h;g++){var i=c[g],j=i.options.marginClassName;j&&(e[f++]=new $l(i.range.startLineNumber,i.range.endLineNumber,j))}return e},a.prototype.prepareRender=function(b){for(var c=b.visibleRange.startLineNumber,e=b.visibleRange.endLineNumber,f=this._render(c,e,this._getDecorations(b)),g=[],h=c;h<=e;h++){for(var i=h-c,j=f[i],k="",l=0,m=j.length;l<m;l++)k+='<div class="cmdr '+j[l]+'" style=""></div>';g[i]=k}this._renderResult=g},a.prototype.render=function(b,c){return this._renderResult?this._renderResult[c-b]:""},a}(am);var Kp=function(){function d(a,b,c,e){this.r=d._clamp(a),this.g=d._clamp(b),this.b=d._clamp(c),this.a=d._clamp(e)}return d._clamp=function(a){return a<0?0:a>255?255:a|0},d.Empty=new d(0,0,0,0),d}();var sp=function(){function d(){var a=this;this._onDidChange=new E(),this.onDidChange=this._onDidChange.event,this._updateColorMap(),Ga.onDidChange(function(b){b.changedColorMap&&a._updateColorMap()})}return d.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new d()),this._INSTANCE},d.prototype._updateColorMap=function(){var a=Ga.getColorMap();if(!a){this._colors=[Kp.Empty],this._backgroundIsLight=!0;return}this._colors=[Kp.Empty];for(var b=1;b<a.length;b++){var c=a[b].rgba;this._colors[b]=new Kp(c.r,c.g,c.b,Math.round(c.a*255))}var e=a[2].getRelativeLuminance();this._backgroundIsLight=e>=.5,this._onDidChange.fire(void 0)},d.prototype.getColor=function(a){return(a<1||a>=this._colors.length)&&(a=2),this._colors[a]},d.prototype.backgroundIsLight=function(){return this._backgroundIsLight},d._INSTANCE=null,d}();var hE=function(){for(var d=[],a=32;a<=126;a++)d.push(a);return d.push(65533),d}(),gE=function(d,a){return d-=32,d<0||d>96?a<=2?(d+96)%96:96-1:d};var Su=function(){function d(a,b){this.scale=b,this.charDataNormal=d.soften(a,12/15),this.charDataLight=d.soften(a,50/60)}return d.soften=function(a,b){for(var c=new Uint8ClampedArray(a.length),e=0,f=a.length;e<f;e++)c[e]=a[e]*b;return c},d.prototype.renderChar=function(a,b,c,e,f,g,h,i){var j=1*this.scale,k=2*this.scale;if(b+j>a.width||c+k>a.height){console.warn("bad render request outside image data");return}for(var l=i?this.charDataLight:this.charDataNormal,m=gE(e,h),n=a.width*4,o=g.r,p=g.g,q=g.b,r=f.r-o,t=f.g-p,v=f.b-q,w=a.data,x=m*j*k,u=c*n+b*4,y=0;y<k;y++){for(var A=u,F=0;F<j;F++){var B=l[x++]/255;w[A++]=o+r*B,w[A++]=p+t*B,w[A++]=q+v*B,A++}u+=n}},d.prototype.blockRenderChar=function(a,b,c,e,f,g){var h=1*this.scale,i=2*this.scale;if(b+h>a.width||c+i>a.height){console.warn("bad render request outside image data");return}for(var j=a.width*4,k=.5,l=f.r,m=f.g,n=f.b,o=e.r-l,p=e.g-m,q=e.b-n,r=l+o*k,t=m+p*k,v=n+q*k,w=a.data,x=c*j+b*4,u=0;u<i;u++){for(var y=x,A=0;A<h;A++)w[y++]=r,w[y++]=t,w[y++]=v,y++;x+=j}},d}();var iE={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},jE=function(d){for(var a=new Uint8ClampedArray(d.length/2),b=0;b<d.length;b+=2)a[b>>1]=iE[d[b]]<<4|iE[d[b+1]]&15;return a},Tu={1:Xf(function(){return jE("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")}),2:Xf(function(){return jE("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")})};var cE=function(){function d(){}return d.create=function(a,b){if(this.lastCreated&&a===this.lastCreated.scale&&b===this.lastFontFamily)return this.lastCreated;var c;return Tu[a]?c=new Su(Tu[a](),a):c=d.createFromSampleData(d.createSampleData(b).data,a),this.lastFontFamily=b,this.lastCreated=c,c},d.createSampleData=function(a){var b=document.createElement("canvas"),c=b.getContext("2d");b.style.height=16+"px",b.height=16,b.width=96*10,b.style.width=96*10+"px",c.fillStyle="#ffffff",c.font="bold "+16+"px "+a,c.textBaseline="middle";for(var e=0,f=0,g=hE;f<g.length;f++){var h=g[f];c.fillText(String.fromCharCode(h),e,16/2),e+=10}return c.getImageData(0,0,96*10,16)},d.createFromSampleData=function(a,b){var c=16*10*4*96;if(a.length!==c)throw new Error("Unexpected source in MinimapCharRenderer");var e=d._downsample(a,b);return new Su(e,b)},d._downsampleChar=function(a,b,c,e,f){for(var g=1*f,h=2*f,i=e,j=0,k=0;k<h;k++)for(var l=k/h*16,m=(k+1)/h*16,n=0;n<g;n++){for(var o=n/g*10,p=(n+1)/g*10,q=0,r=0,t=l;t<m;t++)for(var v=b+Math.floor(t)*3840,w=1-(t-Math.floor(t)),x=o;x<p;x++){var u=1-(x-Math.floor(x)),y=v+Math.floor(x)*4,A=u*w;r+=A,q+=a[y]*a[y+3]/255*A}var F=q/r;j=Math.max(j,F),c[i++]=F}return j},d._downsample=function(a,b){for(var c=2*b*1*b,e=c*96,f=new Uint8ClampedArray(e),g=0,h=0,i=0,j=0;j<96;j++)i=Math.max(i,this._downsampleChar(a,h,f,g,b)),g+=c,h+=10*4;if(i>0)for(var k=255/i,l=0;l<e;l++)f[l]*=k;return f},d}();var NS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function tp(d,a){return d===1?2*a:(2+1)*a}function Ru(d,a){return d===1?1*a:1*a}var OS=140,PS=2,dE=function(){function d(a){var b=this,c=a.options,e=c.get(105),f=c.get(107),g=c.get(34);this.renderMinimap=f.renderMinimap|0,this.scrollBeyondLastLine=c.get(80);var h=c.get(54);this.showSlider=h.showSlider,this.fontScale=Math.round(h.scale*e),this.charRenderer=Xf(function(){return cE.create(b.fontScale,g.fontFamily)}),this.pixelRatio=e,this.typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this.lineHeight=c.get(49),this.minimapLeft=f.minimapLeft,this.minimapWidth=f.minimapWidth,this.minimapHeight=f.height,this.canvasInnerWidth=Math.floor(e*this.minimapWidth),this.canvasInnerHeight=Math.floor(e*this.minimapHeight),this.canvasOuterWidth=this.canvasInnerWidth/e,this.canvasOuterHeight=this.canvasInnerHeight/e}return d.prototype.equals=function(a){return this.renderMinimap===a.renderMinimap&&this.scrollBeyondLastLine===a.scrollBeyondLastLine&&this.showSlider===a.showSlider&&this.pixelRatio===a.pixelRatio&&this.typicalHalfwidthCharacterWidth===a.typicalHalfwidthCharacterWidth&&this.lineHeight===a.lineHeight&&this.fontScale===a.fontScale&&this.minimapLeft===a.minimapLeft&&this.minimapWidth===a.minimapWidth&&this.minimapHeight===a.minimapHeight&&this.canvasInnerWidth===a.canvasInnerWidth&&this.canvasInnerHeight===a.canvasInnerHeight&&this.canvasOuterWidth===a.canvasOuterWidth&&this.canvasOuterHeight===a.canvasOuterHeight},d}(),QS=function(){function d(a,b,c,e,f,g,h){this.scrollTop=a,this.scrollHeight=b,this._computedSliderRatio=c,this.sliderTop=e,this.sliderHeight=f,this.startLineNumber=g,this.endLineNumber=h}return d.prototype.getDesiredScrollTopFromDelta=function(a){var b=this.sliderTop+a;return Math.round(b/this._computedSliderRatio)},d.prototype.getDesiredScrollTopFromTouchLocation=function(a){return Math.round((a-this.sliderHeight/2)/this._computedSliderRatio)},d.create=function(a,b,c,e,f,g,h,i,j){var k=a.pixelRatio,l=tp(a.renderMinimap,a.fontScale),m=Math.floor(a.canvasInnerHeight/l),n=a.lineHeight,o;if(f&&c!==g){var p=c-b+1;o=Math.floor(p*l/k)}else{var q=e/n;o=Math.floor(q*l/k)}var r;a.scrollBeyondLastLine?r=(g-1)*l/k:r=Math.max(0,g*l/k-o),r=Math.min(a.minimapHeight-o,r);var t=r/(i-e),v=h*t,w=0;if(a.scrollBeyondLastLine){var q=e/n;w=q}if(m>=g+w){var x=1,u=g;return new d(h,i,t,v,o,x,u)}else{var x=Math.max(1,Math.floor(b-v*k/l));j&&j.scrollHeight===i&&(j.scrollTop>h&&(x=Math.min(x,j.startLineNumber)),j.scrollTop<h&&(x=Math.max(x,j.startLineNumber)));var u=Math.min(g,x+m-1);return new d(h,i,t,v,o,x,u)}},d}(),eE=function(){function d(a){this.dy=a}return d.prototype.onContentChanged=function(){this.dy=-1},d.prototype.onTokensChanged=function(){this.dy=-1},d.INVALID=new d(-1),d}(),fE=function(){function d(a,b,c){this.renderedLayout=a,this._imageData=b,this._renderedLines=new Ju(function(){return eE.INVALID}),this._renderedLines._set(a.startLineNumber,c)}return d.prototype.linesEquals=function(a){if(!this.scrollEquals(a))return!1;for(var b=this._renderedLines._get(),c=b.lines,e=0,f=c.length;e<f;e++)if(c[e].dy===-1)return!1;return!0},d.prototype.scrollEquals=function(a){return this.renderedLayout.startLineNumber===a.startLineNumber&&this.renderedLayout.endLineNumber===a.endLineNumber},d.prototype._get=function(){var a=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:a.rendLineNumberStart,lines:a.lines}},d.prototype.onLinesChanged=function(a){return this._renderedLines.onLinesChanged(a.fromLineNumber,a.toLineNumber)},d.prototype.onLinesDeleted=function(a){this._renderedLines.onLinesDeleted(a.fromLineNumber,a.toLineNumber)},d.prototype.onLinesInserted=function(a){this._renderedLines.onLinesInserted(a.fromLineNumber,a.toLineNumber)},d.prototype.onTokensChanged=function(a){return this._renderedLines.onTokensChanged(a.ranges)},d}(),RS=function(){function d(a,b,c,e){this._backgroundFillData=d._createBackgroundFillData(b,c,e),this._buffers=[a.createImageData(b,c),a.createImageData(b,c)],this._lastUsedBuffer=0}return d.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var a=this._buffers[this._lastUsedBuffer];return a.data.set(this._backgroundFillData),a},d._createBackgroundFillData=function(a,b,c){for(var e=c.r,f=c.g,g=c.b,h=new Uint8ClampedArray(a*b*4),i=0,j=0;j<b;j++)for(var k=0;k<a;k++)h[i]=e,h[i+1]=f,h[i+2]=g,h[i+3]=255,i+=4;return h},d}(),yD=function(d){NS(a,d);function a(b){var c=d.call(this,b)||this;return c._selections=[],c._renderDecorations=!1,c._gestureInProgress=!1,c._options=new dE(c._context.configuration),c._lastRenderData=null,c._buffers=null,c._selectionColor=c._context.theme.getColor(Qu),c._domNode=ma(document.createElement("div")),Dc.write(c._domNode,8),c._domNode.setClassName(c._getMinimapDomNodeClassName()),c._domNode.setPosition("absolute"),c._domNode.setAttribute("role","presentation"),c._domNode.setAttribute("aria-hidden","true"),c._shadow=ma(document.createElement("div")),c._shadow.setClassName("minimap-shadow-hidden"),c._domNode.appendChild(c._shadow),c._canvas=ma(document.createElement("canvas")),c._canvas.setPosition("absolute"),c._canvas.setLeft(0),c._domNode.appendChild(c._canvas),c._decorationsCanvas=ma(document.createElement("canvas")),c._decorationsCanvas.setPosition("absolute"),c._decorationsCanvas.setClassName("minimap-decorations-layer"),c._decorationsCanvas.setLeft(0),c._domNode.appendChild(c._decorationsCanvas),c._slider=ma(document.createElement("div")),c._slider.setPosition("absolute"),c._slider.setClassName("minimap-slider"),c._slider.setLayerHinting(!0),c._slider.setContain("strict"),c._domNode.appendChild(c._slider),c._sliderHorizontal=ma(document.createElement("div")),c._sliderHorizontal.setPosition("absolute"),c._sliderHorizontal.setClassName("minimap-slider-horizontal"),c._slider.appendChild(c._sliderHorizontal),c._tokensColorTracker=sp.getInstance(),c._applyLayout(),c._mouseDownListener=Ua(c._domNode.domNode,"mousedown",function(e){e.preventDefault();var f=c._options.renderMinimap;if(f===0)return;if(!c._lastRenderData)return;var g=tp(f,c._options.fontScale),h=c._options.pixelRatio*e.browserEvent.offsetY,i=Math.floor(h/g),j=i+c._lastRenderData.renderedLayout.startLineNumber;j=Math.min(j,c._context.model.getLineCount()),c._context.privateViewEventBus.emit(new Gj("mouse",new z(j,1,j,1),1,!1,0))}),c._sliderMouseMoveMonitor=new Rd(),c._sliderMouseDownListener=Ua(c._slider.domNode,"mousedown",function(e){e.preventDefault(),e.stopPropagation();if(e.leftButton&&c._lastRenderData){var f=e.posy,g=e.posx,h=c._lastRenderData.renderedLayout;c._slider.toggleClassName("active",!0),c._sliderMouseMoveMonitor.startMonitoring(e.target,e.buttons,Ae,function(i){var j=Math.abs(i.posx-g);if(sb&&j>OS){c._context.viewLayout.setScrollPositionNow({scrollTop:h.scrollTop});return}var k=i.posy-f;c._context.viewLayout.setScrollPositionNow({scrollTop:h.getDesiredScrollTopFromDelta(k)})},function(){c._slider.toggleClassName("active",!1)})}}),c._gestureDisposable=wc.addTarget(c._domNode.domNode),c._sliderTouchStartListener=R(c._domNode.domNode,Xa.Start,function(e){e.preventDefault(),e.stopPropagation(),c._lastRenderData&&(c._slider.toggleClassName("active",!0),c._gestureInProgress=!0,c.scrollDueToTouchEvent(e))}),c._sliderTouchMoveListener=Ua(c._domNode.domNode,Xa.Change,function(e){e.preventDefault(),e.stopPropagation(),c._lastRenderData&&c._gestureInProgress&&c.scrollDueToTouchEvent(e)}),c._sliderTouchEndListener=Ua(c._domNode.domNode,Xa.End,function(e){e.preventDefault(),e.stopPropagation(),c._gestureInProgress=!1,c._slider.toggleClassName("active",!1)}),c}return a.prototype.scrollDueToTouchEvent=function(b){var c=this._domNode.domNode.getBoundingClientRect().top,e=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(b.pageY-c);this._context.viewLayout.setScrollPositionNow({scrollTop:e})},a.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),d.prototype.dispose.call(this)},a.prototype._getMinimapDomNodeClassName=function(){return this._options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"},a.prototype.getDomNode=function(){return this._domNode},a.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},a.prototype._getBuffer=function(){return this._buffers||this._options.canvasInnerWidth>0&&this._options.canvasInnerHeight>0&&(this._buffers=new RS(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers?this._buffers.getBuffer():null},a.prototype._onOptionsMaybeChanged=function(){var b=new dE(this._context.configuration);return this._options.equals(b)?!1:(this._options=b,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},a.prototype.onConfigurationChanged=function(b){return this._onOptionsMaybeChanged()},a.prototype.onCursorStateChanged=function(b){return this._selections=b.selections,this._renderDecorations=!0,!0},a.prototype.onFlushed=function(b){return this._lastRenderData=null,!0},a.prototype.onLinesChanged=function(b){return this._lastRenderData?this._lastRenderData.onLinesChanged(b):!1},a.prototype.onLinesDeleted=function(b){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(b),!0},a.prototype.onLinesInserted=function(b){return this._lastRenderData&&this._lastRenderData.onLinesInserted(b),!0},a.prototype.onScrollChanged=function(b){return this._renderDecorations=!0,!0},a.prototype.onTokensChanged=function(b){return this._lastRenderData?this._lastRenderData.onTokensChanged(b):!1},a.prototype.onTokensColorsChanged=function(b){return this._lastRenderData=null,this._buffers=null,!0},a.prototype.onZonesChanged=function(b){return this._lastRenderData=null,!0},a.prototype.onDecorationsChanged=function(b){return this._renderDecorations=!0,!0},a.prototype.onThemeChanged=function(b){return this._context.model.invalidateMinimapColorCache(),this._selectionColor=this._context.theme.getColor(Qu),this._renderDecorations=!0,!0},a.prototype.prepareRender=function(b){},a.prototype.render=function(b){var c=this._options.renderMinimap;if(c===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}b.scrollLeft+b.viewportWidth>=b.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var e=QS.create(this._options,b.visibleRange.startLineNumber,b.visibleRange.endLineNumber,b.viewportHeight,b.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),b.scrollTop,b.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(e.sliderTop),this._slider.setHeight(e.sliderHeight);var f=b.scrollLeft/this._options.typicalHalfwidthCharacterWidth,g=Math.min(this._options.minimapWidth,Math.round(f*Ru(this._options.renderMinimap,this._options.fontScale)/this._options.pixelRatio));this._sliderHorizontal.setLeft(g),this._sliderHorizontal.setWidth(this._options.minimapWidth-g),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(e.sliderHeight),this.renderDecorations(e),this._lastRenderData=this.renderLines(e)},a.prototype.renderDecorations=function(b){if(this._renderDecorations){this._renderDecorations=!1;var c=this._context.model.getDecorationsInViewport(new z(b.startLineNumber,1,b.endLineNumber,this._context.model.getLineMaxColumn(b.endLineNumber))),e=this._options,f=e.renderMinimap,g=e.canvasInnerWidth,h=e.canvasInnerHeight,i=tp(f,this._options.fontScale),j=Ru(f,this._options.fontScale),k=this._context.model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,g,h);for(var m=new Map(),n=0;n<this._selections.length;n++)for(var o=this._selections[n],p=o.startLineNumber;p<=o.endLineNumber;p++)this.renderDecorationOnLine(l,m,o,this._selectionColor,b,p,i,i,k,j);for(var n=0;n<c.length;n++){var q=c[n];if(!q.options.minimap)continue;for(var r=q.options.minimap.getColor(this._context.theme),p=q.range.startLineNumber;p<=q.range.endLineNumber;p++)switch(q.options.minimap.position){case Ne.Inline:this.renderDecorationOnLine(l,m,q.range,r,b,p,i,i,k,j);continue;case Ne.Gutter:var t=(p-b.startLineNumber)*i,v=2;this.renderDecoration(l,r,v,t,PS,i);continue}}}},a.prototype.renderDecorationOnLine=function(b,c,e,f,g,h,i,j,k,l){var m=(h-g.startLineNumber)*j;if(m+i<0||m>this._options.canvasInnerHeight)return;var n=c.get(h),o=!n;if(!n){var p=this._context.model.getLineContent(h);n=[Nj];for(var q=1;q<p.length+1;q++){var r=p.charCodeAt(q-1),t=r===9?k*l:nd(r)?2*l:l;n[q]=n[q-1]+t}c.set(h,n)}var v=e.startColumn,w=e.endColumn,x=e.startLineNumber,u=e.endLineNumber,y=x===h?n[v-1]:Nj,A=u>h?n.length-1:w-1;if(A>0){var F=n[A]-y||2;this.renderDecoration(b,f,y,m,F,i)}o&&this.renderLineHighlight(b,f,m,i)},a.prototype.renderLineHighlight=function(b,c,e,f){b.fillStyle=c&&c.transparent(.5).toString()||"",b.fillRect(Nj,e,b.canvas.width,f)},a.prototype.renderDecoration=function(b,c,e,f,g,h){b.fillStyle=c&&c.toString()||"",b.fillRect(e,f,g,h)},a.prototype.renderLines=function(b){var c=this._options.renderMinimap,e=this._options.charRenderer(),f=b.startLineNumber,g=b.endLineNumber,h=tp(c,this._options.fontScale);if(this._lastRenderData&&this._lastRenderData.linesEquals(b)){var i=this._lastRenderData._get();return new fE(b,i.imageData,i.lines)}var j=this._getBuffer();if(!j)return null;for(var k=a._renderUntouchedLines(j,f,g,h,this._lastRenderData),l=k[0],m=k[1],n=k[2],o=this._context.model.getMinimapLinesRenderingData(f,g,n),p=o.tabSize,q=this._tokensColorTracker.getColor(2),r=this._tokensColorTracker.backgroundIsLight(),t=0,v=[],w=0,x=g-f+1;w<x;w++)n[w]&&a._renderLine(j,q,r,c,this._tokensColorTracker,e,t,p,o.data[w],this._options.fontScale),v[w]=new eE(t),t+=h;var u=l===-1?0:l,y=m===-1?j.height:m,A=y-u,F=this._canvas.domNode.getContext("2d");return F.putImageData(j,0,0,0,u,j.width,A),new fE(b,j,v)},a._renderUntouchedLines=function(b,c,e,f,g){var h=[];if(!g){for(var i=0,j=e-c+1;i<j;i++)h[i]=!0;return[-1,-1,h]}for(var k=g._get(),l=k.imageData.data,m=k.rendLineNumberStart,n=k.lines,o=n.length,p=b.width,q=b.data,r=(e-c+1)*f*p*4,t=-1,v=-1,w=-1,x=-1,u=-1,y=-1,A=0,F=c;F<=e;F++){var B=F-c,D=F-m,H=D>=0&&D<o?n[D].dy:-1;if(H===-1){h[B]=!0,A+=f;continue}var J=H*p*4,L=(H+f)*p*4,O=A*p*4,T=(A+f)*p*4;x===J&&y===O?(x=L,y=T):(w!==-1&&(q.set(l.subarray(w,x),u),t===-1&&w===0&&w===u&&(t=x),v===-1&&x===r&&w===u&&(v=w)),w=J,x=L,u=O,y=T),h[B]=!1,A+=f}w!==-1&&(q.set(l.subarray(w,x),u),t===-1&&w===0&&w===u&&(t=x),v===-1&&x===r&&w===u&&(v=w));var $=t===-1?-1:t/(p*4),_=v===-1?-1:v/(p*4);return[$,_,h]},a._renderLine=function(b,c,e,f,g,h,i,j,k,l){for(var m=k.content,n=k.tokens,o=Ru(f,l),p=b.width-o,q=Nj,r=0,t=0,v=0,w=n.getCount();v<w;v++)for(var x=n.getEndOffset(v),u=n.getForeground(v),y=g.getColor(u);r<x;r++){if(q>p)return;var A=m.charCodeAt(r);if(A===9){var F=j-(r+t)%j;t+=F-1,q+=F*o}else if(A===32)q+=o;else for(var B=nd(A)?2:1,D=0;D<B;D++){f===2?h.blockRenderChar(b,q,i,y,c,e):h.renderChar(b,q,i,A,y,c,l,e),q+=o;if(q>p)return}}},a}(Kb);la(function(d,a){var b=d.getColor(aE);if(b){var c=b.transparent(.5);a.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+c+"; }")}var e=d.getColor(bE);if(e){var f=e.transparent(.5);a.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+f+"; }")}var g=d.getColor($D);if(g){var h=g.transparent(.5);a.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+h+"; }")}var i=d.getColor(fh);i&&a.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+i+" -6px 0 6px -6px inset; }")});var SS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),zD=function(d){SS(a,d);function a(b){var c=d.call(this,b)||this,e=c._context.configuration.options,f=e.get(107);return c._widgets={},c._verticalScrollbarWidth=f.verticalScrollbarWidth,c._minimapWidth=f.minimapWidth,c._horizontalScrollbarHeight=f.horizontalScrollbarHeight,c._editorHeight=f.height,c._editorWidth=f.width,c._domNode=ma(document.createElement("div")),Dc.write(c._domNode,4),c._domNode.setClassName("overlayWidgets"),c}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this._widgets={}},a.prototype.getDomNode=function(){return this._domNode},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(107);return this._verticalScrollbarWidth=e.verticalScrollbarWidth,this._minimapWidth=e.minimapWidth,this._horizontalScrollbarHeight=e.horizontalScrollbarHeight,this._editorHeight=e.height,this._editorWidth=e.width,!0},a.prototype.addWidget=function(b){var c=ma(b.getDomNode());this._widgets[b.getId()]={widget:b,preference:null,domNode:c},c.setPosition("absolute"),c.setAttribute("widgetId",b.getId()),this._domNode.appendChild(c),this.setShouldRender()},a.prototype.setWidgetPosition=function(b,c){var e=this._widgets[b.getId()];return e.preference===c?!1:(e.preference=c,this.setShouldRender(),!0)},a.prototype.removeWidget=function(b){var c=b.getId();if(this._widgets.hasOwnProperty(c)){var e=this._widgets[c],f=e.domNode.domNode;delete this._widgets[c],f.parentNode.removeChild(f),this.setShouldRender()}},a.prototype._renderWidget=function(b){var c=b.domNode;if(b.preference===null){c.unsetTop();return}if(b.preference===0)c.setTop(0),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(b.preference===1){var e=c.domNode.clientHeight;c.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else b.preference===2&&(c.setTop(0),c.domNode.style.right="50%")},a.prototype.prepareRender=function(b){},a.prototype.render=function(b){this._domNode.setWidth(this._editorWidth);for(var c=Object.keys(this._widgets),e=0,f=c.length;e<f;e++){var g=c[e];this._renderWidget(this._widgets[g])}},a}(Kb);var TS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),US=function(){function d(a,b){var c=a.options;this.lineHeight=c.get(49),this.pixelRatio=c.get(105),this.overviewRulerLanes=c.get(63),this.renderBorder=c.get(62);var e=b.getColor(kE);this.borderColor=e?e.toString():null,this.hideCursor=c.get(42);var f=b.getColor(up);this.cursorColor=f?f.transparent(.7).toString():null,this.themeType=b.type;var g=c.get(54),h=g.enabled,i=g.side,j=h?Ga.getDefaultBackground():null;j===null||i==="left"?this.backgroundColor=null:this.backgroundColor=M.Format.CSS.formatHex(j);var k=c.get(107),l=k.overviewRuler;this.top=l.top,this.right=l.right,this.domWidth=l.width,this.domHeight=l.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);var m=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),n=m[0],o=m[1];this.x=n,this.w=o}return d.prototype._initLanes=function(a,b,c){var e=b-a;if(c>=3){var f=Math.floor(e/3),g=Math.floor(e/3),h=e-f-g,i=a,j=i+f,k=i+f+h;return[[0,i,j,i,k,i,j,i],[0,f,h,f+h,g,f+h+g,h+g,f+h+g]]}else if(c===2){var f=Math.floor(e/2),g=e-f,i=a,k=i+f;return[[0,i,i,i,k,i,i,i],[0,f,f,f,g,f+g,f+g,f+g]]}else{var l=a,m=e;return[[0,l,l,l,l,l,l,l],[0,m,m,m,m,m,m,m]]}},d.prototype.equals=function(a){return this.lineHeight===a.lineHeight&&this.pixelRatio===a.pixelRatio&&this.overviewRulerLanes===a.overviewRulerLanes&&this.renderBorder===a.renderBorder&&this.borderColor===a.borderColor&&this.hideCursor===a.hideCursor&&this.cursorColor===a.cursorColor&&this.themeType===a.themeType&&this.backgroundColor===a.backgroundColor&&this.top===a.top&&this.right===a.right&&this.domWidth===a.domWidth&&this.domHeight===a.domHeight&&this.canvasWidth===a.canvasWidth&&this.canvasHeight===a.canvasHeight},d}(),AD=function(d){TS(a,d);function a(b){var c=d.call(this,b)||this;return c._domNode=ma(document.createElement("canvas")),c._domNode.setClassName("decorationsOverviewRuler"),c._domNode.setPosition("absolute"),c._domNode.setLayerHinting(!0),c._domNode.setContain("strict"),c._domNode.setAttribute("aria-hidden","true"),c._updateSettings(!1),c._tokensColorTrackerListener=Ga.onDidChange(function(e){e.changedColorMap&&c._updateSettings(!0)}),c._cursorPositions=[],c}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},a.prototype._updateSettings=function(b){var c=new US(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(c)?!1:(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,b&&this._render(),!0)},a.prototype.onConfigurationChanged=function(b){return this._updateSettings(!1)},a.prototype.onCursorStateChanged=function(b){this._cursorPositions=[];for(var c=0,e=b.selections.length;c<e;c++)this._cursorPositions[c]=b.selections[c].getPosition();return this._cursorPositions.sort(G.compare),!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollHeightChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype.onThemeChanged=function(b){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},a.prototype.getDomNode=function(){return this._domNode.domNode},a.prototype.prepareRender=function(b){},a.prototype.render=function(b){this._render()},a.prototype._render=function(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}var b=this._settings.canvasWidth,c=this._settings.canvasHeight,e=this._settings.lineHeight,f=this._context.viewLayout,g=this._context.viewLayout.getScrollHeight(),h=c/g,i=this._context.model.getAllOverviewRulerDecorations(this._context.theme),j=6*this._settings.pixelRatio|0,k=j/2|0,l=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?l.clearRect(0,0,b,c):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,b,c));var m=this._settings.x,n=this._settings.w,o=Object.keys(i);o.sort();for(var p=0,q=o.length;p<q;p++){var r=o[p],t=i[r];l.fillStyle=r;for(var v=0,w=0,x=0,u=0,y=t.length;u<y;u++){var A=t[3*u],F=t[3*u+1],B=t[3*u+2],D=f.getVerticalOffsetForLineNumber(F)*h|0,H=(f.getVerticalOffsetForLineNumber(B)+e)*h|0,J=H-D;if(J<j){var L=(D+H)/2|0;L<k?L=k:L+k>c&&(L=c-k),D=L-k,H=L+k}D>x+1||A!==v?(u!==0&&l.fillRect(m[v],w,n[v],x-w),v=A,w=D,x=H):H>x&&(x=H)}l.fillRect(m[v],w,n[v],x-w)}if(!this._settings.hideCursor&&this._settings.cursorColor){var O=2*this._settings.pixelRatio|0,T=O/2|0,$=this._settings.x[7],_=this._settings.w[7];l.fillStyle=this._settings.cursorColor;for(var w=-100,x=-100,u=0,y=this._cursorPositions.length;u<y;u++){var $a=this._cursorPositions[u],L=f.getVerticalOffsetForLineNumber($a.lineNumber)*h|0;L<T?L=T:L+T>c&&(L=c-T);var D=L-T,H=D+O;D>x+1?(u!==0&&l.fillRect($,w,_,x-w),w=D,x=H):H>x&&(x=H)}l.fillRect($,w,_,x-w)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,c),l.stroke(),l.moveTo(0,0),l.lineTo(b,0),l.stroke())},a}(Kb);var xG=function(){function d(a,b,c){this.from=a|0,this.to=b|0,this.colorId=c|0}return d.compare=function(a,b){return a.colorId===b.colorId?a.from===b.from?a.to-b.to:a.from-b.from:a.colorId-b.colorId},d}(),Sj=function(){function d(a,b,c){this.startLineNumber=a,this.endLineNumber=b,this.color=c,this._colorZone=null}return d.compare=function(a,b){return a.color===b.color?a.startLineNumber===b.startLineNumber?a.endLineNumber-b.endLineNumber:a.startLineNumber-b.startLineNumber:a.color<b.color?-1:1},d.prototype.setColorZone=function(a){this._colorZone=a},d.prototype.getColorZones=function(){return this._colorZone},d}(),lE=function(){function d(a){this._getVerticalOffsetForLine=a,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return d.prototype.getId2Color=function(){return this._id2Color},d.prototype.setZones=function(a){this._zones=a,this._zones.sort(Sj.compare)},d.prototype.setLineHeight=function(a){return this._lineHeight===a?!1:(this._lineHeight=a,this._colorZonesInvalid=!0,!0)},d.prototype.setPixelRatio=function(a){this._pixelRatio=a,this._colorZonesInvalid=!0},d.prototype.getDOMWidth=function(){return this._domWidth},d.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},d.prototype.setDOMWidth=function(a){return this._domWidth===a?!1:(this._domWidth=a,this._colorZonesInvalid=!0,!0)},d.prototype.getDOMHeight=function(){return this._domHeight},d.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},d.prototype.setDOMHeight=function(a){return this._domHeight===a?!1:(this._domHeight=a,this._colorZonesInvalid=!0,!0)},d.prototype.getOuterHeight=function(){return this._outerHeight},d.prototype.setOuterHeight=function(a){return this._outerHeight===a?!1:(this._outerHeight=a,this._colorZonesInvalid=!0,!0)},d.prototype.resolveColorZones=function(){for(var a=this._colorZonesInvalid,b=Math.floor(this._lineHeight),c=Math.floor(this.getCanvasHeight()),e=Math.floor(this._outerHeight),f=c/e,g=Math.floor(4*this._pixelRatio/2),h=[],i=0,j=this._zones.length;i<j;i++){var k=this._zones[i];if(!a){var l=k.getColorZones();if(l){h.push(l);continue}}var m=Math.floor(f*this._getVerticalOffsetForLine(k.startLineNumber)),n=Math.floor(f*(this._getVerticalOffsetForLine(k.endLineNumber)+b)),o=Math.floor((m+n)/2),p=n-o;p<g&&(p=g),o-p<0&&(o=p),o+p>c&&(o=c-p);var q=k.color,r=this._color2Id[q];r||(r=++this._lastAssignedId,this._color2Id[q]=r,this._id2Color[r]=q);var t=new xG(o-p,o+p,r);k.setColorZone(t),h.push(t)}return this._colorZonesInvalid=!1,h.sort(xG.compare),h},d}();var VS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),BD=function(d){VS(a,d);function a(b,c){var e=d.call(this)||this;e._context=b;var f=e._context.configuration.options;return e._domNode=ma(document.createElement("canvas")),e._domNode.setClassName(c),e._domNode.setPosition("absolute"),e._domNode.setLayerHinting(!0),e._domNode.setContain("strict"),e._zoneManager=new lE(function(g){return e._context.viewLayout.getVerticalOffsetForLineNumber(g)}),e._zoneManager.setDOMWidth(0),e._zoneManager.setDOMHeight(0),e._zoneManager.setOuterHeight(e._context.viewLayout.getScrollHeight()),e._zoneManager.setLineHeight(f.get(49)),e._zoneManager.setPixelRatio(f.get(105)),e._context.addEventHandler(e),e}return a.prototype.dispose=function(){this._context.removeEventHandler(this),d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options;return b.hasChanged(49)&&(this._zoneManager.setLineHeight(c.get(49)),this._render()),b.hasChanged(105)&&(this._zoneManager.setPixelRatio(c.get(105)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},a.prototype.onFlushed=function(b){return this._render(),!0},a.prototype.onScrollChanged=function(b){return b.scrollHeightChanged&&(this._zoneManager.setOuterHeight(b.scrollHeight),this._render()),!0},a.prototype.onZonesChanged=function(b){return this._render(),!0},a.prototype.getDomNode=function(){return this._domNode.domNode},a.prototype.setLayout=function(b){this._domNode.setTop(b.top),this._domNode.setRight(b.right);var c=!1;c=this._zoneManager.setDOMWidth(b.width)||c,c=this._zoneManager.setDOMHeight(b.height)||c,c&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},a.prototype.setZones=function(b){this._zoneManager.setZones(b),this._render()},a.prototype._render=function(){if(this._zoneManager.getOuterHeight()===0)return!1;var b=this._zoneManager.getCanvasWidth(),c=this._zoneManager.getCanvasHeight(),e=this._zoneManager.resolveColorZones(),f=this._zoneManager.getId2Color(),g=this._domNode.domNode.getContext("2d");return g.clearRect(0,0,b,c),e.length>0&&this._renderOneLane(g,e,f,b),!0},a.prototype._renderOneLane=function(b,c,e,f){for(var g=0,h=0,i=0,j=0,k=c;j<k.length;j++){var l=k[j],m=l.colorId,n=l.from,o=l.to;m!==g?(b.fillRect(0,h,f,i-h),g=m,b.fillStyle=e[g],h=n,i=o):i>=n?i=Math.max(i,o):(b.fillRect(0,h,f,i-h),h=n,i=o)}b.fillRect(0,h,f,i-h)},a}(kf);var WS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),CD=function(d){WS(a,d);function a(b){var c=d.call(this,b)||this;c.domNode=ma(document.createElement("div")),c.domNode.setAttribute("role","presentation"),c.domNode.setAttribute("aria-hidden","true"),c.domNode.setClassName("view-rulers"),c._renderedRulers=[];var e=c._context.configuration.options;return c._rulers=e.get(77),c._typicalHalfwidthCharacterWidth=e.get(34).typicalHalfwidthCharacterWidth,c}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options;return this._rulers=c.get(77),this._typicalHalfwidthCharacterWidth=c.get(34).typicalHalfwidthCharacterWidth,!0},a.prototype.onScrollChanged=function(b){return b.scrollHeightChanged},a.prototype.prepareRender=function(b){},a.prototype._ensureRulersCount=function(){var b=this._renderedRulers.length,c=this._rulers.length;if(b===c)return;if(b<c){for(var e=this._context.model.getOptions().tabSize,f=e,g=c-b;g>0;){var h=ma(document.createElement("div"));h.setClassName("view-ruler"),h.setWidth(f),this.domNode.appendChild(h),this._renderedRulers.push(h),g--}return}for(var i=b-c;i>0;){var h=this._renderedRulers.pop();this.domNode.removeChild(h),i--}},a.prototype.render=function(b){this._ensureRulersCount();for(var c=0,e=this._rulers.length;c<e;c++){var f=this._renderedRulers[c];f.setHeight(Math.min(b.scrollHeight,1e6)),f.setLeft(this._rulers[c]*this._typicalHalfwidthCharacterWidth)}},a}(Kb);la(function(d,a){var b=d.getColor(mE);b&&a.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+b+" inset; }")});var XS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),DD=function(d){XS(a,d);function a(b){var c=d.call(this,b)||this;c._scrollTop=0,c._width=0,c._updateWidth(),c._shouldShow=!1;var e=c._context.configuration.options,f=e.get(78);return c._useShadows=f.useShadows,c._domNode=ma(document.createElement("div")),c._domNode.setAttribute("role","presentation"),c._domNode.setAttribute("aria-hidden","true"),c}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype._updateShouldShow=function(){var b=this._useShadows&&this._scrollTop>0;return this._shouldShow!==b?(this._shouldShow=b,!0):!1},a.prototype.getDomNode=function(){return this._domNode},a.prototype._updateWidth=function(){var b=this._context.configuration.options,c=b.get(107);c.renderMinimap===0||c.minimapWidth>0&&c.minimapLeft===0?this._width=c.width:this._width=c.width-c.minimapWidth-c.verticalScrollbarWidth},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(78);return this._useShadows=e.useShadows,this._updateWidth(),this._updateShouldShow(),!0},a.prototype.onScrollChanged=function(b){return this._scrollTop=b.scrollTop,this._updateShouldShow()},a.prototype.prepareRender=function(b){},a.prototype.render=function(b){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},a}(Kb);la(function(d,a){var b=d.getColor(fh);b&&a.addRule(".monaco-editor .scroll-decoration { box-shadow: "+b+" 0 6px 6px -6px inset; }")});var YS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),ZS=function(){function d(a){this.left=a.left,this.width=a.width,this.startStyle=null,this.endStyle=null}return d}(),_S=function(){function d(a,b){this.lineNumber=a,this.ranges=b}return d}();function $S(d){return new ZS(d)}function aT(d){return new _S(d.lineNumber,d.ranges.map($S))}var bT=Jc,ED=function(d){YS(a,d);function a(b){var c=d.call(this)||this;c._previousFrameVisibleRangesWithStyle=[],c._context=b;var e=c._context.configuration.options;return c._lineHeight=e.get(49),c._roundedSelection=e.get(76),c._typicalHalfwidthCharacterWidth=e.get(34).typicalHalfwidthCharacterWidth,c._selections=[],c._renderResult=null,c._context.addEventHandler(c),c}return a.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,d.prototype.dispose.call(this)},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options;return this._lineHeight=c.get(49),this._roundedSelection=c.get(76),this._typicalHalfwidthCharacterWidth=c.get(34).typicalHalfwidthCharacterWidth,!0},a.prototype.onCursorStateChanged=function(b){return this._selections=b.selections.slice(0),!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollTopChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype._visibleRangesHaveGaps=function(b){for(var c=0,e=b.length;c<e;c++){var f=b[c];if(f.ranges.length>1)return!0}return!1},a.prototype._enrichVisibleRangesWithStyle=function(b,c,e){var f=this._typicalHalfwidthCharacterWidth/4,g=null,h=null;if(e&&e.length>0&&c.length>0){var i=c[0].lineNumber;if(i===b.startLineNumber)for(var j=0;!g&&j<e.length;j++)e[j].lineNumber===i&&(g=e[j].ranges[0]);var k=c[c.length-1].lineNumber;if(k===b.endLineNumber)for(var j=e.length-1;!h&&j>=0;j--)e[j].lineNumber===k&&(h=e[j].ranges[0]);g&&!g.startStyle&&(g=null),h&&!h.startStyle&&(h=null)}for(var j=0,l=c.length;j<l;j++){var m=c[j].ranges[0],n=m.left,o=m.left+m.width,p={top:0,bottom:0},q={top:0,bottom:0};if(j>0){var r=c[j-1].ranges[0].left,t=c[j-1].ranges[0].left+c[j-1].ranges[0].width;vp(n-r)<f?p.top=2:n>r&&(p.top=1),vp(o-t)<f?q.top=2:r<o&&o<t&&(q.top=1)}else g&&(p.top=g.startStyle.top,q.top=g.endStyle.top);if(j+1<l){var v=c[j+1].ranges[0].left,w=c[j+1].ranges[0].left+c[j+1].ranges[0].width;vp(n-v)<f?p.bottom=2:v<n&&n<w&&(p.bottom=1),vp(o-w)<f?q.bottom=2:o<w&&(q.bottom=1)}else h&&(p.bottom=h.startStyle.bottom,q.bottom=h.endStyle.bottom);m.startStyle=p,m.endStyle=q}},a.prototype._getVisibleRangesWithStyle=function(b,c,e){var f=c.linesVisibleRangesForRange(b,!0)||[],g=f.map(aT),h=this._visibleRangesHaveGaps(g);return!bT&&!h&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(c.visibleRange,g,e),g},a.prototype._createSelectionPiece=function(b,c,e,f,g){return'<div class="cslr '+e+'" style="top:'+b.toString()+"px;left:"+f.toString()+"px;width:"+g.toString()+"px;height:"+c+'px;"></div>'},a.prototype._actualRenderOneSelection=function(b,c,e,f){if(f.length===0)return;for(var g=!!f[0].ranges[0].startStyle,h=this._lineHeight.toString(),i=(this._lineHeight-1).toString(),j=f[0].lineNumber,k=f[f.length-1].lineNumber,l=0,m=f.length;l<m;l++){for(var n=f[l],o=n.lineNumber,p=o-c,q=e?o===k||o===j?i:h:h,r=e?o===j?1:0:0,t="",v="",w=0,x=n.ranges.length;w<x;w++){var u=n.ranges[w];if(g){var y=u.startStyle,A=u.endStyle;if(y.top===1||y.bottom===1){t+=this._createSelectionPiece(r,q,a.SELECTION_CLASS_NAME,u.left-a.ROUNDED_PIECE_WIDTH,a.ROUNDED_PIECE_WIDTH);var F=a.EDITOR_BACKGROUND_CLASS_NAME;y.top===1&&(F+=" "+a.SELECTION_TOP_RIGHT),y.bottom===1&&(F+=" "+a.SELECTION_BOTTOM_RIGHT),t+=this._createSelectionPiece(r,q,F,u.left-a.ROUNDED_PIECE_WIDTH,a.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){t+=this._createSelectionPiece(r,q,a.SELECTION_CLASS_NAME,u.left+u.width,a.ROUNDED_PIECE_WIDTH);var B=a.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(B+=" "+a.SELECTION_TOP_LEFT),A.bottom===1&&(B+=" "+a.SELECTION_BOTTOM_LEFT),t+=this._createSelectionPiece(r,q,B,u.left+u.width,a.ROUNDED_PIECE_WIDTH)}}var D=a.SELECTION_CLASS_NAME;if(g){var y=u.startStyle,A=u.endStyle;y.top===0&&(D+=" "+a.SELECTION_TOP_LEFT),y.bottom===0&&(D+=" "+a.SELECTION_BOTTOM_LEFT),A.top===0&&(D+=" "+a.SELECTION_TOP_RIGHT),A.bottom===0&&(D+=" "+a.SELECTION_BOTTOM_RIGHT)}v+=this._createSelectionPiece(r,q,D,u.left,u.width)}b[p][0]+=t,b[p][1]+=v}},a.prototype.prepareRender=function(b){for(var c=[],e=b.visibleRange.startLineNumber,f=b.visibleRange.endLineNumber,g=e;g<=f;g++){var h=g-e;c[h]=["",""]}for(var i=[],j=0,k=this._selections.length;j<k;j++){var l=this._selections[j];if(l.isEmpty()){i[j]=null;continue}var m=this._getVisibleRangesWithStyle(l,b,this._previousFrameVisibleRangesWithStyle[j]);i[j]=m,this._actualRenderOneSelection(c,e,this._selections.length>1,m)}this._previousFrameVisibleRangesWithStyle=i,this._renderResult=c.map(function(n){var o=n[0],p=n[1];return o+p})},a.prototype.render=function(b,c){if(!this._renderResult)return"";var e=c-b;return e<0||e>=this._renderResult.length?"":this._renderResult[e]},a.SELECTION_CLASS_NAME="selected-text",a.SELECTION_TOP_LEFT="top-left-radius",a.SELECTION_BOTTOM_LEFT="bottom-left-radius",a.SELECTION_TOP_RIGHT="top-right-radius",a.SELECTION_BOTTOM_RIGHT="bottom-right-radius",a.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",a.ROUNDED_PIECE_WIDTH=10,a}(he);la(function(d,a){var b=d.getColor(sf);b&&a.addRule(".monaco-editor .focused .selected-text { background-color: "+b+"; }");var c=d.getColor(cm);c&&a.addRule(".monaco-editor .selected-text { background-color: "+c+"; }");var e=d.getColor(nE);e&&a.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+e+"; }")});function vp(d){return d<0?-d:d}var oE=function(){function d(a,b,c,e,f,g){this.top=a,this.left=b,this.width=c,this.height=e,this.textContent=f,this.textContentClassName=g}return d}(),Uu=function(){function d(a){this._context=a;var b=this._context.configuration.options,c=b.get(34);this._cursorStyle=b.get(18),this._lineHeight=b.get(49),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(b.get(21),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=ma(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),_b.applyFontInfo(this._domNode,c),this._domNode.setDisplay("none"),this._position=new G(1,1),this._lastRenderedContent="",this._renderData=null}return d.prototype.getDomNode=function(){return this._domNode},d.prototype.getPosition=function(){return this._position},d.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},d.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},d.prototype.onConfigurationChanged=function(a){var b=this._context.configuration.options,c=b.get(34);return this._cursorStyle=b.get(18),this._lineHeight=b.get(49),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(b.get(21),this._typicalHalfwidthCharacterWidth),_b.applyFontInfo(this._domNode,c),!0},d.prototype.onCursorPositionChanged=function(a){return this._position=a,!0},d.prototype._prepareRender=function(a){var b="";if(this._cursorStyle===Vb.Line||this._cursorStyle===Vb.LineThin){var c=a.visibleRangeForPosition(this._position);if(!c||c.outsideRenderedLine)return null;var e;if(this._cursorStyle===Vb.Line){e=Os(this._lineCursorWidth>0?this._lineCursorWidth:2);if(e>2){var f=this._context.model.getLineContent(this._position.lineNumber),g=Zh(f,this._position.column-1);b=f.substr(this._position.column-1,g)}}else e=Os(1);var h=c.left;e>=2&&h>=1&&(h-=1);var i=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta;return new oE(i,h,e,this._lineHeight,b,"")}var j=this._context.model.getLineContent(this._position.lineNumber),k=Zh(j,this._position.column-1),l=a.linesVisibleRangesForRange(new z(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+k),!1);if(!l||l.length===0)return null;var m=l[0];if(m.outsideRenderedLine||m.ranges.length===0)return null;var n=m.ranges[0],o=n.width<1?this._typicalHalfwidthCharacterWidth:n.width,p="";if(this._cursorStyle===Vb.Block){var q=this._context.model.getViewLineData(this._position.lineNumber);b=j.substr(this._position.column-1,k);var r=q.tokens.findTokenIndexAtOffset(this._position.column-1);p=q.tokens.getClassName(r)}var t=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta,v=this._lineHeight;return(this._cursorStyle===Vb.Underline||this._cursorStyle===Vb.UnderlineThin)&&(t+=this._lineHeight-2,v=2),new oE(t,n.left,o,v,b,p)},d.prototype.prepareRender=function(a){this._renderData=this._prepareRender(a)},d.prototype.render=function(a){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},d}();var cT=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),FD=function(d){cT(a,d);function a(b){var c=d.call(this,b)||this,e=c._context.configuration.options;return c._readOnly=e.get(68),c._cursorBlinking=e.get(16),c._cursorStyle=e.get(18),c._cursorSmoothCaretAnimation=e.get(17),c._selectionIsEmpty=!0,c._isVisible=!1,c._primaryCursor=new Uu(c._context),c._secondaryCursors=[],c._renderData=[],c._domNode=ma(document.createElement("div")),c._domNode.setAttribute("role","presentation"),c._domNode.setAttribute("aria-hidden","true"),c._updateDomClassName(),c._domNode.appendChild(c._primaryCursor.getDomNode()),c._startCursorBlinkAnimation=new rb(),c._cursorFlatBlinkInterval=new Qf(),c._blinkingEnabled=!1,c._editorHasFocus=!1,c._updateBlinking(),c}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},a.prototype.getDomNode=function(){return this._domNode},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options;this._readOnly=c.get(68),this._cursorBlinking=c.get(16),this._cursorStyle=c.get(18),this._cursorSmoothCaretAnimation=c.get(17),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(b);for(var e=0,f=this._secondaryCursors.length;e<f;e++)this._secondaryCursors[e].onConfigurationChanged(b);return!0},a.prototype._onCursorPositionChanged=function(b,c){this._primaryCursor.onCursorPositionChanged(b),this._updateBlinking();if(this._secondaryCursors.length<c.length)for(var e=c.length-this._secondaryCursors.length,f=0;f<e;f++){var g=new Uu(this._context);this._domNode.domNode.insertBefore(g.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(g)}else if(this._secondaryCursors.length>c.length)for(var h=this._secondaryCursors.length-c.length,f=0;f<h;f++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var f=0;f<c.length;f++)this._secondaryCursors[f].onCursorPositionChanged(c[f])},a.prototype.onCursorStateChanged=function(b){for(var c=[],e=0,f=b.selections.length;e<f;e++)c[e]=b.selections[e].getPosition();this._onCursorPositionChanged(c[0],c.slice(1));var g=b.selections[0].isEmpty();return this._selectionIsEmpty!==g&&(this._selectionIsEmpty=g,this._updateDomClassName()),!0},a.prototype.onDecorationsChanged=function(b){return!0},a.prototype.onFlushed=function(b){return!0},a.prototype.onFocusChanged=function(b){return this._editorHasFocus=b.isFocused,this._updateBlinking(),!1},a.prototype.onLinesChanged=function(b){return!0},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype.onScrollChanged=function(b){return!0},a.prototype.onTokensChanged=function(b){var c=function(h){for(var i=0,j=b.ranges.length;i<j;i++)if(b.ranges[i].fromLineNumber<=h.lineNumber&&h.lineNumber<=b.ranges[i].toLineNumber)return!0;return!1};if(c(this._primaryCursor.getPosition()))return!0;for(var e=0,f=this._secondaryCursors;e<f.length;e++){var g=f[e];if(c(g.getPosition()))return!0}return!1},a.prototype.onZonesChanged=function(b){return!0},a.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},a.prototype._updateBlinking=function(){var b=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var c=this._getCursorBlinking(),e=c===0,f=c===5;e?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!e&&!f&&(c===1?this._cursorFlatBlinkInterval.cancelAndSet(function(){b._isVisible?b._hide():b._show()},a.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){b._blinkingEnabled=!0,b._updateDomClassName()},a.BLINK_INTERVAL))},a.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},a.prototype._getClassName=function(){var b="cursors-layer";this._selectionIsEmpty||(b+=" has-selection");switch(this._cursorStyle){case Vb.Line:b+=" cursor-line-style";break;case Vb.Block:b+=" cursor-block-style";break;case Vb.Underline:b+=" cursor-underline-style";break;case Vb.LineThin:b+=" cursor-line-thin-style";break;case Vb.BlockOutline:b+=" cursor-block-outline-style";break;case Vb.UnderlineThin:b+=" cursor-underline-thin-style";break;default:b+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:b+=" cursor-blink";break;case 2:b+=" cursor-smooth";break;case 3:b+=" cursor-phase";break;case 4:b+=" cursor-expand";break;case 5:b+=" cursor-solid";break;default:b+=" cursor-solid"}else b+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(b+=" cursor-smooth-caret-animation"),b},a.prototype._show=function(){this._primaryCursor.show();for(var b=0,c=this._secondaryCursors.length;b<c;b++)this._secondaryCursors[b].show();this._isVisible=!0},a.prototype._hide=function(){this._primaryCursor.hide();for(var b=0,c=this._secondaryCursors.length;b<c;b++)this._secondaryCursors[b].hide();this._isVisible=!1},a.prototype.prepareRender=function(b){this._primaryCursor.prepareRender(b);for(var c=0,e=this._secondaryCursors.length;c<e;c++)this._secondaryCursors[c].prepareRender(b)},a.prototype.render=function(b){var c=[],e=0,f=this._primaryCursor.render(b);f&&(c[e++]=f);for(var g=0,h=this._secondaryCursors.length;g<h;g++){var i=this._secondaryCursors[g].render(b);i&&(c[e++]=i)}this._renderData=c},a.prototype.getLastRenderData=function(){return this._renderData},a.BLINK_INTERVAL=500,a}(Kb);la(function(d,a){var b=d.getColor(up);if(b){var c=d.getColor(pE);c||(c=b.opposite()),a.addRule(".monaco-editor .cursor { background-color: "+b+"; border-color: "+b+"; color: "+c+"; }"),d.type==="hc"&&a.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+c+"; border-right: 1px solid "+c+"; }")}});var dT=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Vu=function(){throw new Error("Invalid change accessor")},GD=function(d){dT(a,d);function a(b){var c=d.call(this,b)||this,e=c._context.configuration.options,f=e.get(107);return c._lineHeight=e.get(49),c._contentWidth=f.contentWidth,c._contentLeft=f.contentLeft,c.domNode=ma(document.createElement("div")),c.domNode.setClassName("view-zones"),c.domNode.setPosition("absolute"),c.domNode.setAttribute("role","presentation"),c.domNode.setAttribute("aria-hidden","true"),c.marginDomNode=ma(document.createElement("div")),c.marginDomNode.setClassName("margin-view-zones"),c.marginDomNode.setPosition("absolute"),c.marginDomNode.setAttribute("role","presentation"),c.marginDomNode.setAttribute("aria-hidden","true"),c._zones={},c}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this._zones={}},a.prototype._recomputeWhitespacesProps=function(){for(var b=this,c=this._context.viewLayout.getWhitespaces(),e=new Map(),f=0,g=c;f<g.length;f++){var h=g[f];e.set(h.id,h)}return this._context.viewLayout.changeWhitespace(function(i){for(var j=!1,k=Object.keys(b._zones),l=0,m=k.length;l<m;l++){var n=k[l],o=b._zones[n],p=b._computeWhitespaceProps(o.delegate),q=e.get(n);q&&(q.afterLineNumber!==p.afterViewLineNumber||q.height!==p.heightInPx)&&(i.changeOneWhitespace(n,p.afterViewLineNumber,p.heightInPx),b._safeCallOnComputedHeight(o.delegate,p.heightInPx),j=!0)}return j})},a.prototype.onConfigurationChanged=function(b){var c=this._context.configuration.options,e=c.get(107);return this._lineHeight=c.get(49),this._contentWidth=e.contentWidth,this._contentLeft=e.contentLeft,b.hasChanged(49)&&this._recomputeWhitespacesProps(),!0},a.prototype.onLineMappingChanged=function(b){var c=this._recomputeWhitespacesProps();return c&&this._context.viewLayout.onHeightMaybeChanged(),c},a.prototype.onLinesDeleted=function(b){return!0},a.prototype.onScrollChanged=function(b){return b.scrollTopChanged||b.scrollWidthChanged},a.prototype.onZonesChanged=function(b){return!0},a.prototype.onLinesInserted=function(b){return!0},a.prototype._getZoneOrdinal=function(b){return typeof b.afterColumn!=="undefined"?b.afterColumn:1e4},a.prototype._computeWhitespaceProps=function(b){if(b.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(b),minWidthInPx:this._minWidthInPixels(b)};var c;if(typeof b.afterColumn!=="undefined")c=this._context.model.validateModelPosition({lineNumber:b.afterLineNumber,column:b.afterColumn});else{var e=this._context.model.validateModelPosition({lineNumber:b.afterLineNumber,column:1}).lineNumber;c=new G(e,this._context.model.getModelLineMaxColumn(e))}var f;c.column===this._context.model.getModelLineMaxColumn(c.lineNumber)?f=this._context.model.validateModelPosition({lineNumber:c.lineNumber+1,column:1}):f=this._context.model.validateModelPosition({lineNumber:c.lineNumber,column:c.column+1});var g=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(c),h=this._context.model.coordinatesConverter.modelPositionIsVisible(f);return{afterViewLineNumber:g.lineNumber,heightInPx:h?this._heightInPixels(b):0,minWidthInPx:this._minWidthInPixels(b)}},a.prototype.changeViewZones=function(b){var c=this;return this._context.viewLayout.changeWhitespace(function(e){var f=!1,g={addZone:function(h){return f=!0,c._addZone(e,h)},removeZone:function(h){if(!h)return;f=c._removeZone(e,h)||f},layoutZone:function(h){if(!h)return;f=c._layoutZone(e,h)||f}};return eT(b,g),g.addZone=Vu,g.removeZone=Vu,g.layoutZone=Vu,f})},a.prototype._addZone=function(b,c){var e=this._computeWhitespaceProps(c),f=b.insertWhitespace(e.afterViewLineNumber,this._getZoneOrdinal(c),e.heightInPx,e.minWidthInPx),g={whitespaceId:f,delegate:c,isVisible:!1,domNode:ma(c.domNode),marginDomNode:c.marginDomNode?ma(c.marginDomNode):null};return this._safeCallOnComputedHeight(g.delegate,e.heightInPx),g.domNode.setPosition("absolute"),g.domNode.domNode.style.width="100%",g.domNode.setDisplay("none"),g.domNode.setAttribute("monaco-view-zone",g.whitespaceId),this.domNode.appendChild(g.domNode),g.marginDomNode&&(g.marginDomNode.setPosition("absolute"),g.marginDomNode.domNode.style.width="100%",g.marginDomNode.setDisplay("none"),g.marginDomNode.setAttribute("monaco-view-zone",g.whitespaceId),this.marginDomNode.appendChild(g.marginDomNode)),this._zones[g.whitespaceId]=g,this.setShouldRender(),g.whitespaceId},a.prototype._removeZone=function(b,c){if(this._zones.hasOwnProperty(c)){var e=this._zones[c];return delete this._zones[c],b.removeWhitespace(e.whitespaceId),e.domNode.removeAttribute("monaco-visible-view-zone"),e.domNode.removeAttribute("monaco-view-zone"),e.domNode.domNode.parentNode.removeChild(e.domNode.domNode),e.marginDomNode&&(e.marginDomNode.removeAttribute("monaco-visible-view-zone"),e.marginDomNode.removeAttribute("monaco-view-zone"),e.marginDomNode.domNode.parentNode.removeChild(e.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},a.prototype._layoutZone=function(b,c){if(this._zones.hasOwnProperty(c)){var e=this._zones[c],f=this._computeWhitespaceProps(e.delegate);return b.changeOneWhitespace(e.whitespaceId,f.afterViewLineNumber,f.heightInPx),this._safeCallOnComputedHeight(e.delegate,f.heightInPx),this.setShouldRender(),!0}return!1},a.prototype.shouldSuppressMouseDownOnViewZone=function(b){if(this._zones.hasOwnProperty(b)){var c=this._zones[b];return Boolean(c.delegate.suppressMouseDown)}return!1},a.prototype._heightInPixels=function(b){return typeof b.heightInPx==="number"?b.heightInPx:typeof b.heightInLines==="number"?this._lineHeight*b.heightInLines:this._lineHeight},a.prototype._minWidthInPixels=function(b){return typeof b.minWidthInPx==="number"?b.minWidthInPx:0},a.prototype._safeCallOnComputedHeight=function(b,c){if(typeof b.onComputedHeight==="function")try{b.onComputedHeight(c)}catch(e){W(e)}},a.prototype._safeCallOnDomNodeTop=function(b,c){if(typeof b.onDomNodeTop==="function")try{b.onDomNodeTop(c)}catch(e){W(e)}},a.prototype.prepareRender=function(b){},a.prototype.render=function(b){for(var c=b.viewportData.whitespaceViewportData,e={},f=!1,g=0,h=c.length;g<h;g++)e[c[g].id]=c[g],f=!0;for(var i=Object.keys(this._zones),g=0,h=i.length;g<h;g++){var j=i[g],k=this._zones[j],l=0,m=0,n="none";e.hasOwnProperty(j)?(l=e[j].verticalOffset-b.bigNumbersDelta,m=e[j].height,n="block",k.isVisible||(k.domNode.setAttribute("monaco-visible-view-zone","true"),k.isVisible=!0),this._safeCallOnDomNodeTop(k.delegate,b.getScrolledTopFromAbsoluteTop(e[j].verticalOffset))):(k.isVisible&&(k.domNode.removeAttribute("monaco-visible-view-zone"),k.isVisible=!1),this._safeCallOnDomNodeTop(k.delegate,b.getScrolledTopFromAbsoluteTop(-1e6))),k.domNode.setTop(l),k.domNode.setHeight(m),k.domNode.setDisplay(n),k.marginDomNode&&(k.marginDomNode.setTop(l),k.marginDomNode.setHeight(m),k.marginDomNode.setDisplay(n))}f&&(this.domNode.setWidth(Math.max(b.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},a}(Kb);function eT(d,a){try{return d(a)}catch(b){W(b)}}var ID=function(){function d(a,b,c,e){this.configuration=a,this.theme=b,this.model=c,this.viewLayout=c.viewLayout,this.privateViewEventBus=e}return d.prototype.addEventHandler=function(a){this.privateViewEventBus.addEventHandler(a)},d.prototype.removeEventHandler=function(a){this.privateViewEventBus.removeEventHandler(a)},d}();var JD=function(){function d(a){this._eventHandlerGateKeeper=a,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return d.prototype.addEventHandler=function(a){for(var b=0,c=this._eventHandlers.length;b<c;b++)this._eventHandlers[b]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)},d.prototype.removeEventHandler=function(a){for(var b=0;b<this._eventHandlers.length;b++)if(this._eventHandlers[b]===a){this._eventHandlers.splice(b,1);break}},d.prototype.emit=function(a){this._eventQueue?this._eventQueue.push(a):this._eventQueue=[a],this._isConsumingQueue||this.consumeQueue()},d.prototype.emitMany=function(a){this._eventQueue?this._eventQueue=this._eventQueue.concat(a):this._eventQueue=a,this._isConsumingQueue||this.consumeQueue()},d.prototype.consumeQueue=function(){var a=this;this._eventHandlerGateKeeper(function(){try{a._isConsumingQueue=!0,a._doConsumeQueue()}finally{a._isConsumingQueue=!1}})},d.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var a=this._eventQueue;this._eventQueue=null;for(var b=this._eventHandlers.slice(0),c=0,e=b.length;c<e;c++)b[c].handleEvents(a)}},d}();var KD=function(){function d(a,b,c,e){this.selections=a,this.startLineNumber=b.startLineNumber|0,this.endLineNumber=b.endLineNumber|0,this.relativeVerticalOffset=b.relativeVerticalOffset,this.bigNumbersDelta=b.bigNumbersDelta|0,this.whitespaceViewportData=c,this._model=e,this.visibleRange=new z(b.startLineNumber,this._model.getLineMinColumn(b.startLineNumber),b.endLineNumber,this._model.getLineMaxColumn(b.endLineNumber))}return d.prototype.getViewLineRenderingData=function(a){return this._model.getViewLineRenderingData(this.visibleRange,a)},d.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},d}();var oS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),LD=function(d){oS(a,d);function a(b,c,e,f,g,h){var i=d.call(this)||this;i._cursor=g,i._renderAnimationFrame=null,i.outgoingEvents=h;var j=new lD(c,f,i.outgoingEvents,b);i.eventDispatcher=new JD(function(t){return i._renderOnce(t)}),i.eventDispatcher.addEventHandler(i),i._context=new ID(c,e.getTheme(),f,i.eventDispatcher),i._register(e.onThemeChange(function(t){i._context.theme=t,i.eventDispatcher.emit(new ND()),i.render(!0,!1)})),i.viewParts=[],i._textAreaHandler=new XC(i._context,j,i.createTextAreaHandlerHelper()),i.viewParts.push(i._textAreaHandler),i.linesContent=ma(document.createElement("div")),i.linesContent.setClassName("lines-content monaco-editor-background"),i.linesContent.setPosition("absolute"),i.domNode=ma(document.createElement("div")),i.domNode.setClassName(i.getEditorClassName()),i.overflowGuardContainer=ma(document.createElement("div")),Dc.write(i.overflowGuardContainer,3),i.overflowGuardContainer.setClassName("overflow-guard"),i._scrollbar=new sD(i._context,i.linesContent,i.domNode,i.overflowGuardContainer),i.viewParts.push(i._scrollbar),i.viewLines=new vD(i._context,i.linesContent),i.viewZones=new GD(i._context),i.viewParts.push(i.viewZones);var k=new AD(i._context);i.viewParts.push(k);var l=new DD(i._context);i.viewParts.push(l);var m=new mD(i._context);i.viewParts.push(m),m.addDynamicOverlay(new pD(i._context)),m.addDynamicOverlay(new ED(i._context)),m.addDynamicOverlay(new uD(i._context)),m.addDynamicOverlay(new rD(i._context));var n=new nD(i._context);i.viewParts.push(n),n.addDynamicOverlay(new qD(i._context)),n.addDynamicOverlay(new tD(i._context)),n.addDynamicOverlay(new xD(i._context)),n.addDynamicOverlay(new wD(i._context)),n.addDynamicOverlay(new jp(i._context));var o=new kp(i._context);o.getDomNode().appendChild(i.viewZones.marginDomNode),o.getDomNode().appendChild(n.getDomNode()),i.viewParts.push(o),i.contentWidgets=new oD(i._context,i.domNode),i.viewParts.push(i.contentWidgets),i.viewCursors=new FD(i._context),i.viewParts.push(i.viewCursors),i.overlayWidgets=new zD(i._context),i.viewParts.push(i.overlayWidgets);var p=new CD(i._context);i.viewParts.push(p);var q=new yD(i._context);i.viewParts.push(q);if(k){var r=i._scrollbar.getOverviewRulerLayoutInfo();r.parent.insertBefore(k.getDomNode(),r.insertBefore)}return i.linesContent.appendChild(m.getDomNode()),i.linesContent.appendChild(p.domNode),i.linesContent.appendChild(i.viewZones.domNode),i.linesContent.appendChild(i.viewLines.getDomNode()),i.linesContent.appendChild(i.contentWidgets.domNode),i.linesContent.appendChild(i.viewCursors.getDomNode()),i.overflowGuardContainer.appendChild(o.getDomNode()),i.overflowGuardContainer.appendChild(i._scrollbar.getDomNode()),i.overflowGuardContainer.appendChild(l.getDomNode()),i.overflowGuardContainer.appendChild(i._textAreaHandler.textArea),i.overflowGuardContainer.appendChild(i._textAreaHandler.textAreaCover),i.overflowGuardContainer.appendChild(i.overlayWidgets.getDomNode()),i.overflowGuardContainer.appendChild(q.getDomNode()),i.domNode.appendChild(i.overflowGuardContainer),i.domNode.appendChild(i.contentWidgets.overflowingContentWidgetsDomNode),i._applyLayout(),i.pointerHandler=i._register(new UC(i._context,j,i.createPointerHandlerHelper())),i._register(f.addEventListener(function(t){i.eventDispatcher.emitMany(t)})),i._register(i._cursor.addEventListener(function(t){i.eventDispatcher.emitMany(t)})),i}return a.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},a.prototype.createPointerHandlerHelper=function(){var b=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){b.focus()},getLastRenderData:function(){var c=b.viewCursors.getLastRenderData()||[],e=b._textAreaHandler.getLastRenderData();return new RC(c,e)},shouldSuppressMouseDownOnViewZone:function(c){return b.viewZones.shouldSuppressMouseDownOnViewZone(c)},shouldSuppressMouseDownOnWidget:function(c){return b.contentWidgets.shouldSuppressMouseDownOnWidget(c)},getPositionFromDOMInfo:function(c,e){return b._flushAccumulatedAndRenderNow(),b.viewLines.getPositionFromDOMInfo(c,e)},visibleRangeForPosition:function(c,e){return b._flushAccumulatedAndRenderNow(),b.viewLines.visibleRangeForPosition(new G(c,e))},getLineWidth:function(c){return b._flushAccumulatedAndRenderNow(),b.viewLines.getLineWidth(c)}}},a.prototype.createTextAreaHandlerHelper=function(){var b=this;return{visibleRangeForPositionRelativeToEditor:function(c,e){return b._flushAccumulatedAndRenderNow(),b.viewLines.visibleRangeForPosition(new G(c,e))}}},a.prototype._applyLayout=function(){var b=this._context.configuration.options,c=b.get(107);this.domNode.setWidth(c.width),this.domNode.setHeight(c.height),this.overflowGuardContainer.setWidth(c.width),this.overflowGuardContainer.setHeight(c.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},a.prototype.getEditorClassName=function(){var b=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(104)+" "+di(this._context.theme.type)+b},a.prototype.onConfigurationChanged=function(b){return this.domNode.setClassName(this.getEditorClassName()),this._applyLayout(),!1},a.prototype.onContentSizeChanged=function(b){return this.outgoingEvents.emitContentSizeChange(b),!1},a.prototype.onFocusChanged=function(b){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(b.isFocused),b.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},a.prototype.onScrollChanged=function(b){return this.outgoingEvents.emitScrollChanged(b),!1},a.prototype.onThemeChanged=function(b){return this.domNode.setClassName(this.getEditorClassName()),!1},a.prototype.dispose=function(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.viewLines.dispose();for(var b=0,c=this.viewParts.length;b<c;b++)this.viewParts[b].dispose();this.viewParts=[],d.prototype.dispose.call(this)},a.prototype._renderOnce=function(b){var c=MD(b);return this._scheduleRender(),c},a.prototype._scheduleRender=function(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=Ks(this._onRenderScheduled.bind(this),100))},a.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},a.prototype._renderNow=function(){var b=this;MD(function(){return b._actualRender()})},a.prototype._getViewPartsToRender=function(){for(var b=[],c=0,e=0,f=this.viewParts.length;e<f;e++){var g=this.viewParts[e];g.shouldRender()&&(b[c++]=g)}return b},a.prototype._actualRender=function(){if(!Wi(this.domNode.domNode))return;var b=this._getViewPartsToRender();if(!this.viewLines.shouldRender()&&b.length===0)return;var c=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(c.startLineNumber,c.endLineNumber,c.centeredLineNumber);var e=new KD(this._cursor.getViewSelections(),c,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(e),this.viewLines.shouldRender()&&(this.viewLines.renderText(e),this.viewLines.onDidRender(),b=this._getViewPartsToRender());for(var f=new HD(this._context.viewLayout,e,this.viewLines),g=0,h=b.length;g<h;g++){var i=b[g];i.prepareRender(f)}for(var g=0,h=b.length;g<h;g++){var i=b[g];i.render(f),i.onDidRender()}},a.prototype.delegateVerticalScrollbarMouseDown=function(b){this._scrollbar.delegateVerticalScrollbarMouseDown(b)},a.prototype.restoreState=function(b){this._context.viewLayout.setScrollPositionNow({scrollTop:b.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:b.scrollLeft})},a.prototype.getOffsetForColumn=function(b,c){var e=this._context.model.validateModelPosition({lineNumber:b,column:c}),f=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(e);this._flushAccumulatedAndRenderNow();var g=this.viewLines.visibleRangeForPosition(new G(f.lineNumber,f.column));return g?g.left:-1},a.prototype.getTargetAtClientPoint=function(b,c){var e=this.pointerHandler.getTargetAtClientPoint(b,c);return e?op.convertViewToModelMouseTarget(e,this._context.model.coordinatesConverter):null},a.prototype.createOverviewRuler=function(b){return new BD(this._context,b)},a.prototype.change=function(b){var c=this;return this._renderOnce(function(){var e=c.viewZones.changeViewZones(b);return e&&(c._context.viewLayout.onHeightMaybeChanged(),c._context.privateViewEventBus.emit(new OD())),e})},a.prototype.render=function(b,c){if(c){this.viewLines.forceShouldRender();for(var e=0,f=this.viewParts.length;e<f;e++){var g=this.viewParts[e];g.forceShouldRender()}}b?this._flushAccumulatedAndRenderNow():this._scheduleRender()},a.prototype.focus=function(){this._textAreaHandler.focusTextArea()},a.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},a.prototype.setAriaOptions=function(b){this._textAreaHandler.setAriaOptions(b)},a.prototype.addContentWidget=function(b){this.contentWidgets.addWidget(b.widget),this.layoutContentWidget(b),this._scheduleRender()},a.prototype.layoutContentWidget=function(b){var c=b.position?b.position.range||null:null;if(c===null){var e=b.position?b.position.position:null;e!==null&&(c=new z(e.lineNumber,e.column,e.lineNumber,e.column))}var f=b.position?b.position.preference:null;this.contentWidgets.setWidgetPosition(b.widget,c,f),this._scheduleRender()},a.prototype.removeContentWidget=function(b){this.contentWidgets.removeWidget(b.widget),this._scheduleRender()},a.prototype.addOverlayWidget=function(b){this.overlayWidgets.addWidget(b.widget),this.layoutOverlayWidget(b),this._scheduleRender()},a.prototype.layoutOverlayWidget=function(b){var c=b.position?b.position.preference:null,e=this.overlayWidgets.setWidgetPosition(b.widget,c);e&&this._scheduleRender()},a.prototype.removeOverlayWidget=function(b){this.overlayWidgets.removeWidget(b.widget),this._scheduleRender()},a}(kf);function MD(d){try{return d()}catch(a){W(a)}}var mv=function(){function d(a){this._selTrackedRange=null,this._trackSelection=!0,this._setState(a,new kc(new z(1,1,1,1),0,new G(1,1),0),new kc(new z(1,1,1,1),0,new G(1,1),0))}return d.prototype.dispose=function(a){this._removeTrackedRange(a)},d.prototype.startTrackingSelection=function(a){this._trackSelection=!0,this._updateTrackedRange(a)},d.prototype.stopTrackingSelection=function(a){this._trackSelection=!1,this._removeTrackedRange(a)},d.prototype._updateTrackedRange=function(a){if(!this._trackSelection)return;this._selTrackedRange=a.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0)},d.prototype._removeTrackedRange=function(a){this._selTrackedRange=a.model._setTrackedRange(this._selTrackedRange,null,0)},d.prototype.asCursorState=function(){return new za(this.modelState,this.viewState)},d.prototype.readSelectionFromMarkers=function(a){var b=a.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new V(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):new V(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn)},d.prototype.ensureValidState=function(a){this._setState(a,this.modelState,this.viewState)},d.prototype.setState=function(a,b,c){this._setState(a,b,c)},d.prototype._setState=function(a,b,c){if(b){var e=a.model.validateRange(b.selectionStart),g=b.selectionStart.equalsRange(e)?b.selectionStartLeftoverVisibleColumns:0,f=a.model.validatePosition(b.position),h=b.position.equals(f)?b.leftoverVisibleColumns:0;b=new kc(e,g,f,h)}else{if(!c)return;var e=a.model.validateRange(a.convertViewRangeToModelRange(c.selectionStart)),f=a.model.validatePosition(a.convertViewPositionToModelPosition(c.position.lineNumber,c.position.column));b=new kc(e,c.selectionStartLeftoverVisibleColumns,f,c.leftoverVisibleColumns)}if(c){var k=a.validateViewRange(c.selectionStart,b.selectionStart),l=a.validateViewPosition(c.position,b.position);c=new kc(k,b.selectionStartLeftoverVisibleColumns,l,b.leftoverVisibleColumns)}else{var i=a.convertModelPositionToViewPosition(new G(b.selectionStart.startLineNumber,b.selectionStart.startColumn)),j=a.convertModelPositionToViewPosition(new G(b.selectionStart.endLineNumber,b.selectionStart.endColumn)),k=new z(i.lineNumber,i.column,j.lineNumber,j.column),l=a.convertModelPositionToViewPosition(b.position);c=new kc(k,b.selectionStartLeftoverVisibleColumns,l,b.leftoverVisibleColumns)}this.modelState=b,this.viewState=c,this._updateTrackedRange(a)},d}();var gv=function(){function d(a){this.context=a,this.primaryCursor=new mv(a),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return d.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},d.prototype.startTrackingSelections=function(){this.primaryCursor.startTrackingSelection(this.context);for(var a=0,b=this.secondaryCursors.length;a<b;a++)this.secondaryCursors[a].startTrackingSelection(this.context)},d.prototype.stopTrackingSelections=function(){this.primaryCursor.stopTrackingSelection(this.context);for(var a=0,b=this.secondaryCursors.length;a<b;a++)this.secondaryCursors[a].stopTrackingSelection(this.context)},d.prototype.updateContext=function(a){this.context=a},d.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var a=0,b=this.secondaryCursors.length;a<b;a++)this.secondaryCursors[a].ensureValidState(this.context)},d.prototype.readSelectionFromMarkers=function(){var a=[];a[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var b=0,c=this.secondaryCursors.length;b<c;b++)a[b+1]=this.secondaryCursors[b].readSelectionFromMarkers(this.context);return a},d.prototype.getAll=function(){var a=[];a[0]=this.primaryCursor.asCursorState();for(var b=0,c=this.secondaryCursors.length;b<c;b++)a[b+1]=this.secondaryCursors[b].asCursorState();return a},d.prototype.getViewPositions=function(){var a=[];a[0]=this.primaryCursor.viewState.position;for(var b=0,c=this.secondaryCursors.length;b<c;b++)a[b+1]=this.secondaryCursors[b].viewState.position;return a},d.prototype.getSelections=function(){var a=[];a[0]=this.primaryCursor.modelState.selection;for(var b=0,c=this.secondaryCursors.length;b<c;b++)a[b+1]=this.secondaryCursors[b].modelState.selection;return a},d.prototype.getViewSelections=function(){var a=[];a[0]=this.primaryCursor.viewState.selection;for(var b=0,c=this.secondaryCursors.length;b<c;b++)a[b+1]=this.secondaryCursors[b].viewState.selection;return a},d.prototype.setSelections=function(a){this.setStates(za.fromModelSelections(a))},d.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},d.prototype.setStates=function(a){if(a===null)return;this.primaryCursor.setState(this.context,a[0].modelState,a[0].viewState),this._setSecondaryStates(a.slice(1))},d.prototype._setSecondaryStates=function(a){var b=this.secondaryCursors.length,c=a.length;if(b<c)for(var e=c-b,f=0;f<e;f++)this._addSecondaryCursor();else if(b>c)for(var g=b-c,f=0;f<g;f++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var f=0;f<c;f++)this.secondaryCursors[f].setState(this.context,a[f].modelState,a[f].viewState)},d.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},d.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new mv(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},d.prototype.getLastAddedCursorIndex=function(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex},d.prototype._removeSecondaryCursor=function(a){this.lastAddedCursorIndex>=a+1&&this.lastAddedCursorIndex--,this.secondaryCursors[a].dispose(this.context),this.secondaryCursors.splice(a,1)},d.prototype._getAll=function(){var a=[];a[0]=this.primaryCursor;for(var b=0,c=this.secondaryCursors.length;b<c;b++)a[b+1]=this.secondaryCursors[b];return a},d.prototype.normalize=function(){if(this.secondaryCursors.length===0)return;for(var a=this._getAll(),b=[],c=0,e=a.length;c<e;c++)b.push({index:c,selection:a[c].modelState.selection});b.sort(function(B,D){return B.selection.startLineNumber===D.selection.startLineNumber?B.selection.startColumn-D.selection.startColumn:B.selection.startLineNumber-D.selection.startLineNumber});for(var f=0;f<b.length-1;f++){var g=b[f],h=b[f+1],i=g.selection,j=h.selection;if(!this.context.config.multiCursorMergeOverlapping)continue;var k=void 0;j.isEmpty()||i.isEmpty()?k=j.getStartPosition().isBeforeOrEqual(i.getEndPosition()):k=j.getStartPosition().isBefore(i.getEndPosition());if(k){var l=g.index<h.index?f:f+1,m=g.index<h.index?f+1:f,n=b[m].index,o=b[l].index,p=b[m].selection,q=b[l].selection;if(!p.equalsSelection(q)){var r=p.plusRange(q),t=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,v=q.selectionStartLineNumber===q.startLineNumber&&q.selectionStartColumn===q.startColumn,w=void 0;n===this.lastAddedCursorIndex?(w=t,this.lastAddedCursorIndex=o):w=v;var x=void 0;w?x=new V(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn):x=new V(r.endLineNumber,r.endColumn,r.startLineNumber,r.startColumn),b[l].selection=x;var u=za.fromModelSelection(x);a[o].setState(this.context,u.modelState,u.viewState)}for(var y=0,A=b;y<A.length;y++){var F=A[y];F.index>n&&F.index--}a.splice(n,1),b.splice(m,1),this._removeSecondaryCursor(n-1),f--}}},d}();var oU=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function pU(d){for(var a=0,b=d.length;a<b;a++)if(d[a].type===8)return!0;return!1}var qU=function(){function d(a,b,c,e,f,g){this.selections=a,this.modelVersionId=b,this.oldSelections=c,this.oldModelVersionId=e,this.source=f,this.reason=g}return d}(),kv=function(){function d(a,b){this.modelVersionId=a.getVersionId(),this.cursorState=b.getAll()}return d.prototype.equals=function(a){if(!a)return!1;if(this.modelVersionId!==a.modelVersionId)return!1;if(this.cursorState.length!==a.cursorState.length)return!1;for(var b=0,c=this.cursorState.length;b<c;b++)if(!this.cursorState[b].equals(a.cursorState[b]))return!1;return!0},d}(),lv=function(){function d(a,b,c){this._model=a,this._autoClosedCharactersDecorations=b,this._autoClosedEnclosingDecorations=c}return d.getAllAutoClosedCharacters=function(a){for(var b=[],c=0,e=a;c<e.length;c++){var f=e[c];b=b.concat(f.getAutoClosedCharactersRanges())}return b},d.prototype.dispose=function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])},d.prototype.getAutoClosedCharactersRanges=function(){for(var a=[],b=0;b<this._autoClosedCharactersDecorations.length;b++){var c=this._model.getDecorationRange(this._autoClosedCharactersDecorations[b]);c&&a.push(c)}return a},d.prototype.isValid=function(a){for(var b=[],c=0;c<this._autoClosedEnclosingDecorations.length;c++){var e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[c]);if(e){b.push(e);if(e.startLineNumber!==e.endLineNumber)return!1}}b.sort(z.compareRangesUsingStarts),a.sort(z.compareRangesUsingStarts);for(var c=0;c<a.length;c++){if(c>=b.length)return!1;if(!b[c].strictContainsRange(a[c]))return!1}return!0},d}(),Wu=function(d){oU(a,d);function a(b,c,e){var f=d.call(this)||this;f._onDidReachMaxCursorCount=f._register(new E()),f.onDidReachMaxCursorCount=f._onDidReachMaxCursorCount.event,f._onDidAttemptReadOnlyEdit=f._register(new E()),f.onDidAttemptReadOnlyEdit=f._onDidAttemptReadOnlyEdit.event,f._onDidChange=f._register(new E()),f.onDidChange=f._onDidChange.event,f._configuration=b,f._model=c,f._knownModelVersionId=f._model.getVersionId(),f._viewModel=e,f.context=new iv(f._configuration,f._model,f._viewModel),f._cursors=new gv(f.context),f._isHandling=!1,f._isDoingComposition=!1,f._selectionsWhenCompositionStarted=null,f._columnSelectData=null,f._autoClosedActions=[],f._prevEditOperationType=0,f._register(f._model.onDidChangeRawContent(function(h){f._knownModelVersionId=h.versionId;if(f._isHandling)return;var i=h.containsEvent(1);f._onModelContentChanged(i)})),f._register(e.addEventListener(function(h){if(!pU(h))return;if(f._knownModelVersionId!==f._model.getVersionId())return;f.setStates("viewModel",0,f.getAll())}));var g=function(){f.context=new iv(f._configuration,f._model,f._viewModel),f._cursors.updateContext(f.context)};return f._register(f._model.onDidChangeLanguage(function(h){g()})),f._register(f._model.onDidChangeLanguageConfiguration(function(){g()})),f._register(f._model.onDidChangeOptions(function(){g()})),f._register(f._configuration.onDidChange(function(h){hv.shouldRecreate(h)&&g()})),f}return a.prototype.dispose=function(){this._cursors.dispose(),this._autoClosedActions=ca(this._autoClosedActions),d.prototype.dispose.call(this)},a.prototype._validateAutoClosedActions=function(){if(this._autoClosedActions.length>0)for(var b=this._cursors.getSelections(),c=0;c<this._autoClosedActions.length;c++){var e=this._autoClosedActions[c];e.isValid(b)||(e.dispose(),this._autoClosedActions.splice(c,1),c--)}},a.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},a.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},a.prototype.getAll=function(){return this._cursors.getAll()},a.prototype.setStates=function(b,c,e){e!==null&&e.length>a.MAX_CURSOR_COUNT&&(e=e.slice(0,a.MAX_CURSOR_COUNT),this._onDidReachMaxCursorCount.fire(void 0));var f=new kv(this._model,this);this._cursors.setStates(e),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(b,c,f)},a.prototype.setColumnSelectData=function(b){this._columnSelectData=b},a.prototype.reveal=function(b,c,e,f){this._revealRange(b,e,0,c,f)},a.prototype.revealRange=function(b,c,e,f,g){this.emitCursorRevealRange(b,e,f,c,g)},a.prototype.scrollTo=function(b){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:b})},a.prototype.saveState=function(){for(var b=[],c=this._cursors.getSelections(),e=0,f=c.length;e<f;e++){var g=c[e];b.push({inSelectionMode:!g.isEmpty(),selectionStart:{lineNumber:g.selectionStartLineNumber,column:g.selectionStartColumn},position:{lineNumber:g.positionLineNumber,column:g.positionColumn}})}return b},a.prototype.restoreState=function(b){for(var c=[],e=0,f=b.length;e<f;e++){var g=b[e],h=1,i=1;g.position&&g.position.lineNumber&&(h=g.position.lineNumber),g.position&&g.position.column&&(i=g.position.column);var j=h,k=i;g.selectionStart&&g.selectionStart.lineNumber&&(j=g.selectionStart.lineNumber),g.selectionStart&&g.selectionStart.column&&(k=g.selectionStart.column),c.push({selectionStartLineNumber:j,selectionStartColumn:k,positionLineNumber:h,positionColumn:i})}this.setStates("restoreState",0,za.fromModelSelections(c)),this.reveal("restoreState",!0,0,1)},a.prototype._onModelContentChanged=function(b){this._prevEditOperationType=0;if(b)this._cursors.dispose(),this._cursors=new gv(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary("model",1,null);else{var c=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",2,za.fromModelSelections(c))}},a.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},a.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var b=this._cursors.getPrimaryCursor(),c=b.viewState.selectionStart.getStartPosition(),e=c.lineNumber,f=Ya.visibleColumnFromColumn2(this.context.config,this.context.viewModel,c);return{isReal:!1,fromViewLineNumber:e,fromViewVisualColumn:f,toViewLineNumber:e,toViewVisualColumn:f}},a.prototype.getSelections=function(){return this._cursors.getSelections()},a.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},a.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},a.prototype.setSelections=function(b,c){this.setStates(b,0,za.fromModelSelections(c))},a.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType},a.prototype.setPrevEditOperationType=function(b){this._prevEditOperationType=b},a.prototype._pushAutoClosedAction=function(b,c){for(var e=[],f=[],g=0,h=b.length;g<h;g++)e.push({range:b[g],options:{inlineClassName:"auto-closed-character",stickiness:1}}),f.push({range:c[g],options:{stickiness:1}});var i=this._model.deltaDecorations([],e),j=this._model.deltaDecorations([],f);this._autoClosedActions.push(new lv(this._model,i,j))},a.prototype._executeEditOperation=function(b){if(!b)return;b.shouldPushStackElementBefore&&this._model.pushStackElement();var c=rU.executeCommands(this._model,this._cursors.getSelections(),b.commands);if(c){this._interpretCommandResult(c);for(var e=[],f=[],g=0;g<b.commands.length;g++){var h=b.commands[g];h instanceof jv&&h.enclosingRange&&h.closeCharacterRange&&(e.push(h.closeCharacterRange),f.push(h.enclosingRange))}e.length>0&&this._pushAutoClosedAction(e,f),this._prevEditOperationType=b.type}b.shouldPushStackElementAfter&&this._model.pushStackElement()},a.prototype._interpretCommandResult=function(b){(!b||b.length===0)&&(b=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(b),this._cursors.normalize()},a.prototype._emitStateChangedIfNecessary=function(b,c,e){var f=new kv(this._model,this);if(f.equals(e))return!1;var g=this._cursors.getSelections(),h=this._cursors.getViewSelections();try{var i=this._beginEmit();i.emit(new XE(h,g))}finally{this._endEmit()}if(!e||e.cursorState.length!==f.cursorState.length||f.cursorState.some(function(l,m){return!l.modelState.equals(e.cursorState[m].modelState)})){var j=e?e.cursorState.map(function(l){return l.modelState.selection}):null,k=e?e.modelVersionId:0;this._onDidChange.fire(new qU(g,f.modelVersionId,j,k,b||"keyboard",c))}return!0},a.prototype._revealRange=function(b,c,e,f,g){var h=this._cursors.getViewPositions(),i=h[0];if(c===1)for(var j=1;j<h.length;j++)h[j].isBefore(i)&&(i=h[j]);else if(c===2)for(var j=1;j<h.length;j++)i.isBeforeOrEqual(h[j])&&(i=h[j]);else if(h.length>1)return;var k=new z(i.lineNumber,i.column,i.lineNumber,i.column);this.emitCursorRevealRange(b,k,e,f,g)},a.prototype.emitCursorRevealRange=function(b,c,e,f,g){try{var h=this._beginEmit();h.emit(new Gj(b,c,e,f,g))}finally{this._endEmit()}},a.prototype._findAutoClosingPairs=function(b){if(!b.length)return null;for(var c=[],e=0,f=b.length;e<f;e++){var g=b[e];if(!g.text||g.text.indexOf(`
`)>=0)return null;var h=g.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!h)return null;var i=h[1],j=this.context.config.autoClosingPairsClose2.get(i);if(!j||j.length!==1)return null;var k=j[0].open,l=g.text.length-h[2].length-1,m=g.text.lastIndexOf(k,l-1);if(m===-1)return null;c.push([m,l])}return c},a.prototype.executeEdits=function(b,c,e){var f=this,g=null;b==="snippet"&&(g=this._findAutoClosingPairs(c)),g&&(c[0]._isTracked=!0);var h=[],i=[],j=this._model.pushEditOperations(this.getSelections(),c,function(k){if(g)for(var l=0,m=g.length;l<m;l++){var n=g[l],o=n[0],p=n[1],q=k[l],r=q.range.startLineNumber,t=q.range.startColumn-1+o,v=q.range.startColumn-1+p;h.push(new z(r,v+1,r,v+2)),i.push(new z(r,t+1,r,v+2))}var w=e(k);return w&&(f._isHandling=!0),w});j&&(this._isHandling=!1,this.setSelections(b,j)),h.length>0&&this._pushAutoClosedAction(h,i)},a.prototype.trigger=function(b,c,e){var f=Qa;if(c===f.CompositionStart){this._isDoingComposition=!0,this._selectionsWhenCompositionStarted=this.getSelections().slice(0);return}c===f.CompositionEnd&&(this._isDoingComposition=!1);if(this._configuration.options.get(68)){this._onDidAttemptReadOnlyEdit.fire(void 0);return}var g=new kv(this._model,this),h=0;c!==f.Undo&&c!==f.Redo&&this._cursors.stopTrackingSelections(),this._cursors.ensureValidState(),this._isHandling=!0;try{switch(c){case f.Type:this._type(b,e.text);break;case f.ReplacePreviousChar:this._replacePreviousChar(e.text,e.replaceCharCnt);break;case f.Paste:h=4,this._paste(e.text,e.pasteOnNewLine,e.multicursorText||[]);break;case f.Cut:this._cut();break;case f.Undo:h=5,this._interpretCommandResult(this._model.undo());break;case f.Redo:h=6,this._interpretCommandResult(this._model.redo());break;case f.ExecuteCommand:this._externalExecuteCommand(e);break;case f.ExecuteCommands:this._externalExecuteCommands(e);break;case f.CompositionEnd:this._interpretCompositionEnd(b);break}}catch(i){W(i)}this._isHandling=!1,c!==f.Undo&&c!==f.Redo&&this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(b,h,g)&&this._revealRange(b,0,0,!0,0)},a.prototype._interpretCompositionEnd=function(b){if(!this._isDoingComposition&&b==="keyboard"){var c=lv.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(Hd.compositionEndWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this._selectionsWhenCompositionStarted,this.getSelections(),c)),this._selectionsWhenCompositionStarted=null}},a.prototype._type=function(b,c){if(!this._isDoingComposition&&b==="keyboard")for(var e=c.length,f=0;f<e;){var g=Zh(c,f),h=c.substr(f,g),i=lv.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(Hd.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),i,h)),f+=g}else this._executeEditOperation(Hd.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),c))},a.prototype._replacePreviousChar=function(b,c){this._executeEditOperation(Hd.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),b,c))},a.prototype._paste=function(b,c,e){this._executeEditOperation(Hd.paste(this.context.config,this.context.model,this.getSelections(),b,c,e))},a.prototype._cut=function(){this._executeEditOperation(Ol.cut(this.context.config,this.context.model,this.getSelections()))},a.prototype._externalExecuteCommand=function(b){this._cursors.killSecondaryCursors(),this._executeEditOperation(new Fc(0,[b],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},a.prototype._externalExecuteCommands=function(b){this._executeEditOperation(new Fc(0,b,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},a.MAX_CURSOR_COUNT=1e4,a}(Hp),rU=function(){function d(){}return d.executeCommands=function(a,b,c){for(var e={model:a,selectionsBefore:b,trackedRanges:[],trackedRangesDirection:[]},f=this._innerExecuteCommands(e,c),g=0,h=e.trackedRanges.length;g<h;g++)e.model._setTrackedRange(e.trackedRanges[g],null,0);return f},d._innerExecuteCommands=function(a,b){if(this._arrayIsEmpty(b))return null;var c=this._getEditOperations(a,b);if(c.operations.length===0)return null;var e=c.operations,f=this._getLoserCursorMap(e);if(f.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var g=[],h=0,i=e.length;h<i;h++)f.hasOwnProperty(e[h].identifier.major.toString())||g.push(e[h]);c.hadTrackedEditOperation&&g.length>0&&(g[0]._isTracked=!0);var j=a.model.pushEditOperations(a.selectionsBefore,g,function(p){for(var q=[],r=0;r<a.selectionsBefore.length;r++)q[r]=[];for(var t=0,v=p;t<v.length;t++){var w=v[t];if(!w.identifier)continue;q[w.identifier.major].push(w)}for(var x=function(A,F){return A.identifier.minor-F.identifier.minor},u=[],y=function(A){q[A].length>0?(q[A].sort(x),u[A]=b[A].computeCursorState(a.model,{getInverseEditOperations:function(){return q[A]},getTrackedSelection:function(F){var B=parseInt(F,10),D=a.model._getTrackedRange(a.trackedRanges[B]);return a.trackedRangesDirection[B]===0?new V(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):new V(D.endLineNumber,D.endColumn,D.startLineNumber,D.startColumn)}})):u[A]=a.selectionsBefore[A]},r=0;r<a.selectionsBefore.length;r++)y(r);return u});j||(j=a.selectionsBefore);var k=[];for(var l in f)f.hasOwnProperty(l)&&k.push(parseInt(l,10));k.sort(function(p,q){return q-p});for(var m=0,n=k;m<n.length;m++){var o=n[m];j.splice(o,1)}return j},d._arrayIsEmpty=function(a){for(var b=0,c=a.length;b<c;b++)if(a[b])return!1;return!0},d._getEditOperations=function(a,b){for(var c=[],e=!1,f=0,g=b.length;f<g;f++){var h=b[f];if(h){var i=this._getEditOperationsFromCommand(a,f,h);c=c.concat(i.operations),e=e||i.hadTrackedEditOperation}}return{operations:c,hadTrackedEditOperation:e}},d._getEditOperationsFromCommand=function(a,b,c){var e=[],f=0,g=function(l,m,n){n===void 0&&(n=!1);if(l.isEmpty()&&m==="")return;e.push({identifier:{major:b,minor:f++},range:l,text:m,forceMoveMarkers:n,isAutoWhitespaceEdit:c.insertsAutoWhitespace})},h=!1,i=function(l,m,n){h=!0,g(l,m,n)},j=function(l,m){var n;if(l.isEmpty())if(typeof m==="boolean")m?n=2:n=3;else{var o=a.model.getLineMaxColumn(l.startLineNumber);l.startColumn===o?n=2:n=3}else n=1;var p=a.trackedRanges.length,q=a.model._setTrackedRange(null,l,n);return a.trackedRanges[p]=q,a.trackedRangesDirection[p]=l.getDirection(),p.toString()},k={addEditOperation:g,addTrackedEditOperation:i,trackSelection:j};try{c.getEditOperations(a.model,k)}catch(l){return W(l),{operations:[],hadTrackedEditOperation:!1}}return{operations:e,hadTrackedEditOperation:h}},d._getLoserCursorMap=function(a){a=a.slice(0),a.sort(function(i,j){return-z.compareRangesUsingEnds(i.range,j.range)});for(var b={},c=1;c<a.length;c++){var e=a[c-1],f=a[c];if(e.range.getStartPosition().isBefore(f.range.getEndPosition())){var g=void 0;e.identifier.major>f.identifier.major?g=e.identifier.major:g=f.identifier.major,b[g.toString()]=!0;for(var h=0;h<a.length;h++)a[h].identifier.major===g&&(a.splice(h,1),h<c&&c--,h--);c>0&&c--}}return b},d}();var wp=function(){function d(a,b,c,e,f,g){this.id=a,this.label=b,this.alias=c,this._precondition=e,this._run=f,this._contextKeyService=g}return d.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},d.prototype.run=function(){if(!this.isSupported())return Promise.resolve(void 0);var a=this._run();return a?a:Promise.resolve(void 0)},d}();var aG={getInitialState:function(){return qg},tokenize2:function(d,a,b){return dk(0,d,a,b)}};function Lv(d,a){return a===void 0&&(a=aG),WV(d,a||aG)}function bG(d,a,b,c,e,f,g){for(var h="<div>",i=c,j=0,k=0,l=a.getCount();k<l;k++){var m=a.getEndOffset(k);if(m<=c)continue;for(var n="";i<m&&i<e;i++){var o=d.charCodeAt(i);switch(o){case 9:var p=f-(i+j)%f;for(j+=p-1;p>0;)n+=g?"&#160;":" ",p--;break;case 60:n+="&lt;";break;case 62:n+="&gt;";break;case 38:n+="&amp;";break;case 0:n+="&#00;";break;case 65279:case 8232:n+="�";break;case 13:n+="&#8203";break;case 32:n+=g?"&#160;":" ";break;default:n+=String.fromCharCode(o)}}h+='<span style="'+a.getInlineStyle(k,b)+'">'+n+"</span>";if(m>e||i>=e)break}return h+="</div>",h}function WV(d,a){for(var b='<div class="monaco-tokenized-source">',c=d.split(/\r\n|\r|\n/),e=a.getInitialState(),f=0,g=c.length;f<g;f++){var h=c[f];f>0&&(b+="<br/>");var i=a.tokenize2(h,e,0);Rc.convertToEndOffset(i.tokens,h.length);for(var j=new Rc(i.tokens,h),k=j.inflate(),l=0,m=0,n=k.getCount();m<n;m++){var o=k.getClassName(m),p=k.getEndOffset(m);b+='<span class="'+o+'">'+Xb(h.substring(l,p))+"</span>",l=p}e=i.endState}return b+="</div>",b}var HW=function(){function d(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}return d.prototype.insert=function(a){this._hasPending=!0,this._inserts.push(a)},d.prototype.change=function(a){this._hasPending=!0,this._changes.push(a)},d.prototype.remove=function(a){this._hasPending=!0,this._removes.push(a)},d.prototype.mustCommit=function(){return this._hasPending},d.prototype.commit=function(a){if(!this._hasPending)return;var b=this._inserts,c=this._changes,e=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],a._commitPendingChanges(b,c,e)},d}(),IW=function(){function d(a,b,c,e,f){this.id=a,this.afterLineNumber=b,this.ordinal=c,this.height=e,this.minWidth=f,this.prefixSum=0}return d}(),GG=function(){function d(a,b){this._instanceId=Vo(++d.INSTANCE_COUNT),this._pendingChanges=new HW(),this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=a,this._lineHeight=b}return d.findInsertionIndex=function(a,b,c){for(var e=0,f=a.length;e<f;){var g=e+f>>>1;b===a[g].afterLineNumber?c<a[g].ordinal?f=g:e=g+1:b<a[g].afterLineNumber?f=g:e=g+1}return e},d.prototype.setLineHeight=function(a){this._checkPendingChanges(),this._lineHeight=a},d.prototype.onFlushed=function(a){this._checkPendingChanges(),this._lineCount=a},d.prototype.changeWhitespace=function(a){var b=this;try{var c={insertWhitespace:function(e,f,g,h){e=e|0,f=f|0,g=g|0,h=h|0;var i=b._instanceId+ ++b._lastWhitespaceId;return b._pendingChanges.insert(new IW(i,e,f,g,h)),i},changeOneWhitespace:function(e,f,g){f=f|0,g=g|0,b._pendingChanges.change({id:e,newAfterLineNumber:f,newHeight:g})},removeWhitespace:function(e){b._pendingChanges.remove({id:e})}};return a(c)}finally{this._pendingChanges.commit(this)}},d.prototype._commitPendingChanges=function(a,b,c){(a.length>0||c.length>0)&&(this._minWidth=-1);if(a.length+b.length+c.length<=1){for(var e=0,f=a;e<f.length;e++){var g=f[e];this._insertWhitespace(g)}for(var h=0,i=b;h<i.length;h++){var j=i[h];this._changeOneWhitespace(j.id,j.newAfterLineNumber,j.newHeight)}for(var k=0,l=c;k<l.length;k++){var m=l[k],n=this._findWhitespaceIndex(m.id);if(n===-1)continue;this._removeWhitespace(n)}return}for(var o=new Set(),p=0,q=c;p<q.length;p++){var m=q[p];o.add(m.id)}for(var r=new Map(),t=0,v=b;t<v.length;t++){var j=v[t];r.set(j.id,j)}var w=function(u){for(var y=[],A=0,F=u;A<F.length;A++){var B=F[A];if(o.has(B.id))continue;if(r.has(B.id)){var D=r.get(B.id);B.afterLineNumber=D.newAfterLineNumber,B.height=D.newHeight}y.push(B)}return y},x=w(this._arr).concat(w(a));x.sort(function(u,y){return u.afterLineNumber===y.afterLineNumber?u.ordinal-y.ordinal:u.afterLineNumber-y.afterLineNumber}),this._arr=x,this._prefixSumValidIndex=-1},d.prototype._checkPendingChanges=function(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)},d.prototype._insertWhitespace=function(a){var b=d.findInsertionIndex(this._arr,a.afterLineNumber,a.ordinal);this._arr.splice(b,0,a),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)},d.prototype._findWhitespaceIndex=function(a){for(var b=this._arr,c=0,e=b.length;c<e;c++)if(b[c].id===a)return c;return-1},d.prototype._changeOneWhitespace=function(a,b,c){var e=this._findWhitespaceIndex(a);if(e===-1)return;this._arr[e].height!==c&&(this._arr[e].height=c,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1));if(this._arr[e].afterLineNumber!==b){var f=this._arr[e];this._removeWhitespace(e),f.afterLineNumber=b,this._insertWhitespace(f)}},d.prototype._removeWhitespace=function(a){this._arr.splice(a,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,a-1)},d.prototype.onLinesDeleted=function(a,b){this._checkPendingChanges(),a=a|0,b=b|0,this._lineCount-=b-a+1;for(var c=0,e=this._arr.length;c<e;c++){var f=this._arr[c].afterLineNumber;a<=f&&f<=b?this._arr[c].afterLineNumber=a-1:f>b&&(this._arr[c].afterLineNumber-=b-a+1)}},d.prototype.onLinesInserted=function(a,b){this._checkPendingChanges(),a=a|0,b=b|0,this._lineCount+=b-a+1;for(var c=0,e=this._arr.length;c<e;c++){var f=this._arr[c].afterLineNumber;a<=f&&(this._arr[c].afterLineNumber+=b-a+1)}},d.prototype.getWhitespacesTotalHeight=function(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)},d.prototype.getWhitespacesAccumulatedHeight=function(a){this._checkPendingChanges(),a=a|0;var b=Math.max(0,this._prefixSumValidIndex+1);b===0&&(this._arr[0].prefixSum=this._arr[0].height,b++);for(var c=b;c<=a;c++)this._arr[c].prefixSum=this._arr[c-1].prefixSum+this._arr[c].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,a),this._arr[a].prefixSum},d.prototype.getLinesTotalHeight=function(){this._checkPendingChanges();var a=this._lineHeight*this._lineCount,b=this.getWhitespacesTotalHeight();return a+b},d.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(a){this._checkPendingChanges(),a=a|0;var b=this._findLastWhitespaceBeforeLineNumber(a);return b===-1?0:this.getWhitespacesAccumulatedHeight(b)},d.prototype._findLastWhitespaceBeforeLineNumber=function(a){a=a|0;for(var b=this._arr,c=0,e=b.length-1;c<=e;){var f=e-c|0,g=f/2|0,h=c+g|0;if(b[h].afterLineNumber<a){if(h+1>=b.length||b[h+1].afterLineNumber>=a)return h;c=h+1|0}else e=h-1|0}return-1},d.prototype._findFirstWhitespaceAfterLineNumber=function(a){a=a|0;var b=this._findLastWhitespaceBeforeLineNumber(a),c=b+1;return c<this._arr.length?c:-1},d.prototype.getFirstWhitespaceIndexAfterLineNumber=function(a){return this._checkPendingChanges(),a=a|0,this._findFirstWhitespaceAfterLineNumber(a)},d.prototype.getVerticalOffsetForLineNumber=function(a){this._checkPendingChanges(),a=a|0;var b;a>1?b=this._lineHeight*(a-1):b=0;var c=this.getWhitespaceAccumulatedHeightBeforeLineNumber(a);return b+c},d.prototype.getWhitespaceMinWidth=function(){this._checkPendingChanges();if(this._minWidth===-1){for(var a=0,b=0,c=this._arr.length;b<c;b++)a=Math.max(a,this._arr[b].minWidth);this._minWidth=a}return this._minWidth},d.prototype.isAfterLines=function(a){this._checkPendingChanges();var b=this.getLinesTotalHeight();return a>b},d.prototype.getLineNumberAtOrAfterVerticalOffset=function(a){this._checkPendingChanges(),a=a|0;if(a<0)return 1;for(var b=this._lineCount|0,c=this._lineHeight,e=1,f=b;e<f;){var g=(e+f)/2|0,h=this.getVerticalOffsetForLineNumber(g)|0;if(a>=h+c)e=g+1;else{if(a>=h)return g;f=g}}return e>b?b:e},d.prototype.getLinesViewportData=function(a,b){this._checkPendingChanges(),a=a|0,b=b|0;var c=this._lineHeight,e=this.getLineNumberAtOrAfterVerticalOffset(a)|0,f=this.getVerticalOffsetForLineNumber(e)|0,g=this._lineCount|0,h=this.getFirstWhitespaceIndexAfterLineNumber(e)|0,i=this.getWhitespacesCount()|0,j,k;h===-1?(h=i,k=g+1,j=0):(k=this.getAfterLineNumberForWhitespaceIndex(h)|0,j=this.getHeightForWhitespaceIndex(h)|0);var l=f,m=l,n=5e5,o=0;f>=n&&(o=Math.floor(f/n)*n,o=Math.floor(o/c)*c,m-=o);for(var p=[],q=a+(b-a)/2,r=-1,t=e;t<=g;t++){if(r===-1){var v=l,w=l+c;(v<=q&&q<w||v>q)&&(r=t)}for(l+=c,p[t-e]=m,m+=c;k===t;)m+=j,l+=j,h++,h>=i?k=g+1:(k=this.getAfterLineNumberForWhitespaceIndex(h)|0,j=this.getHeightForWhitespaceIndex(h)|0);if(l>=b){g=t;break}}r===-1&&(r=g);var x=this.getVerticalOffsetForLineNumber(g)|0,u=e,y=g;return u<y&&(f<a&&u++),u<y&&(x+c>b&&y--),{bigNumbersDelta:o,startLineNumber:e,endLineNumber:g,relativeVerticalOffset:p,centeredLineNumber:r,completelyVisibleStartLineNumber:u,completelyVisibleEndLineNumber:y}},d.prototype.getVerticalOffsetForWhitespaceIndex=function(a){this._checkPendingChanges(),a=a|0;var b=this.getAfterLineNumberForWhitespaceIndex(a),c;b>=1?c=this._lineHeight*b:c=0;var e;return a>0?e=this.getWhitespacesAccumulatedHeight(a-1):e=0,c+e},d.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(a){this._checkPendingChanges(),a=a|0;var b=0,c=this.getWhitespacesCount()-1;if(c<0)return-1;var e=this.getVerticalOffsetForWhitespaceIndex(c),f=this.getHeightForWhitespaceIndex(c);if(a>=e+f)return-1;for(;b<c;){var g=Math.floor((b+c)/2),h=this.getVerticalOffsetForWhitespaceIndex(g),i=this.getHeightForWhitespaceIndex(g);if(a>=h+i)b=g+1;else{if(a>=h)return g;c=g}}return b},d.prototype.getWhitespaceAtVerticalOffset=function(a){this._checkPendingChanges(),a=a|0;var b=this.getWhitespaceIndexAtOrAfterVerticallOffset(a);if(b<0)return null;if(b>=this.getWhitespacesCount())return null;var c=this.getVerticalOffsetForWhitespaceIndex(b);if(c>a)return null;var e=this.getHeightForWhitespaceIndex(b),f=this.getIdForWhitespaceIndex(b),g=this.getAfterLineNumberForWhitespaceIndex(b);return{id:f,afterLineNumber:g,verticalOffset:c,height:e}},d.prototype.getWhitespaceViewportData=function(a,b){this._checkPendingChanges(),a=a|0,b=b|0;var c=this.getWhitespaceIndexAtOrAfterVerticallOffset(a),e=this.getWhitespacesCount()-1;if(c<0)return[];for(var f=[],g=c;g<=e;g++){var h=this.getVerticalOffsetForWhitespaceIndex(g),i=this.getHeightForWhitespaceIndex(g);if(h>=b)break;f.push({id:this.getIdForWhitespaceIndex(g),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(g),verticalOffset:h,height:i})}return f},d.prototype.getWhitespaces=function(){return this._checkPendingChanges(),this._arr.slice(0)},d.prototype.getWhitespacesCount=function(){return this._checkPendingChanges(),this._arr.length},d.prototype.getIdForWhitespaceIndex=function(a){return this._checkPendingChanges(),a=a|0,this._arr[a].id},d.prototype.getAfterLineNumberForWhitespaceIndex=function(a){return this._checkPendingChanges(),a=a|0,this._arr[a].afterLineNumber},d.prototype.getHeightForWhitespaceIndex=function(a){return this._checkPendingChanges(),a=a|0,this._arr[a].height},d.INSTANCE_COUNT=0,d}();var HG=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),JW=125,Im=function(){function d(a,b,c,e){a=a|0,b=b|0,c=c|0,e=e|0,a<0&&(a=0),b<0&&(b=0),c<0&&(c=0),e<0&&(e=0),this.width=a,this.contentWidth=b,this.scrollWidth=Math.max(a,b),this.height=c,this.contentHeight=e,this.scrollHeight=Math.max(c,e)}return d.prototype.equals=function(a){return this.width===a.width&&this.contentWidth===a.contentWidth&&this.height===a.height&&this.contentHeight===a.contentHeight},d}(),KW=function(d){HG(a,d);function a(b,c){var e=d.call(this)||this;return e._onDidContentSizeChange=e._register(new E()),e.onDidContentSizeChange=e._onDidContentSizeChange.event,e._dimensions=new Im(0,0,0,0),e._scrollable=e._register(new io(b,c)),e.onDidScroll=e._scrollable.onScroll,e}return a.prototype.getScrollable=function(){return this._scrollable},a.prototype.setSmoothScrollDuration=function(b){this._scrollable.setSmoothScrollDuration(b)},a.prototype.validateScrollPosition=function(b){return this._scrollable.validateScrollPosition(b)},a.prototype.getScrollDimensions=function(){return this._dimensions},a.prototype.setScrollDimensions=function(b){if(this._dimensions.equals(b))return;var c=this._dimensions;this._dimensions=b,this._scrollable.setScrollDimensions({width:b.width,scrollWidth:b.scrollWidth,height:b.height,scrollHeight:b.scrollHeight});var e=c.contentWidth!==b.contentWidth,f=c.contentHeight!==b.contentHeight;(e||f)&&this._onDidContentSizeChange.fire({contentWidth:b.contentWidth,contentHeight:b.contentHeight,contentWidthChanged:e,contentHeightChanged:f})},a.prototype.getFutureScrollPosition=function(){return this._scrollable.getFutureScrollPosition()},a.prototype.getCurrentScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},a.prototype.setScrollPositionNow=function(b){this._scrollable.setScrollPositionNow(b)},a.prototype.setScrollPositionSmooth=function(b){this._scrollable.setScrollPositionSmooth(b)},a}(I),IG=function(d){HG(a,d);function a(b,c,e){var f=d.call(this)||this;f._configuration=b;var g=f._configuration.options,h=g.get(107);return f._linesLayout=new GG(c,g.get(49)),f._scrollable=f._register(new KW(0,e)),f._configureSmoothScrollDuration(),f._scrollable.setScrollDimensions(new Im(h.contentWidth,0,h.height,0)),f.onDidScroll=f._scrollable.onDidScroll,f.onDidContentSizeChange=f._scrollable.onDidContentSizeChange,f._updateHeight(),f}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.getScrollable=function(){return this._scrollable.getScrollable()},a.prototype.onHeightMaybeChanged=function(){this._updateHeight()},a.prototype._configureSmoothScrollDuration=function(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(87)?JW:0)},a.prototype.onConfigurationChanged=function(b){var c=this._configuration.options;b.hasChanged(49)&&this._linesLayout.setLineHeight(c.get(49));if(b.hasChanged(107)){var e=c.get(107),f=e.contentWidth,g=e.height,h=this._scrollable.getScrollDimensions(),i=h.scrollWidth;this._scrollable.setScrollDimensions(new Im(f,h.contentWidth,g,this._getContentHeight(f,g,i)))}else this._updateHeight();b.hasChanged(87)&&this._configureSmoothScrollDuration()},a.prototype.onFlushed=function(b){this._linesLayout.onFlushed(b)},a.prototype.onLinesDeleted=function(b,c){this._linesLayout.onLinesDeleted(b,c)},a.prototype.onLinesInserted=function(b,c){this._linesLayout.onLinesInserted(b,c)},a.prototype._getHorizontalScrollbarHeight=function(b,c){var e=this._configuration.options,f=e.get(78);return f.horizontal===2?0:b>=c?0:f.horizontalScrollbarSize},a.prototype._getContentHeight=function(b,c,e){var f=this._configuration.options,g=this._linesLayout.getLinesTotalHeight();return f.get(80)?g+=c-f.get(49):g+=this._getHorizontalScrollbarHeight(b,e),g},a.prototype._updateHeight=function(){var b=this._scrollable.getScrollDimensions(),c=b.width,e=b.height,f=b.scrollWidth;this._scrollable.setScrollDimensions(new Im(c,b.contentWidth,e,this._getContentHeight(c,e,f)))},a.prototype.getCurrentViewport=function(){var b=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new Sv(c.scrollTop,c.scrollLeft,b.width,b.height)},a.prototype.getFutureViewport=function(){var b=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new Sv(c.scrollTop,c.scrollLeft,b.width,b.height)},a.prototype._computeContentWidth=function(b){var c=this._configuration.options,e=c.get(108),f=c.get(34);if(e.isViewportWrapping){var g=c.get(107),h=c.get(54);if(b>g.contentWidth+f.typicalHalfwidthCharacterWidth){if(h.enabled&&h.side==="right")return b+g.verticalScrollbarWidth}return b}else{var i=c.get(79)*f.typicalHalfwidthCharacterWidth,j=this._linesLayout.getWhitespaceMinWidth();return Math.max(b+i,j)}},a.prototype.onMaxLineWidthChanged=function(b){var c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Im(c.width,this._computeContentWidth(b),c.height,c.contentHeight)),this._updateHeight()},a.prototype.saveState=function(){var b=this._scrollable.getFutureScrollPosition(),c=b.scrollTop,e=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),f=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return{scrollTop:c,scrollTopWithoutViewZones:c-f,scrollLeft:b.scrollLeft}},a.prototype.changeWhitespace=function(b){return this._linesLayout.changeWhitespace(b)},a.prototype.getVerticalOffsetForLineNumber=function(b){return this._linesLayout.getVerticalOffsetForLineNumber(b)},a.prototype.isAfterLines=function(b){return this._linesLayout.isAfterLines(b)},a.prototype.getLineNumberAtVerticalOffset=function(b){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(b)},a.prototype.getWhitespaceAtVerticalOffset=function(b){return this._linesLayout.getWhitespaceAtVerticalOffset(b)},a.prototype.getLinesViewportData=function(){var b=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(b.top,b.top+b.height)},a.prototype.getLinesViewportDataAtScrollTop=function(b){var c=this._scrollable.getScrollDimensions();return b+c.height>c.scrollHeight&&(b=c.scrollHeight-c.height),b<0&&(b=0),this._linesLayout.getLinesViewportData(b,b+c.height)},a.prototype.getWhitespaceViewportData=function(){var b=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(b.top,b.top+b.height)},a.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},a.prototype.getContentWidth=function(){var b=this._scrollable.getScrollDimensions();return b.contentWidth},a.prototype.getScrollWidth=function(){var b=this._scrollable.getScrollDimensions();return b.scrollWidth},a.prototype.getContentHeight=function(){var b=this._scrollable.getScrollDimensions();return b.contentHeight},a.prototype.getScrollHeight=function(){var b=this._scrollable.getScrollDimensions();return b.scrollHeight},a.prototype.getCurrentScrollLeft=function(){var b=this._scrollable.getCurrentScrollPosition();return b.scrollLeft},a.prototype.getCurrentScrollTop=function(){var b=this._scrollable.getCurrentScrollPosition();return b.scrollTop},a.prototype.validateScrollPosition=function(b){return this._scrollable.validateScrollPosition(b)},a.prototype.setScrollPositionNow=function(b){this._scrollable.setScrollPositionNow(b)},a.prototype.setScrollPositionSmooth=function(b){this._scrollable.setScrollPositionSmooth(b)},a.prototype.deltaScrollNow=function(b,c){var e=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:e.scrollLeft+b,scrollTop:e.scrollTop+c})},a}(I);var XW=function(){function d(a,b){this.outputLineIndex=a,this.outputOffset=b}return d}(),cg=function(){function d(a,b,c){this.breakOffsets=a,this.breakOffsetsVisibleColumn=b,this.wrappedTextIndentLength=c}return d.getInputOffsetOfOutputPosition=function(a,b,c){return b===0?c:a[b-1]+c},d.getOutputPositionOfInputOffset=function(a,b){for(var c=0,e=a.length-1,f=0,g=0;c<=e;){f=c+(e-c)/2|0;var h=a[f];g=f>0?a[f-1]:0;if(b<g)e=f-1;else if(b>=h)c=f+1;else break}return new XW(f,b-g)},d}(),YW=function(){function d(a){this._lines=a}return d.prototype.convertViewPositionToModelPosition=function(a){return this._lines.convertViewPositionToModelPosition(a.lineNumber,a.column)},d.prototype.convertViewRangeToModelRange=function(a){return this._lines.convertViewRangeToModelRange(a)},d.prototype.validateViewPosition=function(a,b){return this._lines.validateViewPosition(a.lineNumber,a.column,b)},d.prototype.validateViewRange=function(a,b){return this._lines.validateViewRange(a,b)},d.prototype.convertModelPositionToViewPosition=function(a){return this._lines.convertModelPositionToViewPosition(a.lineNumber,a.column)},d.prototype.convertModelRangeToViewRange=function(a){return this._lines.convertModelRangeToViewRange(a)},d.prototype.modelPositionIsVisible=function(a){return this._lines.modelPositionIsVisible(a.lineNumber,a.column)},d}(),ZW=function(){function d(a){this._counts=a,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}return d.prototype._invalidate=function(a){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,a-1)},d.prototype._ensureValid=function(){if(this._isValid)return;for(var a=this._validEndIndex+1,b=this._counts.length;a<b;a++){var c=this._counts[a],e=a>0?this._modelToView[a-1]:0;this._modelToView[a]=e+c;for(var f=0;f<c;f++)this._viewToModel[e+f]=a}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1},d.prototype.changeValue=function(a,b){if(this._counts[a]===b)return;this._counts[a]=b,this._invalidate(a)},d.prototype.removeValues=function(a,b){this._counts.splice(a,b),this._invalidate(a)},d.prototype.insertValues=function(a,b){this._counts=Sh(this._counts,a,b),this._invalidate(a)},d.prototype.getTotalValue=function(){return this._ensureValid(),this._viewToModel.length},d.prototype.getAccumulatedValue=function(a){return this._ensureValid(),this._modelToView[a]},d.prototype.getIndexOf=function(a){this._ensureValid();var b=this._viewToModel[a],c=b>0?this._modelToView[b-1]:0;return new Wv(b,a-c)},d}(),MG=function(){function d(a,b,c,e,f,g,h,i){this.model=a,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=b,this._monospaceLineBreaksComputerFactory=c,this.fontInfo=e,this.tabSize=f,this.wrappingStrategy=g,this.wrappingColumn=h,this.wrappingIndent=i,this._constructLines(!0,null)}return d.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},d.prototype.createCoordinatesConverter=function(){return new YW(this)},d.prototype._constructLines=function(a,b){var c=this;this.lines=[],a&&(this.hiddenAreasIds=[]);for(var e=this.model.getLinesContent(),f=e.length,g=this.createLineBreaksComputer(),h=0;h<f;h++)g.addRequest(e[h],b?b[h]:null);for(var i=g.finalize(),j=[],k=this.hiddenAreasIds.map(function(t){return c.model.getDecorationRange(t)}).sort(z.compareRangesUsingStarts),l=1,m=0,n=-1,o=n+1<k.length?m+1:f+2,h=0;h<f;h++){var p=h+1;p===o&&(n++,l=k[n].startLineNumber,m=k[n].endLineNumber,o=n+1<k.length?m+1:f+2);var q=p>=l&&p<=m,r=Yv(i[h],!q);j[h]=r.getViewLineCount(),this.lines[h]=r}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new ZW(j)},d.prototype.getHiddenAreas=function(){var a=this;return this.hiddenAreasIds.map(function(b){return a.model.getDecorationRange(b)})},d.prototype._reduceRanges=function(a){var b=this;if(a.length===0)return[];for(var c=a.map(function(k){return b.model.validateRange(k)}).sort(z.compareRangesUsingStarts),e=[],f=c[0].startLineNumber,g=c[0].endLineNumber,h=1,i=c.length;h<i;h++){var j=c[h];j.startLineNumber>g+1?(e.push(new z(f,1,g,1)),f=j.startLineNumber,g=j.endLineNumber):j.endLineNumber>g&&(g=j.endLineNumber)}return e.push(new z(f,1,g,1)),e},d.prototype.setHiddenAreas=function(a){var b=this,c=this._reduceRanges(a),e=this.hiddenAreasIds.map(function(w){return b.model.getDecorationRange(w)}).sort(z.compareRangesUsingStarts);if(c.length===e.length){for(var f=!1,g=0;g<c.length;g++)if(!c[g].equalsRange(e[g])){f=!0;break}if(!f)return!1}for(var h=[],i=0,j=c;i<j.length;i++){var k=j[i];h.push({range:k,options:na.EMPTY})}this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,h);for(var l=c,m=1,n=0,o=-1,p=o+1<l.length?n+1:this.lines.length+2,q=!1,g=0;g<this.lines.length;g++){var r=g+1;r===p&&(o++,m=l[o].startLineNumber,n=l[o].endLineNumber,p=o+1<l.length?n+1:this.lines.length+2);var t=!1;r>=m&&r<=n?this.lines[g].isVisible()&&(this.lines[g]=this.lines[g].setVisible(!1),t=!0):(q=!0,this.lines[g].isVisible()||(this.lines[g]=this.lines[g].setVisible(!0),t=!0));if(t){var v=this.lines[g].getViewLineCount();this.prefixSumComputer.changeValue(g,v)}}return q||this.setHiddenAreas([]),!0},d.prototype.modelPositionIsVisible=function(a,b){return a<1||a>this.lines.length?!1:this.lines[a-1].isVisible()},d.prototype.setTabSize=function(a){return this.tabSize===a?!1:(this.tabSize=a,this._constructLines(!1,null),!0)},d.prototype.setWrappingSettings=function(a,b,c,e){var f=this.fontInfo.equals(a),g=this.wrappingStrategy===b,h=this.wrappingColumn===c,i=this.wrappingIndent===e;if(f&&g&&h&&i)return!1;var j=f&&g&&!h&&i;this.fontInfo=a,this.wrappingStrategy=b,this.wrappingColumn=c,this.wrappingIndent=e;var k=null;if(j){k=[];for(var l=0,m=this.lines.length;l<m;l++)k[l]=this.lines[l].getLineBreakData()}return this._constructLines(!1,k),!0},d.prototype.createLineBreaksComputer=function(){var a=this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory;return a.createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)},d.prototype.onModelFlushed=function(){this._constructLines(!0,null)},d.prototype.onModelLinesDeleted=function(a,b,c){if(a<=this._validModelVersionId)return null;var e=b===1?1:this.prefixSumComputer.getAccumulatedValue(b-2)+1,f=this.prefixSumComputer.getAccumulatedValue(c-1);return this.lines.splice(b-1,c-b+1),this.prefixSumComputer.removeValues(b-1,c-b+1),new Pq(e,f)},d.prototype.onModelLinesInserted=function(a,b,c,e){if(a<=this._validModelVersionId)return null;for(var f=this.getHiddenAreas(),g=!1,h=new G(b,1),i=0,j=f;i<j.length;i++){var k=j[i];if(k.containsPosition(h)){g=!0;break}}for(var l=b===1?1:this.prefixSumComputer.getAccumulatedValue(b-2)+1,m=0,n=[],o=[],p=0,q=e.length;p<q;p++){var r=Yv(e[p],!g);n.push(r);var t=r.getViewLineCount();m+=t,o[p]=t}return this.lines=this.lines.slice(0,b-1).concat(n).concat(this.lines.slice(b-1)),this.prefixSumComputer.insertValues(b-1,o),new Qq(l,l+m-1)},d.prototype.onModelLineChanged=function(a,b,c){if(a<=this._validModelVersionId)return[!1,null,null,null];var e=b-1,f=this.lines[e].getViewLineCount(),g=this.lines[e].isVisible(),h=Yv(c,g);this.lines[e]=h;var i=this.lines[e].getViewLineCount(),j=!1,k=0,l=-1,m=0,n=-1,o=0,p=-1;f>i?(k=b===1?1:this.prefixSumComputer.getAccumulatedValue(b-2)+1,l=k+i-1,o=l+1,p=o+(f-i)-1,j=!0):f<i?(k=b===1?1:this.prefixSumComputer.getAccumulatedValue(b-2)+1,l=k+f-1,m=l+1,n=m+(i-f)-1,j=!0):(k=b===1?1:this.prefixSumComputer.getAccumulatedValue(b-2)+1,l=k+i-1),this.prefixSumComputer.changeValue(e,i);var q=k<=l?new Rv(k,l):null,r=m<=n?new Qq(m,n):null,t=o<=p?new Pq(o,p):null;return[j,q,r,t]},d.prototype.acceptVersionId=function(a){this._validModelVersionId=a,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])},d.prototype.getViewLineCount=function(){return this.prefixSumComputer.getTotalValue()},d.prototype._toValidViewLineNumber=function(a){if(a<1)return 1;var b=this.getViewLineCount();return a>b?b:a|0},d.prototype.getActiveIndentGuide=function(a,b,c){a=this._toValidViewLineNumber(a),b=this._toValidViewLineNumber(b),c=this._toValidViewLineNumber(c);var e=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),f=this.convertViewPositionToModelPosition(b,this.getViewLineMinColumn(b)),g=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),h=this.model.getActiveIndentGuide(e.lineNumber,f.lineNumber,g.lineNumber),i=this.convertModelPositionToViewPosition(h.startLineNumber,1),j=this.convertModelPositionToViewPosition(h.endLineNumber,this.model.getLineMaxColumn(h.endLineNumber));return{startLineNumber:i.lineNumber,endLineNumber:j.lineNumber,indent:h.indent}},d.prototype.getViewLinesIndentGuides=function(a,b){a=this._toValidViewLineNumber(a),b=this._toValidViewLineNumber(b);for(var c=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),e=this.convertViewPositionToModelPosition(b,this.getViewLineMaxColumn(b)),f=[],g=[],h=[],i=c.lineNumber-1,j=e.lineNumber-1,k=null,l=i;l<=j;l++){var m=this.lines[l];if(m.isVisible()){var n=m.getViewLineNumberOfModelPosition(0,l===i?c.column:1),o=m.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(l+1)),p=o-n+1,q=0;p>1&&m.getViewLineMinColumn(this.model,l+1,o)===1&&(q=n===0?1:2),g.push(p),h.push(q),k===null&&(k=new G(l+1,0))}else k!==null&&(f=f.concat(this.model.getLinesIndentGuides(k.lineNumber,l)),k=null)}k!==null&&(f=f.concat(this.model.getLinesIndentGuides(k.lineNumber,e.lineNumber)),k=null);for(var r=b-a+1,t=new Array(r),v=0,w=0,x=f.length;w<x;w++){var u=f[w],p=Math.min(r-v,g[w]),q=h[w],y=void 0;q===2?y=0:q===1?y=1:y=p;for(var A=0;A<p;A++)A===y&&(u=0),t[v++]=u}return t},d.prototype.getViewLineContent=function(a){a=this._toValidViewLineNumber(a);var b=this.prefixSumComputer.getIndexOf(a-1),c=b.index,e=b.remainder;return this.lines[c].getViewLineContent(this.model,c+1,e)},d.prototype.getViewLineLength=function(a){a=this._toValidViewLineNumber(a);var b=this.prefixSumComputer.getIndexOf(a-1),c=b.index,e=b.remainder;return this.lines[c].getViewLineLength(this.model,c+1,e)},d.prototype.getViewLineMinColumn=function(a){a=this._toValidViewLineNumber(a);var b=this.prefixSumComputer.getIndexOf(a-1),c=b.index,e=b.remainder;return this.lines[c].getViewLineMinColumn(this.model,c+1,e)},d.prototype.getViewLineMaxColumn=function(a){a=this._toValidViewLineNumber(a);var b=this.prefixSumComputer.getIndexOf(a-1),c=b.index,e=b.remainder;return this.lines[c].getViewLineMaxColumn(this.model,c+1,e)},d.prototype.getViewLineData=function(a){a=this._toValidViewLineNumber(a);var b=this.prefixSumComputer.getIndexOf(a-1),c=b.index,e=b.remainder;return this.lines[c].getViewLineData(this.model,c+1,e)},d.prototype.getViewLinesData=function(a,b,c){a=this._toValidViewLineNumber(a),b=this._toValidViewLineNumber(b);for(var e=this.prefixSumComputer.getIndexOf(a-1),f=a,g=e.index,h=e.remainder,i=[],j=g,k=this.model.getLineCount();j<k;j++){var l=this.lines[j];if(!l.isVisible())continue;var m=j===g?h:0,n=l.getViewLineCount()-m,o=!1;f+n>b&&(o=!0,n=b-f+1);var p=m+n;l.getViewLinesData(this.model,j+1,m,p,f-a,c,i),f+=n;if(o)break}return i},d.prototype.validateViewPosition=function(a,b,c){a=this._toValidViewLineNumber(a);var e=this.prefixSumComputer.getIndexOf(a-1),f=e.index,g=e.remainder,h=this.lines[f],i=h.getViewLineMinColumn(this.model,f+1,g),j=h.getViewLineMaxColumn(this.model,f+1,g);b<i&&(b=i),b>j&&(b=j);var k=h.getModelColumnOfViewPosition(g,b),l=this.model.validatePosition(new G(f+1,k));return l.equals(c)?new G(a,b):this.convertModelPositionToViewPosition(c.lineNumber,c.column)},d.prototype.validateViewRange=function(a,b){var c=this.validateViewPosition(a.startLineNumber,a.startColumn,b.getStartPosition()),e=this.validateViewPosition(a.endLineNumber,a.endColumn,b.getEndPosition());return new z(c.lineNumber,c.column,e.lineNumber,e.column)},d.prototype.convertViewPositionToModelPosition=function(a,b){a=this._toValidViewLineNumber(a);var c=this.prefixSumComputer.getIndexOf(a-1),e=c.index,f=c.remainder,g=this.lines[e].getModelColumnOfViewPosition(f,b);return this.model.validatePosition(new G(e+1,g))},d.prototype.convertViewRangeToModelRange=function(a){var b=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),c=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);return new z(b.lineNumber,b.column,c.lineNumber,c.column)},d.prototype.convertModelPositionToViewPosition=function(a,b){for(var c=this.model.validatePosition(new G(a,b)),e=c.lineNumber,f=c.column,g=e-1,h=!1;g>0&&!this.lines[g].isVisible();)g--,h=!0;if(g===0&&!this.lines[g].isVisible())return new G(1,1);var i=1+(g===0?0:this.prefixSumComputer.getAccumulatedValue(g-1)),j;return h?j=this.lines[g].getViewPositionOfModelPosition(i,this.model.getLineMaxColumn(g+1)):j=this.lines[e-1].getViewPositionOfModelPosition(i,f),j},d.prototype.convertModelRangeToViewRange=function(a){var b=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn),c=this.convertModelPositionToViewPosition(a.endLineNumber,a.endColumn);if(a.startLineNumber===a.endLineNumber&&b.lineNumber!==c.lineNumber){if(c.column===this.getViewLineMinColumn(c.lineNumber))return new z(b.lineNumber,b.column,c.lineNumber-1,this.getViewLineMaxColumn(c.lineNumber-1))}return new z(b.lineNumber,b.column,c.lineNumber,c.column)},d.prototype._getViewLineNumberForModelPosition=function(a,b){var c=a-1;if(this.lines[c].isVisible()){var e=1+(c===0?0:this.prefixSumComputer.getAccumulatedValue(c-1));return this.lines[c].getViewLineNumberOfModelPosition(e,b)}for(;c>0&&!this.lines[c].isVisible();)c--;if(c===0&&!this.lines[c].isVisible())return 1;var f=1+(c===0?0:this.prefixSumComputer.getAccumulatedValue(c-1));return this.lines[c].getViewLineNumberOfModelPosition(f,this.model.getLineMaxColumn(c+1))},d.prototype.getAllOverviewRulerDecorations=function(a,b,c){for(var e=this.model.getOverviewRulerDecorations(a,b),f=new RG(),g=0,h=e;g<h.length;g++){var i=h[g],j=i.options.overviewRuler,k=j?j.position:0;if(k===0)continue;var l=j.getColor(c),m=this._getViewLineNumberForModelPosition(i.range.startLineNumber,i.range.startColumn),n=this._getViewLineNumberForModelPosition(i.range.endLineNumber,i.range.endColumn);f.accept(l,m,n,k)}return f.result},d.prototype.getDecorationsInRange=function(a,b,c){var e=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),f=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);if(f.lineNumber-e.lineNumber<=a.endLineNumber-a.startLineNumber)return this.model.getDecorationsInRange(new z(e.lineNumber,1,f.lineNumber,f.column),b,c);for(var g=[],h=e.lineNumber-1,i=f.lineNumber-1,j=null,k=h;k<=i;k++){var l=this.lines[k];if(l.isVisible())j===null&&(j=new G(k+1,k===h?e.column:1));else if(j!==null){var m=this.model.getLineMaxColumn(k);g=g.concat(this.model.getDecorationsInRange(new z(j.lineNumber,j.column,k,m),b,c)),j=null}}j!==null&&(g=g.concat(this.model.getDecorationsInRange(new z(j.lineNumber,j.column,f.lineNumber,f.column),b,c)),j=null),g.sort(function(w,x){var u=z.compareRangesUsingStarts(w.range,x.range);return u===0?w.id<x.id?-1:w.id>x.id?1:0:u});for(var n=[],o=0,p=null,q=0,r=g;q<r.length;q++){var t=r[q],v=t.id;if(p===v)continue;p=v,n[o++]=t}return n},d}(),NG=function(){function d(){}return d.prototype.isVisible=function(){return!0},d.prototype.setVisible=function(a){return a?this:OG.INSTANCE},d.prototype.getLineBreakData=function(){return null},d.prototype.getViewLineCount=function(){return 1},d.prototype.getViewLineContent=function(a,b,c){return a.getLineContent(b)},d.prototype.getViewLineLength=function(a,b,c){return a.getLineLength(b)},d.prototype.getViewLineMinColumn=function(a,b,c){return a.getLineMinColumn(b)},d.prototype.getViewLineMaxColumn=function(a,b,c){return a.getLineMaxColumn(b)},d.prototype.getViewLineData=function(a,b,c){var e=a.getLineTokens(b),f=e.getLineContent();return new Sq(f,!1,1,f.length+1,0,e.inflate())},d.prototype.getViewLinesData=function(a,b,c,e,f,g,h){if(!g[f]){h[f]=null;return}h[f]=this.getViewLineData(a,b,0)},d.prototype.getModelColumnOfViewPosition=function(a,b){return b},d.prototype.getViewPositionOfModelPosition=function(a,b){return new G(a,b)},d.prototype.getViewLineNumberOfModelPosition=function(a,b){return a},d.INSTANCE=new d(),d}(),OG=function(){function d(){}return d.prototype.isVisible=function(){return!1},d.prototype.setVisible=function(a){return a?NG.INSTANCE:this},d.prototype.getLineBreakData=function(){return null},d.prototype.getViewLineCount=function(){return 0},d.prototype.getViewLineContent=function(a,b,c){throw new Error("Not supported")},d.prototype.getViewLineLength=function(a,b,c){throw new Error("Not supported")},d.prototype.getViewLineMinColumn=function(a,b,c){throw new Error("Not supported")},d.prototype.getViewLineMaxColumn=function(a,b,c){throw new Error("Not supported")},d.prototype.getViewLineData=function(a,b,c){throw new Error("Not supported")},d.prototype.getViewLinesData=function(a,b,c,e,f,g,h){throw new Error("Not supported")},d.prototype.getModelColumnOfViewPosition=function(a,b){throw new Error("Not supported")},d.prototype.getViewPositionOfModelPosition=function(a,b){throw new Error("Not supported")},d.prototype.getViewLineNumberOfModelPosition=function(a,b){throw new Error("Not supported")},d.INSTANCE=new d(),d}(),_W=function(){function d(a,b){this._lineBreakData=a,this._isVisible=b}return d.prototype.isVisible=function(){return this._isVisible},d.prototype.setVisible=function(a){return this._isVisible=a,this},d.prototype.getLineBreakData=function(){return this._lineBreakData},d.prototype.getViewLineCount=function(){return this._isVisible?this._lineBreakData.breakOffsets.length:0},d.prototype.getInputStartOffsetOfOutputLineIndex=function(a){return cg.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,a,0)},d.prototype.getInputEndOffsetOfOutputLineIndex=function(a,b,c){return c+1===this._lineBreakData.breakOffsets.length?a.getLineMaxColumn(b)-1:cg.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,c+1,0)},d.prototype.getViewLineContent=function(a,b,c){if(!this._isVisible)throw new Error("Not supported");var e=this.getInputStartOffsetOfOutputLineIndex(c),f=this.getInputEndOffsetOfOutputLineIndex(a,b,c),g=a.getValueInRange({startLineNumber:b,startColumn:e+1,endLineNumber:b,endColumn:f+1});return c>0&&(g=PG(this._lineBreakData.wrappedTextIndentLength)+g),g},d.prototype.getViewLineLength=function(a,b,c){if(!this._isVisible)throw new Error("Not supported");var e=this.getInputStartOffsetOfOutputLineIndex(c),f=this.getInputEndOffsetOfOutputLineIndex(a,b,c),g=f-e;return c>0&&(g=this._lineBreakData.wrappedTextIndentLength+g),g},d.prototype.getViewLineMinColumn=function(a,b,c){if(!this._isVisible)throw new Error("Not supported");return c>0?this._lineBreakData.wrappedTextIndentLength+1:1},d.prototype.getViewLineMaxColumn=function(a,b,c){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(a,b,c).length+1},d.prototype.getViewLineData=function(a,b,c){if(!this._isVisible)throw new Error("Not supported");var e=this.getInputStartOffsetOfOutputLineIndex(c),f=this.getInputEndOffsetOfOutputLineIndex(a,b,c),g=a.getValueInRange({startLineNumber:b,startColumn:e+1,endLineNumber:b,endColumn:f+1});c>0&&(g=PG(this._lineBreakData.wrappedTextIndentLength)+g);var h=c>0?this._lineBreakData.wrappedTextIndentLength+1:1,i=g.length+1,j=c+1<this.getViewLineCount(),k=0;c>0&&(k=this._lineBreakData.wrappedTextIndentLength);var l=a.getLineTokens(b),m=c===0?0:this._lineBreakData.breakOffsetsVisibleColumn[c-1];return new Sq(g,j,h,i,m,l.sliceAndInflate(e,f,k))},d.prototype.getViewLinesData=function(a,b,c,e,f,g,h){if(!this._isVisible)throw new Error("Not supported");for(var i=c;i<e;i++){var j=f+i-c;if(!g[j]){h[j]=null;continue}h[j]=this.getViewLineData(a,b,i)}},d.prototype.getModelColumnOfViewPosition=function(a,b){if(!this._isVisible)throw new Error("Not supported");var c=b-1;return a>0&&(c<this._lineBreakData.wrappedTextIndentLength?c=0:c-=this._lineBreakData.wrappedTextIndentLength),cg.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,a,c)+1},d.prototype.getViewPositionOfModelPosition=function(a,b){if(!this._isVisible)throw new Error("Not supported");var c=cg.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,b-1),e=c.outputLineIndex,f=c.outputOffset+1;return e>0&&(f+=this._lineBreakData.wrappedTextIndentLength),new G(a+e,f)},d.prototype.getViewLineNumberOfModelPosition=function(a,b){if(!this._isVisible)throw new Error("Not supported");var c=cg.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,b-1);return a+c.outputLineIndex},d}(),Xv=[""];function PG(d){if(d>=Xv.length)for(var a=1;a<=d;a++)Xv[a]=$W(a);return Xv[d]}function $W(d){return new Array(d+1).join(" ")}function Yv(d,a){return d===null?a?NG.INSTANCE:OG.INSTANCE:new _W(d,a)}var aX=function(){function d(a){this._lines=a}return d.prototype._validPosition=function(a){return this._lines.model.validatePosition(a)},d.prototype._validRange=function(a){return this._lines.model.validateRange(a)},d.prototype.convertViewPositionToModelPosition=function(a){return this._validPosition(a)},d.prototype.convertViewRangeToModelRange=function(a){return this._validRange(a)},d.prototype.validateViewPosition=function(a,b){return this._validPosition(b)},d.prototype.validateViewRange=function(a,b){return this._validRange(b)},d.prototype.convertModelPositionToViewPosition=function(a){return this._validPosition(a)},d.prototype.convertModelRangeToViewRange=function(a){return this._validRange(a)},d.prototype.modelPositionIsVisible=function(a){var b=this._lines.model.getLineCount();return a.lineNumber<1||a.lineNumber>b?!1:!0},d}(),QG=function(){function d(a){this.model=a}return d.prototype.dispose=function(){},d.prototype.createCoordinatesConverter=function(){return new aX(this)},d.prototype.getHiddenAreas=function(){return[]},d.prototype.setHiddenAreas=function(a){return!1},d.prototype.setTabSize=function(a){return!1},d.prototype.setWrappingSettings=function(a,b,c,e){return!1},d.prototype.createLineBreaksComputer=function(){var a=[];return{addRequest:function(b,c){a.push(null)},finalize:function(){return a}}},d.prototype.onModelFlushed=function(){},d.prototype.onModelLinesDeleted=function(a,b,c){return new Pq(b,c)},d.prototype.onModelLinesInserted=function(a,b,c,e){return new Qq(b,c)},d.prototype.onModelLineChanged=function(a,b,c){return[!1,new Rv(b,b),null,null]},d.prototype.acceptVersionId=function(a){},d.prototype.getViewLineCount=function(){return this.model.getLineCount()},d.prototype.getActiveIndentGuide=function(a,b,c){return{startLineNumber:a,endLineNumber:a,indent:0}},d.prototype.getViewLinesIndentGuides=function(a,b){for(var c=b-a+1,e=new Array(c),f=0;f<c;f++)e[f]=0;return e},d.prototype.getViewLineContent=function(a){return this.model.getLineContent(a)},d.prototype.getViewLineLength=function(a){return this.model.getLineLength(a)},d.prototype.getViewLineMinColumn=function(a){return this.model.getLineMinColumn(a)},d.prototype.getViewLineMaxColumn=function(a){return this.model.getLineMaxColumn(a)},d.prototype.getViewLineData=function(a){var b=this.model.getLineTokens(a),c=b.getLineContent();return new Sq(c,!1,1,c.length+1,0,b.inflate())},d.prototype.getViewLinesData=function(a,b,c){var e=this.model.getLineCount();a=Math.min(Math.max(1,a),e),b=Math.min(Math.max(1,b),e);for(var f=[],g=a;g<=b;g++){var h=g-a;c[h]||(f[h]=null),f[h]=this.getViewLineData(g)}return f},d.prototype.getAllOverviewRulerDecorations=function(a,b,c){for(var e=this.model.getOverviewRulerDecorations(a,b),f=new RG(),g=0,h=e;g<h.length;g++){var i=h[g],j=i.options.overviewRuler,k=j?j.position:0;if(k===0)continue;var l=j.getColor(c),m=i.range.startLineNumber,n=i.range.endLineNumber;f.accept(l,m,n,k)}return f.result},d.prototype.getDecorationsInRange=function(a,b,c){return this.model.getDecorationsInRange(a,b,c)},d}(),RG=function(){function d(){this.result=Object.create(null)}return d.prototype.accept=function(a,b,c,e){var f=this.result[a];if(f){var g=f[f.length-3],h=f[f.length-1];if(g===e&&h+1>=b){c>h&&(f[f.length-1]=c);return}f.push(e,b,c)}else this.result[a]=[e,b,c]},d}();var UG=function(){function d(a,b,c,e,f){this.editorId=a,this.model=b,this.configuration=c,this._linesCollection=e,this._coordinatesConverter=f,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}return d.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},d.prototype.dispose=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},d.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},d.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},d.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},d.prototype._getOrCreateViewModelDecoration=function(a){var b=a.id,c=this._decorationsCache[b];if(!c){var e=a.range,f=a.options,g=void 0;if(f.isWholeLine){var h=this._coordinatesConverter.convertModelPositionToViewPosition(new G(e.startLineNumber,1)),i=this._coordinatesConverter.convertModelPositionToViewPosition(new G(e.endLineNumber,this.model.getLineMaxColumn(e.endLineNumber)));g=new z(h.lineNumber,h.column,i.lineNumber,i.column)}else g=this._coordinatesConverter.convertModelRangeToViewRange(e);c=new TG(g,f),this._decorationsCache[b]=c}return c},d.prototype.getDecorationsViewportData=function(a){var b=this._cachedModelDecorationsResolver!==null;return b=b&&a.equalsRange(this._cachedModelDecorationsResolverViewRange),b||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(a),this._cachedModelDecorationsResolverViewRange=a),this._cachedModelDecorationsResolver},d.prototype._getDecorationsViewportData=function(a){for(var b=this._linesCollection.getDecorationsInRange(a,this.editorId,Oj(this.configuration.options)),c=a.startLineNumber,e=a.endLineNumber,f=[],g=0,h=[],i=c;i<=e;i++)h[i-c]=[];for(var j=0,k=b.length;j<k;j++){var l=b[j],m=l.options,n=this._getOrCreateViewModelDecoration(l),o=n.range;f[g++]=n;if(m.inlineClassName)for(var p=new Tj(o,m.inlineClassName,m.inlineClassNameAffectsLetterSpacing?3:0),q=Math.max(c,o.startLineNumber),r=Math.min(e,o.endLineNumber),i=q;i<=r;i++)h[i-c].push(p);if(m.beforeContentClassName){if(c<=o.startLineNumber&&o.startLineNumber<=e){var p=new Tj(new z(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn),m.beforeContentClassName,1);h[o.startLineNumber-c].push(p)}}if(m.afterContentClassName){if(c<=o.endLineNumber&&o.endLineNumber<=e){var p=new Tj(new z(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn),m.afterContentClassName,2);h[o.endLineNumber-c].push(p)}}}return{decorations:f,inlineDecorations:h}},d}();var cX=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),dX=!0,uE=function(d){cX(a,d);function a(b,c,e,f,g,h){var i=d.call(this)||this;i.editorId=b,i.configuration=c,i.model=e,i._tokenizeViewportSoon=i._register(new Ka(function(){return i.tokenizeViewport()},50)),i.hasFocus=!1,i.viewportStartLine=-1,i.viewportStartLineTrackedRange=null,i.viewportStartLineDelta=0;if(dX&&i.model.isTooLargeForTokenization())i.lines=new QG(i.model);else{var j=i.configuration.options,k=j.get(34),l=j.get(103),m=j.get(108),n=j.get(102);i.lines=new MG(i.model,f,g,k,i.model.getOptions().tabSize,l,m.wrappingColumn,n)}return i.coordinatesConverter=i.lines.createCoordinatesConverter(),i.viewLayout=i._register(new IG(i.configuration,i.getLineCount(),h)),i._register(i.viewLayout.onDidScroll(function(o){o.scrollTopChanged&&i._tokenizeViewportSoon.schedule();try{var p=i._beginEmit();p.emit(new BG(o))}finally{i._endEmit()}})),i._register(i.viewLayout.onDidContentSizeChange(function(o){try{var p=i._beginEmit();p.emit(new zG(o))}finally{i._endEmit()}})),i.decorations=new UG(i.editorId,i.model,i.configuration,i.lines,i.coordinatesConverter),i._registerModelEvents(),i._register(i.configuration.onDidChange(function(o){try{var p=i._beginEmit();i._onConfigurationChanged(p,o)}finally{i._endEmit()}})),i._register(sp.getInstance().onDidChange(function(){try{var o=i._beginEmit();o.emit(new DG())}finally{i._endEmit()}})),i}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this.decorations.dispose(),this.lines.dispose(),this.invalidateMinimapColorCache(),this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,null,1)},a.prototype.tokenizeViewport=function(){var b=this.viewLayout.getLinesViewportData(),c=this.coordinatesConverter.convertViewPositionToModelPosition(new G(b.startLineNumber,1)),e=this.coordinatesConverter.convertViewPositionToModelPosition(new G(b.endLineNumber,1));this.model.tokenizeViewport(c.lineNumber,e.lineNumber)},a.prototype.setHasFocus=function(b){this.hasFocus=b},a.prototype._onConfigurationChanged=function(b,c){var e=null;if(this.viewportStartLine!==-1){var f=new G(this.viewportStartLine,this.getLineMinColumn(this.viewportStartLine));e=this.coordinatesConverter.convertViewPositionToModelPosition(f)}var g=!1,h=this.configuration.options,i=h.get(34),j=h.get(103),k=h.get(108),l=h.get(102);this.lines.setWrappingSettings(i,j,k.wrappingColumn,l)&&(b.emit(new Gm()),b.emit(new Hm()),b.emit(new Bi()),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(g=!0)),c.hasChanged(68)&&(this.decorations.reset(),b.emit(new Bi())),b.emit(new yG(c)),this.viewLayout.onConfigurationChanged(c);if(g&&e){var m=this.coordinatesConverter.convertModelPositionToViewPosition(e),n=this.viewLayout.getVerticalOffsetForLineNumber(m.lineNumber);this.viewLayout.setScrollPositionNow({scrollTop:n+this.viewportStartLineDelta})}},a.prototype._registerModelEvents=function(){var b=this;this._register(this.model.onDidChangeRawContentFast(function(c){try{for(var e=b._beginEmit(),f=!1,g=!1,h=c.changes,i=c.versionId,j=b.lines.createLineBreaksComputer(),k=0,l=h;k<l.length;k++){var m=l[k];switch(m.changeType){case 4:{for(var n=0,o=m.detail;n<o.length;n++){var p=o[n];j.addRequest(p,null)}break}case 2:{j.addRequest(m.detail,null);break}}}for(var q=j.finalize(),r=0,t=0,v=h;t<v.length;t++){var m=v[t];switch(m.changeType){case 1:{b.lines.onModelFlushed(),e.emit(new Gm()),b.decorations.reset(),b.viewLayout.onFlushed(b.getLineCount()),f=!0;break}case 3:{var w=b.lines.onModelLinesDeleted(i,m.fromLineNumber,m.toLineNumber);w!==null&&(e.emit(w),b.viewLayout.onLinesDeleted(w.fromLineNumber,w.toLineNumber)),f=!0;break}case 4:{var x=q.slice(r,r+m.detail.length);r+=m.detail.length;var u=b.lines.onModelLinesInserted(i,m.fromLineNumber,m.toLineNumber,x);u!==null&&(e.emit(u),b.viewLayout.onLinesInserted(u.fromLineNumber,u.toLineNumber)),f=!0;break}case 2:{var y=q[r];r++;var A=b.lines.onModelLineChanged(i,m.lineNumber,y),F=A[0],B=A[1],u=A[2],w=A[3];g=F,B&&e.emit(B),u&&(e.emit(u),b.viewLayout.onLinesInserted(u.fromLineNumber,u.toLineNumber)),w&&(e.emit(w),b.viewLayout.onLinesDeleted(w.fromLineNumber,w.toLineNumber));break}case 5:break}}b.lines.acceptVersionId(i),b.viewLayout.onHeightMaybeChanged(),!f&&g&&(e.emit(new Hm()),e.emit(new Bi()),b.decorations.onLineMappingChanged())}finally{b._endEmit()}b.viewportStartLine=-1,b.configuration.setMaxLineNumber(b.model.getLineCount());if(!b.hasFocus&&b.model.getAttachedEditorCount()>=2&&b.viewportStartLineTrackedRange){var D=b.model._getTrackedRange(b.viewportStartLineTrackedRange);if(D){var H=b.coordinatesConverter.convertModelPositionToViewPosition(D.getStartPosition()),J=b.viewLayout.getVerticalOffsetForLineNumber(H.lineNumber);b.viewLayout.setScrollPositionNow({scrollTop:J+b.viewportStartLineDelta})}}})),this._register(this.model.onDidChangeTokens(function(c){for(var e=[],f=0,g=c.ranges.length;f<g;f++){var h=c.ranges[f],i=b.coordinatesConverter.convertModelPositionToViewPosition(new G(h.fromLineNumber,1)).lineNumber,j=b.coordinatesConverter.convertModelPositionToViewPosition(new G(h.toLineNumber,b.model.getLineMaxColumn(h.toLineNumber))).lineNumber;e[f]={fromLineNumber:i,toLineNumber:j}}try{var k=b._beginEmit();k.emit(new CG(e))}finally{b._endEmit()}c.tokenizationSupportChanged&&b._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(function(c){try{var e=b._beginEmit();e.emit(new AG())}finally{b._endEmit()}})),this._register(this.model.onDidChangeOptions(function(c){if(b.lines.setTabSize(b.model.getOptions().tabSize)){b.decorations.onLineMappingChanged(),b.viewLayout.onFlushed(b.getLineCount());try{var e=b._beginEmit();e.emit(new Gm()),e.emit(new Hm()),e.emit(new Bi())}finally{b._endEmit()}}})),this._register(this.model.onDidChangeDecorations(function(c){b.decorations.onModelDecorationsChanged();try{var e=b._beginEmit();e.emit(new Bi())}finally{b._endEmit()}}))},a.prototype.setHiddenAreas=function(b){try{var c=this._beginEmit(),e=this.lines.setHiddenAreas(b);e&&(c.emit(new Gm()),c.emit(new Hm()),c.emit(new Bi()),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._endEmit()}},a.prototype.getVisibleRanges=function(){var b=this.getCompletelyVisibleViewRange(),c=this.coordinatesConverter.convertViewRangeToModelRange(b),e=this.lines.getHiddenAreas();if(e.length===0)return[c];for(var f=[],g=0,h=c.startLineNumber,i=c.startColumn,j=c.endLineNumber,k=c.endColumn,l=0,m=e.length;l<m;l++){var n=e[l].startLineNumber,o=e[l].endLineNumber;if(o<h)continue;if(n>j)continue;h<n&&(f[g++]=new z(h,i,n-1,this.model.getLineMaxColumn(n-1))),h=o+1,i=1}return(h<j||h===j&&i<k)&&(f[g++]=new z(h,i,j,k)),f},a.prototype.getCompletelyVisibleViewRange=function(){var b=this.viewLayout.getLinesViewportData(),c=b.completelyVisibleStartLineNumber,e=b.completelyVisibleEndLineNumber;return new z(c,this.getLineMinColumn(c),e,this.getLineMaxColumn(e))},a.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(b){var c=this.viewLayout.getLinesViewportDataAtScrollTop(b),e=c.completelyVisibleStartLineNumber,f=c.completelyVisibleEndLineNumber;return new z(e,this.getLineMinColumn(e),f,this.getLineMaxColumn(f))},a.prototype.saveState=function(){var b=this.viewLayout.saveState(),c=b.scrollTop,e=this.viewLayout.getLineNumberAtVerticalOffset(c),f=this.coordinatesConverter.convertViewPositionToModelPosition(new G(e,this.getLineMinColumn(e))),g=this.viewLayout.getVerticalOffsetForLineNumber(e)-c;return{scrollLeft:b.scrollLeft,firstPosition:f,firstPositionDeltaTop:g}},a.prototype.reduceRestoreState=function(b){if(typeof b.firstPosition==="undefined")return this._reduceRestoreStateCompatibility(b);var c=this.model.validatePosition(b.firstPosition),e=this.coordinatesConverter.convertModelPositionToViewPosition(c),f=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber)-b.firstPositionDeltaTop;return{scrollLeft:b.scrollLeft,scrollTop:f}},a.prototype._reduceRestoreStateCompatibility=function(b){return{scrollLeft:b.scrollLeft,scrollTop:b.scrollTopWithoutViewZones}},a.prototype.getTabSize=function(){return this.model.getOptions().tabSize},a.prototype.getOptions=function(){return this.model.getOptions()},a.prototype.getLineCount=function(){return this.lines.getViewLineCount()},a.prototype.setViewport=function(b,c,e){this.viewportStartLine=b;var f=this.coordinatesConverter.convertViewPositionToModelPosition(new G(b,this.getLineMinColumn(b)));this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,new z(f.lineNumber,f.column,f.lineNumber,f.column),1);var g=this.viewLayout.getVerticalOffsetForLineNumber(b),h=this.viewLayout.getCurrentScrollTop();this.viewportStartLineDelta=h-g},a.prototype.getActiveIndentGuide=function(b,c,e){return this.lines.getActiveIndentGuide(b,c,e)},a.prototype.getLinesIndentGuides=function(b,c){return this.lines.getViewLinesIndentGuides(b,c)},a.prototype.getLineContent=function(b){return this.lines.getViewLineContent(b)},a.prototype.getLineLength=function(b){return this.lines.getViewLineLength(b)},a.prototype.getLineMinColumn=function(b){return this.lines.getViewLineMinColumn(b)},a.prototype.getLineMaxColumn=function(b){return this.lines.getViewLineMaxColumn(b)},a.prototype.getLineFirstNonWhitespaceColumn=function(b){var c=Jb(this.getLineContent(b));return c===-1?0:c+1},a.prototype.getLineLastNonWhitespaceColumn=function(b){var c=_c(this.getLineContent(b));return c===-1?0:c+2},a.prototype.getDecorationsInViewport=function(b){return this.decorations.getDecorationsViewportData(b).decorations},a.prototype.getViewLineRenderingData=function(b,c){var e=this.model.mightContainRTL(),f=this.model.mightContainNonBasicASCII(),g=this.getTabSize(),h=this.lines.getViewLineData(c),i=this.decorations.getDecorationsViewportData(b).inlineDecorations,j=i[c-b.startLineNumber];return new vd(h.minColumn,h.maxColumn,h.content,h.continuesWithWrappedLine,e,f,h.tokens,j,g,h.startVisibleColumn)},a.prototype.getViewLineData=function(b){return this.lines.getViewLineData(b)},a.prototype.getMinimapLinesRenderingData=function(b,c,e){var f=this.lines.getViewLinesData(b,c,e);return new SG(this.getTabSize(),f)},a.prototype.getAllOverviewRulerDecorations=function(b){return this.lines.getAllOverviewRulerDecorations(this.editorId,Oj(this.configuration.options),b)},a.prototype.invalidateOverviewRulerColorCache=function(){for(var b=this.model.getOverviewRulerDecorations(),c=0,e=b;c<e.length;c++){var f=e[c],g=f.options.overviewRuler;g&&g.invalidateCachedColor()}},a.prototype.invalidateMinimapColorCache=function(){for(var b=this.model.getAllDecorations(),c=0,e=b;c<e.length;c++){var f=e[c],g=f.options.minimap;g&&g.invalidateCachedColor()}},a.prototype.getValueInRange=function(b,c){var e=this.coordinatesConverter.convertViewRangeToModelRange(b);return this.model.getValueInRange(e,c)},a.prototype.getModelLineMaxColumn=function(b){return this.model.getLineMaxColumn(b)},a.prototype.validateModelPosition=function(b){return this.model.validatePosition(b)},a.prototype.validateModelRange=function(b){return this.model.validateRange(b)},a.prototype.deduceModelPositionRelativeToViewPosition=function(b,c,e){var f=this.coordinatesConverter.convertViewPositionToModelPosition(b);this.model.getEOL().length===2&&(c<0?c-=e:c+=e);var g=this.model.getOffsetAt(f),h=g+c;return this.model.getPositionAt(h)},a.prototype.getEOL=function(){return this.model.getEOL()},a.prototype.getPlainTextToCopy=function(b,c,e){var f=e?`\r
`:this.model.getEOL();b=b.slice(0),b.sort(z.compareRangesUsingStarts);for(var g=!1,h=!1,i=0,j=b;i<j.length;i++){var k=j[i];k.isEmpty()?g=!0:h=!0}if(!h){if(!c)return"";for(var l=b.map(function(y){return y.startLineNumber}),m="",n=0;n<l.length;n++){if(n>0&&l[n-1]===l[n])continue;m+=this.model.getLineContent(l[n])+f}return m}if(g&&c){for(var o=[],p=0,q=0,r=b;q<r.length;q++){var t=r[q],v=t.startLineNumber;t.isEmpty()?v!==p&&o.push(this.model.getLineContent(v)):o.push(this.model.getValueInRange(t,e?2:0)),p=v}return o.length===1?o[0]:o}for(var w=[],x=0,u=b;x<u.length;x++){var t=u[x];t.isEmpty()||w.push(this.model.getValueInRange(t,e?2:0))}return w.length===1?w[0]:w},a.prototype.getRichTextToCopy=function(b,c){var e=this.model.getLanguageIdentifier();if(e.id===1)return null;if(b.length!==1)return null;var f=b[0];if(f.isEmpty()){if(!c)return null;var g=f.startLineNumber;f=new z(g,this.model.getLineMinColumn(g),g,this.model.getLineMaxColumn(g))}var h=this.configuration.options.get(34),i=this._getColorMap(),j=h.fontFamily===wf.fontFamily?h.fontFamily:"'"+h.fontFamily+"', "+wf.fontFamily;return{mode:e.language,html:'<div style="'+("color: "+i[1]+";")+("background-color: "+i[2]+";")+("font-family: "+j+";")+("font-weight: "+h.fontWeight+";")+("font-size: "+h.fontSize+"px;")+("line-height: "+h.lineHeight+"px;")+'white-space: pre;">'+this._getHTMLToCopy(f,i)+"</div>"}},a.prototype._getHTMLToCopy=function(b,c){for(var e=b.startLineNumber,f=b.startColumn,g=b.endLineNumber,h=b.endColumn,i=this.getTabSize(),j="",k=e;k<=g;k++){var l=this.model.getLineTokens(k),m=l.getLineContent(),n=k===e?f-1:0,o=k===g?h-1:m.length;m===""?j+="<br>":j+=bG(m,l.inflate(),c,n,o,i,sb)}return j},a.prototype._getColorMap=function(){var b=Ga.getColorMap(),c=["#000000"];if(b)for(var e=1,f=b.length;e<f;e++)c[e]=M.Format.CSS.formatHex(b[e]);return c},a}(Hp);var uf=function(){function d(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._entries=new Map();for(var c=0,e=a;c<e.length;c++){var f=e[c],g=f[0],h=f[1];this.set(g,h)}}return d.prototype.set=function(a,b){var c=this._entries.get(a);return this._entries.set(a,b),c},d.prototype.has=function(a){return this._entries.has(a)},d.prototype.get=function(a){return this._entries.get(a)},d}();var Qc=ia("accessibilityService"),Ni=new ea("accessibilityModeEnabled",!1);var TW=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),UW=function(d){TW(a,d);function a(b,c){for(var e=d.call(this,0)||this,f=0;f<b.length;f++)e.set(b.charCodeAt(f),1);for(var f=0;f<c.length;f++)e.set(c.charCodeAt(f),2);return e}return a.prototype.get=function(b){return b>=0&&b<256?this._asciiMap[b]:b>=12352&&b<=12543||b>=13312&&b<=19903||b>=19968&&b<=40959?3:this._map.get(b)||this._defaultValue},a}(ri),Tv=[],Uv=[],vE=function(){function d(a,b){this.classifier=new UW(a,b)}return d.create=function(a){return new d(a.get(99),a.get(98))},d.prototype.createLineBreaksComputer=function(a,b,c,e){var f=this;b=b|0,c=+c;var g=[],h=[];return{addRequest:function(i,j){g.push(i),h.push(j)},finalize:function(){for(var i=a.typicalFullwidthCharacterWidth/a.typicalHalfwidthCharacterWidth,j=[],k=0,l=g.length;k<l;k++){var m=h[k];m?j[k]=VW(f.classifier,m,g[k],b,c,i,e):j[k]=WW(f.classifier,g[k],b,c,i,e)}return Tv.length=0,Uv.length=0,j}}},d}();function VW(d,a,b,c,e,f,g){if(e===-1)return null;var h=b.length;if(h<=1)return null;var i=a.breakOffsets,j=a.breakOffsetsVisibleColumn,k=LG(b,c,e,f,g),l=e-k,m=Tv,n=Uv,o=0,p=e,q=i.length,r=0;if(r>=0)for(var t=Math.abs(j[r]-p);r+1<q;){var v=Math.abs(j[r+1]-p);if(v>=t)break;t=v,r++}for(;r<q;){var w=r<0?0:i[r],x=r<0?0:j[r],u=0,y=0,A=0,F=0;if(x<=p){for(var B=x,D=b.charCodeAt(w-1),H=d.get(D),J=!0,L=w;L<h;L++){var O=L,T=b.charCodeAt(L),$=void 0,_=void 0;Cb(T)?(L++,$=0,_=2):($=d.get(T),_=Rq(T,B,c,f)),Vv(D,H,T,$)&&(u=O,y=B),B+=_;if(B>p){A=O,F=B-_,B-y>l&&(u=0),J=!1;break}D=T,H=$}if(J){o>0&&(m[o]=i[i.length-1],n[o]=j[i.length-1],o++);break}}if(u===0){for(var B=x,T=b.charCodeAt(w),$=d.get(T),$a=!1,L=w-1;L>=0;L--){var O=L+1,D=b.charCodeAt(L);if(D===9){$a=!0;break}var H=void 0,Na=void 0;yj(D)?(L--,H=0,Na=2):(H=d.get(D),Na=nd(D)?f:1);if(B<=p){A===0&&(A=O,F=B);if(B<=p-l)break;if(Vv(D,H,T,$)){u=O,y=B;break}}B-=Na,T=D,$=H}if(u!==0){var Nb=l-(F-y);if(Nb<=c){var zc=b.charCodeAt(A),_=void 0;Cb(zc)?_=2:_=Rq(zc,F,c,f),Nb-_<0&&(u=0)}}if($a){r--;continue}}for(u===0&&(u=A,y=F),m[o]=u,n[o]=y,o++,p=y+l;r<0||r<q&&j[r]<y;)r++;for(var t=Math.abs(j[r]-p);r+1<q;){var v=Math.abs(j[r+1]-p);if(v>=t)break;t=v,r++}}return o===0?null:(m.length=o,n.length=o,Tv=a.breakOffsets,Uv=a.breakOffsetsVisibleColumn,a.breakOffsets=m,a.breakOffsetsVisibleColumn=n,a.wrappedTextIndentLength=k,a)}function WW(d,a,b,c,e,f){if(c===-1)return null;var g=a.length;if(g<=1)return null;var h=LG(a,b,c,e,f),i=c-h,j=[],k=[],l=0,m=0,n=0,o=c,p=a.charCodeAt(0),q=d.get(p),r=Rq(p,0,b,e),t=1;Cb(p)&&(r+=1,p=a.charCodeAt(1),q=d.get(p),t++);for(var v=t;v<g;v++){var w=v,x=a.charCodeAt(v),u=void 0,y=void 0;Cb(x)?(v++,u=0,y=2):(u=d.get(x),y=Rq(x,r,b,e)),Vv(p,q,x,u)&&(m=w,n=r),r+=y,r>o&&((m===0||r-n>i)&&(m=w,n=r-y),j[l]=m,k[l]=n,l++,o=n+i,m=0),p=x,q=u}return l===0?null:(j[l]=g,k[l]=r,new cg(j,k,h))}function Rq(d,a,b,c){return d===9?b-a%b:nd(d)?c:1}function KG(d,a){return a-d%a}function Vv(d,a,b,c){return b!==32&&(a===2||a===3&&c!==2||c===1||c===3&&a!==1)}function LG(d,a,b,c,e){var f=0;if(e!==0){var g=Jb(d);if(g!==-1){for(var h=0;h<g;h++){var i=d.charCodeAt(h)===9?KG(f,a):1;f+=i}for(var j=e===3?2:e===2?1:0,h=0;h<j;h++){var i=KG(f,a);f+=i}f+c>b&&(f=0)}}return f}var kD=function(){function d(){}return d.create=function(){return new d()},d.prototype.createLineBreaksComputer=function(a,b,c,e){b=b|0,c=+c;var f=[];return{addRequest:function(g,h){f.push(g)},finalize:function(){return kS(f,a,b,c,e)}}},d}();function kS(d,a,b,c,e){if(c===-1){for(var f=[],g=0,h=d.length;g<h;g++)f[g]=null;return f}var i=Math.round(c*a.typicalHalfwidthCharacterWidth);(e===2||e===3)&&(e=1);var j=document.createElement("div");_b.applyFontInfoSlow(j,a);for(var k=pf(1e4),l=[],m=[],n=[],o=[],p=[],g=0;g<d.length;g++){var q=d[g],r=0,t=0,v=i;if(e!==0){r=Jb(q);if(r===-1)r=0;else{for(var w=0;w<r;w++){var x=q.charCodeAt(w)===9?b-t%b:1;t+=x}var u=Math.ceil(a.spaceWidth*t);u+a.typicalFullwidthCharacterWidth>i?(r=0,t=0):v=i-u}}var y=q.substr(r),A=lS(y,t,b,v,k);l[g]=r,m[g]=t,n[g]=y,o[g]=A[0],p[g]=A[1]}j.innerHTML=k.build(),j.style.position="absolute",j.style.top="10000",j.style.wordWrap="break-word",document.body.appendChild(j);for(var F=document.createRange(),B=Array.prototype.slice.call(j.children,0),D=[],g=0;g<d.length;g++){var H=B[g],J=mS(F,H,n[g],o[g]);if(J===null){D[g]=null;continue}for(var r=l[g],t=m[g],L=p[g],O=[],T=0,h=J.length;T<h;T++)O[T]=L[J[T]];if(r!==0)for(var T=0,h=J.length;T<h;T++)J[T]+=r;D[g]=new cg(J,O,t)}return document.body.removeChild(j),D}function lS(d,a,b,c,e){e.appendASCIIString('<div style="width:'),e.appendASCIIString(String(c)),e.appendASCIIString('px;">');for(var f=d.length,g=a,h=0,i=[],j=[],k=0<f?d.charCodeAt(0):0,l=0;l<f;l++){i[l]=h,j[l]=g;var m=k;k=l+1<f?d.charCodeAt(l+1):0;var n=1,o=1;switch(m){case 9:n=b-g%b,o=n;for(var p=1;p<=n;p++)p<n?e.write1(160):e.appendASCII(32);break;case 32:k===32?e.write1(160):e.appendASCII(32);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:e.appendASCIIString("&#00;");break;case 65279:case 8232:e.write1(65533);break;default:nd(m)&&o++,e.write1(m)}h+=n,g+=o}return i[d.length]=h,j[d.length]=g,e.appendASCIIString("</div>"),[i,j]}function mS(d,a,b,c){if(b.length<=1)return null;var e=a.firstChild,f=[];return Hu(d,e,c,0,null,b.length-1,null,f),f.length===0?null:(f.push(b.length),f)}function Hu(d,a,b,c,e,f,g,h){if(c===f)return;e=e||Iu(d,a,b[c],b[c+1]),g=g||Iu(d,a,b[f],b[f+1]);if(Math.abs(e[0].top-g[0].top)<=.1)return;if(c+1===f){h.push(f);return}var i=c+(f-c)/2|0,j=Iu(d,a,b[i],b[i+1]);Hu(d,a,b,c,e,i,j,h),Hu(d,a,b,i,j,f,g,h)}function Iu(d,a,b,c){return d.setStart(a,b),d.setEnd(a,c),d.getClientRects()}var dm=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),fT=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},ei=function(d,a){return function(b,c){a(b,c,d)}},gT=0,hT=function(){function d(a,b,c,e,f,g){this.model=a,this.viewModel=b,this.cursor=c,this.view=e,this.hasRealView=f,this.listenersToRemove=g}return d.prototype.dispose=function(){ca(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},d}(),Qj=function(d){dm(a,d);function a(b,c,e,f,g,h,i,j,k,l){var m=d.call(this)||this;m._onDidDispose=m._register(new E()),m.onDidDispose=m._onDidDispose.event,m._onDidChangeModelContent=m._register(new E()),m.onDidChangeModelContent=m._onDidChangeModelContent.event,m._onDidChangeModelLanguage=m._register(new E()),m.onDidChangeModelLanguage=m._onDidChangeModelLanguage.event,m._onDidChangeModelLanguageConfiguration=m._register(new E()),m.onDidChangeModelLanguageConfiguration=m._onDidChangeModelLanguageConfiguration.event,m._onDidChangeModelOptions=m._register(new E()),m.onDidChangeModelOptions=m._onDidChangeModelOptions.event,m._onDidChangeModelDecorations=m._register(new E()),m.onDidChangeModelDecorations=m._onDidChangeModelDecorations.event,m._onDidChangeConfiguration=m._register(new E()),m.onDidChangeConfiguration=m._onDidChangeConfiguration.event,m._onDidChangeModel=m._register(new E()),m.onDidChangeModel=m._onDidChangeModel.event,m._onDidChangeCursorPosition=m._register(new E()),m.onDidChangeCursorPosition=m._onDidChangeCursorPosition.event,m._onDidChangeCursorSelection=m._register(new E()),m.onDidChangeCursorSelection=m._onDidChangeCursorSelection.event,m._onDidAttemptReadOnlyEdit=m._register(new E()),m.onDidAttemptReadOnlyEdit=m._onDidAttemptReadOnlyEdit.event,m._onDidLayoutChange=m._register(new E()),m.onDidLayoutChange=m._onDidLayoutChange.event,m._editorTextFocus=m._register(new wE()),m.onDidFocusEditorText=m._editorTextFocus.onDidChangeToTrue,m.onDidBlurEditorText=m._editorTextFocus.onDidChangeToFalse,m._editorWidgetFocus=m._register(new wE()),m.onDidFocusEditorWidget=m._editorWidgetFocus.onDidChangeToTrue,m.onDidBlurEditorWidget=m._editorWidgetFocus.onDidChangeToFalse,m._onWillType=m._register(new E()),m.onWillType=m._onWillType.event,m._onDidType=m._register(new E()),m.onDidType=m._onDidType.event,m._onDidCompositionStart=m._register(new E()),m.onDidCompositionStart=m._onDidCompositionStart.event,m._onDidCompositionEnd=m._register(new E()),m.onDidCompositionEnd=m._onDidCompositionEnd.event,m._onDidPaste=m._register(new E()),m.onDidPaste=m._onDidPaste.event,m._onMouseUp=m._register(new E()),m.onMouseUp=m._onMouseUp.event,m._onMouseDown=m._register(new E()),m.onMouseDown=m._onMouseDown.event,m._onMouseDrag=m._register(new E()),m.onMouseDrag=m._onMouseDrag.event,m._onMouseDrop=m._register(new E()),m.onMouseDrop=m._onMouseDrop.event,m._onContextMenu=m._register(new E()),m.onContextMenu=m._onContextMenu.event,m._onMouseMove=m._register(new E()),m.onMouseMove=m._onMouseMove.event,m._onMouseLeave=m._register(new E()),m.onMouseLeave=m._onMouseLeave.event,m._onMouseWheel=m._register(new E()),m.onMouseWheel=m._onMouseWheel.event,m._onKeyUp=m._register(new E()),m.onKeyUp=m._onKeyUp.event,m._onKeyDown=m._register(new E()),m.onKeyDown=m._onKeyDown.event,m._onDidContentSizeChange=m._register(new E()),m.onDidContentSizeChange=m._onDidContentSizeChange.event,m._onDidScrollChange=m._register(new E()),m.onDidScrollChange=m._onDidScrollChange.event,m._onDidChangeViewZones=m._register(new E()),m.onDidChangeViewZones=m._onDidChangeViewZones.event,m._domElement=b,m._id=++gT,m._decorationTypeKeysToIds={},m._decorationTypeSubtypes={},m.isSimpleWidget=e.isSimpleWidget||!1,m._telemetryData=e.telemetryData,c=c||{},m._configuration=m._register(m._createConfiguration(c,l)),m._register(m._configuration.onDidChange(function(t){m._onDidChangeConfiguration.fire(t);var v=m._configuration.options;if(t.hasChanged(107)){var w=v.get(107);m._onDidLayoutChange.fire(w)}})),m._contextKeyService=m._register(i.createScoped(m._domElement)),m._notificationService=k,m._codeEditorService=g,m._commandService=h,m._themeService=j,m._register(new iT(m,m._contextKeyService)),m._register(new jT(m,m._contextKeyService)),m._instantiationService=f.createChild(new uf([ha,m._contextKeyService])),m._modelData=null,m._contributions={},m._actions={},m._focusTracker=new kT(b),m._focusTracker.onChange(function(){m._editorWidgetFocus.setValue(m._focusTracker.hasFocus())}),m._contentWidgets={},m._overlayWidgets={};var n;Array.isArray(e.contributions)?n=e.contributions:n=dh.getEditorContributions();for(var o=0,p=n;o<p.length;o++){var q=p[o];try{var r=m._instantiationService.createInstance(q.ctor,m);m._contributions[q.id]=r}catch(t){W(t)}}return dh.getEditorActions().forEach(function(t){var v=new wp(t.id,t.label,t.alias,$g(t.precondition),function(){return m._instantiationService.invokeFunction(function(w){return Promise.resolve(t.runEditorCommand(w,m,null))})},m._contextKeyService);m._actions[v.id]=v}),m._codeEditorService.addCodeEditor(m),m}return a.prototype._createConfiguration=function(b,c){return new _b(this.isSimpleWidget,b,this._domElement,c)},a.prototype.getId=function(){return this.getEditorType()+":"+this._id},a.prototype.getEditorType=function(){return bh.ICodeEditor},a.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var b=Object.keys(this._contributions),c=0,e=b.length;c<e;c++){var f=b[c];this._contributions[f].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),d.prototype.dispose.call(this)},a.prototype.invokeWithinContext=function(b){return this._instantiationService.invokeFunction(b)},a.prototype.updateOptions=function(b){this._configuration.updateOptions(b)},a.prototype.getOptions=function(){return this._configuration.options},a.prototype.getOption=function(b){return this._configuration.options.get(b)},a.prototype.getRawOptions=function(){return this._configuration.getRawOptions()},a.prototype.getValue=function(b){b===void 0&&(b=null);if(!this._modelData)return"";var c=b&&b.preserveBOM?!0:!1,e=0;return b&&b.lineEnding&&b.lineEnding===`
`?e=1:b&&b.lineEnding&&b.lineEnding===`\r
`&&(e=2),this._modelData.model.getValue(e,c)},a.prototype.setValue=function(b){if(!this._modelData)return;this._modelData.model.setValue(b)},a.prototype.getModel=function(){return this._modelData?this._modelData.model:null},a.prototype.setModel=function(b){b===void 0&&(b=null);var c=b;if(this._modelData===null&&c===null)return;if(this._modelData&&this._modelData.model===c)return;var e=this.hasTextFocus(),f=this._detachModel();this._attachModel(c),e&&this.hasModel()&&this.focus();var g={oldModelUrl:f?f.uri:null,newModelUrl:c?c.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(g),this._postDetachModelCleanup(f)},a.prototype._removeDecorationTypes=function(){this._decorationTypeKeysToIds={};if(this._decorationTypeSubtypes){for(var b in this._decorationTypeSubtypes){var c=this._decorationTypeSubtypes[b];for(var e in c)this._removeDecorationType(b+"-"+e)}this._decorationTypeSubtypes={}}},a.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},a.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},a._getVerticalOffsetForPosition=function(b,c,e){var f=b.model.validatePosition({lineNumber:c,column:e}),g=b.viewModel.coordinatesConverter.convertModelPositionToViewPosition(f);return b.viewModel.viewLayout.getVerticalOffsetForLineNumber(g.lineNumber)},a.prototype.getTopForLineNumber=function(b){return this._modelData?a._getVerticalOffsetForPosition(this._modelData,b,1):-1},a.prototype.getTopForPosition=function(b,c){return this._modelData?a._getVerticalOffsetForPosition(this._modelData,b,c):-1},a.prototype.setHiddenAreas=function(b){this._modelData&&this._modelData.viewModel.setHiddenAreas(b.map(function(c){return z.lift(c)}))},a.prototype.getVisibleColumnFromPosition=function(b){if(!this._modelData)return b.column;var c=this._modelData.model.validatePosition(b),e=this._modelData.model.getOptions().tabSize;return Ya.visibleColumnFromColumn(this._modelData.model.getLineContent(c.lineNumber),c.column,e)+1},a.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},a.prototype.setPosition=function(b){if(!this._modelData)return;if(!G.isIPosition(b))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:b.lineNumber,selectionStartColumn:b.column,positionLineNumber:b.lineNumber,positionColumn:b.column}])},a.prototype._sendRevealRange=function(b,c,e,f){if(!this._modelData)return;if(!z.isIRange(b))throw new Error("Invalid arguments");var g=this._modelData.model.validateRange(b),h=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(g);this._modelData.cursor.emitCursorRevealRange("api",h,c,e,f)},a.prototype.revealLine=function(b,c){c===void 0&&(c=0),this._revealLine(b,0,c)},a.prototype.revealLineInCenter=function(b,c){c===void 0&&(c=0),this._revealLine(b,1,c)},a.prototype.revealLineInCenterIfOutsideViewport=function(b,c){c===void 0&&(c=0),this._revealLine(b,2,c)},a.prototype._revealLine=function(b,c,e){if(typeof b!=="number")throw new Error("Invalid arguments");this._sendRevealRange(new z(b,1,b,1),c,!1,e)},a.prototype.revealPosition=function(b,c){c===void 0&&(c=0),this._revealPosition(b,0,!0,c)},a.prototype.revealPositionInCenter=function(b,c){c===void 0&&(c=0),this._revealPosition(b,1,!0,c)},a.prototype.revealPositionInCenterIfOutsideViewport=function(b,c){c===void 0&&(c=0),this._revealPosition(b,2,!0,c)},a.prototype._revealPosition=function(b,c,e,f){if(!G.isIPosition(b))throw new Error("Invalid arguments");this._sendRevealRange(new z(b.lineNumber,b.column,b.lineNumber,b.column),c,e,f)},a.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},a.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},a.prototype.setSelection=function(b){var c=V.isISelection(b),e=z.isIRange(b);if(!c&&!e)throw new Error("Invalid arguments");if(c)this._setSelectionImpl(b);else if(e){var f={selectionStartLineNumber:b.startLineNumber,selectionStartColumn:b.startColumn,positionLineNumber:b.endLineNumber,positionColumn:b.endColumn};this._setSelectionImpl(f)}},a.prototype._setSelectionImpl=function(b){if(!this._modelData)return;var c=new V(b.selectionStartLineNumber,b.selectionStartColumn,b.positionLineNumber,b.positionColumn);this._modelData.cursor.setSelections("api",[c])},a.prototype.revealLines=function(b,c,e){e===void 0&&(e=0),this._revealLines(b,c,0,e)},a.prototype.revealLinesInCenter=function(b,c,e){e===void 0&&(e=0),this._revealLines(b,c,1,e)},a.prototype.revealLinesInCenterIfOutsideViewport=function(b,c,e){e===void 0&&(e=0),this._revealLines(b,c,2,e)},a.prototype._revealLines=function(b,c,e,f){if(typeof b!=="number"||typeof c!=="number")throw new Error("Invalid arguments");this._sendRevealRange(new z(b,1,c,1),e,!1,f)},a.prototype.revealRange=function(b,c,e,f){c===void 0&&(c=0),e===void 0&&(e=!1),f===void 0&&(f=!0),this._revealRange(b,e?1:0,f,c)},a.prototype.revealRangeInCenter=function(b,c){c===void 0&&(c=0),this._revealRange(b,1,!0,c)},a.prototype.revealRangeInCenterIfOutsideViewport=function(b,c){c===void 0&&(c=0),this._revealRange(b,2,!0,c)},a.prototype.revealRangeAtTop=function(b,c){c===void 0&&(c=0),this._revealRange(b,3,!0,c)},a.prototype._revealRange=function(b,c,e,f){if(!z.isIRange(b))throw new Error("Invalid arguments");this._sendRevealRange(z.lift(b),c,e,f)},a.prototype.setSelections=function(b,c){c===void 0&&(c="api");if(!this._modelData)return;if(!b||b.length===0)throw new Error("Invalid arguments");for(var e=0,f=b.length;e<f;e++)if(!V.isISelection(b[e]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(c,b)},a.prototype.getContentWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1},a.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},a.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},a.prototype.getContentHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1},a.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},a.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},a.prototype.setScrollLeft=function(b){if(!this._modelData)return;if(typeof b!=="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:b})},a.prototype.setScrollTop=function(b){if(!this._modelData)return;if(typeof b!=="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:b})},a.prototype.setScrollPosition=function(b){if(!this._modelData)return;this._modelData.viewModel.viewLayout.setScrollPositionNow(b)},a.prototype.saveViewState=function(){if(!this._modelData)return null;for(var b={},c=Object.keys(this._contributions),e=0,f=c;e<f.length;e++){var g=f[e],h=this._contributions[g];typeof h.saveViewState==="function"&&(b[g]=h.saveViewState())}var i=this._modelData.cursor.saveState(),j=this._modelData.viewModel.saveState();return{cursorState:i,viewState:j,contributionsState:b}},a.prototype.restoreViewState=function(b){if(!this._modelData||!this._modelData.hasRealView)return;var c=b;if(c&&c.cursorState&&c.viewState){var e=c.cursorState;Array.isArray(e)?this._modelData.cursor.restoreState(e):this._modelData.cursor.restoreState([e]);for(var f=c.contributionsState||{},g=Object.keys(this._contributions),h=0,i=g.length;h<i;h++){var j=g[h],k=this._contributions[j];typeof k.restoreViewState==="function"&&k.restoreViewState(f[j])}var l=this._modelData.viewModel.reduceRestoreState(c.viewState);this._modelData.view.restoreState(l)}},a.prototype.getContribution=function(b){return this._contributions[b]||null},a.prototype.getActions=function(){for(var b=[],c=Object.keys(this._actions),e=0,f=c.length;e<f;e++){var g=c[e];b.push(this._actions[g])}return b},a.prototype.getSupportedActions=function(){var b=this.getActions();return b=b.filter(function(c){return c.isSupported()}),b},a.prototype.getAction=function(b){return this._actions[b]||null},a.prototype.trigger=function(b,c,e){e=e||{};if(c===Qa.Type){if(!this._modelData||typeof e.text!=="string"||e.text.length===0)return;b==="keyboard"&&this._onWillType.fire(e.text),this._modelData.cursor.trigger(b,c,e),b==="keyboard"&&this._onDidType.fire(e.text);return}if(c===Qa.Paste){if(!this._modelData||typeof e.text!=="string"||e.text.length===0)return;var f=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(b,c,e);var g=this._modelData.cursor.getSelection().getStartPosition();b==="keyboard"&&this._onDidPaste.fire({range:new z(f.lineNumber,f.column,g.lineNumber,g.column),mode:e.mode});return}var h=this.getAction(c);if(h){Promise.resolve(h.run()).then(void 0,W);return}if(!this._modelData)return;if(this._triggerEditorCommand(b,c,e))return;this._modelData.cursor.trigger(b,c,e),c===Qa.CompositionStart&&this._onDidCompositionStart.fire(),c===Qa.CompositionEnd&&this._onDidCompositionEnd.fire()},a.prototype._triggerEditorCommand=function(b,c,e){var f=this,g=dh.getEditorCommand(c);return g?(e=e||{},e.source=b,this._instantiationService.invokeFunction(function(h){Promise.resolve(g.runEditorCommand(h,f,e)).then(void 0,W)}),!0):!1},a.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},a.prototype.pushUndoStop=function(){return this._modelData?this._configuration.options.get(68)?!1:(this._modelData.model.pushStackElement(),!0):!1},a.prototype.executeEdits=function(b,c,e){if(!this._modelData)return!1;if(this._configuration.options.get(68))return!1;var f;return e?Array.isArray(e)?f=function(){return e}:f=e:f=function(){return null},this._modelData.cursor.executeEdits(b,c,f),!0},a.prototype.executeCommand=function(b,c){if(!this._modelData)return;this._modelData.cursor.trigger(b,Qa.ExecuteCommand,c)},a.prototype.executeCommands=function(b,c){if(!this._modelData)return;this._modelData.cursor.trigger(b,Qa.ExecuteCommands,c)},a.prototype.changeDecorations=function(b){return this._modelData?this._modelData.model.changeDecorations(b,this._id):null},a.prototype.getLineDecorations=function(b){return this._modelData?this._modelData.model.getLineDecorations(b,this._id,Oj(this._configuration.options)):null},a.prototype.deltaDecorations=function(b,c){return this._modelData?b.length===0&&c.length===0?b:this._modelData.model.deltaDecorations(b,c,this._id):[]},a.prototype.removeDecorations=function(b){var c=this._decorationTypeKeysToIds[b];c&&this.deltaDecorations(c,[]),this._decorationTypeKeysToIds.hasOwnProperty(b)&&delete this._decorationTypeKeysToIds[b],this._decorationTypeSubtypes.hasOwnProperty(b)&&delete this._decorationTypeSubtypes[b]},a.prototype.getLayoutInfo=function(){var b=this._configuration.options,c=b.get(107);return c},a.prototype.createOverviewRuler=function(b){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(b)},a.prototype.getContainerDomNode=function(){return this._domElement},a.prototype.getDomNode=function(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode},a.prototype.delegateVerticalScrollbarMouseDown=function(b){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateVerticalScrollbarMouseDown(b)},a.prototype.layout=function(b){this._configuration.observeReferenceElement(b),this.render()},a.prototype.focus=function(){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.focus()},a.prototype.hasTextFocus=function(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()},a.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},a.prototype.addContentWidget=function(b){var c={widget:b,position:b.getPosition()};this._contentWidgets.hasOwnProperty(b.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[b.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(c)},a.prototype.layoutContentWidget=function(b){var c=b.getId();if(this._contentWidgets.hasOwnProperty(c)){var e=this._contentWidgets[c];e.position=b.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(e)}},a.prototype.removeContentWidget=function(b){var c=b.getId();if(this._contentWidgets.hasOwnProperty(c)){var e=this._contentWidgets[c];delete this._contentWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}},a.prototype.addOverlayWidget=function(b){var c={widget:b,position:b.getPosition()};this._overlayWidgets.hasOwnProperty(b.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[b.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(c)},a.prototype.layoutOverlayWidget=function(b){var c=b.getId();if(this._overlayWidgets.hasOwnProperty(c)){var e=this._overlayWidgets[c];e.position=b.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(e)}},a.prototype.removeOverlayWidget=function(b){var c=b.getId();if(this._overlayWidgets.hasOwnProperty(c)){var e=this._overlayWidgets[c];delete this._overlayWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}},a.prototype.changeViewZones=function(b){if(!this._modelData||!this._modelData.hasRealView)return;var c=this._modelData.view.change(b);c&&this._onDidChangeViewZones.fire()},a.prototype.getTargetAtClientPoint=function(b,c){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(b,c)},a.prototype.getScrolledVisiblePosition=function(b){if(!this._modelData||!this._modelData.hasRealView)return null;var c=this._modelData.model.validatePosition(b),e=this._configuration.options,f=e.get(107),g=a._getVerticalOffsetForPosition(this._modelData,c.lineNumber,c.column)-this.getScrollTop(),h=this._modelData.view.getOffsetForColumn(c.lineNumber,c.column)+f.glyphMarginWidth+f.lineNumbersWidth+f.decorationsWidth-this.getScrollLeft();return{top:g,left:h,height:e.get(49)}},a.prototype.getOffsetForColumn=function(b,c){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(b,c)},a.prototype.render=function(b){b===void 0&&(b=!1);if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.render(!0,b)},a.prototype.setAriaOptions=function(b){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.setAriaOptions(b)},a.prototype.applyFontInfo=function(b){_b.applyFontInfoSlow(b,this._configuration.options.get(34))},a.prototype._attachModel=function(b){var c=this;if(!b){this._modelData=null;return}var e=[];this._domElement.setAttribute("data-mode-id",b.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(b.isDominatedByLongLines()),this._configuration.setMaxLineNumber(b.getLineCount()),b.onBeforeAttached();var f=new uE(this._id,this._configuration,b,kD.create(),vE.create(this._configuration.options),function(o){return ce(o)});e.push(b.onDidChangeDecorations(function(o){return c._onDidChangeModelDecorations.fire(o)})),e.push(b.onDidChangeLanguage(function(o){c._domElement.setAttribute("data-mode-id",b.getLanguageIdentifier().language),c._onDidChangeModelLanguage.fire(o)})),e.push(b.onDidChangeLanguageConfiguration(function(o){return c._onDidChangeModelLanguageConfiguration.fire(o)})),e.push(b.onDidChangeContent(function(o){return c._onDidChangeModelContent.fire(o)})),e.push(b.onDidChangeOptions(function(o){return c._onDidChangeModelOptions.fire(o)})),e.push(b.onWillDispose(function(){return c.setModel(null)}));var g=new Wu(this._configuration,b,f);e.push(g.onDidReachMaxCursorCount(function(){c._notificationService.warn(s("cursors.maximum","The number of cursors has been limited to {0}.",Wu.MAX_CURSOR_COUNT))})),e.push(g.onDidAttemptReadOnlyEdit(function(){c._onDidAttemptReadOnlyEdit.fire(void 0)})),e.push(g.onDidChange(function(o){for(var p=[],q=0,r=o.selections.length;q<r;q++)p[q]=o.selections[q].getPosition();var t={position:p[0],secondaryPositions:p.slice(1),reason:o.reason,source:o.source};c._onDidChangeCursorPosition.fire(t);var v={selection:o.selections[0],secondarySelections:o.selections.slice(1),modelVersionId:o.modelVersionId,oldSelections:o.oldSelections,oldModelVersionId:o.oldModelVersionId,source:o.source,reason:o.reason};c._onDidChangeCursorSelection.fire(v)}));var h=this._createView(f,g),i=h[0],j=h[1];if(j){this._domElement.appendChild(i.domNode.domNode);for(var k=Object.keys(this._contentWidgets),l=0,m=k.length;l<m;l++){var n=k[l];i.addContentWidget(this._contentWidgets[n])}k=Object.keys(this._overlayWidgets);for(var l=0,m=k.length;l<m;l++){var n=k[l];i.addOverlayWidget(this._overlayWidgets[n])}i.render(!1,!0),i.domNode.domNode.setAttribute("data-uri",b.uri.toString())}this._modelData=new hT(b,f,g,i,j,e)},a.prototype._createView=function(b,c){var e=this,f;this.isSimpleWidget?f={executeEditorCommand:function(i,j){i.runCoreEditorCommand(c,j)},paste:function(i,j,k,l,m){e.trigger(i,Qa.Paste,{text:j,pasteOnNewLine:k,multicursorText:l,mode:m})},type:function(i,j){e.trigger(i,Qa.Type,{text:j})},replacePreviousChar:function(i,j,k){e.trigger(i,Qa.ReplacePreviousChar,{text:j,replaceCharCnt:k})},compositionStart:function(i){e.trigger(i,Qa.CompositionStart,void 0)},compositionEnd:function(i){e.trigger(i,Qa.CompositionEnd,void 0)},cut:function(i){e.trigger(i,Qa.Cut,void 0)}}:f={executeEditorCommand:function(i,j){i.runCoreEditorCommand(c,j)},paste:function(i,j,k,l,m){e._commandService.executeCommand(Qa.Paste,{text:j,pasteOnNewLine:k,multicursorText:l,mode:m})},type:function(i,j){e._commandService.executeCommand(Qa.Type,{text:j})},replacePreviousChar:function(i,j,k){e._commandService.executeCommand(Qa.ReplacePreviousChar,{text:j,replaceCharCnt:k})},compositionStart:function(i){e._commandService.executeCommand(Qa.CompositionStart,{})},compositionEnd:function(i){e._commandService.executeCommand(Qa.CompositionEnd,{})},cut:function(i){e._commandService.executeCommand(Qa.Cut,{})}};var g=new op(b);g.onDidContentSizeChange=function(i){return e._onDidContentSizeChange.fire(i)},g.onDidScroll=function(i){return e._onDidScrollChange.fire(i)},g.onDidGainFocus=function(){return e._editorTextFocus.setValue(!0)},g.onDidLoseFocus=function(){return e._editorTextFocus.setValue(!1)},g.onContextMenu=function(i){return e._onContextMenu.fire(i)},g.onMouseDown=function(i){return e._onMouseDown.fire(i)},g.onMouseUp=function(i){return e._onMouseUp.fire(i)},g.onMouseDrag=function(i){return e._onMouseDrag.fire(i)},g.onMouseDrop=function(i){return e._onMouseDrop.fire(i)},g.onKeyUp=function(i){return e._onKeyUp.fire(i)},g.onMouseMove=function(i){return e._onMouseMove.fire(i)},g.onMouseLeave=function(i){return e._onMouseLeave.fire(i)},g.onMouseWheel=function(i){return e._onMouseWheel.fire(i)},g.onKeyDown=function(i){return e._onKeyDown.fire(i)};var h=new LD(f,this._configuration,this._themeService,b,c,g);return[h,!0]},a.prototype._postDetachModelCleanup=function(b){b&&b.removeAllDecorationsWithOwnerId(this._id)},a.prototype._detachModel=function(){if(!this._modelData)return null;var b=this._modelData.model,c=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),c&&this._domElement.removeChild(c),b},a.prototype._removeDecorationType=function(b){this._codeEditorService.removeDecorationType(b)},a.prototype.hasModel=function(){return this._modelData!==null},a=fT([ei(3,Aa),ei(4,ya),ei(5,db),ei(6,ha),ei(7,Ia),ei(8,Ra),ei(9,Qc)],a),a}(I),wE=function(d){dm(a,d);function a(){var b=d.call(this)||this;return b._onDidChangeToTrue=b._register(new E()),b.onDidChangeToTrue=b._onDidChangeToTrue.event,b._onDidChangeToFalse=b._register(new E()),b.onDidChangeToFalse=b._onDidChangeToFalse.event,b._value=0,b}return a.prototype.setValue=function(b){var c=b?2:1;if(this._value===c)return;this._value=c,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire()},a}(I),iT=function(d){dm(a,d);function a(b,c){var e=d.call(this)||this;return e._editor=b,c.createKey("editorId",b.getId()),e._editorSimpleInput=C.editorSimpleInput.bindTo(c),e._editorFocus=C.focus.bindTo(c),e._textInputFocus=C.textInputFocus.bindTo(c),e._editorTextFocus=C.editorTextFocus.bindTo(c),e._editorTabMovesFocus=C.tabMovesFocus.bindTo(c),e._editorReadonly=C.readOnly.bindTo(c),e._hasMultipleSelections=C.hasMultipleSelections.bindTo(c),e._hasNonEmptySelection=C.hasNonEmptySelection.bindTo(c),e._canUndo=C.canUndo.bindTo(c),e._canRedo=C.canRedo.bindTo(c),e._register(e._editor.onDidChangeConfiguration(function(){return e._updateFromConfig()})),e._register(e._editor.onDidChangeCursorSelection(function(){return e._updateFromSelection()})),e._register(e._editor.onDidFocusEditorWidget(function(){return e._updateFromFocus()})),e._register(e._editor.onDidBlurEditorWidget(function(){return e._updateFromFocus()})),e._register(e._editor.onDidFocusEditorText(function(){return e._updateFromFocus()})),e._register(e._editor.onDidBlurEditorText(function(){return e._updateFromFocus()})),e._register(e._editor.onDidChangeModel(function(){return e._updateFromModel()})),e._register(e._editor.onDidChangeConfiguration(function(){return e._updateFromModel()})),e._updateFromConfig(),e._updateFromSelection(),e._updateFromFocus(),e._updateFromModel(),e._editorSimpleInput.set(e._editor.isSimpleWidget),e}return a.prototype._updateFromConfig=function(){var b=this._editor.getOptions();this._editorTabMovesFocus.set(b.get(106)),this._editorReadonly.set(b.get(68))},a.prototype._updateFromSelection=function(){var b=this._editor.getSelections();b?(this._hasMultipleSelections.set(b.length>1),this._hasNonEmptySelection.set(b.some(function(c){return!c.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},a.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},a.prototype._updateFromModel=function(){var b=this._editor.getModel();this._canUndo.set(Boolean(b&&b.canUndo())),this._canRedo.set(Boolean(b&&b.canRedo()))},a}(I),jT=function(d){dm(a,d);function a(b,c){var e=d.call(this)||this;e._editor=b,e._contextKeyService=c,e._langId=C.languageId.bindTo(c),e._hasCompletionItemProvider=C.hasCompletionItemProvider.bindTo(c),e._hasCodeActionsProvider=C.hasCodeActionsProvider.bindTo(c),e._hasCodeLensProvider=C.hasCodeLensProvider.bindTo(c),e._hasDefinitionProvider=C.hasDefinitionProvider.bindTo(c),e._hasDeclarationProvider=C.hasDeclarationProvider.bindTo(c),e._hasImplementationProvider=C.hasImplementationProvider.bindTo(c),e._hasTypeDefinitionProvider=C.hasTypeDefinitionProvider.bindTo(c),e._hasHoverProvider=C.hasHoverProvider.bindTo(c),e._hasDocumentHighlightProvider=C.hasDocumentHighlightProvider.bindTo(c),e._hasDocumentSymbolProvider=C.hasDocumentSymbolProvider.bindTo(c),e._hasReferenceProvider=C.hasReferenceProvider.bindTo(c),e._hasRenameProvider=C.hasRenameProvider.bindTo(c),e._hasSignatureHelpProvider=C.hasSignatureHelpProvider.bindTo(c),e._hasDocumentFormattingProvider=C.hasDocumentFormattingProvider.bindTo(c),e._hasDocumentSelectionFormattingProvider=C.hasDocumentSelectionFormattingProvider.bindTo(c),e._hasMultipleDocumentFormattingProvider=C.hasMultipleDocumentFormattingProvider.bindTo(c),e._hasMultipleDocumentSelectionFormattingProvider=C.hasMultipleDocumentSelectionFormattingProvider.bindTo(c),e._isInWalkThrough=C.isInEmbeddedEditor.bindTo(c);var f=function(){return e._update()};return e._register(b.onDidChangeModel(f)),e._register(b.onDidChangeModelLanguage(f)),e._register(sd.onDidChange(f)),e._register(td.onDidChange(f)),e._register(Oe.onDidChange(f)),e._register(eg.onDidChange(f)),e._register(hi.onDidChange(f)),e._register(ii.onDidChange(f)),e._register(ji.onDidChange(f)),e._register(fg.onDidChange(f)),e._register(vf.onDidChange(f)),e._register(ke.onDidChange(f)),e._register(ki.onDidChange(f)),e._register(li.onDidChange(f)),e._register(gh.onDidChange(f)),e._register(ud.onDidChange(f)),e._register(Pe.onDidChange(f)),f(),e}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.reset=function(){var b=this;this._contextKeyService.bufferChangeEvents(function(){b._langId.reset(),b._hasCompletionItemProvider.reset(),b._hasCodeActionsProvider.reset(),b._hasCodeLensProvider.reset(),b._hasDefinitionProvider.reset(),b._hasDeclarationProvider.reset(),b._hasImplementationProvider.reset(),b._hasTypeDefinitionProvider.reset(),b._hasHoverProvider.reset(),b._hasDocumentHighlightProvider.reset(),b._hasDocumentSymbolProvider.reset(),b._hasReferenceProvider.reset(),b._hasRenameProvider.reset(),b._hasDocumentFormattingProvider.reset(),b._hasDocumentSelectionFormattingProvider.reset(),b._hasSignatureHelpProvider.reset(),b._isInWalkThrough.reset()})},a.prototype._update=function(){var b=this,c=this._editor.getModel();if(!c){this.reset();return}this._contextKeyService.bufferChangeEvents(function(){b._langId.set(c.getLanguageIdentifier().language),b._hasCompletionItemProvider.set(sd.has(c)),b._hasCodeActionsProvider.set(td.has(c)),b._hasCodeLensProvider.set(Oe.has(c)),b._hasDefinitionProvider.set(eg.has(c)),b._hasDeclarationProvider.set(hi.has(c)),b._hasImplementationProvider.set(ii.has(c)),b._hasTypeDefinitionProvider.set(ji.has(c)),b._hasHoverProvider.set(fg.has(c)),b._hasDocumentHighlightProvider.set(vf.has(c)),b._hasDocumentSymbolProvider.set(ke.has(c)),b._hasReferenceProvider.set(ki.has(c)),b._hasRenameProvider.set(li.has(c)),b._hasSignatureHelpProvider.set(Pe.has(c)),b._hasDocumentFormattingProvider.set(gh.has(c)||ud.has(c)),b._hasDocumentSelectionFormattingProvider.set(ud.has(c)),b._hasMultipleDocumentFormattingProvider.set(gh.all(c).length+ud.all(c).length>1),b._hasMultipleDocumentSelectionFormattingProvider.set(ud.all(c).length>1),b._isInWalkThrough.set(c.uri.scheme===wa.walkThroughSnippet)})},a}(I),kT=function(d){dm(a,d);function a(b){var c=d.call(this)||this;return c._onChange=c._register(new E()),c.onChange=c._onChange.event,c._hasFocus=!1,c._domFocusTracker=c._register(Mf(b)),c._register(c._domFocusTracker.onDidFocus(function(){c._hasFocus=!0,c._onChange.fire(void 0)})),c._register(c._domFocusTracker.onDidBlur(function(){c._hasFocus=!1,c._onChange.fire(void 0)})),c}return a.prototype.hasFocus=function(){return this._hasFocus},a}(I),lT=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),mT=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Xu(d){return lT+encodeURIComponent(d.toString())+mT}var nT=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),oT=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function pT(d){return nT+encodeURIComponent(d.toString())+oT}la(function(d,a){var b=d.getColor(xp);b&&a.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+b+"; }");var c=d.getColor(fi);c&&a.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+Xu(c)+'") repeat-x bottom left; }');var e=d.getColor(gi);e&&a.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+e+"; }");var f=d.getColor(ie);f&&a.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+Xu(f)+'") repeat-x bottom left; }');var g=d.getColor(Pj);g&&a.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+g+"; }");var h=d.getColor(tf);h&&a.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+Xu(h)+'") repeat-x bottom left; }');var i=d.getColor(sE);i&&a.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+i+"; }");var j=d.getColor(tE);j&&a.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+pT(j)+'") no-repeat bottom left; }');var k=d.getColor(rE);k&&a.addRule(".monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: "+k.rgba.a+"; }");var l=d.getColor(qE);l&&a.addRule(".monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed "+l+"; }");var m=d.getColor(je)||"inherit";a.addRule(".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: "+m+"}")});var JO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),KO=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},LO=!1,Gg=function(d){JO(a,d);function a(b,c,e){e===void 0&&(e={});var f=d.call(this)||this;return f._state=3,f._onDidEnablementChange=f._register(new E()),f.onDidEnablementChange=f._onDidEnablementChange.event,f._onDidStart=f._register(new E()),f.onDidStart=f._onDidStart.event,f._onDidChange=f._register(new E()),f.onDidChange=f._onDidChange.event,f._onDidReset=f._register(new E()),f.onDidReset=f._onDidReset.event,f._onDidEnd=f._register(new E()),f.onDidEnd=f._onDidEnd.event,f.linkedSash=void 0,f.orthogonalStartSashDisposables=f._register(new P()),f.orthogonalEndSashDisposables=f._register(new P()),f.el=S(b,X(".monaco-sash")),ka&&U(f.el,"mac"),f._register(ua(f.el,"mousedown")(f.onMouseDown,f)),f._register(ua(f.el,"dblclick")(f.onMouseDoubleClick,f)),f._register(wc.addTarget(f.el)),f._register(ua(f.el,Xa.Start)(f.onTouchStart,f)),Ih&&U(f.el,"touch"),f.setOrientation(e.orientation||0),f.hidden=!1,f.layoutProvider=c,f.orthogonalStartSash=e.orthogonalStartSash,f.orthogonalEndSash=e.orthogonalEndSash,qa(f.el,"debug",LO),f}return Object.defineProperty(a.prototype,"state",{get:function(){return this._state},set:function(b){if(this._state===b)return;qa(this.el,"disabled",b===0),qa(this.el,"minimum",b===1),qa(this.el,"maximum",b===2),this._state=b,this._onDidEnablementChange.fire(b)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(b){this.orthogonalStartSashDisposables.clear(),b?(this.orthogonalStartSashDisposables.add(b.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(b.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=b},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(b){this.orthogonalEndSashDisposables.clear(),b?(this.orthogonalEndSashDisposables.add(b.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(b.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=b},enumerable:!0,configurable:!0}),a.prototype.setOrientation=function(b){this.orientation=b,this.orientation===1?(U(this.el,"horizontal"),fa(this.el,"vertical")):(fa(this.el,"horizontal"),U(this.el,"vertical")),this.layoutProvider&&this.layout()},a.prototype.onMouseDown=function(b){var c=this;Ma.stop(b,!1);var e=!1;if(!b.__orthogonalSashEvent){var f=this.getOrthogonalSash(b);f&&(e=!0,b.__orthogonalSashEvent=!0,f.onMouseDown(b))}this.linkedSash&&!b.__linkedSashEvent&&(b.__linkedSashEvent=!0,this.linkedSash.onMouseDown(b));if(!this.state)return;for(var g=KO(Ns("iframe"),Ns("webview")),h=0,i=g;h<i.length;h++){var j=i[h];j.style.pointerEvents="none"}var k=new yb(b),l=k.posx,m=k.posy,n=k.altKey,o={startX:l,currentX:l,startY:m,currentY:m,altKey:n};U(this.el,"active"),this._onDidStart.fire(o);var p=vc(this.el),q=function(){var w="";e?w="all-scroll":c.orientation===1?c.state===1?w="s-resize":c.state===2?w="n-resize":w=ka?"row-resize":"ns-resize":c.state===1?w="e-resize":c.state===2?w="w-resize":w=ka?"col-resize":"ew-resize",p.innerHTML="* { cursor: "+w+" !important; }"},r=new P();q(),e||this.onDidEnablementChange(q,null,r);var t=function(w){Ma.stop(w,!1);var x=new yb(w),u={startX:l,currentX:x.posx,startY:m,currentY:x.posy,altKey:n};c._onDidChange.fire(u)},v=function(w){Ma.stop(w,!1),c.el.removeChild(p),fa(c.el,"active"),c._onDidEnd.fire(),r.dispose();for(var x=0,u=g;x<u.length;x++){var y=u[x];y.style.pointerEvents="auto"}};ua(window,"mousemove")(t,null,r),ua(window,"mouseup")(v,null,r)},a.prototype.onMouseDoubleClick=function(b){var c=this.getOrthogonalSash(b);c&&c._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()},a.prototype.onTouchStart=function(b){var c=this;Ma.stop(b);var e=[],f=b.pageX,g=b.pageY,h=b.altKey;this._onDidStart.fire({startX:f,currentX:f,startY:g,currentY:g,altKey:h}),e.push(R(this.el,Xa.Change,function(i){id(i.pageX)&&id(i.pageY)&&c._onDidChange.fire({startX:f,currentX:i.pageX,startY:g,currentY:i.pageY,altKey:h})})),e.push(R(this.el,Xa.End,function(i){c._onDidEnd.fire(),ca(e)}))},a.prototype.layout=function(){var b=Ih?20:4;if(this.orientation===0){var c=this.layoutProvider;this.el.style.left=c.getVerticalSashLeft(this)-b/2+"px",c.getVerticalSashTop&&(this.el.style.top=c.getVerticalSashTop(this)+"px"),c.getVerticalSashHeight&&(this.el.style.height=c.getVerticalSashHeight(this)+"px")}else{var e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-b/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}},a.prototype.hide=function(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")},a.prototype.onOrthogonalStartSashEnablementChange=function(b){qa(this.el,"orthogonal-start",b!==0)},a.prototype.onOrthogonalEndSashEnablementChange=function(b){qa(this.el,"orthogonal-end",b!==0)},a.prototype.getOrthogonalSash=function(b){if(this.orientation===0){if(b.offsetY<=4)return this.orthogonalStartSash;if(b.offsetY>=this.el.clientHeight-4)return this.orthogonalEndSash}else{if(b.offsetX<=4)return this.orthogonalStartSash;if(b.offsetX>=this.el.clientWidth-4)return this.orthogonalEndSash}return},a.prototype.dispose=function(){d.prototype.dispose.call(this),this.el.remove()},a}(I);var Eh=function(){function d(a,b,c){b===void 0&&(b=[]),c===void 0&&(c=!1),this.ctor=a,this.staticArguments=b,this.supportsDelayedInstantiation=c}return d}();var AM=[];function mf(d,a,b){AM.push([d,new Eh(a,[],b)])}function GL(){return AM}var aD=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Du=ia("IEditorCancelService"),bD=new ea("cancellableOperation",!1);mf(Du,function(){function d(){this._tokens=new WeakMap()}return d.prototype.add=function(a,b){var c=this._tokens.get(a);c||(c=a.invokeWithinContext(function(f){var g=bD.bindTo(f.get(ha)),h=new Yc();return{key:g,tokens:h}}),this._tokens.set(a,c));var e;return c.key.set(!0),e=c.tokens.push(b),function(){e&&(e(),c.key.set(!c.tokens.isEmpty()),e=void 0)}},d.prototype.cancel=function(a){var b=this._tokens.get(a);if(!b)return;var c=b.tokens.pop();c&&(c.cancel(),b.key.set(!b.tokens.isEmpty()))},d}(),!0);var $C=function(d){aD(a,d);function a(b,c){var e=d.call(this,c)||this;return e.editor=b,e._unregister=b.invokeWithinContext(function(f){return f.get(Du).add(b,e)}),e}return a.prototype.dispose=function(){this._unregister(),d.prototype.dispose.call(this)},a}(Oc);Q(new(function(d){aD(a,d);function a(){return d.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:bD})||this}return a.prototype.runEditorCommand=function(b,c){b.get(Du).cancel(c)},a}(ob))());var _C=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),lp=function(){function d(a,b){this.flags=b;if((this.flags&1)!==0){var c=a.getModel();this.modelVersionId=c?Ba("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=a.getPosition():this.position=null,(this.flags&2)!==0?this.selection=a.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return d.prototype._equals=function(a){if(!(a instanceof d))return!1;var b=a;return this.modelVersionId!==b.modelVersionId?!1:this.scrollLeft!==b.scrollLeft||this.scrollTop!==b.scrollTop?!1:!this.position&&b.position||this.position&&!b.position||this.position&&b.position&&!this.position.equals(b.position)?!1:!this.selection&&b.selection||this.selection&&!b.selection||this.selection&&b.selection&&!this.selection.equalsRange(b.selection)?!1:!0},d.prototype.validate=function(a){return this._equals(new d(a,this.flags))},d}(),ci=function(d){_C(a,d);function a(b,c,e){var f=d.call(this,b,e)||this;return f.editor=b,f._listener=new P(),c&4&&f._listener.add(b.onDidChangeCursorPosition(function(g){return f.cancel()})),c&2&&f._listener.add(b.onDidChangeCursorSelection(function(g){return f.cancel()})),c&8&&f._listener.add(b.onDidScrollChange(function(g){return f.cancel()})),c&1&&(f._listener.add(b.onDidChangeModel(function(g){return f.cancel()})),f._listener.add(b.onDidChangeModelContent(function(g){return f.cancel()}))),f}return a.prototype.dispose=function(){this._listener.dispose(),d.prototype.dispose.call(this)},a}($C),Vl=function(d){_C(a,d);function a(b,c){var e=d.call(this,c)||this;return e._listener=b.onDidChangeContent(function(){return e.cancel()}),e}return a.prototype.dispose=function(){this._listener.dispose(),d.prototype.dispose.call(this)},a}(Oc),Wl=function(){function d(a,b){this._visiblePosition=a,this._visiblePositionScrollDelta=b}return d.capture=function(a){var b=null,c=0;if(a.getScrollTop()!==0){var e=a.getVisibleRanges();if(e.length>0){b=e[0].getStartPosition();var f=a.getTopForPosition(b.lineNumber,b.column);c=a.getScrollTop()-f}}return new d(b,c)},d.prototype.restore=function(a){if(this._visiblePosition){var b=a.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);a.setScrollTop(b+this._visiblePositionScrollDelta)}},d}();var Vi={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"},Cy=function(){function d(a){this.data=a}return d.prototype.update=function(){},d.prototype.getData=function(){return this.data},d}(),Wc={CurrentDragAndDropData:void 0};var Tn=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Un=function(d){Tn(a,d);function a(b,c,e){var f=d.call(this)||this;return f.options=e,f._context=b||f,f._action=c,c instanceof ac&&f._register(c.onDidChange(function(g){if(!f.element)return;f.handleActionChangeEvent(g)})),f}return a.prototype.handleActionChangeEvent=function(b){b.enabled!==void 0&&this.updateEnabled(),b.checked!==void 0&&this.updateChecked(),b.class!==void 0&&this.updateClass(),b.label!==void 0&&(this.updateLabel(),this.updateTooltip()),b.tooltip!==void 0&&this.updateTooltip()},Object.defineProperty(a.prototype,"actionRunner",{get:function(){return this._actionRunner||(this._actionRunner=this._register(new il())),this._actionRunner},set:function(b){this._actionRunner=b},enumerable:!0,configurable:!0}),a.prototype.getAction=function(){return this._action},a.prototype.isEnabled=function(){return this._action.enabled},a.prototype.setActionContext=function(b){this._context=b},a.prototype.render=function(b){var c=this,e=this.element=b;this._register(wc.addTarget(b));var f=this.options&&this.options.draggable;f&&(b.draggable=!0,uc&&this._register(R(b,pa.DRAG_START,function(g){var h;return(h=g.dataTransfer)===null||h===void 0?void 0:h.setData(Vi.TEXT,c._action.label)}))),this._register(R(e,Xa.Tap,function(g){return c.onClick(g)})),this._register(R(e,pa.MOUSE_DOWN,function(g){f||Ma.stop(g,!0),c._action.enabled&&g.button===0&&U(e,"active")})),this._register(R(e,pa.CLICK,function(g){Ma.stop(g,!0),c.options&&c.options.isMenu?c.onClick(g):cj(function(){return c.onClick(g)})})),this._register(R(e,pa.DBLCLICK,function(g){Ma.stop(g,!0)})),[pa.MOUSE_UP,pa.MOUSE_OUT].forEach(function(g){c._register(R(e,g,function(h){Ma.stop(h),fa(e,"active")}))})},a.prototype.onClick=function(b){Ma.stop(b,!0);var c;de(this._context)?c=b:(c=this._context,Ab(c)&&(c.event=b)),this.actionRunner.run(this._action,c)},a.prototype.focus=function(){this.element&&(this.element.focus(),U(this.element,"focused"))},a.prototype.blur=function(){this.element&&(this.element.blur(),fa(this.element,"focused"))},a.prototype.updateEnabled=function(){},a.prototype.updateLabel=function(){},a.prototype.updateTooltip=function(){},a.prototype.updateClass=function(){},a.prototype.updateChecked=function(){},a.prototype.dispose=function(){this.element&&(bl(this.element),this.element=void 0),d.prototype.dispose.call(this)},a}(I),Eg=function(d){Tn(a,d);function a(b){var c=d.call(this,a.ID,b,b?"separator text":"separator")||this;return c.checked=!1,c.enabled=!1,c}return a.ID="vs.actions.separator",a}(ac),bj=function(d){Tn(a,d);function a(b,c,e){e===void 0&&(e={});var f=d.call(this,b,c,e)||this;return f.options=e,f.options.icon=e.icon!==void 0?e.icon:!1,f.options.label=e.label!==void 0?e.label:!0,f.cssClass="",f}return a.prototype.render=function(b){d.prototype.render.call(this,b),this.element&&(this.label=S(this.element,X("a.action-label"))),this.label&&(this._action.id===Eg.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(S(this.element,X("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},a.prototype.focus=function(){d.prototype.focus.call(this),this.label&&this.label.focus()},a.prototype.updateLabel=function(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)},a.prototype.updateTooltip=function(){var b=null;this.getAction().tooltip?b=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(b=this.getAction().label,this.options.keybinding&&(b=s({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",b,this.options.keybinding))),b&&this.label&&(this.label.title=b)},a.prototype.updateClass=function(){this.cssClass&&this.label&&_e(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(U(this.label,"codicon"),this.cssClass&&Lf(this.label,this.cssClass)),this.updateEnabled()):this.label&&fa(this.label,"codicon")},a.prototype.updateEnabled=function(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),fa(this.label,"disabled"),this.label.tabIndex=0),this.element&&fa(this.element,"disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),U(this.label,"disabled"),$i(this.label)),this.element&&U(this.element,"disabled"))},a.prototype.updateChecked=function(){this.label&&(this.getAction().checked?U(this.label,"checked"):fa(this.label,"checked"))},a}(Un),$y={orientation:0,context:null,triggerKeys:{keys:[3,10],keyDown:!1}},bf=function(d){Tn(a,d);function a(b,c){c===void 0&&(c=$y);var e=d.call(this)||this;e._onDidBlur=e._register(new E()),e.onDidBlur=e._onDidBlur.event,e._onDidCancel=e._register(new E()),e.onDidCancel=e._onDidCancel.event,e._onDidRun=e._register(new E()),e.onDidRun=e._onDidRun.event,e._onDidBeforeRun=e._register(new E()),e.onDidBeforeRun=e._onDidBeforeRun.event,e.options=c,e._context=c.context,e.options.triggerKeys||(e.options.triggerKeys=$y.triggerKeys),e.options.actionRunner?e._actionRunner=e.options.actionRunner:(e._actionRunner=new il(),e._register(e._actionRunner)),e._register(e._actionRunner.onDidRun(function(h){return e._onDidRun.fire(h)})),e._register(e._actionRunner.onDidBeforeRun(function(h){return e._onDidBeforeRun.fire(h)})),e.viewItems=[],e.focusedItem=void 0,e.domNode=document.createElement("div"),e.domNode.className="monaco-action-bar",c.animated!==!1&&U(e.domNode,"animated");var f,g;switch(e.options.orientation){case 0:f=15,g=17;break;case 1:f=17,g=15,e.domNode.className+=" reverse";break;case 2:f=16,g=18,e.domNode.className+=" vertical";break;case 3:f=18,g=16,e.domNode.className+=" vertical reverse";break}return e._register(R(e.domNode,pa.KEY_DOWN,function(h){var i=new Pa(h),j=!0;i.equals(f)?e.focusPrevious():i.equals(g)?e.focusNext():i.equals(9)?e.cancel():e.isTriggerKeyEvent(i)?e.options.triggerKeys&&e.options.triggerKeys.keyDown&&e.doTrigger(i):j=!1,j&&(i.preventDefault(),i.stopPropagation())})),e._register(R(e.domNode,pa.KEY_UP,function(h){var i=new Pa(h);e.isTriggerKeyEvent(i)?(e.options.triggerKeys&&!e.options.triggerKeys.keyDown&&e.doTrigger(i),i.preventDefault(),i.stopPropagation()):(i.equals(2)||i.equals(1024|2))&&e.updateFocusedItem()})),e.focusTracker=e._register(Mf(e.domNode)),e._register(e.focusTracker.onDidBlur(function(){(document.activeElement===e.domNode||!Xc(document.activeElement,e.domNode))&&(e._onDidBlur.fire(),e.focusedItem=void 0)})),e._register(e.focusTracker.onDidFocus(function(){return e.updateFocusedItem()})),e.actionsList=document.createElement("ul"),e.actionsList.className="actions-container",e.actionsList.setAttribute("role","toolbar"),e.options.ariaLabel&&e.actionsList.setAttribute("aria-label",e.options.ariaLabel),e.domNode.appendChild(e.actionsList),b.appendChild(e.domNode),e}return a.prototype.isTriggerKeyEvent=function(b){var c=!1;return this.options.triggerKeys&&this.options.triggerKeys.keys.forEach(function(e){c=c||b.equals(e)}),c},a.prototype.updateFocusedItem=function(){for(var b=0;b<this.actionsList.children.length;b++){var c=this.actionsList.children[b];if(Xc(document.activeElement,c)){this.focusedItem=b;break}}},Object.defineProperty(a.prototype,"context",{get:function(){return this._context},set:function(b){this._context=b,this.viewItems.forEach(function(c){return c.setActionContext(b)})},enumerable:!0,configurable:!0}),a.prototype.getContainer=function(){return this.domNode},a.prototype.push=function(b,c){var e=this;c===void 0&&(c={});var f=Array.isArray(b)?b:[b],g=id(c.index)?c.index:null;f.forEach(function(h){var i=document.createElement("li");i.className="action-item",i.setAttribute("role","presentation"),e._register(R(i,pa.CONTEXT_MENU,function(k){k.preventDefault(),k.stopPropagation()}));var j;e.options.actionViewItemProvider&&(j=e.options.actionViewItemProvider(h)),j||(j=new bj(e.context,h,c)),j.actionRunner=e._actionRunner,j.setActionContext(e.context),j.render(i),g===null||g<0||g>=e.actionsList.children.length?(e.actionsList.appendChild(i),e.viewItems.push(j)):(e.actionsList.insertBefore(i,e.actionsList.children[g]),e.viewItems.splice(g,0,j),g++)})},a.prototype.clear=function(){this.viewItems=ca(this.viewItems),$b(this.actionsList)},a.prototype.isEmpty=function(){return this.viewItems.length===0},a.prototype.focus=function(b){var c=!1,e=void 0;b===void 0?c=!0:typeof b==="number"?e=b:typeof b==="boolean"&&(c=b),c&&typeof this.focusedItem==="undefined"?(this.focusedItem=this.viewItems.length-1,this.focusNext()):(e!==void 0&&(this.focusedItem=e),this.updateFocus())},a.prototype.focusNext=function(){typeof this.focusedItem==="undefined"&&(this.focusedItem=this.viewItems.length-1);var b=this.focusedItem,c;do this.focusedItem=(this.focusedItem+1)%this.viewItems.length,c=this.viewItems[this.focusedItem];while(this.focusedItem!==b&&!c.isEnabled());this.focusedItem===b&&!c.isEnabled()&&(this.focusedItem=void 0),this.updateFocus()},a.prototype.focusPrevious=function(){typeof this.focusedItem==="undefined"&&(this.focusedItem=0);var b=this.focusedItem,c;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.viewItems.length-1),c=this.viewItems[this.focusedItem];while(this.focusedItem!==b&&!c.isEnabled());this.focusedItem===b&&!c.isEnabled()&&(this.focusedItem=void 0),this.updateFocus(!0)},a.prototype.updateFocus=function(b,c){typeof this.focusedItem==="undefined"&&this.actionsList.focus({preventScroll:c});for(var e=0;e<this.viewItems.length;e++){var f=this.viewItems[e],g=f;e===this.focusedItem?Kh(g.isEnabled)&&(g.isEnabled()&&Kh(g.focus)?g.focus(b):this.actionsList.focus({preventScroll:c})):Kh(g.blur)&&g.blur()}},a.prototype.doTrigger=function(b){if(typeof this.focusedItem==="undefined")return;var c=this.viewItems[this.focusedItem];if(c instanceof Un){var e=c._context===null||c._context===void 0?b:c._context;this.run(c._action,e)}},a.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._onDidCancel.fire()},a.prototype.run=function(b,c){return this._actionRunner.run(b,c)},a.prototype.dispose=function(){ca(this.viewItems),this.viewItems=[],bl(this.getContainer()),d.prototype.dispose.call(this)},a}(I);var _u=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Bp=3,em=function(){function d(a,b,c,e){this.originalLineStart=a,this.originalLineEnd=b,this.modifiedLineStart=c,this.modifiedLineEnd=e}return d.prototype.getType=function(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0},d}(),$u=function(){function d(a){this.entries=a}return d}(),xE=function(d){_u(a,d);function a(b){var c=d.call(this)||this;return c._width=0,c._diffEditor=b,c._isVisible=!1,c.shadow=ma(document.createElement("div")),c.shadow.setClassName("diff-review-shadow"),c.actionBarContainer=ma(document.createElement("div")),c.actionBarContainer.setClassName("diff-review-actions"),c._actionBar=c._register(new bf(c.actionBarContainer.domNode)),c._actionBar.push(new ac("diffreview.close",s("label.close","Close"),"close-diff-review",!0,function(){return c.hide(),Promise.resolve(null)}),{label:!1,icon:!0}),c.domNode=ma(document.createElement("div")),c.domNode.setClassName("diff-review monaco-editor-background"),c._content=ma(document.createElement("div")),c._content.setClassName("diff-review-content"),c.scrollbar=c._register(new df(c._content.domNode,{})),c.domNode.domNode.appendChild(c.scrollbar.getDomNode()),c._register(b.onDidUpdateDiff(function(){if(!c._isVisible)return;c._diffs=c._compute(),c._render()})),c._register(b.getModifiedEditor().onDidChangeCursorPosition(function(){if(!c._isVisible)return;c._render()})),c._register(b.getOriginalEditor().onDidFocusEditorWidget(function(){c._isVisible&&c.hide()})),c._register(b.getModifiedEditor().onDidFocusEditorWidget(function(){c._isVisible&&c.hide()})),c._register(Ua(c.domNode.domNode,"click",function(e){e.preventDefault();var f=dl(e.target,"diff-review-row");f&&c._goToRow(f)})),c._register(Ua(c.domNode.domNode,"keydown",function(e){(e.equals(18)||e.equals(2048|18)||e.equals(512|18))&&(e.preventDefault(),c._goToRow(c._getNextRow())),(e.equals(16)||e.equals(2048|16)||e.equals(512|16))&&(e.preventDefault(),c._goToRow(c._getPrevRow())),(e.equals(9)||e.equals(2048|9)||e.equals(512|9)||e.equals(1024|9))&&(e.preventDefault(),c.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),c.accept())})),c._diffs=[],c._currentDiff=null,c}return a.prototype.prev=function(){var b=0;this._isVisible||(this._diffs=this._compute());if(this._isVisible){for(var c=-1,e=0,f=this._diffs.length;e<f;e++)if(this._diffs[e]===this._currentDiff){c=e;break}b=this._diffs.length+c-1}else b=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;b=b%this._diffs.length,this._diffEditor.setPosition(new G(this._diffs[b].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())},a.prototype.next=function(){var b=0;this._isVisible||(this._diffs=this._compute());if(this._isVisible){for(var c=-1,e=0,f=this._diffs.length;e<f;e++)if(this._diffs[e]===this._currentDiff){c=e;break}b=c+1}else b=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;b=b%this._diffs.length,this._diffEditor.setPosition(new G(this._diffs[b].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())},a.prototype.accept=function(){var b=-1,c=this._getCurrentFocusedRow();if(c){var e=parseInt(c.getAttribute("data-line"),10);isNaN(e)||(b=e)}this.hide(),b!==-1&&(this._diffEditor.setPosition(new G(b,1)),this._diffEditor.revealPosition(new G(b,1),1))},a.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},a.prototype._getPrevRow=function(){var b=this._getCurrentFocusedRow();return b?b.previousElementSibling?b.previousElementSibling:b:this._getFirstRow()},a.prototype._getNextRow=function(){var b=this._getCurrentFocusedRow();return b?b.nextElementSibling?b.nextElementSibling:b:this._getFirstRow()},a.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},a.prototype._getCurrentFocusedRow=function(){var b=document.activeElement;return b&&/diff-review-row/.test(b.className)?b:null},a.prototype._goToRow=function(b){var c=this._getCurrentFocusedRow();b.tabIndex=0,b.focus(),c&&c!==b&&(c.tabIndex=-1),this.scrollbar.scanDomNode()},a.prototype.isVisible=function(){return this._isVisible},a.prototype.layout=function(b,c,e){this._width=c,this.shadow.setTop(b-6),this.shadow.setWidth(c),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(b),this.domNode.setWidth(c),this.domNode.setHeight(e),this._content.setHeight(e),this._content.setWidth(c),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},a.prototype._compute=function(){var b=this._diffEditor.getLineChanges();if(!b||b.length===0)return[];var c=this._diffEditor.getOriginalEditor().getModel(),e=this._diffEditor.getModifiedEditor().getModel();return!c||!e?[]:a._mergeAdjacent(b,c.getLineCount(),e.getLineCount())},a._mergeAdjacent=function(b,c,e){if(!b||b.length===0)return[];for(var f=[],g=0,h=0,i=b.length;h<i;h++){var j=b[h],k=j.originalStartLineNumber,l=j.originalEndLineNumber,m=j.modifiedStartLineNumber,n=j.modifiedEndLineNumber,o=[],p=0;{var q=l===0?k:k-1,r=n===0?m:m-1,t=1,v=1;if(h>0){var w=b[h-1];w.originalEndLineNumber===0?t=w.originalStartLineNumber+1:t=w.originalEndLineNumber+1,w.modifiedEndLineNumber===0?v=w.modifiedStartLineNumber+1:v=w.modifiedEndLineNumber+1}var x=q-Bp+1,u=r-Bp+1;if(x<t){var y=t-x;x=x+y,u=u+y}if(u<v){var y=v-u;x=x+y,u=u+y}o[p++]=new em(x,q,u,r)}l!==0&&(o[p++]=new em(k,l,0,0)),n!==0&&(o[p++]=new em(0,0,m,n));{var A=l===0?k+1:l+1,F=n===0?m+1:n+1,B=c,D=e;if(h+1<i){var H=b[h+1];H.originalEndLineNumber===0?B=H.originalStartLineNumber:B=H.originalStartLineNumber-1,H.modifiedEndLineNumber===0?D=H.modifiedStartLineNumber:D=H.modifiedStartLineNumber-1}var J=A+Bp-1,L=F+Bp-1;if(J>B){var y=B-J;J=J+y,L=L+y}if(L>D){var y=D-L;J=J+y,L=L+y}o[p++]=new em(A,J,F,L)}f[g++]=new $u(o)}for(var O=f[0].entries,T=[],$=0,h=1,i=f.length;h<i;h++){var _=f[h].entries,$a=O[O.length-1],Na=_[0];if($a.getType()===0&&Na.getType()===0&&Na.originalLineStart<=$a.originalLineEnd){O[O.length-1]=new em($a.originalLineStart,Na.originalLineEnd,$a.modifiedLineStart,Na.modifiedLineEnd),O=O.concat(_.slice(1));continue}T[$++]=new $u(O),O=_}return T[$++]=new $u(O),T},a.prototype._findDiffIndex=function(b){for(var c=b.lineNumber,e=0,f=this._diffs.length;e<f;e++){var g=this._diffs[e].entries,h=g[g.length-1].modifiedLineEnd;if(c<=h)return e}return 0},a.prototype._render=function(){var b=this._diffEditor.getOriginalEditor().getOptions(),c=this._diffEditor.getModifiedEditor().getOptions(),e=this._diffEditor.getOriginalEditor().getModel(),f=this._diffEditor.getModifiedEditor().getModel(),g=e.getOptions(),h=f.getOptions();if(!this._isVisible||!e||!f){$b(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}var i=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[i]===this._currentDiff)return;this._currentDiff=this._diffs[i];var j=this._diffs[i].entries,k=document.createElement("div");k.className="diff-review-table",k.setAttribute("role","list"),_b.applyFontInfoSlow(k,c.get(34));for(var l=0,m=0,n=0,o=0,p=0,q=j.length;p<q;p++){var r=j[p],t=r.originalLineStart,v=r.originalLineEnd,w=r.modifiedLineStart,x=r.modifiedLineEnd;t!==0&&(l===0||t<l)&&(l=t),v!==0&&(m===0||v>m)&&(m=v),w!==0&&(n===0||w<n)&&(n=w),x!==0&&(o===0||x>o)&&(o=x)}var u=document.createElement("div");u.className="diff-review-row";var y=document.createElement("div");y.className="diff-review-cell diff-review-summary";var A=m-l+1,F=o-n+1;y.appendChild(document.createTextNode(i+1+"/"+this._diffs.length+": @@ -"+l+","+A+" +"+n+","+F+" @@")),u.setAttribute("data-line",String(n));var B=function(L){return L===0?s("no_lines","no lines"):L===1?s("one_line","1 line"):s("more_lines","{0} lines",L)},D=B(A),H=B(F);u.setAttribute("aria-label",s({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",i+1,this._diffs.length,l,D,n,H)),u.appendChild(y),u.setAttribute("role","listitem"),k.appendChild(u);for(var J=n,p=0,q=j.length;p<q;p++){var r=j[p];a._renderSection(k,r,J,this._width,b,e,g,c,f,h),r.modifiedLineStart!==0&&(J=r.modifiedLineEnd)}$b(this._content.domNode),this._content.domNode.appendChild(k),this.scrollbar.scanDomNode()},a._renderSection=function(b,c,e,f,g,h,i,j,k,l){var m=c.getType(),n="diff-review-row",o="",p="diff-review-spacer";switch(m){case 1:n="diff-review-row line-insert",o=" char-insert",p="diff-review-spacer insert-sign";break;case 2:n="diff-review-row line-delete",o=" char-delete",p="diff-review-spacer delete-sign";break}for(var q=c.originalLineStart,r=c.originalLineEnd,t=c.modifiedLineStart,v=c.modifiedLineEnd,w=Math.max(v-t,r-q),x=g.get(107),u=x.glyphMarginWidth+x.lineNumbersWidth,y=j.get(107),A=10+y.glyphMarginWidth+y.lineNumbersWidth,F=0;F<=w;F++){var B=q===0?0:q+F,D=t===0?0:t+F,H=document.createElement("div");H.style.minWidth=f+"px",H.className=n,H.setAttribute("role","listitem"),D!==0&&(e=D),H.setAttribute("data-line",String(e));var J=document.createElement("div");J.className="diff-review-cell",H.appendChild(J);var L=document.createElement("span");L.style.width=u+"px",L.style.minWidth=u+"px",L.className="diff-review-line-number"+o,B!==0?L.appendChild(document.createTextNode(String(B))):L.innerHTML="&#160;",J.appendChild(L);var O=document.createElement("span");O.style.width=A+"px",O.style.minWidth=A+"px",O.style.paddingRight="10px",O.className="diff-review-line-number"+o,D!==0?O.appendChild(document.createTextNode(String(D))):O.innerHTML="&#160;",J.appendChild(O);var T=document.createElement("span");T.className=p,T.innerHTML="&#160;&#160;",J.appendChild(T);var $=void 0;D!==0?(J.insertAdjacentHTML("beforeend",this._renderLine(k,j,l.tabSize,D)),$=k.getLineContent(D)):(J.insertAdjacentHTML("beforeend",this._renderLine(h,g,i.tabSize,B)),$=h.getLineContent(B)),$.length===0&&($=s("blankLine","blank"));var _="";switch(m){case 0:_=s("equalLine","original {0}, modified {1}: {2}",B,D,$);break;case 1:_=s("insertLine","+ modified {0}: {1}",D,$);break;case 2:_=s("deleteLine","- original {0}: {1}",B,$);break}H.setAttribute("aria-label",_),b.appendChild(H)}},a._renderLine=function(b,c,e,f){var g=b.getLineContent(f),h=c.get(34),i=(0<<11|1<<14|2<<23)>>>0,j=new Uint32Array(2);j[0]=g.length,j[1]=i;var k=new Rc(j,g),l=vd.isBasicASCII(g,b.mightContainNonBasicASCII()),m=vd.containsRTL(g,l,b.mightContainRTL()),n=Wj(new qf(h.isMonospace&&!c.get(23),h.canUseHalfwidthRightwardsArrow,g,!1,l,m,0,k,[],e,0,h.spaceWidth,h.middotWidth,c.get(88),c.get(74),c.get(69),c.get(35)!==bg.OFF,null));return n.html},a}(I);la(function(d,a){var b=d.getColor(qp);b&&a.addRule(".monaco-diff-editor .diff-review-line-number { color: "+b+"; }");var c=d.getColor(fh);c&&a.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+c+" 0 -6px 6px -6px inset; }")});var xT=function(d){_u(a,d);function a(){return d.call(this,{id:"editor.action.diffReview.next",label:s("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Z.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return a.prototype.run=function(b,c){var e=JE(b);e&&e.diffReviewNext()},a}(aa),yT=function(d){_u(a,d);function a(){return d.call(this,{id:"editor.action.diffReview.prev",label:s("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Z.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})||this}return a.prototype.run=function(b,c){var e=JE(b);e&&e.diffReviewPrev()},a}(aa);function JE(d){for(var a=d.get(ya),b=a.listDiffEditors(),c=0,e=b.length;c<e;c++){var f=b[c];if(f.hasWidgetFocus())return f}return null}N(xT);N(yT);var Od=ia("contextViewService"),le=ia("contextMenuService");var BT=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),av=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},bv=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},BE=function(d){BT(a,d);function a(b,c,e,f,g,h){var i=d.call(this)||this;i._viewZoneId=b,i._marginDomNode=c,i.editor=e,i.diff=f,i._contextMenuService=g,i._clipboardService=h,i._visibility=!1,i._marginDomNode.style.zIndex="10",i._diffActions=document.createElement("div"),i._diffActions.className="codicon codicon-lightbulb lightbulb-glyph",i._diffActions.style.position="absolute";var j=e.getOption(49),k=e.getModel().getEOL();i._diffActions.style.right="0px",i._diffActions.style.visibility="hidden",i._diffActions.style.height=j+"px",i._diffActions.style.lineHeight=j+"px",i._marginDomNode.appendChild(i._diffActions);var l=[];l.push(new ac("diff.clipboard.copyDeletedContent",f.originalEndLineNumber>f.modifiedStartLineNumber?s("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):s("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,function(){return av(i,void 0,void 0,function(){return bv(this,function(q){switch(q.label){case 0:return[4,this._clipboardService.writeText(f.originalContent.join(k)+k)];case 1:return q.sent(),[2]}})})}));var m=0,n=void 0;f.originalEndLineNumber>f.modifiedStartLineNumber&&(n=new ac("diff.clipboard.copyDeletedLineContent",s("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",f.originalStartLineNumber),void 0,!0,function(){return av(i,void 0,void 0,function(){return bv(this,function(q){switch(q.label){case 0:return[4,this._clipboardService.writeText(f.originalContent[m])];case 1:return q.sent(),[2]}})})}),l.push(n));var o=e.getOption(68);o||l.push(new ac("diff.inline.revertChange",s("diff.inline.revertChange.label","Revert this change"),void 0,!0,function(){return av(i,void 0,void 0,function(){var q,q;return bv(this,function(r){return f.modifiedEndLineNumber===0?(q=e.getModel().getLineMaxColumn(f.modifiedStartLineNumber),e.executeEdits("diffEditor",[{range:new z(f.modifiedStartLineNumber,q,f.modifiedStartLineNumber,q),text:k+f.originalContent.join(k)}])):(q=e.getModel().getLineMaxColumn(f.modifiedEndLineNumber),e.executeEdits("diffEditor",[{range:new z(f.modifiedStartLineNumber,1,f.modifiedEndLineNumber,q),text:f.originalContent.join(k)}])),[2]})})}));var p=function(q,r){i._contextMenuService.showContextMenu({getAnchor:function(){return{x:q,y:r}},getActions:function(){return n&&(n.label=s("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",f.originalStartLineNumber+m)),l},autoSelectFirstItem:!0})};return i._register(Ua(i._diffActions,"mousedown",function(q){var r=ab(i._diffActions),t=r.top,v=r.height,w=Math.floor(j/3);q.preventDefault(),p(q.posx,t+v+w)})),i._register(e.onMouseMove(function(q){if(q.target.type===8||q.target.type===5){var r=q.target.detail.viewZoneId;r===i._viewZoneId?(i.visibility=!0,m=i._updateLightBulbPosition(i._marginDomNode,q.event.browserEvent.y,j)):i.visibility=!1}else i.visibility=!1})),i._register(e.onMouseDown(function(q){if(!q.event.rightButton)return;if(q.target.type===8||q.target.type===5){var r=q.target.detail.viewZoneId;r===i._viewZoneId&&(q.event.preventDefault(),m=i._updateLightBulbPosition(i._marginDomNode,q.event.browserEvent.y,j),p(q.event.posx,q.event.posy+j))}})),i}return Object.defineProperty(a.prototype,"visibility",{get:function(){return this._visibility},set:function(b){this._visibility!==b&&(this._visibility=b,b?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")},enumerable:!0,configurable:!0}),a.prototype._updateLightBulbPosition=function(b,c,e){var f=ab(b).top,g=c-f,h=Math.floor(g/e),i=h*e;return this._diffActions.style.top=i+"px",h},a}(I);var Kd=ia("editorProgressService");var Rj=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),qT=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},hh=function(d,a){return function(b,c){a(b,c,d)}},CE=function(){function d(a,b){this._contextMenuService=a,this._clipboardService=b,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return d.prototype.getForeignViewZones=function(a){var b=this;return a.filter(function(c){return!b._zonesMap[String(c.id)]})},d.prototype.clean=function(a){var b=this;this._zones.length>0&&a.changeViewZones(function(c){for(var e=0,f=b._zones.length;e<f;e++)c.removeZone(b._zones[e])}),this._zones=[],this._zonesMap={},this._decorations=a.deltaDecorations(this._decorations,[])},d.prototype.apply=function(a,b,c,e){var f=this,g=e?Wl.capture(a):null;a.changeViewZones(function(h){for(var i=0,j=f._zones.length;i<j;i++)h.removeZone(f._zones[i]);for(var i=0,k=f.inlineDiffMargins.length;i<k;i++)f.inlineDiffMargins[i].dispose();f._zones=[],f._zonesMap={},f.inlineDiffMargins=[];for(var i=0,l=c.zones.length;i<l;i++){var m=c.zones[i];m.suppressMouseDown=!0;var n=h.addZone(m);f._zones.push(n),f._zonesMap[String(n)]=!0,c.zones[i].diff&&m.marginDomNode&&f._clipboardService&&(m.suppressMouseDown=!1,f.inlineDiffMargins.push(new BE(n,m.marginDomNode,a,c.zones[i].diff,f._contextMenuService,f._clipboardService)))}}),g&&g.restore(a),this._decorations=a.deltaDecorations(this._decorations,c.decorations),b&&b.setZones(c.overviewZones)},d}(),rT=0,Ap=function(d){Rj(a,d);function a(b,c,e,f,g,h,i,j,k,l,m){var n=d.call(this)||this;n._editorProgressService=m,n._onDidDispose=n._register(new E()),n.onDidDispose=n._onDidDispose.event,n._onDidUpdateDiff=n._register(new E()),n.onDidUpdateDiff=n._onDidUpdateDiff.event,n._lastOriginalWarning=null,n._lastModifiedWarning=null,n._editorWorkerService=f,n._codeEditorService=i,n._contextKeyService=n._register(g.createScoped(b)),n._contextKeyService.createKey("isInDiffEditor",!0),n._themeService=j,n._notificationService=k,n.id=++rT,n._state=0,n._updatingDiffProgress=null,n._domElement=b,c=c||{},n._renderSideBySide=!0,typeof c.renderSideBySide!=="undefined"&&(n._renderSideBySide=c.renderSideBySide),n._maxComputationTime=5e3,typeof c.maxComputationTime!=="undefined"&&(n._maxComputationTime=c.maxComputationTime),n._ignoreTrimWhitespace=!0,typeof c.ignoreTrimWhitespace!=="undefined"&&(n._ignoreTrimWhitespace=c.ignoreTrimWhitespace),n._renderIndicators=!0,typeof c.renderIndicators!=="undefined"&&(n._renderIndicators=c.renderIndicators),n._originalIsEditable=!1,typeof c.originalEditable!=="undefined"&&(n._originalIsEditable=Boolean(c.originalEditable)),n._updateDecorationsRunner=n._register(new Ka(function(){return n._updateDecorations()},0)),n._containerDomElement=document.createElement("div"),n._containerDomElement.className=a._getClassName(n._themeService.getTheme(),n._renderSideBySide),n._containerDomElement.style.position="relative",n._containerDomElement.style.height="100%",n._domElement.appendChild(n._containerDomElement),n._overviewViewportDomElement=ma(document.createElement("div")),n._overviewViewportDomElement.setClassName("diffViewport"),n._overviewViewportDomElement.setPosition("absolute"),n._overviewDomElement=document.createElement("div"),n._overviewDomElement.className="diffOverview",n._overviewDomElement.style.position="absolute",n._overviewDomElement.appendChild(n._overviewViewportDomElement.domNode),n._register(Ua(n._overviewDomElement,"mousedown",function(A){n.modifiedEditor.delegateVerticalScrollbarMouseDown(A)})),n._containerDomElement.appendChild(n._overviewDomElement),n._originalDomNode=document.createElement("div"),n._originalDomNode.className="editor original",n._originalDomNode.style.position="absolute",n._originalDomNode.style.height="100%",n._containerDomElement.appendChild(n._originalDomNode),n._modifiedDomNode=document.createElement("div"),n._modifiedDomNode.className="editor modified",n._modifiedDomNode.style.position="absolute",n._modifiedDomNode.style.height="100%",n._containerDomElement.appendChild(n._modifiedDomNode),n._beginUpdateDecorationsTimeout=-1,n._currentlyChangingViewZones=!1,n._diffComputationToken=0,n._originalEditorState=new CE(l,e),n._modifiedEditorState=new CE(l,e),n._isVisible=!0,n._isHandlingScrollEvent=!1,n._elementSizeObserver=n._register(new bp(n._containerDomElement,void 0,function(){return n._onDidContainerSizeChanged()})),c.automaticLayout&&n._elementSizeObserver.startObserving(),n._diffComputationResult=null;var o=n._contextKeyService.createScoped();o.createKey("isInDiffLeftEditor",!0);var p=new uf();p.set(ha,o);var q=h.createChild(p),r=n._contextKeyService.createScoped();r.createKey("isInDiffRightEditor",!0);var t=new uf();t.set(ha,r);var v=h.createChild(t);n.originalEditor=n._createLeftHandSideEditor(c,q),n.modifiedEditor=n._createRightHandSideEditor(c,v),n._originalOverviewRuler=null,n._modifiedOverviewRuler=null,n._reviewPane=new xE(n),n._containerDomElement.appendChild(n._reviewPane.domNode.domNode),n._containerDomElement.appendChild(n._reviewPane.shadow.domNode),n._containerDomElement.appendChild(n._reviewPane.actionBarContainer.domNode),n._enableSplitViewResizing=!0,typeof c.enableSplitViewResizing!=="undefined"&&(n._enableSplitViewResizing=c.enableSplitViewResizing),n._renderSideBySide?n._setStrategy(new GE(n._createDataSource(),n._enableSplitViewResizing)):n._setStrategy(new HE(n._createDataSource(),n._enableSplitViewResizing)),n._register(j.onThemeChange(function(A){n._strategy&&n._strategy.applyColors(A)&&n._updateDecorationsRunner.schedule(),n._containerDomElement.className=a._getClassName(n._themeService.getTheme(),n._renderSideBySide)}));for(var w=dh.getDiffEditorContributions(),x=0,u=w;x<u.length;x++){var y=u[x];try{n._register(h.createInstance(y.ctor,n))}catch(A){W(A)}}return n._codeEditorService.addDiffEditor(n),n}return a.prototype._setState=function(b){if(this._state===b)return;this._state=b,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3))},a.prototype.hasWidgetFocus=function(){return Xc(document.activeElement,this._domElement)},a.prototype.diffReviewNext=function(){this._reviewPane.next()},a.prototype.diffReviewPrev=function(){this._reviewPane.prev()},a._getClassName=function(b,c){var e="monaco-diff-editor monaco-editor-background ";return c&&(e+="side-by-side "),e+=di(b.type),e},a.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},a.prototype._createLeftHandSideEditor=function(b,c){var e=this,f=this._createInnerEditor(c,this._originalDomNode,this._adjustOptionsForLeftHandSide(b,this._originalIsEditable));return this._register(f.onDidScrollChange(function(g){if(e._isHandlingScrollEvent)return;if(!g.scrollTopChanged&&!g.scrollLeftChanged&&!g.scrollHeightChanged)return;e._isHandlingScrollEvent=!0,e.modifiedEditor.setScrollPosition({scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}),e._isHandlingScrollEvent=!1,e._layoutOverviewViewport()})),this._register(f.onDidChangeViewZones(function(){e._onViewZonesChanged()})),this._register(f.onDidChangeModelContent(function(){e._isVisible&&e._beginUpdateDecorationsSoon()})),f},a.prototype._createRightHandSideEditor=function(b,c){var e=this,f=this._createInnerEditor(c,this._modifiedDomNode,this._adjustOptionsForRightHandSide(b));return this._register(f.onDidScrollChange(function(g){if(e._isHandlingScrollEvent)return;if(!g.scrollTopChanged&&!g.scrollLeftChanged&&!g.scrollHeightChanged)return;e._isHandlingScrollEvent=!0,e.originalEditor.setScrollPosition({scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}),e._isHandlingScrollEvent=!1,e._layoutOverviewViewport()})),this._register(f.onDidChangeViewZones(function(){e._onViewZonesChanged()})),this._register(f.onDidChangeConfiguration(function(g){g.hasChanged(34)&&f.getModel()&&e._onViewZonesChanged()})),this._register(f.onDidChangeModelContent(function(){e._isVisible&&e._beginUpdateDecorationsSoon()})),this._register(f.onDidChangeModelOptions(function(g){g.tabSize&&e._updateDecorationsRunner.schedule()})),f},a.prototype._createInnerEditor=function(b,c,e){return b.createInstance(Qj,c,e,{})},a.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),d.prototype.dispose.call(this)},a.prototype.getId=function(){return this.getEditorType()+":"+this.id},a.prototype.getEditorType=function(){return bh.IDiffEditor},a.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},a.prototype.getOriginalEditor=function(){return this.originalEditor},a.prototype.getModifiedEditor=function(){return this.modifiedEditor},a.prototype.updateOptions=function(b){var c=!1;typeof b.renderSideBySide!=="undefined"&&(this._renderSideBySide!==b.renderSideBySide&&(this._renderSideBySide=b.renderSideBySide,c=!0)),typeof b.maxComputationTime!=="undefined"&&(this._maxComputationTime=b.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());var e=!1;typeof b.ignoreTrimWhitespace!=="undefined"&&(this._ignoreTrimWhitespace!==b.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=b.ignoreTrimWhitespace,e=!0)),typeof b.renderIndicators!=="undefined"&&(this._renderIndicators!==b.renderIndicators&&(this._renderIndicators=b.renderIndicators,e=!0)),e&&this._beginUpdateDecorations(),typeof b.originalEditable!=="undefined"&&(this._originalIsEditable=Boolean(b.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(b)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(b,this._originalIsEditable)),typeof b.enableSplitViewResizing!=="undefined"&&(this._enableSplitViewResizing=b.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),c&&(this._renderSideBySide?this._setStrategy(new GE(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new HE(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=a._getClassName(this._themeService.getTheme(),this._renderSideBySide))},a.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},a.prototype.setModel=function(b){if(b&&(!b.original||!b.modified))throw new Error(b.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(b?b.original:null),this.modifiedEditor.setModel(b?b.modified:null),this._updateDecorationsRunner.cancel(),b&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),b&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()},a.prototype.getDomNode=function(){return this._domElement},a.prototype.getVisibleColumnFromPosition=function(b){return this.modifiedEditor.getVisibleColumnFromPosition(b)},a.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},a.prototype.setPosition=function(b){this.modifiedEditor.setPosition(b)},a.prototype.revealLine=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealLine(b,c)},a.prototype.revealLineInCenter=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealLineInCenter(b,c)},a.prototype.revealLineInCenterIfOutsideViewport=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(b,c)},a.prototype.revealPosition=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealPosition(b,c)},a.prototype.revealPositionInCenter=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealPositionInCenter(b,c)},a.prototype.revealPositionInCenterIfOutsideViewport=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(b,c)},a.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},a.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},a.prototype.setSelection=function(b){this.modifiedEditor.setSelection(b)},a.prototype.setSelections=function(b){this.modifiedEditor.setSelections(b)},a.prototype.revealLines=function(b,c,e){e===void 0&&(e=0),this.modifiedEditor.revealLines(b,c,e)},a.prototype.revealLinesInCenter=function(b,c,e){e===void 0&&(e=0),this.modifiedEditor.revealLinesInCenter(b,c,e)},a.prototype.revealLinesInCenterIfOutsideViewport=function(b,c,e){e===void 0&&(e=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(b,c,e)},a.prototype.revealRange=function(b,c,e,f){c===void 0&&(c=0),e===void 0&&(e=!1),f===void 0&&(f=!0),this.modifiedEditor.revealRange(b,c,e,f)},a.prototype.revealRangeInCenter=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealRangeInCenter(b,c)},a.prototype.revealRangeInCenterIfOutsideViewport=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(b,c)},a.prototype.revealRangeAtTop=function(b,c){c===void 0&&(c=0),this.modifiedEditor.revealRangeAtTop(b,c)},a.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},a.prototype.saveViewState=function(){var b=this.originalEditor.saveViewState(),c=this.modifiedEditor.saveViewState();return{original:b,modified:c}},a.prototype.restoreViewState=function(b){if(b.original&&b.modified){var c=b;this.originalEditor.restoreViewState(c.original),this.modifiedEditor.restoreViewState(c.modified)}},a.prototype.layout=function(b){this._elementSizeObserver.observe(b)},a.prototype.focus=function(){this.modifiedEditor.focus()},a.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},a.prototype.trigger=function(b,c,e){this.modifiedEditor.trigger(b,c,e)},a.prototype.changeDecorations=function(b){return this.modifiedEditor.changeDecorations(b)},a.prototype._onDidContainerSizeChanged=function(){this._doLayout()},a.prototype._getReviewHeight=function(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0},a.prototype._layoutOverviewRulers=function(){if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;var b=this._elementSizeObserver.getHeight(),c=this._getReviewHeight(),e=a.ENTIRE_DIFF_OVERVIEW_WIDTH-2*a.ONE_OVERVIEW_WIDTH,f=this.modifiedEditor.getLayoutInfo();f&&(this._originalOverviewRuler.setLayout({top:0,width:a.ONE_OVERVIEW_WIDTH,right:e+a.ONE_OVERVIEW_WIDTH,height:b-c}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:a.ONE_OVERVIEW_WIDTH,height:b-c}))},a.prototype._onViewZonesChanged=function(){if(this._currentlyChangingViewZones)return;this._updateDecorationsRunner.schedule()},a.prototype._beginUpdateDecorationsSoon=function(){var b=this;this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return b._beginUpdateDecorations()},a.UPDATE_DIFF_DECORATIONS_DELAY)},a._equals=function(b,c){return!b&&!c?!0:!b||!c?!1:b.toString()===c.toString()},a.prototype._beginUpdateDecorations=function(){var b=this;this._beginUpdateDecorationsTimeout=-1;var c=this.originalEditor.getModel(),e=this.modifiedEditor.getModel();if(!c||!e)return;this._diffComputationToken++;var f=this._diffComputationToken;this._setState(1);if(!this._editorWorkerService.canComputeDiff(c.uri,e.uri)){(!a._equals(c.uri,this._lastOriginalWarning)||!a._equals(e.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=c.uri,this._lastModifiedWarning=e.uri,this._notificationService.warn(s("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._editorWorkerService.computeDiff(c.uri,e.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(function(g){f===b._diffComputationToken&&c===b.originalEditor.getModel()&&e===b.modifiedEditor.getModel()&&(b._setState(2),b._diffComputationResult=g,b._updateDecorationsRunner.schedule(),b._onDidUpdateDiff.fire())},function(g){f===b._diffComputationToken&&c===b.originalEditor.getModel()&&e===b.modifiedEditor.getModel()&&(b._setState(2),b._diffComputationResult=null,b._updateDecorationsRunner.schedule())})},a.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},a.prototype._updateDecorations=function(){if(!this.originalEditor.getModel()||!this.modifiedEditor.getModel()||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;var b=this._diffComputationResult?this._diffComputationResult.changes:[],c=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),e=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),f=this._strategy.getEditorsDiffDecorations(b,this._ignoreTrimWhitespace,this._renderIndicators,c,e,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,f.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,f.modified,!0)}finally{this._currentlyChangingViewZones=!1}},a.prototype._adjustOptionsForSubEditor=function(b){var c=jd(b||{});return c.inDiffEditor=!0,c.wordWrap="off",c.wordWrapMinified=!1,c.automaticLayout=!1,c.scrollbar=c.scrollbar||{},c.scrollbar.vertical="visible",c.folding=!1,c.codeLens=!1,c.fixedOverflowWidgets=!0,c.minimap||(c.minimap={}),c.minimap.enabled=!1,c},a.prototype._adjustOptionsForLeftHandSide=function(b,c){var e=this._adjustOptionsForSubEditor(b);return e.readOnly=!c,e.extraEditorClassName="original-in-monaco-diff-editor",e},a.prototype._adjustOptionsForRightHandSide=function(b){var c=this._adjustOptionsForSubEditor(b);return c.revealHorizontalRightPadding=$c.revealHorizontalRightPadding.defaultValue+a.ENTIRE_DIFF_OVERVIEW_WIDTH,c.scrollbar.verticalHasArrows=!1,c.extraEditorClassName="modified-in-monaco-diff-editor",c},a.prototype.doLayout=function(){this._elementSizeObserver.observe(),this._doLayout()},a.prototype._doLayout=function(){var b=this._elementSizeObserver.getWidth(),c=this._elementSizeObserver.getHeight(),e=this._getReviewHeight(),f=this._strategy.layout();this._originalDomNode.style.width=f+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=b-f+"px",this._modifiedDomNode.style.left=f+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=c-e+"px",this._overviewDomElement.style.width=a.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=b-a.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(a.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:f,height:c-e}),this.modifiedEditor.layout({width:b-f-a.ENTIRE_DIFF_OVERVIEW_WIDTH,height:c-e}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(c-e,b,e),this._layoutOverviewViewport()},a.prototype._layoutOverviewViewport=function(){var b=this._computeOverviewViewport();b?(this._overviewViewportDomElement.setTop(b.top),this._overviewViewportDomElement.setHeight(b.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},a.prototype._computeOverviewViewport=function(){var b=this.modifiedEditor.getLayoutInfo();if(!b)return null;var c=this.modifiedEditor.getScrollTop(),e=this.modifiedEditor.getScrollHeight(),f=Math.max(0,b.height),g=Math.max(0,f-2*0),h=e>0?g/e:0,i=Math.max(0,Math.floor(b.height*h)),j=Math.floor(c*h);return{height:i,top:j}},a.prototype._createDataSource=function(){var b=this;return{getWidth:function(){return b._elementSizeObserver.getWidth()},getHeight:function(){return b._elementSizeObserver.getHeight()-b._getReviewHeight()},getContainerDomNode:function(){return b._containerDomElement},relayoutEditors:function(){b._doLayout()},getOriginalEditor:function(){return b.originalEditor},getModifiedEditor:function(){return b.modifiedEditor}}},a.prototype._setStrategy=function(b){this._strategy&&this._strategy.dispose(),this._strategy=b,b.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()},a.prototype._getLineChangeAtOrBeforeLineNumber=function(b,c){var e=this._diffComputationResult?this._diffComputationResult.changes:[];if(e.length===0||b<c(e[0]))return null;for(var f=0,g=e.length-1;f<g;){var h=Math.floor((f+g)/2),i=c(e[h]),j=h+1<=g?c(e[h+1]):1073741824;b<i?g=h-1:b>=j?f=h+1:(f=h,g=h)}return e[f]},a.prototype._getEquivalentLineForOriginalLineNumber=function(b){var c=this._getLineChangeAtOrBeforeLineNumber(b,function(j){return j.originalStartLineNumber});if(!c)return b;var e=c.originalStartLineNumber+(c.originalEndLineNumber>0?-1:0),f=c.modifiedStartLineNumber+(c.modifiedEndLineNumber>0?-1:0),g=c.originalEndLineNumber>0?c.originalEndLineNumber-c.originalStartLineNumber+1:0,h=c.modifiedEndLineNumber>0?c.modifiedEndLineNumber-c.modifiedStartLineNumber+1:0,i=b-e;return i<=g?f+Math.min(i,h):f+h-g+i},a.prototype._getEquivalentLineForModifiedLineNumber=function(b){var c=this._getLineChangeAtOrBeforeLineNumber(b,function(j){return j.modifiedStartLineNumber});if(!c)return b;var e=c.originalStartLineNumber+(c.originalEndLineNumber>0?-1:0),f=c.modifiedStartLineNumber+(c.modifiedEndLineNumber>0?-1:0),g=c.originalEndLineNumber>0?c.originalEndLineNumber-c.originalStartLineNumber+1:0,h=c.modifiedEndLineNumber>0?c.modifiedEndLineNumber-c.modifiedStartLineNumber+1:0,i=b-f;return i<=h?e+Math.min(i,g):e+g-h+i},a.prototype.getDiffLineInformationForOriginal=function(b){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(b)}:null},a.prototype.getDiffLineInformationForModified=function(b){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(b)}:null},a.ONE_OVERVIEW_WIDTH=15,a.ENTIRE_DIFF_OVERVIEW_WIDTH=30,a.UPDATE_DIFF_DECORATIONS_DELAY=200,a=qT([hh(3,pc),hh(4,ha),hh(5,Aa),hh(6,ya),hh(7,Ia),hh(8,Ra),hh(9,le),hh(10,Kd)],a),a}(I),DE=function(d){Rj(a,d);function a(b){var c=d.call(this)||this;return c._dataSource=b,c._insertColor=null,c._removeColor=null,c}return a.prototype.applyColors=function(b){var c=(b.getColor(Yu)||yp).transparent(2),e=(b.getColor(Zu)||zp).transparent(2),f=!c.equals(this._insertColor)||!e.equals(this._removeColor);return this._insertColor=c,this._removeColor=e,f},a.prototype.getEditorsDiffDecorations=function(b,c,e,f,g,h,i){g=g.sort(function(m,n){return m.afterLineNumber-n.afterLineNumber}),f=f.sort(function(m,n){return m.afterLineNumber-n.afterLineNumber});var j=this._getViewZones(b,f,g,h,i,e),k=this._getOriginalEditorDecorations(b,c,e,h,i),l=this._getModifiedEditorDecorations(b,c,e,h,i);return{original:{decorations:k.decorations,overviewZones:k.overviewZones,zones:j.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:j.modified}}},a}(I),EE=function(){function d(a){this._source=a,this._index=-1,this.current=null,this.advance()}return d.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},d}(),FE=function(){function d(a,b,c,e,f){this.lineChanges=a,this.originalForeignVZ=b,this.originalLineHeight=c,this.modifiedForeignVZ=e,this.modifiedLineHeight=f}return d.prototype.getViewZones=function(){for(var a={original:[],modified:[]},b=0,c=0,e=0,f=0,g=0,h=0,i=function(B,D){return B.afterLineNumber-D.afterLineNumber},j=function(B,D){if(D.domNode===null&&B.length>0){var H=B[B.length-1];if(H.afterLineNumber===D.afterLineNumber&&H.domNode===null){H.heightInLines+=D.heightInLines;return}}B.push(D)},k=new EE(this.modifiedForeignVZ),l=new EE(this.originalForeignVZ),m=0,n=this.lineChanges.length;m<=n;m++){var o=m<n?this.lineChanges[m]:null;o!==null?(e=o.originalStartLineNumber+(o.originalEndLineNumber>0?-1:0),f=o.modifiedStartLineNumber+(o.modifiedEndLineNumber>0?-1:0),c=o.originalEndLineNumber>0?o.originalEndLineNumber-o.originalStartLineNumber+1:0,b=o.modifiedEndLineNumber>0?o.modifiedEndLineNumber-o.modifiedStartLineNumber+1:0,g=Math.max(o.originalStartLineNumber,o.originalEndLineNumber),h=Math.max(o.modifiedStartLineNumber,o.modifiedEndLineNumber)):(e+=1e7+c,f+=1e7+b,g=e,h=f);for(var p=[],q=[];k.current&&k.current.afterLineNumber<=h;){var r=void 0;k.current.afterLineNumber<=f?r=e-f+k.current.afterLineNumber:r=g;var t=null;o&&o.modifiedStartLineNumber<=k.current.afterLineNumber&&k.current.afterLineNumber<=o.modifiedEndLineNumber&&(t=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),p.push({afterLineNumber:r,heightInLines:k.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:t}),k.advance()}for(;l.current&&l.current.afterLineNumber<=g;){var r=void 0;l.current.afterLineNumber<=e?r=f-e+l.current.afterLineNumber:r=h,q.push({afterLineNumber:r,heightInLines:l.current.height/this.originalLineHeight,domNode:null}),l.advance()}if(o!==null&&Uj(o)){var v=this._produceOriginalFromDiff(o,c,b);v&&p.push(v)}if(o!==null&&Vj(o)){var v=this._produceModifiedFromDiff(o,c,b);v&&q.push(v)}var w=0,x=0;for(p=p.sort(i),q=q.sort(i);w<p.length&&x<q.length;){var u=p[w],y=q[x],A=u.afterLineNumber-e,F=y.afterLineNumber-f;A<F?(j(a.original,u),w++):F<A?(j(a.modified,y),x++):u.shouldNotShrink?(j(a.original,u),w++):y.shouldNotShrink?(j(a.modified,y),x++):u.heightInLines>=y.heightInLines?(u.heightInLines-=y.heightInLines,x++):(y.heightInLines-=u.heightInLines,w++)}for(;w<p.length;)j(a.original,p[w]),w++;for(;x<q.length;)j(a.modified,q[x]),x++}return{original:d._ensureDomNodes(a.original),modified:d._ensureDomNodes(a.modified)}},d._ensureDomNodes=function(a){return a.map(function(b){return b.domNode||(b.domNode=uT()),b})},d}();function gg(d,a,b,c,e){return{range:new z(d,a,b,c),options:e}}var ad={charDelete:na.register({className:"char-delete"}),charDeleteWholeLine:na.register({className:"char-delete",isWholeLine:!0}),charInsert:na.register({className:"char-insert"}),charInsertWholeLine:na.register({className:"char-insert",isWholeLine:!0}),lineInsert:na.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:na.register({className:"line-insert",linesDecorationsClassName:"insert-sign codicon codicon-add",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:na.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:na.register({className:"line-delete",linesDecorationsClassName:"delete-sign codicon codicon-remove",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:na.register({marginClassName:"line-delete"})},GE=function(d){Rj(a,d);function a(b,c){var e=d.call(this,b)||this;return e._disableSash=c===!1,e._sashRatio=null,e._sashPosition=null,e._startSashPosition=null,e._sash=e._register(new Gg(e._dataSource.getContainerDomNode(),e)),e._disableSash&&(e._sash.state=0),e._sash.onDidStart(function(){return e.onSashDragStart()}),e._sash.onDidChange(function(f){return e.onSashDrag(f)}),e._sash.onDidEnd(function(){return e.onSashDragEnd()}),e._sash.onDidReset(function(){return e.onSashReset()}),e}return a.prototype.setEnableSplitViewResizing=function(b){var c=b===!1;this._disableSash!==c&&(this._disableSash=c,this._sash.state=this._disableSash?0:3)},a.prototype.layout=function(b){b===void 0&&(b=this._sashRatio);var c=this._dataSource.getWidth(),e=c-Ap.ENTIRE_DIFF_OVERVIEW_WIDTH,f=Math.floor((b||.5)*e),g=Math.floor(.5*e);return f=this._disableSash?g:f||g,e>a.MINIMUM_EDITOR_WIDTH*2?(f<a.MINIMUM_EDITOR_WIDTH&&(f=a.MINIMUM_EDITOR_WIDTH),f>e-a.MINIMUM_EDITOR_WIDTH&&(f=e-a.MINIMUM_EDITOR_WIDTH)):f=g,this._sashPosition!==f&&(this._sashPosition=f,this._sash.layout()),this._sashPosition},a.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},a.prototype.onSashDrag=function(b){var c=this._dataSource.getWidth(),e=c-Ap.ENTIRE_DIFF_OVERVIEW_WIDTH,f=this.layout((this._startSashPosition+(b.currentX-b.startX))/e);this._sashRatio=f/e,this._dataSource.relayoutEditors()},a.prototype.onSashDragEnd=function(){this._sash.layout()},a.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},a.prototype.getVerticalSashTop=function(b){return 0},a.prototype.getVerticalSashLeft=function(b){return this._sashPosition},a.prototype.getVerticalSashHeight=function(b){return this._dataSource.getHeight()},a.prototype._getViewZones=function(b,c,e,f,g){var h=new sT(b,c,f.getOption(49),e,g.getOption(49));return h.getViewZones()},a.prototype._getOriginalEditorDecorations=function(b,c,e,f,g){for(var h=String(this._removeColor),i={decorations:[],overviewZones:[]},j=f.getModel(),k=0,l=b.length;k<l;k++){var m=b[k];if(Vj(m)){i.decorations.push({range:new z(m.originalStartLineNumber,1,m.originalEndLineNumber,1073741824),options:e?ad.lineDeleteWithSign:ad.lineDelete}),(!Uj(m)||!m.charChanges)&&i.decorations.push(gg(m.originalStartLineNumber,1,m.originalEndLineNumber,1073741824,ad.charDeleteWholeLine)),i.overviewZones.push(new Sj(m.originalStartLineNumber,m.originalEndLineNumber,h));if(m.charChanges)for(var n=0,o=m.charChanges.length;n<o;n++){var p=m.charChanges[n];if(Vj(p))if(c)for(var q=p.originalStartLineNumber;q<=p.originalEndLineNumber;q++){var r=void 0,t=void 0;q===p.originalStartLineNumber?r=p.originalStartColumn:r=j.getLineFirstNonWhitespaceColumn(q),q===p.originalEndLineNumber?t=p.originalEndColumn:t=j.getLineLastNonWhitespaceColumn(q),i.decorations.push(gg(q,r,q,t,ad.charDelete))}else i.decorations.push(gg(p.originalStartLineNumber,p.originalStartColumn,p.originalEndLineNumber,p.originalEndColumn,ad.charDelete))}}}return i},a.prototype._getModifiedEditorDecorations=function(b,c,e,f,g){for(var h=String(this._insertColor),i={decorations:[],overviewZones:[]},j=g.getModel(),k=0,l=b.length;k<l;k++){var m=b[k];if(Uj(m)){i.decorations.push({range:new z(m.modifiedStartLineNumber,1,m.modifiedEndLineNumber,1073741824),options:e?ad.lineInsertWithSign:ad.lineInsert}),(!Vj(m)||!m.charChanges)&&i.decorations.push(gg(m.modifiedStartLineNumber,1,m.modifiedEndLineNumber,1073741824,ad.charInsertWholeLine)),i.overviewZones.push(new Sj(m.modifiedStartLineNumber,m.modifiedEndLineNumber,h));if(m.charChanges)for(var n=0,o=m.charChanges.length;n<o;n++){var p=m.charChanges[n];if(Uj(p))if(c)for(var q=p.modifiedStartLineNumber;q<=p.modifiedEndLineNumber;q++){var r=void 0,t=void 0;q===p.modifiedStartLineNumber?r=p.modifiedStartColumn:r=j.getLineFirstNonWhitespaceColumn(q),q===p.modifiedEndLineNumber?t=p.modifiedEndColumn:t=j.getLineLastNonWhitespaceColumn(q),i.decorations.push(gg(q,r,q,t,ad.charInsert))}else i.decorations.push(gg(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,ad.charInsert))}}}return i},a.MINIMUM_EDITOR_WIDTH=100,a}(DE),sT=function(d){Rj(a,d);function a(b,c,e,f,g){return d.call(this,b,c,e,f,g)||this}return a.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},a.prototype._produceOriginalFromDiff=function(b,c,e){return e>c?{afterLineNumber:Math.max(b.originalStartLineNumber,b.originalEndLineNumber),heightInLines:e-c,domNode:null}:null},a.prototype._produceModifiedFromDiff=function(b,c,e){return c>e?{afterLineNumber:Math.max(b.modifiedStartLineNumber,b.modifiedEndLineNumber),heightInLines:c-e,domNode:null}:null},a}(FE),HE=function(d){Rj(a,d);function a(b,c){var e=d.call(this,b)||this;return e.decorationsLeft=b.getOriginalEditor().getLayoutInfo().decorationsLeft,e._register(b.getOriginalEditor().onDidLayoutChange(function(f){e.decorationsLeft!==f.decorationsLeft&&(e.decorationsLeft=f.decorationsLeft,b.relayoutEditors())})),e}return a.prototype.setEnableSplitViewResizing=function(b){},a.prototype._getViewZones=function(b,c,e,f,g,h){var i=new tT(b,c,e,f,g,h);return i.getViewZones()},a.prototype._getOriginalEditorDecorations=function(b,c,e,f,g){for(var h=String(this._removeColor),i={decorations:[],overviewZones:[]},j=0,k=b.length;j<k;j++){var l=b[j];Vj(l)&&(i.decorations.push({range:new z(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:ad.lineDeleteMargin}),i.overviewZones.push(new Sj(l.originalStartLineNumber,l.originalEndLineNumber,h)))}return i},a.prototype._getModifiedEditorDecorations=function(b,c,e,f,g){for(var h=String(this._insertColor),i={decorations:[],overviewZones:[]},j=g.getModel(),k=0,l=b.length;k<l;k++){var m=b[k];if(Uj(m)){i.decorations.push({range:new z(m.modifiedStartLineNumber,1,m.modifiedEndLineNumber,1073741824),options:e?ad.lineInsertWithSign:ad.lineInsert}),i.overviewZones.push(new Sj(m.modifiedStartLineNumber,m.modifiedEndLineNumber,h));if(m.charChanges)for(var n=0,o=m.charChanges.length;n<o;n++){var p=m.charChanges[n];if(Uj(p))if(c)for(var q=p.modifiedStartLineNumber;q<=p.modifiedEndLineNumber;q++){var r=void 0,t=void 0;q===p.modifiedStartLineNumber?r=p.modifiedStartColumn:r=j.getLineFirstNonWhitespaceColumn(q),q===p.modifiedEndLineNumber?t=p.modifiedEndColumn:t=j.getLineLastNonWhitespaceColumn(q),i.decorations.push(gg(q,r,q,t,ad.charInsert))}else i.decorations.push(gg(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,ad.charInsert))}else i.decorations.push(gg(m.modifiedStartLineNumber,1,m.modifiedEndLineNumber,1073741824,ad.charInsertWholeLine))}}return i},a.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},a}(DE),tT=function(d){Rj(a,d);function a(b,c,e,f,g,h){var i=d.call(this,b,c,f.getOption(49),e,g.getOption(49))||this;return i.originalModel=f.getModel(),i.modifiedEditorOptions=g.getOptions(),i.modifiedEditorTabSize=g.getModel().getOptions().tabSize,i.renderIndicators=h,i}return a.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var b=document.createElement("div");return b.className="inline-added-margin-view-zone",b},a.prototype._produceOriginalFromDiff=function(b,c,e){var f=document.createElement("div");return f.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(b.originalStartLineNumber,b.originalEndLineNumber),heightInLines:e,domNode:document.createElement("div"),marginDomNode:f}},a.prototype._produceModifiedFromDiff=function(b,c,e){var f=[];if(b.charChanges)for(var g=0,h=b.charChanges.length;g<h;g++){var i=b.charChanges[g];Vj(i)&&f.push(new Tj(new z(i.originalStartLineNumber,i.originalStartColumn,i.originalEndLineNumber,i.originalEndColumn),"char-delete",0))}for(var j=pf(1e4),k=[],l=this.modifiedEditorOptions.get(107),m=this.modifiedEditorOptions.get(34),n=l.decorationsWidth,o=this.modifiedEditorOptions.get(49),p=m.typicalHalfwidthCharacterWidth,q=0,r=[],t=b.originalStartLineNumber;t<=b.originalEndLineNumber;t++){q=Math.max(q,this._renderOriginalLine(t-b.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,t,f,j)),r.push(this.originalModel.getLineContent(t));if(this.renderIndicators){var v=t-b.originalStartLineNumber;k=k.concat(['<div class="delete-sign codicon codicon-remove" style="position:absolute;top:'+v*o+"px;width:"+n+"px;height:"+o+'px;right:0;"></div>'])}}q+=this.modifiedEditorOptions.get(79);var w=document.createElement("div");w.className="view-lines line-delete",w.innerHTML=j.build(),_b.applyFontInfoSlow(w,m);var x=document.createElement("div");return x.className="inline-deleted-margin-view-zone",x.innerHTML=k.join(""),_b.applyFontInfoSlow(x,m),{shouldNotShrink:!0,afterLineNumber:b.modifiedEndLineNumber===0?b.modifiedStartLineNumber:b.modifiedStartLineNumber-1,heightInLines:c,minWidthInPx:q*p,domNode:w,marginDomNode:x,diff:{originalStartLineNumber:b.originalStartLineNumber,originalEndLineNumber:b.originalEndLineNumber,modifiedStartLineNumber:b.modifiedStartLineNumber,modifiedEndLineNumber:b.modifiedEndLineNumber,originalContent:r}}},a.prototype._renderOriginalLine=function(b,c,e,f,g,h,i){var j=c.getLineTokens(g),k=j.getLineContent(),l=e.get(34),m=eh.filter(h,g,1,k.length+1);i.appendASCIIString('<div class="view-line'),h.length===0&&i.appendASCIIString(" char-delete"),i.appendASCIIString('" style="top:'),i.appendASCIIString(String(b*e.get(49))),i.appendASCIIString('px;width:1000000px;">');var n=vd.isBasicASCII(k,c.mightContainNonBasicASCII()),o=vd.containsRTL(k,n,c.mightContainRTL()),p=bm(new qf(l.isMonospace&&!e.get(23),l.canUseHalfwidthRightwardsArrow,k,!1,n,o,0,j,m,f,0,l.spaceWidth,l.middotWidth,e.get(88),e.get(74),e.get(69),e.get(35)!==bg.OFF,null),i);i.appendASCIIString("</div>");var q=p.characterMapping.getAbsoluteOffsets();return q.length>0?q[q.length-1]:0},a}(FE);function Uj(d){return d.modifiedEndLineNumber>0}function Vj(d){return d.originalEndLineNumber>0}function uT(){var d=document.createElement("div");return d.className="diagonal-fill",d}la(function(d,a){var b=d.getColor(Yu);b&&(a.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+b+"; }"),a.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+b+"; }"),a.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+b+"; }"));var c=d.getColor(Zu);c&&(a.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+c+"; }"),a.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+c+"; }"),a.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+c+"; }"));var e=d.getColor(zE);e&&a.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+(d.type==="hc"?"dashed":"solid")+" "+e+"; }");var f=d.getColor(AE);f&&a.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+(d.type==="hc"?"dashed":"solid")+" "+f+"; }");var g=d.getColor(fh);g&&a.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+g+"; }");var h=d.getColor(yE);h&&a.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+h+"; }")});var ve=ia("themeService");var Ja=ia("keybindingService");var Gi=ia("clipboardService");var Kx=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Lx=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},lb=function(d,a){return function(b,c){a(b,c,d)}},v2=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},w2=0,lL=!1;function x2(){if(lL)return;lL=!0,az(document.body)}var mL=function(d){Kx(a,d);function a(b,c,e,f,g,h,i,j,k,l){var m=this;return c=c||{},c.ariaLabel=c.ariaLabel||lk.editorViewAccessibleLabel,c.ariaLabel=c.ariaLabel+";"+(xb?lk.accessibilityHelpMessageIE:lk.accessibilityHelpMessage),m=d.call(this,b,c,{},e,f,g,h,j,k,l)||this,i instanceof gs?m._standaloneKeybindingService=i:m._standaloneKeybindingService=null,x2(),m}return a.prototype.addCommand=function(b,c,e){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var f="DYNAMIC_"+ ++w2,g=Z.deserialize(e);return this._standaloneKeybindingService.addDynamicKeybinding(f,b,c,g),f},a.prototype.createContextKey=function(b,c){return this._contextKeyService.createKey(b,c)},a.prototype.addAction=function(b){var c=this;if(typeof b.id!=="string"||typeof b.label!=="string"||typeof b.run!=="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),I.None;var e=b.id,f=b.label,g=Z.and(Z.equals("editorId",this.getId()),Z.deserialize(b.precondition)),h=b.keybindings,i=Z.and(g,Z.deserialize(b.keybindingContext)),j=b.contextMenuGroupId||null,k=b.contextMenuOrder||0,l=function(v){for(var w=[],x=1;x<arguments.length;x++)w[x-1]=arguments[x];return Promise.resolve(b.run.apply(b,v2([c],w)))},m=new P(),n=this.getId()+":"+e;m.add(Ca.registerCommand(n,l));if(j){var o={command:{id:n,title:f},when:g,group:j,order:k};m.add(Jd.appendMenuItem(7,o))}if(Array.isArray(h))for(var p=0,q=h;p<q.length;p++){var r=q[p];m.add(this._standaloneKeybindingService.addDynamicKeybinding(n,r,l,i))}var t=new wp(n,f,f,g,l,this._contextKeyService);return this._actions[e]=t,m.add(va(function(){delete c._actions[e]})),m},a=Lx([lb(2,Aa),lb(3,ya),lb(4,db),lb(5,ha),lb(6,Ja),lb(7,Ia),lb(8,Ra),lb(9,Qc)],a),a}(Qj),nL=function(d){Kx(a,d);function a(b,c,e,f,g,h,i,j,k,l,m,n,o){var p=this;xn(n,c,!1);var q=l.registerEditorContainer(b);c=c||{},typeof c.theme==="string"&&l.setTheme(c.theme);var r=c.model;delete c.model,p=d.call(this,b,c,f,g,h,i,j,l,m,o)||this,p._contextViewService=k,p._configurationService=n,p._register(e),p._register(q);var t;typeof r==="undefined"?(t=self.monaco.editor.createModel(c.value||"",c.language||"text/plain"),p._ownsModel=!0):(t=r,p._ownsModel=!1),p._attachModel(t);if(t){var v={oldModelUrl:null,newModelUrl:t.uri};p._onDidChangeModel.fire(v)}return p}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.updateOptions=function(b){xn(this._configurationService,b,!1),d.prototype.updateOptions.call(this,b)},a.prototype._attachModel=function(b){d.prototype._attachModel.call(this,b),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)},a.prototype._postDetachModelCleanup=function(b){d.prototype._postDetachModelCleanup.call(this,b),b&&this._ownsModel&&(b.dispose(),this._ownsModel=!1)},a=Lx([lb(3,Aa),lb(4,ya),lb(5,db),lb(6,ha),lb(7,Ja),lb(8,Od),lb(9,ve),lb(10,Ra),lb(11,gb),lb(12,Qc)],a),a}(mL),oL=function(d){Kx(a,d);function a(b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=this;xn(n,c,!0);var t=l.registerEditorContainer(b);return c=c||{},typeof c.theme==="string"&&(c.theme=l.setTheme(c.theme)),r=d.call(this,b,c,q,j,g,f,k,l,m,o,p)||this,r._contextViewService=i,r._configurationService=n,r._register(e),r._register(t),r._contextViewService.setContainer(r._containerDomElement),r}return a.prototype.dispose=function(){d.prototype.dispose.call(this)},a.prototype.updateOptions=function(b){xn(this._configurationService,b,!0),d.prototype.updateOptions.call(this,b)},a.prototype._createInnerEditor=function(b,c,e){return b.createInstance(mL,c,e)},a.prototype.getOriginalEditor=function(){return d.prototype.getOriginalEditor.call(this)},a.prototype.getModifiedEditor=function(){return d.prototype.getModifiedEditor.call(this)},a.prototype.addCommand=function(b,c,e){return this.getModifiedEditor().addCommand(b,c,e)},a.prototype.createContextKey=function(b,c){return this.getModifiedEditor().createContextKey(b,c)},a.prototype.addAction=function(b){return this.getModifiedEditor().addAction(b)},a=Lx([lb(3,Aa),lb(4,ha),lb(5,Ja),lb(6,Od),lb(7,pc),lb(8,ya),lb(9,ve),lb(10,Ra),lb(11,gb),lb(12,le),lb(13,Kd),lb(14,pe(Gi))],a),a}(Ap);var Ij=ia("IWorkspaceEditService");var xd=ia("modeService");var PF=function(){function d(a){this._languageIdentifier=a}return d.prototype.getId=function(){return this._languageIdentifier.language},d}();var cu="text/plain",YA="application/unknown",Jo=[],ZA=[],_A=[];function Cl(d,a){a===void 0&&(a=!1);var b=DQ(d);Jo.push(b),b.userConfigured?_A.push(b):ZA.push(b),a&&!b.userConfigured&&Jo.forEach(function(c){if(c.mime===b.mime||c.userConfigured)return;b.extension&&c.extension===b.extension&&console.warn("Overwriting extension <<"+b.extension+">> to now point to mime <<"+b.mime+">>"),b.filename&&c.filename===b.filename&&console.warn("Overwriting filename <<"+b.filename+">> to now point to mime <<"+b.mime+">>"),b.filepattern&&c.filepattern===b.filepattern&&console.warn("Overwriting filepattern <<"+b.filepattern+">> to now point to mime <<"+b.mime+">>"),b.firstline&&c.firstline===b.firstline&&console.warn("Overwriting firstline <<"+b.firstline+">> to now point to mime <<"+b.mime+">>")})}function DQ(d){return{id:d.id,mime:d.mime,filename:d.filename,extension:d.extension,filepattern:d.filepattern,firstline:d.firstline,userConfigured:d.userConfigured,filenameLowercase:d.filename?d.filename.toLowerCase():void 0,extensionLowercase:d.extension?d.extension.toLowerCase():void 0,filepatternLowercase:d.filepattern?d.filepattern.toLowerCase():void 0,filepatternOnPath:d.filepattern?d.filepattern.indexOf(nb.sep)>=0:!1}}function $A(d,a){var b;if(d)switch(d.scheme){case wa.file:b=d.fsPath;break;case wa.data:var c=hf.parseMetaData(d);b=c.get(hf.META_DATA_LABEL);break;default:b=d.path}if(!b)return[YA];b=b.toLowerCase();var e=Ee(b),f=aB(b,e,_A);if(f)return[f,cu];var g=aB(b,e,ZA);if(g)return[g,cu];if(a){var h=EQ(a);if(h)return[h,cu]}return[YA]}function aB(d,a,b){for(var c=null,e=null,f=null,g=b.length-1;g>=0;g--){var h=b[g];if(a===h.filenameLowercase){c=h;break}if(h.filepattern){if(!e||h.filepattern.length>e.filepattern.length){var i=h.filepatternOnPath?d:a;Eo(h.filepatternLowercase,i)&&(e=h)}}h.extension&&((!f||h.extension.length>f.extension.length)&&(Sd(a,h.extensionLowercase)&&(f=h)))}return c?c.mime:e?e.mime:f?f.mime:null}function EQ(d){uj(d)&&(d=d.substr(1));if(d.length>0)for(var a=Jo.length-1;a>=0;a--){var b=Jo[a];if(!b.firstline)continue;var c=d.match(b.firstline);if(c&&c.length>0)return b.mime}return null}var BV={ModesRegistry:"editor.modesRegistry"},CV=function(){function d(){this._onDidChangeLanguages=new E(),this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}return d.prototype.registerLanguage=function(a){this._languages.push(a),this._onDidChangeLanguages.fire(void 0)},d.prototype.getLanguages=function(){return[].concat(this._languages).concat(this._dynamicLanguages)},d}(),pg=new CV();ib.add(BV.ModesRegistry,pg);var Vp="plaintext",Iv=new ek(Vp,1);pg.registerLanguage({id:Vp,extensions:[".txt",".gitignore"],aliases:[s("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]});sa.register(Iv,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}});var fW=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),yi=Object.prototype.hasOwnProperty,hG=function(d){fW(a,d);function a(b,c){b===void 0&&(b=!0),c===void 0&&(c=!1);var e=d.call(this)||this;return e._onDidChange=e._register(new E()),e.onDidChange=e._onDidChange.event,e._warnOnOverwrite=c,e._nextLanguageId2=1,e._languageIdToLanguage=[],e._languageToLanguageId=Object.create(null),e._languages={},e._mimeTypesMap={},e._nameMap={},e._lowercaseNameMap={},b&&(e._initializeFromRegistry(),e._register(pg.onDidChangeLanguages(function(f){return e._initializeFromRegistry()}))),e}return a.prototype._initializeFromRegistry=function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};var b=pg.getLanguages();this._registerLanguages(b)},a.prototype._registerLanguages=function(b){for(var c=this,e=0,f=b;e<f.length;e++){var g=f[e];this._registerLanguage(g)}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(h){var i=c._languages[h];i.name&&(c._nameMap[i.name]=i.identifier),i.aliases.forEach(function(j){c._lowercaseNameMap[j.toLowerCase()]=i.identifier}),i.mimetypes.forEach(function(j){c._mimeTypesMap[j]=i.identifier})}),ib.as(me.Configuration).registerOverrideIdentifiers(pg.getLanguages().map(function(h){return h.id})),this._onDidChange.fire()},a.prototype._getLanguageId=function(b){if(this._languageToLanguageId[b])return this._languageToLanguageId[b];var c=this._nextLanguageId2++;return this._languageIdToLanguage[c]=b,this._languageToLanguageId[b]=c,c},a.prototype._registerLanguage=function(b){var c=b.id,e;if(yi.call(this._languages,c))e=this._languages[c];else{var f=this._getLanguageId(c);e={identifier:new ek(c,f),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[c]=e}this._mergeLanguage(e,b)},a.prototype._mergeLanguage=function(b,c){var e,f=c.id,g=null;Array.isArray(c.mimetypes)&&c.mimetypes.length>0&&((e=b.mimetypes).push.apply(e,c.mimetypes),g=c.mimetypes[0]),g||(g="text/x-"+f,b.mimetypes.push(g));if(Array.isArray(c.extensions))for(var h=0,i=c.extensions;h<i.length;h++){var j=i[h];Cl({id:f,mime:g,extension:j},this._warnOnOverwrite),b.extensions.push(j)}if(Array.isArray(c.filenames))for(var k=0,l=c.filenames;k<l.length;k++){var m=l[k];Cl({id:f,mime:g,filename:m},this._warnOnOverwrite),b.filenames.push(m)}if(Array.isArray(c.filenamePatterns))for(var n=0,o=c.filenamePatterns;n<o.length;n++){var p=o[n];Cl({id:f,mime:g,filepattern:p},this._warnOnOverwrite)}if(typeof c.firstLine==="string"&&c.firstLine.length>0){var q=c.firstLine;q.charAt(0)!=="^"&&(q="^"+q);try{var r=new RegExp(q);wB(r)||Cl({id:f,mime:g,firstline:r},this._warnOnOverwrite)}catch(A){W(A)}}b.aliases.push(f);var t=null;typeof c.aliases!=="undefined"&&Array.isArray(c.aliases)&&(c.aliases.length===0?t=[null]:t=c.aliases);if(t!==null)for(var v=0,w=t;v<w.length;v++){var x=w[v];if(!x||x.length===0)continue;b.aliases.push(x)}var u=t!==null&&t.length>0;if(!(u&&t[0]===null)){var y=(u?t[0]:null)||f;(u||!b.name)&&(b.name=y)}c.configuration&&b.configurationFiles.push(c.configuration)},a.prototype.isRegisteredMode=function(b){return yi.call(this._mimeTypesMap,b)?!0:yi.call(this._languages,b)},a.prototype.getModeIdForLanguageNameLowercase=function(b){return yi.call(this._lowercaseNameMap,b)?this._lowercaseNameMap[b].language:null},a.prototype.extractModeIds=function(b){var c=this;return b?b.split(",").map(function(e){return e.trim()}).map(function(e){return yi.call(c._mimeTypesMap,e)?c._mimeTypesMap[e].language:e}).filter(function(e){return yi.call(c._languages,e)}):[]},a.prototype.getLanguageIdentifier=function(b){if(b===Bm||b===0)return ti;var c;if(typeof b==="string")c=b;else{c=this._languageIdToLanguage[b];if(!c)return null}return yi.call(this._languages,c)?this._languages[c].identifier:null},a.prototype.getModeIdsFromFilepathOrFirstLine=function(b,c){if(!b&&!c)return[];var e=$A(b,c);return this.extractModeIds(e.join(","))},a}(I);var iW=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),qG=function(d){iW(a,d);function a(b,c){var e=d.call(this)||this;return e._onDidChange=e._register(new E()),e.onDidChange=e._onDidChange.event,e._selector=c,e.languageIdentifier=e._selector(),e._register(b(function(){return e._evaluate()})),e}return a.prototype._evaluate=function(){var b=this._selector();if(b.id===this.languageIdentifier.id)return;this.languageIdentifier=b,this._onDidChange.fire(this.languageIdentifier)},a}(I),rG=function(){function d(a){var b=this;a===void 0&&(a=!1),this._onDidCreateMode=new E(),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new E(),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new hG(!0,a),this._registry.onDidChange(function(){return b._onLanguagesMaybeChanged.fire()})}return d.prototype.isRegisteredMode=function(a){return this._registry.isRegisteredMode(a)},d.prototype.getModeIdForLanguageName=function(a){return this._registry.getModeIdForLanguageNameLowercase(a)},d.prototype.getModeIdByFilepathOrFirstLine=function(a,b){var c=this._registry.getModeIdsFromFilepathOrFirstLine(a,b);return At(c,null)},d.prototype.getModeId=function(a){var b=this._registry.extractModeIds(a);return At(b,null)},d.prototype.getLanguageIdentifier=function(a){return this._registry.getLanguageIdentifier(a)},d.prototype.create=function(a){var b=this;return new qG(this.onLanguagesMaybeChanged,function(){var c=b.getModeId(a);return b._createModeAndGetLanguageIdentifier(c)})},d.prototype.createByFilepathOrFirstLine=function(a,b){var c=this;return new qG(this.onLanguagesMaybeChanged,function(){var e=c.getModeIdByFilepathOrFirstLine(a,b);return c._createModeAndGetLanguageIdentifier(e)})},d.prototype._createModeAndGetLanguageIdentifier=function(a){var b=this.getLanguageIdentifier(a||"plaintext")||ti;return this._getOrCreateMode(b.language),b},d.prototype.triggerMode=function(a){var b=this.getModeId(a);this._getOrCreateMode(b||"plaintext")},d.prototype._getOrCreateMode=function(a){if(!this._instantiatedModes.hasOwnProperty(a)){var b=this.getLanguageIdentifier(a)||ti;this._instantiatedModes[a]=new PF(b),this._onDidCreateMode.fire(this._instantiatedModes[a])}return this._instantiatedModes[a]},d}();var aq=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),jW=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},bq=function(d,a){return function(b,c){a(b,c,d)}};function dq(d){return d.toString()}var kW=function(){function d(a,b,c){this._modelEventListeners=new P(),this.model=a,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(a.onWillDispose(function(){return b(a)})),this._modelEventListeners.add(a.onDidChangeLanguage(function(e){return c(a,e)}))}return d.prototype._disposeLanguageSelection=function(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)},d.prototype.dispose=function(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()},d.prototype.setLanguage=function(a){var b=this;this._disposeLanguageSelection(),this._languageSelection=a,this._languageSelectionListener=this._languageSelection.onDidChange(function(){return b.model.setMode(a.languageIdentifier)}),this.model.setMode(a.languageIdentifier)},d}(),lW=cc||ka?1:2,sG=function(d){aq(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g._onModelAdded=g._register(new E()),g.onModelAdded=g._onModelAdded.event,g._onModelRemoved=g._register(new E()),g.onModelRemoved=g._onModelRemoved.event,g._onModelModeChanged=g._register(new E()),g.onModelModeChanged=g._onModelModeChanged.event,g._configurationService=b,g._resourcePropertiesService=c,g._models={},g._modelCreationOptionsByLanguageAndResource=Object.create(null),g._configurationServiceSubscription=g._configurationService.onDidChangeConfiguration(function(h){return g._updateModelOptions()}),g._updateModelOptions(),g._register(new mW(g,e,b,f)),g}return a._readModelOptions=function(b,c){var e=Ec.tabSize;if(b.editor&&typeof b.editor.tabSize!=="undefined"){var f=parseInt(b.editor.tabSize,10);isNaN(f)||(e=f),e<1&&(e=1)}var g=e;if(b.editor&&typeof b.editor.indentSize!=="undefined"&&b.editor.indentSize!=="tabSize"){var h=parseInt(b.editor.indentSize,10);isNaN(h)||(g=h),g<1&&(g=1)}var i=Ec.insertSpaces;b.editor&&typeof b.editor.insertSpaces!=="undefined"&&(i=b.editor.insertSpaces==="false"?!1:Boolean(b.editor.insertSpaces));var j=lW,k=b.eol;k===`\r
`?j=2:k===`
`&&(j=1);var l=Ec.trimAutoWhitespace;b.editor&&typeof b.editor.trimAutoWhitespace!=="undefined"&&(l=b.editor.trimAutoWhitespace==="false"?!1:Boolean(b.editor.trimAutoWhitespace));var m=Ec.detectIndentation;b.editor&&typeof b.editor.detectIndentation!=="undefined"&&(m=b.editor.detectIndentation==="false"?!1:Boolean(b.editor.detectIndentation));var n=Ec.largeFileOptimizations;return b.editor&&typeof b.editor.largeFileOptimizations!=="undefined"&&(n=b.editor.largeFileOptimizations==="false"?!1:Boolean(b.editor.largeFileOptimizations)),{isForSimpleWidget:c,tabSize:e,indentSize:g,insertSpaces:i,detectIndentation:m,defaultEOL:j,trimAutoWhitespace:l,largeFileOptimizations:n}},a.prototype.getCreationOptions=function(b,c,e){var f=this._modelCreationOptionsByLanguageAndResource[b+c];if(!f){var g=this._configurationService.getValue("editor",{overrideIdentifier:b,resource:c}),h=this._resourcePropertiesService.getEOL(c,b);f=a._readModelOptions({editor:g,eol:h},e),this._modelCreationOptionsByLanguageAndResource[b+c]=f}return f},a.prototype._updateModelOptions=function(){var b=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var c=Object.keys(this._models),e=0,f=c.length;e<f;e++){var g=c[e],h=this._models[g],i=h.model.getLanguageIdentifier().language,j=h.model.uri,k=b[i+j],l=this.getCreationOptions(i,j,h.model.isForSimpleWidget);a._setModelOptionsForModel(h.model,l,k)}},a._setModelOptionsForModel=function(b,c,e){e&&e.defaultEOL!==c.defaultEOL&&b.getLineCount()===1&&b.setEOL(c.defaultEOL===1?0:1);if(e&&e.detectIndentation===c.detectIndentation&&e.insertSpaces===c.insertSpaces&&e.tabSize===c.tabSize&&e.indentSize===c.indentSize&&e.trimAutoWhitespace===c.trimAutoWhitespace)return;c.detectIndentation?(b.detectIndentation(c.insertSpaces,c.tabSize),b.updateOptions({trimAutoWhitespace:c.trimAutoWhitespace})):b.updateOptions({insertSpaces:c.insertSpaces,tabSize:c.tabSize,indentSize:c.indentSize,trimAutoWhitespace:c.trimAutoWhitespace})},a.prototype.dispose=function(){this._configurationServiceSubscription.dispose(),d.prototype.dispose.call(this)},a.prototype._createModelData=function(b,c,e,f){var g=this,h=this.getCreationOptions(c.language,e,f),i=new Qe(b,h,c,e),j=dq(i.uri);if(this._models[j])throw new Error("ModelService: Cannot add model because it already exists!");var k=new kW(i,function(l){return g._onWillDispose(l)},function(l,m){return g._onDidChangeLanguage(l,m)});return this._models[j]=k,k},a.prototype.createModel=function(b,c,e,f){f===void 0&&(f=!1);var g;return c?(g=this._createModelData(b,c.languageIdentifier,e,f),this.setMode(g.model,c)):g=this._createModelData(b,Iv,e,f),this._onModelAdded.fire(g.model),g.model},a.prototype.setMode=function(b,c){if(!c)return;var e=this._models[dq(b.uri)];if(!e)return;e.setLanguage(c)},a.prototype.getModels=function(){for(var b=[],c=Object.keys(this._models),e=0,f=c.length;e<f;e++){var g=c[e];b.push(this._models[g].model)}return b},a.prototype.getModel=function(b){var c=dq(b),e=this._models[c];return e?e.model:null},a.prototype._onWillDispose=function(b){var c=dq(b.uri),e=this._models[c];delete this._models[c],e.dispose(),delete this._modelCreationOptionsByLanguageAndResource[b.getLanguageIdentifier().language+b.uri],this._onModelRemoved.fire(b)},a.prototype._onDidChangeLanguage=function(b,c){var e=c.oldLanguage,f=b.getLanguageIdentifier().language,g=this.getCreationOptions(e,b.uri,b.isForSimpleWidget),h=this.getCreationOptions(f,b.uri,b.isForSimpleWidget);a._setModelOptionsForModel(b,h,g),this._onModelModeChanged.fire({model:b,oldModeId:e})},a=jW([bq(0,gb),bq(1,cq),bq(2,Ia),bq(3,zf)],a),a}(I),mW=function(d){aq(a,d);function a(b,c,e,f){var g=d.call(this)||this;g._configurationService=e,g._watchers=Object.create(null),g._semanticStyling=g._register(new nW(c,f));var h=function(k){var l=e.getValue(a.SETTING_ID,{overrideIdentifier:k.getLanguageIdentifier().language,resource:k.uri});return l&&l.enabled},i=function(k){g._watchers[k.uri.toString()]=new sW(k,c,g._semanticStyling)},j=function(k,l){l.dispose(),delete g._watchers[k.uri.toString()]};return g._register(b.onModelAdded(function(k){h(k)&&i(k)})),g._register(b.onModelRemoved(function(k){var l=g._watchers[k.uri.toString()];l&&j(k,l)})),g._configurationService.onDidChangeConfiguration(function(k){if(k.affectsConfiguration(a.SETTING_ID))for(var l=0,m=b.getModels();l<m.length;l++){var n=m[l],o=g._watchers[n.uri.toString()];h(n)?o||i(n):o&&j(n,o)}}),g}return a.SETTING_ID="editor.semanticHighlighting",a}(I),nW=function(d){aq(a,d);function a(b,c){var e=d.call(this)||this;return e._themeService=b,e._logService=c,e._caches=new WeakMap(),e._themeService&&e._register(e._themeService.onThemeChange(function(){e._caches=new WeakMap()})),e}return a.prototype.get=function(b){return this._caches.has(b)||this._caches.set(b,new qW(b.getLegend(),this._themeService,this._logService)),this._caches.get(b)},a}(I),oW=function(){function d(a,b,c){this.tokenTypeIndex=a,this.tokenModifierSet=b,this.metadata=c,this.next=null}return d}(),pW=function(){function d(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=d._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<d._SIZES.length?2/3*this._currentLength:0),this._elements=[],d._nullOutEntries(this._elements,this._currentLength)}return d._nullOutEntries=function(a,b){for(var c=0;c<b;c++)a[c]=null},d.prototype._hashFunc=function(a,b){return((a<<5)-a+b|0)%this._currentLength},d.prototype.get=function(a,b){for(var c=this._hashFunc(a,b),e=this._elements[c];e;){if(e.tokenTypeIndex===a&&e.tokenModifierSet===b)return e;e=e.next}return null},d.prototype.add=function(a,b,c){this._elementsCount++;if(this._growCount!==0&&this._elementsCount>=this._growCount){var e=this._elements;this._currentLengthIndex++,this._currentLength=d._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<d._SIZES.length?2/3*this._currentLength:0),this._elements=[],d._nullOutEntries(this._elements,this._currentLength);for(var f=0,g=e;f<g.length;f++)for(var h=g[f],i=h;i;){var j=i.next;i.next=null,this._add(i),i=j}}this._add(new oW(a,b,c))},d.prototype._add=function(a){var b=this._hashFunc(a.tokenTypeIndex,a.tokenModifierSet);a.next=this._elements[b],this._elements[b]=a},d._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],d}(),qW=function(){function d(a,b,c){this._legend=a,this._themeService=b,this._logService=c,this._hashTable=new pW()}return d.prototype.getMetadata=function(a,b){var c=this._hashTable.get(a,b),e;if(c)e=c.metadata;else{for(var f=this._legend.tokenTypes[a],g=[],h=b,i=0;h>0&&i<this._legend.tokenModifiers.length;i++)h&1&&g.push(this._legend.tokenModifiers[i]),h=h>>1;var j=this._themeService.getTheme().getTokenStyleMetadata(f,g);if(typeof j==="undefined")e=2147483647;else{e=0;if(typeof j.italic!=="undefined"){var k=(j.italic?1:0)<<11;e|=k|1}if(typeof j.bold!=="undefined"){var l=(j.bold?2:0)<<11;e|=l|2}if(typeof j.underline!=="undefined"){var m=(j.underline?4:0)<<11;e|=m|4}if(j.foreground){var n=j.foreground<<14;e|=n|8}e===0&&(e=2147483647)}this._hashTable.add(a,b,e)}if(this._logService.getLevel()===Em.Trace){var o=this._legend.tokenTypes[a],p=b?" "+this._legend.tokenModifiers.filter(function(q,r){return b&1<<r}).join(" "):"";this._logService.trace("tokenStyleMetadata "+(c?"[CACHED] ":"")+o+p+": foreground "+Sc.getForeground(e)+", fontStyle "+Sc.getFontStyle(e).toString(2))}return e},d}(),rW=function(){function d(a,b,c){this._provider=a,this.resultId=b,this.data=c}return d.prototype.dispose=function(){this._provider.releaseDocumentSemanticTokens(this.resultId)},d}(),sW=function(d){aq(a,d);function a(b,c,e){var f=d.call(this)||this;return f._isDisposed=!1,f._model=b,f._semanticStyling=e,f._fetchSemanticTokens=f._register(new Ka(function(){return f._fetchSemanticTokensNow()},300)),f._currentResponse=null,f._currentRequestCancellationTokenSource=null,f._register(f._model.onDidChangeContent(function(g){f._fetchSemanticTokens.isScheduled()||f._fetchSemanticTokens.schedule()})),f._register(ym.onDidChange(function(g){return f._fetchSemanticTokens.schedule()})),c&&f._register(c.onThemeChange(function(g){f._setSemanticTokens(null,null,null,[]),f._fetchSemanticTokens.schedule()})),f._fetchSemanticTokens.schedule(0),f}return a.prototype.dispose=function(){this._currentResponse&&(this._currentResponse.dispose(),this._currentResponse=null),this._currentRequestCancellationTokenSource&&(this._currentRequestCancellationTokenSource.cancel(),this._currentRequestCancellationTokenSource=null),this._setSemanticTokens(null,null,null,[]),this._isDisposed=!0,d.prototype.dispose.call(this)},a.prototype._fetchSemanticTokensNow=function(){var b=this;if(this._currentRequestCancellationTokenSource)return;var c=this._getSemanticColoringProvider();if(!c)return;this._currentRequestCancellationTokenSource=new Oc();var e=[],f=this._model.onDidChangeContent(function(j){e.push(j)}),g=this._semanticStyling.get(c),h=this._currentResponse?this._currentResponse.resultId||null:null,i=Promise.resolve(c.provideDocumentSemanticTokens(this._model,h,this._currentRequestCancellationTokenSource.token));i.then(function(j){b._currentRequestCancellationTokenSource=null,f.dispose(),b._setSemanticTokens(c,j||null,g,e)},function(j){(!j||typeof j.message!=="string"||j.message.indexOf("busy")===-1)&&W(j),b._currentRequestCancellationTokenSource=null,f.dispose(),e.length>0&&(b._fetchSemanticTokens.isScheduled()||b._fetchSemanticTokens.schedule())})},a._isSemanticTokens=function(b){return b&&!!b.data},a._isSemanticTokensEdits=function(b){return b&&Array.isArray(b.edits)},a._copy=function(b,c,e,f,g){for(var h=0;h<g;h++)e[f+h]=b[c+h]},a.prototype._setSemanticTokens=function(b,c,e,f){var g=this._currentResponse;this._currentResponse&&(this._currentResponse.dispose(),this._currentResponse=null);if(this._isDisposed){b&&c&&b.releaseDocumentSemanticTokens(c.resultId);return}if(!b||!c||!e){this._model.setSemanticTokens(null);return}if(a._isSemanticTokensEdits(c)){if(!g){this._model.setSemanticTokens(null);return}if(c.edits.length===0)c={resultId:c.resultId,data:g.data};else{for(var h=0,i=0,j=c.edits;i<j.length;i++){var k=j[i];h+=(k.data?k.data.length:0)-k.deleteCount}for(var l=g.data,m=new Uint32Array(l.length+h),n=l.length,o=m.length,p=c.edits.length-1;p>=0;p--){var k=c.edits[p],q=n-(k.start+k.deleteCount);q>0&&(a._copy(l,n-q,m,o-q,q),o-=q),k.data&&(a._copy(k.data,0,m,o-k.data.length,k.data.length),o-=k.data.length),n=k.start}n>0&&a._copy(l,0,m,0,n),c={resultId:c.resultId,data:m}}}if(a._isSemanticTokens(c)){this._currentResponse=new rW(b,c.resultId,c.data);for(var l=c.data,r=c.data.length/5|0,t=Math.max(Math.ceil(r/1024),400),v=[],w=0,x=1,u=0;w<r;){var y=w,A=Math.min(y+t,r);if(A<r){for(var F=A;F-1>y&&l[5*F]===0;)F--;if(F-1===y){for(var B=A;B+1<r&&l[5*B]===0;)B++;A=B}else A=F}for(var m=new Uint32Array((A-y)*4),D=0,H=0;w<A;){var J=5*w,L=l[J],O=l[J+1],T=x+L,$=L===0?u+O:O,_=l[J+2],$a=l[J+3],Na=l[J+4],Nb=e.getMetadata($a,Na);Nb!==2147483647&&(H===0&&(H=T),m[D]=T-H,m[D+1]=$,m[D+2]=$+_,m[D+3]=Nb,D+=4),x=T,u=$,w++}D!==m.length&&(m=m.subarray(0,D));var zc=new KF(H,new JF(m));v.push(zc)}if(f.length>0){for(var Oa=0,Ac=f;Oa<Ac.length;Oa++)for(var al=Ac[Oa],Fn=0,Cs=v;Fn<Cs.length;Fn++)for(var Ds=Cs[Fn],wy=0,mN=al.changes;wy<mN.length;wy++){var nN=mN[wy];Ds.applyEdit(nN.range,nN.text)}this._fetchSemanticTokens.isScheduled()||this._fetchSemanticTokens.schedule()}this._model.setSemanticTokens(v);return}this._model.setSemanticTokens(null)},a.prototype._getSemanticColoringProvider=function(){var b=ym.ordered(this._model);return b.length>0?b[0]:null},a}(I);var aS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),fD=function(d){aS(a,d);function a(){var b=d.call(this)||this;return b._onCodeEditorAdd=b._register(new E()),b.onCodeEditorAdd=b._onCodeEditorAdd.event,b._onCodeEditorRemove=b._register(new E()),b.onCodeEditorRemove=b._onCodeEditorRemove.event,b._onDiffEditorAdd=b._register(new E()),b._onDiffEditorRemove=b._register(new E()),b._codeEditors=Object.create(null),b._diffEditors=Object.create(null),b}return a.prototype.addCodeEditor=function(b){this._codeEditors[b.getId()]=b,this._onCodeEditorAdd.fire(b)},a.prototype.removeCodeEditor=function(b){delete this._codeEditors[b.getId()]&&this._onCodeEditorRemove.fire(b)},a.prototype.listCodeEditors=function(){var b=this;return Object.keys(this._codeEditors).map(function(c){return b._codeEditors[c]})},a.prototype.addDiffEditor=function(b){this._diffEditors[b.getId()]=b,this._onDiffEditorAdd.fire(b)},a.prototype.removeDiffEditor=function(b){delete this._diffEditors[b.getId()]&&this._onDiffEditorRemove.fire(b)},a.prototype.listDiffEditors=function(){var b=this;return Object.keys(this._diffEditors).map(function(c){return b._diffEditors[c]})},a.prototype.getFocusedCodeEditor=function(){for(var b=null,c=this.listCodeEditors(),e=0,f=c;e<f.length;e++){var g=f[e];if(g.hasTextFocus())return g;g.hasWidgetFocus()&&(b=g)}return b},a}(I);var bS=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),cS=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},dS=function(d,a){return function(b,c){a(b,c,d)}},eS=function(){function d(a,b,c){this._parent=a,this._editorId=b,this.styleSheet=c,this._refCount=0}return d.prototype.ref=function(){this._refCount++},d.prototype.unref=function(){var a;this._refCount--,this._refCount===0&&((a=this.styleSheet.parentNode)===null||a===void 0||a.removeChild(this.styleSheet),this._parent._removeEditorStyleSheets(this._editorId))},d}(),hD=function(){function d(a){this.styleSheet=a}return d.prototype.ref=function(){},d.prototype.unref=function(){},d}(),iD=function(d){bS(a,d);function a(b,c){c===void 0&&(c=null);var e=d.call(this)||this;return e._decorationOptionProviders=new Map(),e._editorStyleSheets=new Map(),e._globalStyleSheet=c?new hD(c):null,e._themeService=b,e}return a.prototype._getOrCreateGlobalStyleSheet=function(){return this._globalStyleSheet||(this._globalStyleSheet=new hD(vc())),this._globalStyleSheet},a.prototype._getOrCreateStyleSheet=function(b){if(!b)return this._getOrCreateGlobalStyleSheet();var c=b.getContainerDomNode();if(!_i(c))return this._getOrCreateGlobalStyleSheet();var e=b.getId();if(!this._editorStyleSheets.has(e)){var f=new eS(this,e,vc(c));this._editorStyleSheets.set(e,f)}return this._editorStyleSheets.get(e)},a.prototype._removeEditorStyleSheets=function(b){this._editorStyleSheets.delete(b)},a.prototype.registerDecorationType=function(b,c,e,f){var g=this._decorationOptionProviders.get(b);if(!g){var h=this._getOrCreateStyleSheet(f),i={styleSheet:h.styleSheet,key:b,parentTypeKey:e,options:c||Object.create(null)};e?g=new fS(this._themeService,h,i):g=new gS(this._themeService,h,i),this._decorationOptionProviders.set(b,g)}g.refCount++},a.prototype.removeDecorationType=function(b){var c=this._decorationOptionProviders.get(b);c&&(c.refCount--,c.refCount<=0&&(this._decorationOptionProviders.delete(b),c.dispose(),this.listCodeEditors().forEach(function(e){return e.removeDecorations(b)})))},a.prototype.resolveDecorationOptions=function(b,c){var e=this._decorationOptionProviders.get(b);if(!e)throw new Error("Unknown decoration type key: "+b);return e.getOptions(this,c)},a=cS([dS(0,Ia)],a),a}(fD),fS=function(){function d(a,b,c){this._styleSheet=b,this._styleSheet.ref(),this._parentTypeKey=c.parentTypeKey,this.refCount=0,this._beforeContentRules=new mp(3,c,a),this._afterContentRules=new mp(4,c,a)}return d.prototype.getOptions=function(a,b){var c=a.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(c.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(c.afterContentClassName=this._afterContentRules.className),c},d.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()},d}(),gS=function(){function d(a,b,c){var e=this;this._disposables=new P(),this._styleSheet=b,this._styleSheet.ref(),this.refCount=0;var f=function(l){var m=new mp(l,c,a);return e._disposables.add(m),m.hasContent?m.className:void 0},g=function(l){var m=new mp(l,c,a);return e._disposables.add(m),m.hasContent?{className:m.className,hasLetterSpacing:m.hasLetterSpacing}:null};this.className=f(0);var h=g(1);h&&(this.inlineClassName=h.className,this.inlineClassNameAffectsLetterSpacing=h.hasLetterSpacing),this.beforeContentClassName=f(3),this.afterContentClassName=f(4),this.glyphMarginClassName=f(2);var i=c.options;this.isWholeLine=Boolean(i.isWholeLine),this.stickiness=i.rangeBehavior;var j=i.light&&i.light.overviewRulerColor||i.overviewRulerColor,k=i.dark&&i.dark.overviewRulerColor||i.overviewRulerColor;(typeof j!=="undefined"||typeof k!=="undefined")&&(this.overviewRuler={color:j||k,darkColor:k||j,position:i.overviewRulerLane||oc.Center})}return d.prototype.getOptions=function(a,b){return b?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},d.prototype.dispose=function(){this._disposables.dispose(),this._styleSheet.unref()},d}(),Xl={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},mp=function(){function d(a,b,c){var e=this;this._theme=c.getTheme(),this._ruleType=a,this._providerArgs=b,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var f=Fu.getClassName(this._providerArgs.key,a);this._providerArgs.parentTypeKey&&(f=f+" "+Fu.getClassName(this._providerArgs.parentTypeKey,a)),this._className=f,this._unThemedSelector=Fu.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,a),this._buildCSS(),this._usesThemeColors?this._themeListener=c.onThemeChange(function(g){e._theme=c.getTheme(),e._removeCSS(),e._buildCSS()}):this._themeListener=null}return d.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(d.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),d.prototype._buildCSS=function(){var a=this._providerArgs.options,b,c,e;switch(this._ruleType){case 0:b=this.getCSSTextForModelDecorationClassName(a),c=this.getCSSTextForModelDecorationClassName(a.light),e=this.getCSSTextForModelDecorationClassName(a.dark);break;case 1:b=this.getCSSTextForModelDecorationInlineClassName(a),c=this.getCSSTextForModelDecorationInlineClassName(a.light),e=this.getCSSTextForModelDecorationInlineClassName(a.dark);break;case 2:b=this.getCSSTextForModelDecorationGlyphMarginClassName(a),c=this.getCSSTextForModelDecorationGlyphMarginClassName(a.light),e=this.getCSSTextForModelDecorationGlyphMarginClassName(a.dark);break;case 3:b=this.getCSSTextForModelDecorationContentClassName(a.before),c=this.getCSSTextForModelDecorationContentClassName(a.light&&a.light.before),e=this.getCSSTextForModelDecorationContentClassName(a.dark&&a.dark.before);break;case 4:b=this.getCSSTextForModelDecorationContentClassName(a.after),c=this.getCSSTextForModelDecorationContentClassName(a.light&&a.light.after),e=this.getCSSTextForModelDecorationContentClassName(a.dark&&a.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var f=this._providerArgs.styleSheet.sheet,g=!1;b.length>0&&(f.insertRule(this._unThemedSelector+" {"+b+"}",0),g=!0),c.length>0&&(f.insertRule(".vs"+this._unThemedSelector+" {"+c+"}",0),g=!0),e.length>0&&(f.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+e+"}",0),g=!0),this._hasContent=g},d.prototype._removeCSS=function(){el(this._unThemedSelector,this._providerArgs.styleSheet)},d.prototype.getCSSTextForModelDecorationClassName=function(a){if(!a)return"";var b=[];return this.collectCSSText(a,["backgroundColor"],b),this.collectCSSText(a,["outline","outlineColor","outlineStyle","outlineWidth"],b),this.collectBorderSettingsCSSText(a,b),b.join("")},d.prototype.getCSSTextForModelDecorationInlineClassName=function(a){if(!a)return"";var b=[];return this.collectCSSText(a,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],b),a.letterSpacing&&(this._hasLetterSpacing=!0),b.join("")},d.prototype.getCSSTextForModelDecorationContentClassName=function(a){if(!a)return"";var b=[];if(typeof a!=="undefined"){this.collectBorderSettingsCSSText(a,b),typeof a.contentIconPath!=="undefined"&&b.push(Ba(Xl.contentIconPath,Qs(ja.revive(a.contentIconPath))));if(typeof a.contentText==="string"){var c=a.contentText.match(/^.*$/m)[0],e=c.replace(/['\\]/g,"\\$&");b.push(Ba(Xl.contentText,e))}this.collectCSSText(a,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],b),this.collectCSSText(a,["width","height"],b)&&b.push("display:inline-block;")}return b.join("")},d.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(a){if(!a)return"";var b=[];return typeof a.gutterIconPath!=="undefined"&&(b.push(Ba(Xl.gutterIconPath,Qs(ja.revive(a.gutterIconPath)))),typeof a.gutterIconSize!=="undefined"&&b.push(Ba(Xl.gutterIconSize,a.gutterIconSize))),b.join("")},d.prototype.collectBorderSettingsCSSText=function(a,b){return this.collectCSSText(a,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],b)?(b.push(Ba("box-sizing: border-box;")),!0):!1},d.prototype.collectCSSText=function(a,b,c){for(var e=c.length,f=0,g=b;f<g.length;f++){var h=g[f],i=this.resolveValue(a[h]);typeof i==="string"&&c.push(Ba(Xl[h],i))}return c.length!==e},d.prototype.resolveValue=function(a){if(gD(a)){this._usesThemeColors=!0;var b=this._theme.getColor(a.id);return b?b.toString():"transparent"}return a},d}(),Fu=function(){function d(){}return d.getClassName=function(a,b){return"ced-"+a+"-"+b},d.getSelector=function(a,b,c){var e=".monaco-editor ."+this.getClassName(a,c);return b&&(e=e+"."+this.getClassName(b,c)),c===3?e+="::before":c===4&&(e+="::after"),e},d}();var y2=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),pL=function(d){y2(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.getActiveCodeEditor=function(){return null},a.prototype.openCodeEditor=function(b,c,e){return c?Promise.resolve(this.doOpenEditor(c,b)):Promise.resolve(null)},a.prototype.doOpenEditor=function(b,c){var e=this.findModel(b,c.resource);if(!e){if(c.resource){var f=c.resource.scheme;if(f===wa.http||f===wa.https)return Nn(c.resource.toString()),b}return null}var g=c.options?c.options.selection:null;if(g)if(typeof g.endLineNumber==="number"&&typeof g.endColumn==="number")b.setSelection(g),b.revealRangeInCenter(g,1);else{var h={lineNumber:g.startLineNumber,column:g.startColumn};b.setPosition(h),b.revealPositionInCenter(h,1)}return b},a.prototype.findModel=function(b,c){var e=b.getModel();return e&&e.uri.toString()!==c.toString()?null:e},a}(iD);var MV=function(){function d(a,b,c,e,f){this.token=a,this.index=b,this.fontStyle=c,this.foreground=e,this.background=f}return d}();function NV(d){if(!d||!Array.isArray(d))return[];for(var a=[],b=0,c=0,e=d.length;c<e;c++){var f=d[c],g=-1;if(typeof f.fontStyle==="string"){g=0;for(var h=f.fontStyle.split(" "),i=0,j=h.length;i<j;i++){var k=h[i];switch(k){case"italic":g=g|1;break;case"bold":g=g|2;break;case"underline":g=g|4;break}}}var l=null;typeof f.foreground==="string"&&(l=f.foreground);var m=null;typeof f.background==="string"&&(m=f.background),a[b++]=new MV(f.token||"",c,g,l,m)}return a}function OV(d,a){d.sort(function(r,t){var v=TV(r.token,t.token);return v!==0?v:r.index-t.index});for(var b=0,c="000000",e="ffffff";d.length>=1&&d[0].token==="";){var f=d.shift();f.fontStyle!==-1&&(b=f.fontStyle),f.foreground!==null&&(c=f.foreground),f.background!==null&&(e=f.background)}for(var g=new QV(),h=0,i=a;h<i.length;h++){var j=i[h];g.getId(j)}for(var k=g.getId(c),l=g.getId(e),m=new UV(b,k,l),n=new VV(m),o=0,p=d.length;o<p;o++){var q=d[o];n.insert(q.token,q.fontStyle,g.getId(q.foreground),g.getId(q.background))}return new Kv(g,n)}var PV=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,QV=function(){function d(){this._lastColorId=0,this._id2color=[],this._color2id=new Map()}return d.prototype.getId=function(a){if(a===null)return 0;var b=a.match(PV);if(!b)throw new Error("Illegal value for token color: "+a);a=b[1].toUpperCase();var c=this._color2id.get(a);return c?c:(c=++this._lastColorId,this._color2id.set(a,c),this._id2color[c]=M.fromHex("#"+a),c)},d.prototype.getColorMap=function(){return this._id2color.slice(0)},d}(),Kv=function(){function d(a,b){this._colorMap=a,this._root=b,this._cache=new Map()}return d.createFromRawTokenTheme=function(a,b){return this.createFromParsedTokenTheme(NV(a),b)},d.createFromParsedTokenTheme=function(a,b){return OV(a,b)},d.prototype.getColorMap=function(){return this._colorMap.getColorMap()},d.prototype._match=function(a){return this._root.match(a)},d.prototype.match=function(a,b){var c=this._cache.get(b);if(typeof c==="undefined"){var e=this._match(b),f=SV(b);c=(e.metadata|f<<8)>>>0,this._cache.set(b,c)}return(c|a<<0)>>>0},d}(),RV=/\b(comment|string|regex|regexp)\b/;function SV(d){var a=d.match(RV);if(!a)return 0;switch(a[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function TV(d,a){return d<a?-1:d>a?1:0}var UV=function(){function d(a,b,c){this._fontStyle=a,this._foreground=b,this._background=c,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return d.prototype.clone=function(){return new d(this._fontStyle,this._foreground,this._background)},d.prototype.acceptOverwrite=function(a,b,c){a!==-1&&(this._fontStyle=a),b!==0&&(this._foreground=b),c!==0&&(this._background=c),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},d}(),VV=function(){function d(a){this._mainRule=a,this._children=new Map()}return d.prototype.match=function(a){if(a==="")return this._mainRule;var b=a.indexOf("."),c,e;b===-1?(c=a,e=""):(c=a.substring(0,b),e=a.substring(b+1));var f=this._children.get(c);return typeof f!=="undefined"?f.match(e):this._mainRule},d.prototype.insert=function(a,b,c,e){if(a===""){this._mainRule.acceptOverwrite(b,c,e);return}var f=a.indexOf("."),g,h;f===-1?(g=a,h=""):(g=a.substring(0,f),h=a.substring(f+1));var i=this._children.get(g);typeof i==="undefined"&&(i=new d(this._mainRule.clone()),this._children.set(g,i)),i.insert(h,b,c,e)},d}();function $F(d){for(var a=[],b=1,c=d.length;b<c;b++){var e=d[b];a[b]=".mtk"+b+" { color: "+e+"; }"}return a.push(".mtki { font-style: italic; }"),a.push(".mtkb { font-weight: bold; }"),a.push(".mtku { text-decoration: underline; text-underline-position: under; }"),a.join(`
`)}var Ch,Dh,Wk,JL={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(Ch={},Ch[Xd]="#FFFFFE",Ch[je]="#000000",Ch[cm]="#E5EBF1",Ch[Mj]="#D3D3D3",Ch[Lj]="#939393",Ch[un]="#ADD6FF4D",Ch)},KL={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(Dh={},Dh[Xd]="#1E1E1E",Dh[je]="#D4D4D4",Dh[cm]="#3A3D41",Dh[Mj]="#404040",Dh[Lj]="#707070",Dh[un]="#ADD6FF26",Dh)},IL={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(Wk={},Wk[Xd]="#000000",Wk[je]="#FFFFFF",Wk[Mj]="#FFFFFF",Wk[Lj]="#FFFFFF",Wk)};var A3=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Qi="vs",is="vs-dark",yn="hc-black",B3=ib.as(Nx.ColorContribution),C3=ib.as(Ox.ThemingContribution),LL=function(){function d(a,b){this.themeData=b;var c=b.base;a.length>0?(this.id=c+" "+a,this.themeName=a):(this.id=c,this.themeName=c),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object.defineProperty(d.prototype,"base",{get:function(){return this.themeData.base},enumerable:!0,configurable:!0}),d.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)},d.prototype.getColors=function(){if(!this.colors){var a=new Map();for(var b in this.themeData.colors)a.set(b,M.fromHex(this.themeData.colors[b]));if(this.themeData.inherit){var c=Qx(this.themeData.base);for(var b in c.colors)a.has(b)||a.set(b,M.fromHex(c.colors[b]))}this.colors=a}return this.colors},d.prototype.getColor=function(a,b){var c=this.getColors().get(a);return c?c:b!==!1?this.getDefault(a):void 0},d.prototype.getDefault=function(a){var b=this.defaultColors[a];return b?b:(b=B3.resolveDefaultColor(a,this),this.defaultColors[a]=b,b)},d.prototype.defines=function(a){return Object.prototype.hasOwnProperty.call(this.getColors(),a)},Object.defineProperty(d.prototype,"type",{get:function(){switch(this.base){case Qi:return"light";case yn:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var a=[],b=[];if(this.themeData.inherit){var c=Qx(this.themeData.base);a=c.rules,c.encodedTokensColors&&(b=c.encodedTokensColors)}a=a.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(b=this.themeData.encodedTokensColors),this._tokenTheme=Kv.createFromRawTokenTheme(a,b)}return this._tokenTheme},enumerable:!0,configurable:!0}),d.prototype.getTokenStyleMetadata=function(a,b){return},d}();function Px(d){return d===Qi||d===is||d===yn}function Qx(d){switch(d){case Qi:return JL;case is:return KL;case yn:return IL}}function Rx(d){var a=Qx(d);return new LL(d,a)}var wL=function(d){A3(a,d);function a(){var b=d.call(this)||this;return b._onThemeChange=b._register(new E()),b.onThemeChange=b._onThemeChange.event,b._environment=Object.create(null),b._knownThemes=new Map(),b._knownThemes.set(Qi,Rx(Qi)),b._knownThemes.set(is,Rx(is)),b._knownThemes.set(yn,Rx(yn)),b._css="",b._globalStyleElement=null,b._styleElements=[],b.setTheme(Qi),b}return a.prototype.registerEditorContainer=function(b){return _i(b)?this._registerShadowDomContainer(b):this._registerRegularEditorContainer()},a.prototype._registerRegularEditorContainer=function(){return this._globalStyleElement||(this._globalStyleElement=vc(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.innerHTML=this._css,this._styleElements.push(this._globalStyleElement)),I.None},a.prototype._registerShadowDomContainer=function(b){var c=this,e=vc(b);return e.className="monaco-colors",e.innerHTML=this._css,this._styleElements.push(e),{dispose:function(){for(var f=0;f<c._styleElements.length;f++)if(c._styleElements[f]===e){c._styleElements.splice(f,1);return}}}},a.prototype.defineTheme=function(b,c){if(!/^[a-z0-9\-]+$/i.test(b))throw new Error("Illegal theme name!");if(!Px(c.base)&&!Px(b))throw new Error("Illegal theme base!");this._knownThemes.set(b,new LL(b,c)),Px(b)&&this._knownThemes.forEach(function(e){e.base===b&&e.notifyBaseUpdated()}),this._theme&&this._theme.themeName===b&&this.setTheme(b)},a.prototype.getTheme=function(){return this._theme},a.prototype.setTheme=function(b){var c=this,e;this._knownThemes.has(b)?e=this._knownThemes.get(b):e=this._knownThemes.get(Qi);if(this._theme===e)return e.id;this._theme=e;var f=[],g={},h={addRule:function(k){g[k]||(f.push(k),g[k]=!0)}};C3.getThemingParticipants().forEach(function(k){return k(e,h,c._environment)});var i=e.tokenTheme,j=i.getColorMap();return h.addRule($F(j)),this._css=f.join(`
`),this._styleElements.forEach(function(k){return k.innerHTML=c._css}),Ga.setColorMap(j),this._onThemeChange.fire(e),e.id},a.prototype.getIconTheme=function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}},a}(I);var ms=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),_3=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},$3=function(d,a){return function(b,c){a(b,c,d)}},ns="data-keybinding-context",gy=function(){function d(a,b){this._id=a,this._parent=b,this._value=Object.create(null),this._value._contextId=a}return d.prototype.setValue=function(a,b){return this._value[a]!==b?(this._value[a]=b,!0):!1},d.prototype.removeValue=function(a){return a in this._value?(delete this._value[a],!0):!1},d.prototype.getValue=function(a){var b=this._value[a];return typeof b==="undefined"&&this._parent?this._parent.getValue(a):b},d}(),os=function(d){ms(a,d);function a(){return d.call(this,-1,null)||this}return a.prototype.setValue=function(b,c){return!1},a.prototype.removeValue=function(b){return!1},a.prototype.getValue=function(b){return},a.INSTANCE=new a(),a}(gy),a4=function(d){ms(a,d);function a(b,c,e){var f=d.call(this,b,null)||this;return f._configurationService=c,f._values=new Map(),f._listener=f._configurationService.onDidChangeConfiguration(function(g){if(g.source===6){var h=_f(f._values);f._values.clear(),e.fire(new sM(h))}else{for(var i=[],j=0,k=g.affectedKeys;j<k.length;j++){var l=k[j],m="config."+l;f._values.has(m)&&(f._values.delete(m),i.push(m))}e.fire(new sM(i))}}),f}return a.prototype.dispose=function(){this._listener.dispose()},a.prototype.getValue=function(b){if(b.indexOf(a._keyPrefix)!==0)return d.prototype.getValue.call(this,b);if(this._values.has(b))return this._values.get(b);var c=b.substr(a._keyPrefix.length),e=this._configurationService.getValue(c),f=void 0;switch(typeof e){case"number":case"boolean":case"string":f=e;break}return this._values.set(b,f),f},a.prototype.setValue=function(b,c){return d.prototype.setValue.call(this,b,c)},a.prototype.removeValue=function(b){return d.prototype.removeValue.call(this,b)},a._keyPrefix="config.",a}(gy),b4=function(){function d(a,b,c){this._service=a,this._key=b,this._defaultValue=c,this.reset()}return d.prototype.set=function(a){this._service.setContext(this._key,a)},d.prototype.reset=function(){typeof this._defaultValue==="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)},d.prototype.get=function(){return this._service.getContextKeyValue(this._key)},d}(),rM=function(){function d(a){this.key=a}return d.prototype.affectsSome=function(a){return a.has(this.key)},d}(),sM=function(){function d(a){this.keys=a}return d.prototype.affectsSome=function(a){for(var b=0,c=this.keys;b<c.length;b++){var e=c[b];if(a.has(e))return!0}return!1},d}(),c4=function(){function d(a){this.events=a}return d.prototype.affectsSome=function(a){for(var b=0,c=this.events;b<c.length;b++){var e=c[b];if(e.affectsSome(a))return!0}return!1},d}(),tM=function(){function d(a){this._onDidChangeContext=new jA({merge:function(b){return new c4(b)}}),this._isDisposed=!1,this._myContextId=a}return d.prototype.createKey=function(a,b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new b4(this,a,b)},Object.defineProperty(d.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext.event},enumerable:!0,configurable:!0}),d.prototype.bufferChangeEvents=function(a){this._onDidChangeContext.pause();try{a()}finally{this._onDidChangeContext.resume()}},d.prototype.createScoped=function(a){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d4(this,a)},d.prototype.contextMatchesRules=function(a){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var b=this.getContextValuesContainer(this._myContextId),c=fs.contextMatchesRules(b,a);return c},d.prototype.getContextKeyValue=function(a){return this._isDisposed?void 0:this.getContextValuesContainer(this._myContextId).getValue(a)},d.prototype.setContext=function(a,b){if(this._isDisposed)return;var c=this.getContextValuesContainer(this._myContextId);if(!c)return;c.setValue(a,b)&&this._onDidChangeContext.fire(new rM(a))},d.prototype.removeContext=function(a){if(this._isDisposed)return;this.getContextValuesContainer(this._myContextId).removeValue(a)&&this._onDidChangeContext.fire(new rM(a))},d.prototype.getContext=function(a){return this._isDisposed?os.INSTANCE:this.getContextValuesContainer(e4(a))},d}(),xL=function(d){ms(a,d);function a(b){var c=d.call(this,0)||this;c._contexts=new Map(),c._toDispose=new P(),c._lastContextId=0;var e=new a4(c._myContextId,b,c._onDidChangeContext);return c._contexts.set(c._myContextId,e),c._toDispose.add(e),c}return a.prototype.dispose=function(){this._isDisposed=!0,this._toDispose.dispose()},a.prototype.getContextValuesContainer=function(b){return this._isDisposed?os.INSTANCE:this._contexts.get(b)||os.INSTANCE},a.prototype.createChildContext=function(b){b===void 0&&(b=this._myContextId);if(this._isDisposed)throw new Error("ContextKeyService has been disposed");var c=++this._lastContextId;return this._contexts.set(c,new gy(c,this.getContextValuesContainer(b))),c},a.prototype.disposeContext=function(b){this._isDisposed||this._contexts.delete(b)},a=_3([$3(0,gb)],a),a}(tM),d4=function(d){ms(a,d);function a(b,c){var e=d.call(this,b.createChildContext())||this;return e._parent=b,c&&(e._domNode=c,e._domNode.setAttribute(ns,String(e._myContextId))),e}return a.prototype.dispose=function(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(ns),this._domNode=void 0)},Object.defineProperty(a.prototype,"onDidChangeContext",{get:function(){return da.any(this._parent.onDidChangeContext,this._onDidChangeContext.event)},enumerable:!0,configurable:!0}),a.prototype.getContextValuesContainer=function(b){return this._isDisposed?os.INSTANCE:this._parent.getContextValuesContainer(b)},a.prototype.createChildContext=function(b){b===void 0&&(b=this._myContextId);if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(b)},a.prototype.disposeContext=function(b){if(this._isDisposed)return;this._parent.disposeContext(b)},a}(tM);function e4(d){for(;d;){if(d.hasAttribute(ns)){var a=d.getAttribute(ns);return a?parseInt(a,10):NaN}d=d.parentElement}return 0}Ca.registerCommand(qM,function(d,a,b){d.get(ha).createKey(String(a),b)});var ol=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),AO=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},gt=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,ht=/(&amp;)?(&amp;)([^\s&])/g,pl;(function(d){d[d.Right=0]="Right",d[d.Left=1]="Left"})(pl||(pl={}));var Fs=function(d){ol(a,d);function a(b,c,e){var f=d.call(this,e?e:"submenu",b,"",!0)||this;return f.entries=c,f}return a}(ac),it=function(d){ol(a,d);function a(b,c,e){e===void 0&&(e={});var f=this;U(b,"monaco-menu-container"),b.setAttribute("role","presentation");var g=document.createElement("div");U(g,"monaco-menu"),g.setAttribute("role","presentation"),f=d.call(this,g,{orientation:2,actionViewItemProvider:function(j){return f.doGetActionViewItem(j,e,h)},context:e.context,actionRunner:e.actionRunner,ariaLabel:e.ariaLabel,triggerKeys:{keys:AO([3],ka?[10]:[]),keyDown:!0}})||this,f.menuElement=g,f.actionsList.setAttribute("role","menu"),f.actionsList.tabIndex=0,f.menuDisposables=f._register(new P()),R(g,pa.KEY_DOWN,function(j){var k=new Pa(j);k.equals(2)&&j.preventDefault()}),e.enableMnemonics&&f.menuDisposables.add(R(g,pa.KEY_DOWN,function(j){var k=j.key.toLocaleLowerCase();if(f.mnemonics.has(k)){Ma.stop(j,!0);var l=f.mnemonics.get(k);l.length===1&&(l[0]instanceof vz&&l[0].container&&f.focusItemByElement(l[0].container),l[0].onClick(j));if(l.length>1){var m=l.shift();m&&m.container&&(f.focusItemByElement(m.container),l.push(m)),f.mnemonics.set(k,l)}}})),cc&&f._register(R(g,pa.KEY_DOWN,function(j){var k=new Pa(j);k.equals(14)||k.equals(11)?(f.focusedItem=f.viewItems.length-1,f.focusNext(),Ma.stop(j,!0)):(k.equals(13)||k.equals(12))&&(f.focusedItem=0,f.focusPrevious(),Ma.stop(j,!0))})),f._register(R(f.domNode,pa.MOUSE_OUT,function(j){var k=j.relatedTarget;Xc(k,f.domNode)||(f.focusedItem=void 0,f.updateFocus(),j.stopPropagation())})),f._register(R(f.actionsList,pa.MOUSE_OVER,function(j){var k=j.target;if(!k||!Xc(k,f.actionsList)||k===f.actionsList)return;for(;k.parentElement!==f.actionsList&&k.parentElement!==null;)k=k.parentElement;if(Kc(k,"action-item")){var l=f.focusedItem;f.setFocusedItem(k),l!==f.focusedItem&&f.updateFocus()}}));var h={parent:f};f.mnemonics=new Map(),f.scrollableElement=f._register(new df(g,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));var i=f.scrollableElement.getDomNode();return i.style.position="",f._register(R(i,pa.MOUSE_UP,function(j){j.preventDefault()})),g.style.maxHeight=Math.max(10,window.innerHeight-b.getBoundingClientRect().top-30)+"px",f.push(c,{icon:!0,label:!0,isMenu:!0}),b.appendChild(f.scrollableElement.getDomNode()),f.scrollableElement.scanDomNode(),f.viewItems.filter(function(j){return!(j instanceof kt)}).forEach(function(j,k,l){j.updatePositionInSet(k+1,l.length)}),f}return a.prototype.style=function(b){var c=this.getContainer(),e=b.foregroundColor?""+b.foregroundColor:"",f=b.backgroundColor?""+b.backgroundColor:"",g=b.borderColor?"1px solid "+b.borderColor:"",h=b.shadowColor?"0 2px 4px "+b.shadowColor:"";c.style.border=g,this.domNode.style.color=e,this.domNode.style.backgroundColor=f,c.style.boxShadow=h,this.viewItems&&this.viewItems.forEach(function(i){(i instanceof jt||i instanceof kt)&&i.style(b)})},a.prototype.getContainer=function(){return this.scrollableElement.getDomNode()},Object.defineProperty(a.prototype,"onScroll",{get:function(){return this.scrollableElement.onScroll},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scrollOffset",{get:function(){return this.menuElement.scrollTop},enumerable:!0,configurable:!0}),a.prototype.focusItemByElement=function(b){var c=this.focusedItem;this.setFocusedItem(b),c!==this.focusedItem&&this.updateFocus()},a.prototype.setFocusedItem=function(b){for(var c=0;c<this.actionsList.children.length;c++){var e=this.actionsList.children[c];if(b===e){this.focusedItem=c;break}}},a.prototype.updateFocus=function(b){d.prototype.updateFocus.call(this,b,!0),typeof this.focusedItem!=="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})},a.prototype.doGetActionViewItem=function(b,c,e){if(b instanceof Eg)return new kt(c.context,b,{icon:!0});if(b instanceof Fs){var f=new vz(b,b.entries,e,c);if(c.enableMnemonics){var g=f.getMnemonic();if(g&&f.isEnabled()){var h=[];this.mnemonics.has(g)&&(h=this.mnemonics.get(g)),h.push(f),this.mnemonics.set(g,h)}}return f}else{var i={enableMnemonics:c.enableMnemonics};if(c.getKeyBinding){var j=c.getKeyBinding(b);if(j){var k=j.getLabel();k&&(i.keybinding=k)}}var f=new jt(c.context,b,i);if(c.enableMnemonics){var g=f.getMnemonic();if(g&&f.isEnabled()){var h=[];this.mnemonics.has(g)&&(h=this.mnemonics.get(g)),h.push(f),this.mnemonics.set(g,h)}}return f}},a}(bf),jt=function(d){ol(a,d);function a(b,c,e){e===void 0&&(e={});var f=this;e.isMenu=!0,f=d.call(this,c,c,e)||this,f.options=e,f.options.icon=e.icon!==void 0?e.icon:!1,f.options.label=e.label!==void 0?e.label:!0,f.cssClass="";if(f.options.label&&e.enableMnemonics){var g=f.getAction().label;if(g){var h=gt.exec(g);h&&(f.mnemonic=(h[1]?h[1]:h[3]).toLocaleLowerCase())}}return f.runOnceToEnableMouseUp=new Ka(function(){if(!f.element)return;f._register(R(f.element,pa.MOUSE_UP,function(i){if(i.defaultPrevented)return;Ma.stop(i,!0),f.onClick(i)}))},100),f._register(f.runOnceToEnableMouseUp),f}return a.prototype.render=function(b){d.prototype.render.call(this,b);if(!this.element)return;this.container=b,this.item=S(this.element,X("a.action-menu-item")),this._action.id===Eg.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=S(this.item,X("span.menu-item-check.codicon.codicon-check")),this.check.setAttribute("role","none"),this.label=S(this.item,X("span.action-label")),this.options.label&&this.options.keybinding&&(S(this.item,X("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},a.prototype.blur=function(){d.prototype.blur.call(this),this.applyStyle()},a.prototype.focus=function(){d.prototype.focus.call(this),this.item&&this.item.focus(),this.applyStyle()},a.prototype.updatePositionInSet=function(b,c){this.item&&(this.item.setAttribute("aria-posinset",""+b),this.item.setAttribute("aria-setsize",""+c))},a.prototype.updateLabel=function(){if(this.options.label){var b=this.getAction().label;if(b){var c=BO(b);this.options.enableMnemonics||(b=c),this.label&&this.label.setAttribute("aria-label",c.replace(/&&/g,"&"));var e=gt.exec(b);if(e){b=Xb(b),ht.lastIndex=0;for(var f=ht.exec(b);f&&f[1];)f=ht.exec(b);f&&(b=b.substr(0,f.index)+'<u aria-hidden="true">'+f[3]+"</u>"+b.substr(f.index+f[0].length)),b=b.replace(/&amp;&amp;/g,"&amp;"),this.item&&this.item.setAttribute("aria-keyshortcuts",(e[1]?e[1]:e[3]).toLocaleLowerCase())}else b=b.replace(/&&/g,"&")}this.label&&(this.label.innerHTML=b.trim())}},a.prototype.updateTooltip=function(){var b=null;this.getAction().tooltip?b=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(b=this.getAction().label,this.options.keybinding&&(b=s({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",b,this.options.keybinding))),b&&this.item&&(this.item.title=b)},a.prototype.updateClass=function(){this.cssClass&&this.item&&_e(this.item,this.cssClass),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",U(this.label,"icon"),this.cssClass&&Lf(this.label,this.cssClass),this.updateEnabled()):this.label&&fa(this.label,"icon")},a.prototype.updateEnabled=function(){this.getAction().enabled?(this.element&&fa(this.element,"disabled"),this.item&&(fa(this.item,"disabled"),this.item.tabIndex=0)):(this.element&&U(this.element,"disabled"),this.item&&(U(this.item,"disabled"),$i(this.item)))},a.prototype.updateChecked=function(){if(!this.item)return;this.getAction().checked?(U(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(fa(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false"))},a.prototype.getMnemonic=function(){return this.mnemonic},a.prototype.applyStyle=function(){if(!this.menuStyle)return;var b=this.element&&Kc(this.element,"focused"),c=b&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,e=b&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,f=b&&this.menuStyle.selectionBorderColor?"thin solid "+this.menuStyle.selectionBorderColor:"";this.item&&(this.item.style.color=c?c.toString():"",this.item.style.backgroundColor=e?e.toString():""),this.check&&(this.check.style.color=c?c.toString():""),this.container&&(this.container.style.border=f)},a.prototype.style=function(b){this.menuStyle=b,this.applyStyle()},a}(Un),vz=function(d){ol(a,d);function a(b,c,e,f){var g=d.call(this,b,b,f)||this;return g.submenuActions=c,g.parentData=e,g.submenuOptions=f,g.mysubmenu=null,g.submenuDisposables=g._register(new P()),g.mouseOver=!1,g.expandDirection=f&&f.expandDirection!==void 0?f.expandDirection:pl.Right,g.showScheduler=new Ka(function(){g.mouseOver&&(g.cleanupExistingSubmenu(!1),g.createSubmenu(!1))},250),g.hideScheduler=new Ka(function(){g.element&&!Xc(document.activeElement,g.element)&&g.parentData.submenu===g.mysubmenu&&(g.parentData.parent.focus(!1),g.cleanupExistingSubmenu(!0))},750),g}return a.prototype.render=function(b){var c=this;d.prototype.render.call(this,b);if(!this.element)return;this.item&&(U(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=S(this.item,X("span.submenu-indicator.codicon.codicon-chevron-right")),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(R(this.element,pa.KEY_UP,function(e){var f=new Pa(e);(f.equals(17)||f.equals(3))&&(Ma.stop(e,!0),c.createSubmenu(!0))})),this._register(R(this.element,pa.KEY_DOWN,function(e){var f=new Pa(e);document.activeElement===c.item&&((f.equals(17)||f.equals(3))&&Ma.stop(e,!0))})),this._register(R(this.element,pa.MOUSE_OVER,function(e){c.mouseOver||(c.mouseOver=!0,c.showScheduler.schedule())})),this._register(R(this.element,pa.MOUSE_LEAVE,function(e){c.mouseOver=!1})),this._register(R(this.element,pa.FOCUS_OUT,function(e){c.element&&!Xc(document.activeElement,c.element)&&c.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(function(){c.parentData.parent.focus(!1),c.cleanupExistingSubmenu(!1)}))},a.prototype.onClick=function(b){Ma.stop(b,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)},a.prototype.cleanupExistingSubmenu=function(b){this.parentData.submenu&&(b||this.parentData.submenu!==this.mysubmenu)&&(this.parentData.submenu.dispose(),this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0))},a.prototype.createSubmenu=function(b){var c=this;b===void 0&&(b=!0);if(!this.element)return;if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=S(this.element,X("div.monaco-submenu")),Lf(this.submenuContainer,"menubar-menu-items-holder","context-view");var e=getComputedStyle(this.parentData.parent.domNode),f=parseFloat(e.paddingTop||"0")||0;this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-f+"px",this.parentData.submenu=new it(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);var g=this.element.getBoundingClientRect(),h=this.submenuContainer.getBoundingClientRect();this.expandDirection===pl.Right?window.innerWidth<=g.right+h.width?(this.submenuContainer.style.left="10px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset+g.height+"px"):(this.submenuContainer.style.left=this.element.offsetWidth+"px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-f+"px"):this.expandDirection===pl.Left&&(this.submenuContainer.style.right=this.element.offsetWidth+"px",this.submenuContainer.style.left="auto",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-f+"px"),this.submenuDisposables.add(R(this.submenuContainer,pa.KEY_UP,function(i){var j=new Pa(i);j.equals(15)&&(Ma.stop(i,!0),c.parentData.parent.focus(),c.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(R(this.submenuContainer,pa.KEY_DOWN,function(i){var j=new Pa(i);j.equals(15)&&Ma.stop(i,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(function(){c.parentData.parent.focus(),c.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(b),this.mysubmenu=this.parentData.submenu}},a.prototype.updateAriaExpanded=function(b){var c;this.item&&((c=this.item)===null||c===void 0||c.setAttribute("aria-expanded",b))},a.prototype.applyStyle=function(){d.prototype.applyStyle.call(this);if(!this.menuStyle)return;var b=this.element&&Kc(this.element,"focused"),c=b&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=c?""+c:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)},a.prototype.dispose=function(){d.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)},a}(jt),kt=function(d){ol(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.style=function(b){this.label&&(this.label.style.borderBottomColor=b.separatorColor?""+b.separatorColor:"")},a}(bj);function BO(d){var a=gt,b=a.exec(d);if(!b)return d;var c=!b[1];return d.replace(a,c?"$2$3":"").trim()}var $k=function(){return $k=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},$k.apply(this,arguments)};function R4(d,a){var b=Object.create(null);for(var c in a){var e=a[c];e&&(b[c]=xg(e,d))}return b}function As(d,a,b){function c(e){var f=R4(d.getTheme(),a);typeof b==="function"?b(f):b.style(f)}return c(d.getTheme()),d.onThemeChange(c)}function NI(d,a,b){return As(a,{badgeBackground:b&&b.badgeBackground||RM,badgeForeground:b&&b.badgeForeground||SM,badgeBorder:Fb},d)}function UK(d,a,b){return As(a,{foreground:b&&b.foreground||ga,background:b&&b.background||Xd,borderColor:b&&b.borderColor||Fb,widgetShadow:b&&b.widgetShadow||re,progressBarBackground:b&&b.progressBarBackground||TM,pickerGroupForeground:b&&b.pickerGroupForeground||PM,pickerGroupBorder:b&&b.pickerGroupBorder||QM,inputBackground:b&&b.inputBackground||tk,inputForeground:b&&b.inputForeground||vk,inputBorder:b&&b.inputBorder||uk,inputValidationInfoBorder:b&&b.inputValidationInfoBorder||xk,inputValidationInfoBackground:b&&b.inputValidationInfoBackground||wk,inputValidationInfoForeground:b&&b.inputValidationInfoForeground||yk,inputValidationWarningBorder:b&&b.inputValidationWarningBorder||lr,inputValidationWarningBackground:b&&b.inputValidationWarningBackground||kr,inputValidationWarningForeground:b&&b.inputValidationWarningForeground||mr,inputValidationErrorBorder:b&&b.inputValidationErrorBorder||ir,inputValidationErrorBackground:b&&b.inputValidationErrorBackground||hr,inputValidationErrorForeground:b&&b.inputValidationErrorForeground||jr,listFocusBackground:b&&b.listFocusBackground||wg,listFocusForeground:b&&b.listFocusForeground||py,listActiveSelectionBackground:b&&b.listActiveSelectionBackground||zs(Fh,.1),listActiveSelectionForeground:b&&b.listActiveSelectionForeground||Gh,listFocusAndSelectionBackground:b&&b.listFocusAndSelectionBackground||Fh,listFocusAndSelectionForeground:b&&b.listFocusAndSelectionForeground||Gh,listInactiveSelectionBackground:b&&b.listInactiveSelectionBackground||qy,listInactiveSelectionForeground:b&&b.listInactiveSelectionForeground||ry,listInactiveFocusBackground:b&&b.listInactiveFocusBackground||sy,listHoverBackground:b&&b.listHoverBackground||ty,listHoverForeground:b&&b.listHoverForeground||uy,listDropBackground:b&&b.listDropBackground||vy,listFocusOutline:b&&b.listFocusOutline||Sb,listSelectionOutline:b&&b.listSelectionOutline||Sb,listHoverOutline:b&&b.listHoverOutline||Sb},d)}function tn(d,a,b){return As(a,$k($k({},S4),b||{}),d)}var S4={listFocusBackground:wg,listFocusForeground:py,listActiveSelectionBackground:zs(Fh,.1),listActiveSelectionForeground:Gh,listFocusAndSelectionBackground:Fh,listFocusAndSelectionForeground:Gh,listInactiveSelectionBackground:qy,listInactiveSelectionForeground:ry,listInactiveFocusBackground:sy,listHoverBackground:ty,listHoverForeground:uy,listDropBackground:vy,listFocusOutline:Sb,listSelectionOutline:Sb,listHoverOutline:Sb,listFilterWidgetBackground:UM,listFilterWidgetOutline:VM,listFilterWidgetNoMatchesOutline:WM,listMatchesShadow:re,treeIndentGuidesStroke:XM},T4={shadowColor:re,borderColor:YM,foregroundColor:ZM,backgroundColor:_M,selectionForegroundColor:$M,selectionBackgroundColor:aN,selectionBorderColor:bN,separatorColor:cN};function yM(d,a,b){return As(a,$k($k({},T4),b),d)}var zM=function(){function d(a,b,c,e,f){this.contextViewService=a,this.telemetryService=b,this.notificationService=c,this.keybindingService=e,this.themeService=f,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}return d.prototype.configure=function(a){this.options=a},d.prototype.showContextMenu=function(a){var b=this,c=a.getActions();if(!c.length)return;this.focusToReturn=document.activeElement;var e;this.contextViewService.showContextView({getAnchor:function(){return a.getAnchor()},canRelayout:!1,anchorAlignment:a.anchorAlignment,render:function(f){var g=a.getMenuClassName?a.getMenuClassName():"";g&&(f.className+=" "+g),b.options.blockMouse&&(b.block=f.appendChild(X(".context-view-block")));var h=new P(),i=a.actionRunner||new il();return i.onDidBeforeRun(b.onActionRun,b,h),i.onDidRun(b.onDidActionRun,b,h),e=new it(f,c,{actionViewItemProvider:a.getActionViewItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:i,getKeyBinding:a.getKeyBinding?a.getKeyBinding:function(j){return b.keybindingService.lookupKeybinding(j.id)}}),h.add(yM(e,b.themeService)),e.onDidCancel(function(){return b.contextViewService.hideContextView(!0)},null,h),e.onDidBlur(function(){return b.contextViewService.hideContextView(!0)},null,h),ua(window,pa.BLUR)(function(){b.contextViewService.hideContextView(!0)},null,h),ua(window,pa.MOUSE_DOWN)(function(j){if(j.defaultPrevented)return;var k=new yb(j),l=k.target;if(k.rightButton)return;for(;l;){if(l===f)return;l=l.parentElement}b.contextViewService.hideContextView(!0)},null,h),Mc(h,e)},focus:function(){e&&e.focus(!!a.autoSelectFirstItem)},onHide:function(f){a.onHide&&a.onHide(!!f),b.block&&(bl(b.block),b.block=null),b.focusToReturn&&b.focusToReturn.focus()}})},d.prototype.onActionRun=function(a){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()},d.prototype.onDidActionRun=function(a){a.error&&this.notificationService&&this.notificationService.error(a.error)},d}();var h4=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),i4=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Dn=function(d,a){return function(b,c){a(b,c,d)}},yL=function(d){h4(a,d);function a(b,c,e,f,g){var h=d.call(this)||this;return h._onDidContextMenu=h._register(new E()),h.contextMenuHandler=new zM(e,b,c,f,g),h}return a.prototype.configure=function(b){this.contextMenuHandler.configure(b)},a.prototype.showContextMenu=function(b){this.contextMenuHandler.showContextMenu(b),this._onDidContextMenu.fire()},a=i4([Dn(0,Le),Dn(1,Ra),Dn(2,Od),Dn(3,Ja),Dn(4,Ia)],a),a}(I);var bc;(function(d){function a(f,g){if(f.start>=g.end||g.start>=f.end)return{start:0,end:0};var h=Math.max(f.start,g.start),i=Math.min(f.end,g.end);return i-h<=0?{start:0,end:0}:{start:h,end:i}}d.intersect=a;function b(f){return f.end-f.start<=0}d.isEmpty=b;function c(f,g){return!b(a(f,g))}d.intersects=c;function e(f,g){var h=[],i={start:f.start,end:Math.min(g.start,f.end)},j={start:Math.max(g.end,f.start),end:f.end};return b(i)||h.push(i),b(j)||h.push(j),h}d.relativeComplement=e})(bc||(bc={}));var SN=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function dz(d,a,b){var c=b.offset+b.size;return b.position===0?a<=d-c?c:a<=b.offset?b.offset-a:Math.max(d-a,0):a<=b.offset?b.offset-a:a<=d-c?c:0}var ez=function(d){SN(a,d);function a(b){var c=d.call(this)||this;return c.container=null,c.delegate=null,c.toDisposeOnClean=I.None,c.toDisposeOnSetContainer=I.None,c.view=X(".context-view"),zb(c.view),c.setContainer(b),c._register(va(function(){return c.setContainer(null)})),c}return a.prototype.setContainer=function(b){var c=this;this.container&&(this.toDisposeOnSetContainer.dispose(),this.container.removeChild(this.view),this.container=null);if(b){this.container=b,this.container.appendChild(this.view);var e=new P();a.BUBBLE_UP_EVENTS.forEach(function(f){e.add(Ua(c.container,f,function(g){c.onDOMEvent(g,!1)}))}),a.BUBBLE_DOWN_EVENTS.forEach(function(f){e.add(Ua(c.container,f,function(g){c.onDOMEvent(g,!0)},!0))}),this.toDisposeOnSetContainer=e}},a.prototype.show=function(b){this.isVisible()&&this.hide(),$b(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",Ob(this.view),this.toDisposeOnClean=b.render(this.view)||I.None,this.delegate=b,this.doLayout(),this.delegate.focus&&this.delegate.focus()},a.prototype.layout=function(){if(!this.isVisible())return;if(this.delegate.canRelayout===!1&&!(ze&&ae.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()},a.prototype.doLayout=function(){if(!this.isVisible())return;var b=this.delegate.getAnchor(),c;if(My(b)){var e=ab(b);c={top:e.top,left:e.left,width:e.width,height:e.height}}else c={top:b.y,left:b.x,width:b.width||1,height:b.height||2};var f=hd(this.view),g=cl(this.view),h=this.delegate.anchorPosition||0,i=this.delegate.anchorAlignment||0,j={offset:c.top-window.pageYOffset,size:c.height,position:h===0?0:1},k;i===0?k={offset:c.left,size:0,position:0}:k={offset:c.left+c.width,size:0,position:1};var l=dz(window.innerHeight,g,j)+window.pageYOffset;bc.intersects({start:l,end:l+g},{start:j.offset,end:j.offset+j.size})&&(k.size=c.width,i===1&&(k.offset=c.left));var m=dz(window.innerWidth,f,k);_e(this.view,"top","bottom","left","right"),U(this.view,h===0?"bottom":"top"),U(this.view,i===0?"left":"right");var n=ab(this.container);this.view.style.top=l-n.top+"px",this.view.style.left=m-n.left+"px",this.view.style.width="initial"},a.prototype.hide=function(b){var c=this.delegate;this.delegate=null,(c===null||c===void 0?void 0:c.onHide)&&c.onHide(b),this.toDisposeOnClean.dispose(),zb(this.view)},a.prototype.isVisible=function(){return!!this.delegate},a.prototype.onDOMEvent=function(b,c){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(b,document.activeElement):c&&!Xc(b.target,this.container)&&this.hide())},a.prototype.dispose=function(){this.hide(),d.prototype.dispose.call(this)},a.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],a.BUBBLE_DOWN_EVENTS=["click"],a}(I);var hs=ia("layoutService");var j4=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),k4=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},l4=function(d,a){return function(b,c){a(b,c,d)}},zL=function(d){j4(a,d);function a(b){var c=d.call(this)||this;return c.layoutService=b,c.contextView=c._register(new ez(b.container)),c.layout(),c._register(b.onLayout(function(){return c.layout()})),c}return a.prototype.setContainer=function(b){this.contextView.setContainer(b)},a.prototype.showContextView=function(b){this.contextView.show(b)},a.prototype.layout=function(){this.contextView.layout()},a.prototype.hideContextView=function(b){this.contextView.hide(b)},a=k4([l4(0,hs)],a),a}(I);var AL=ia("dialogService");function m4(d){return{data:d,incoming:Object.create(null),outgoing:Object.create(null)}}var BM=function(){function d(a){this._hashFn=a,this._nodes=Object.create(null)}return d.prototype.roots=function(){var a=[];return nj(this._nodes,function(b){Xo(b.value.outgoing)&&a.push(b.value)}),a},d.prototype.insertEdge=function(a,b){var c=this.lookupOrInsertNode(a),e=this.lookupOrInsertNode(b);c.outgoing[this._hashFn(b)]=e,e.incoming[this._hashFn(a)]=c},d.prototype.removeNode=function(a){var b=this._hashFn(a);delete this._nodes[b],nj(this._nodes,function(c){delete c.value.outgoing[b],delete c.value.incoming[b]})},d.prototype.lookupOrInsertNode=function(a){var b=this._hashFn(a),c=this._nodes[b];return c||(c=m4(a),this._nodes[b]=c),c},d.prototype.isEmpty=function(){for(var a in this._nodes)return!1;return!0},d.prototype.toString=function(){var a=[];return nj(this._nodes,function(b){a.push(b.key+", (incoming)["+Object.keys(b.value.incoming).join(", ")+"], (outgoing)["+Object.keys(b.value.outgoing).join(",")+"]")}),a.join(`
`)},d}();var DM=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),jy=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},EM=!1,n4=typeof Proxy==="function",FM=function(d){DM(a,d);function a(b){var c=d.call(this,"cyclic dependency between services")||this;return c.message=b.toString(),c}return a}(Error),Mx=function(){function d(a,b,c){a===void 0&&(a=new uf()),b===void 0&&(b=!1),this._services=a,this._strict=b,this._parent=c,this._services.set(Aa,this)}return d.prototype.createChild=function(a){return new d(a,this._strict,this)},d.prototype.invokeFunction=function(a){for(var b=this,c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];var f=ky.traceInvocation(a),g=!1;try{var h={get:function(i,j){if(g)throw hA("service accessor is only valid during the invocation of its target method");var k=b._getOrCreateServiceInstance(i,f);if(!k&&j!==pe)throw new Error("[invokeFunction] unknown service '"+i+"'");return k}};return a.apply(void 0,jy([h],c))}finally{g=!0,f.stop()}},d.prototype.createInstance=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var e,f;return a instanceof Eh?(e=ky.traceCreation(a.ctor),f=this._createInstance(a.ctor,a.staticArguments.concat(b),e)):(e=ky.traceCreation(a),f=this._createInstance(a,b,e)),e.stop(),f},d.prototype._createInstance=function(a,b,c){b===void 0&&(b=[]);for(var e=we.getServiceDependencies(a).sort(function(m,n){return m.index-n.index}),f=[],g=0,h=e;g<h.length;g++){var i=h[g],j=this._getOrCreateServiceInstance(i.id,c);if(!j&&this._strict&&!i.optional)throw new Error("[createInstance] "+a.name+" depends on UNKNOWN service "+i.id+".");f.push(j)}var k=e.length>0?e[0].index:b.length;if(b.length!==k){console.warn("[createInstance] First service dependency of "+a.name+" at position "+(k+1)+" conflicts with "+b.length+" static arguments");var l=k-b.length;l>0?b=b.concat(new Array(l)):b=b.slice(0,k)}return new(a.bind.apply(a,jy([void 0],jy(b,f))))()},d.prototype._setServiceInstance=function(a,b){if(this._services.get(a)instanceof Eh)this._services.set(a,b);else if(this._parent)this._parent._setServiceInstance(a,b);else throw new Error("illegalState - setting UNKNOWN service instance")},d.prototype._getServiceInstanceOrDescriptor=function(a){var b=this._services.get(a);return!b&&this._parent?this._parent._getServiceInstanceOrDescriptor(a):b},d.prototype._getOrCreateServiceInstance=function(a,b){var c=this._getServiceInstanceOrDescriptor(a);return c instanceof Eh?this._createAndCacheServiceInstance(a,c,b.branch(a,!0)):(b.branch(a,!1),c)},d.prototype._createAndCacheServiceInstance=function(a,b,c){for(var e=new BM(function(t){return t.id.toString()}),f=0,g=[{id:a,desc:b,_trace:c}];g.length;){var h=g.pop();e.lookupOrInsertNode(h);if(f++>150)throw new FM(e);for(var i=0,j=we.getServiceDependencies(h.desc.ctor);i<j.length;i++){var k=j[i],l=this._getServiceInstanceOrDescriptor(k.id);!l&&!k.optional&&console.warn("[createInstance] "+a+" depends on "+k.id+" which is NOT registered.");if(l instanceof Eh){var m={id:k.id,desc:l,_trace:h._trace.branch(k.id,!0)};e.insertEdge(h,m),g.push(m)}}}for(;;){var n=e.roots();if(n.length===0){if(!e.isEmpty())throw new FM(e);break}for(var o=0,p=n;o<p.length;o++){var q=p[o].data,r=this._createServiceInstanceWithOwner(q.id,q.desc.ctor,q.desc.staticArguments,q.desc.supportsDelayedInstantiation,q._trace);this._setServiceInstance(q.id,r),e.removeNode(q)}}return this._getServiceInstanceOrDescriptor(a)},d.prototype._createServiceInstanceWithOwner=function(a,b,c,e,f){c===void 0&&(c=[]);if(this._services.get(a)instanceof Eh)return this._createServiceInstance(b,c,e,f);{if(this._parent)return this._parent._createServiceInstanceWithOwner(a,b,c,e,f);throw new Error("illegalState - creating UNKNOWN service instance "+b.name)}},d.prototype._createServiceInstance=function(a,b,c,e){var f=this;b===void 0&&(b=[]);if(!c||!n4)return this._createInstance(a,b,e);{var g=new Th(function(){return f._createInstance(a,b,e)});return new Proxy(Object.create(null),{get:function(h,i){if(i in h)return h[i];var j=g.getValue(),k=j[i];return typeof k!=="function"?k:(k=k.bind(j),h[i]=k,k)},set:function(h,i,j){return g.getValue()[i]=j,!0}})}},d}(),ky=function(){function d(a,b){this.type=a,this.name=b,this._start=Date.now(),this._dep=[]}return d.traceInvocation=function(a){return EM?new d(1,a.name||a.toString().substring(0,42).replace(/\n/g,"")):d._None},d.traceCreation=function(a){return EM?new d(0,a.name):d._None},d.prototype.branch=function(a,b){var c=new d(2,a.toString());return this._dep.push([a,b,c]),c},d.prototype.stop=function(){var a=Date.now()-this._start;d._totals+=a;var b=!1;function c(f,g){for(var h=[],i=new Array(f+1).join("	"),j=0,k=g._dep;j<k.length;j++){var l=k[j],m=l[0],n=l[1],o=l[2];if(n&&o){b=!0,h.push(i+"CREATES -> "+m);var p=c(f+1,o);p&&h.push(p)}else h.push(i+"uses -> "+m)}return h.join(`
`)}var e=[(this.type===0?"CREATE":"CALL")+" "+this.name,""+c(1,this),"DONE, took "+a.toFixed(2)+"ms (grand total "+d._totals.toFixed(2)+"ms)"];(a>2||b)&&console.log(e.join(`
`))},d._None=new(function(a){DM(b,a);function b(){return a.call(this,-1,null)||this}return b.prototype.stop=function(){},b.prototype.branch=function(){return this},b}(d))(),d._totals=0,d}();var y4="label",vh=ia(y4);var fO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),ll;(function(d){d.TREE="tree",d.FORM="form"})(ll||(ll={}));var Pf=function(d){fO(a,d);function a(b,c){return d.call(this,"ListError ["+b+"] "+c)||this}return a}(Error);function uz(d,a){for(var b=[],c=0,e=a;c<e.length;c++){var f=e[c];if(d.start>=f.range.end)continue;if(d.end<f.range.start)break;var g=bc.intersect(d,f.range);if(bc.isEmpty(g))continue;b.push({range:g,size:f.size})}return b}function $n(d,a){var b=d.start,c=d.end;return{start:b+a,end:c+a}}function xO(d){for(var a=[],b=null,c=0,e=d;c<e.length;c++){var f=e[c],g=f.range.start,h=f.range.end,i=f.size;if(b&&i===b.size){b.range.end=h;continue}b={range:{start:g,end:h},size:i},a.push(b)}return a}function yO(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];return xO(d.reduce(function(b,c){return b.concat(c)},[]))}var $s=function(){function d(){this.groups=[],this._size=0}return d.prototype.splice=function(a,b,c){c===void 0&&(c=[]);var e=c.length-b,f=uz({start:0,end:a},this.groups),g=uz({start:a+b,end:Number.POSITIVE_INFINITY},this.groups).map(function(i){return{range:$n(i.range,e),size:i.size}}),h=c.map(function(i,j){return{range:{start:a+j,end:a+j+1},size:i.size}});this.groups=yO(f,h,g),this._size=this.groups.reduce(function(i,j){return i+j.size*(j.range.end-j.range.start)},0)},Object.defineProperty(d.prototype,"count",{get:function(){var a=this.groups.length;return a?this.groups[a-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),d.prototype.indexAt=function(a){if(a<0)return-1;for(var b=0,c=0,e=0,f=this.groups;e<f.length;e++){var g=f[e],h=g.range.end-g.range.start,i=c+h*g.size;if(a<i)return b+Math.floor((a-c)/g.size);b+=h,c=i}return b},d.prototype.indexAfter=function(a){return Math.min(this.indexAt(a)+1,this.count)},d.prototype.positionAt=function(a){if(a<0)return-1;for(var b=0,c=0,e=0,f=this.groups;e<f.length;e++){var g=f[e],h=g.range.end-g.range.start,i=c+h;if(a<i)return b+(a-c)*g.size;b+=h*g.size,c=i}return-1},d}();function zO(d){try{d.parentElement&&d.parentElement.removeChild(d)}catch(a){}}var mz=function(){function d(a){this.renderers=a,this.cache=new Map()}return d.prototype.alloc=function(a){var b=this.getTemplateCache(a).pop();if(!b){var c=X(".monaco-list-row"),e=this.getRenderer(a),f=e.renderTemplate(c);b={domNode:c,templateId:a,templateData:f}}return b},d.prototype.release=function(a){if(!a)return;this.releaseRow(a)},d.prototype.releaseRow=function(a){var b=a.domNode,c=a.templateId;b&&(fa(b,"scrolling"),zO(b));var e=this.getTemplateCache(c);e.push(a)},d.prototype.getTemplateCache=function(a){var b=this.cache.get(a);return b||(b=[],this.cache.set(a,b)),b},d.prototype.dispose=function(){var a=this;this.cache.forEach(function(b,c){for(var e=0,f=b;e<f.length;e++){var g=f[e],h=a.getRenderer(c);h.disposeTemplate(g.templateData),g.domNode=null,g.templateData=null}}),this.cache.clear()},d.prototype.getRenderer=function(a){var b=this.renderers.get(a);if(!b)throw new Error("No renderer found for "+a);return b},d}();var Lh=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},_s=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},Nh={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(d){return[d]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1},Oh=function(){function d(a){this.elements=a}return d.prototype.update=function(){},d.prototype.getData=function(){return this.elements},d}(),gO=function(){function d(a){this.elements=a}return d.prototype.update=function(){},d.prototype.getData=function(){return this.elements},d}(),hO=function(){function d(){this.types=[],this.files=[]}return d.prototype.update=function(a){var b;a.types&&(b=this.types).splice.apply(b,_s([0,this.types.length],a.types));if(a.files){this.files.splice(0,this.files.length);for(var c=0;c<a.files.length;c++){var e=a.files.item(c);e&&(e.size||e.type)&&this.files.push(e)}}},d.prototype.getData=function(){return{types:this.types,files:this.files}},d}();function iO(d,a){return Array.isArray(d)&&Array.isArray(a)?xc(d,a):d===a}var nz=function(){function d(a,b,c,e){var f=this;e===void 0&&(e=Nh),this.virtualDelegate=b,this.domId="list_id_"+ ++d.InstanceCount,this.renderers=new Map(),this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new ee(50),this.splicing=!1,this.dragOverAnimationStopDisposable=I.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=I.None,this.onDragLeaveTimeout=I.None,this.disposables=new P(),this._onDidChangeContentHeight=new E();if(e.horizontalScrolling&&e.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new $s();for(var g=0,h=c;g<h.length;g++){var i=h[g];this.renderers.set(i.templateId,i)}this.cache=this.disposables.add(new mz(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",U(this.domNode,this.domId),this.domNode.tabIndex=0,qa(this.domNode,"mouse-support",typeof e.mouseSupport==="boolean"?e.mouseSupport:!0),this.horizontalScrolling=Mh(e,function(j){return j.horizontalScrolling},Nh.horizontalScrolling),qa(this.domNode,"horizontal-scrolling",this.horizontalScrolling),this.additionalScrollHeight=typeof e.additionalScrollHeight==="undefined"?0:e.additionalScrollHeight,this.ariaProvider=e.ariaProvider||{getSetSize:function(j,k,l){return l},getPosInSet:function(j,k){return k+1}},this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.disposables.add(wc.addTarget(this.rowsContainer)),this.scrollableElement=this.disposables.add(new Of(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:this.horizontalScrolling?1:2,vertical:Mh(e,function(j){return j.verticalScrollMode},Nh.verticalScrollMode),useShadows:Mh(e,function(j){return j.useShadows},Nh.useShadows)})),this.domNode.appendChild(this.scrollableElement.getDomNode()),a.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),ua(this.rowsContainer,Xa.Change)(this.onTouchChange,this,this.disposables),ua(this.scrollableElement.getDomNode(),"scroll")(function(j){return j.target.scrollTop=0},null,this.disposables),da.map(ua(this.domNode,"dragover"),function(j){return f.toDragEvent(j)})(this.onDragOver,this,this.disposables),da.map(ua(this.domNode,"drop"),function(j){return f.toDragEvent(j)})(this.onDrop,this,this.disposables),ua(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),ua(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=Mh(e,function(j){return j.setRowLineHeight},Nh.setRowLineHeight),this.supportDynamicHeights=Mh(e,function(j){return j.supportDynamicHeights},Nh.supportDynamicHeights),this.dnd=Mh(e,function(j){return j.dnd},Nh.dnd),this.layout()}return Object.defineProperty(d.prototype,"contentHeight",{get:function(){return this.rangeMap.size},enumerable:!0,configurable:!0}),d.prototype.splice=function(a,b,c){c===void 0&&(c=[]);if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(a,b,c)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}},d.prototype._splice=function(a,b,c){var e,f=this;c===void 0&&(c=[]);for(var g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),h={start:a,end:a+b},i=bc.intersect(g,h),j=i.start;j<i.end;j++)this.removeItemFromDOM(j);var k={start:a+b,end:this.items.length},l=bc.intersect(k,g),m=bc.relativeComplement(k,g),n=c.map(function(J){return{id:String(f.itemId++),element:J,templateId:f.virtualDelegate.getTemplateId(J),size:f.virtualDelegate.getHeight(J),width:void 0,hasDynamicHeight:!!f.virtualDelegate.hasDynamicHeight&&f.virtualDelegate.hasDynamicHeight(J),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:I.None}}),o;a===0&&b>=this.items.length?(this.rangeMap=new $s(),this.rangeMap.splice(0,0,n),this.items=n,o=[]):(this.rangeMap.splice(a,b,n),o=(e=this.items).splice.apply(e,_s([a,b],n)));for(var p=c.length-b,q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=$n(l,p),t=bc.intersect(q,r),j=t.start;j<t.end;j++)this.updateItemInDOM(this.items[j],j);for(var v=bc.relativeComplement(r,q),w=0,x=v;w<x.length;w++)for(var u=x[w],j=u.start;j<u.end;j++)this.removeItemFromDOM(j);for(var y=m.map(function(J){return $n(J,p)}),A={start:a,end:a+c.length},F=_s([A],y).map(function(J){return bc.intersect(q,J)}),B=this.getNextToLastElement(F),D=0,H=F;D<H.length;D++)for(var u=H[D],j=u.start;j<u.end;j++)this.insertItemInDOM(j,B);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),o.map(function(J){return J.element})},d.prototype.eventuallyUpdateScrollDimensions=function(){var a=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+"px",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=ce(function(){a.scrollableElement.setScrollDimensions({scrollHeight:a.scrollHeight}),a.updateScrollWidth(),a.scrollableElementUpdateDisposable=null}))},d.prototype.eventuallyUpdateScrollWidth=function(){var a=this;if(!this.horizontalScrolling)return;this.scrollableElementWidthDelayer.trigger(function(){return a.updateScrollWidth()})},d.prototype.updateScrollWidth=function(){if(!this.horizontalScrolling)return;this.items.length===0&&this.scrollableElement.setScrollDimensions({scrollWidth:0});for(var a=0,b=0,c=this.items;b<c.length;b++){var e=c[b];typeof e.width!=="undefined"&&(a=Math.max(a,e.width))}this.scrollWidth=a,this.scrollableElement.setScrollDimensions({scrollWidth:a+10})},d.prototype.rerender=function(){if(!this.supportDynamicHeights)return;for(var a=0,b=this.items;a<b.length;a++){var c=b[a];c.lastDynamicHeightWidth=void 0}this._rerender(this.lastRenderTop,this.lastRenderHeight)},Object.defineProperty(d.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"renderHeight",{get:function(){var a=this.scrollableElement.getScrollDimensions();return a.height},enumerable:!0,configurable:!0}),d.prototype.element=function(a){return this.items[a].element},d.prototype.domElement=function(a){var b=this.items[a].row;return b&&b.domNode},d.prototype.elementHeight=function(a){return this.items[a].size},d.prototype.elementTop=function(a){return this.rangeMap.positionAt(a)},d.prototype.indexAt=function(a){return this.rangeMap.indexAt(a)},d.prototype.indexAfter=function(a){return this.rangeMap.indexAfter(a)},d.prototype.layout=function(a,b){var c={height:typeof a==="number"?a:Mn(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,c.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(c),typeof b!=="undefined"&&(this.renderWidth=b,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof b==="number"?b:Zi(this.domNode)}))},d.prototype.render=function(a,b,c,e){for(var f=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),g=this.getRenderRange(a,b),h=bc.relativeComplement(g,f),i=bc.relativeComplement(f,g),j=this.getNextToLastElement(h),k=0,l=h;k<l.length;k++)for(var m=l[k],n=m.start;n<m.end;n++)this.insertItemInDOM(n,j);for(var o=0,p=i;o<p.length;o++)for(var m=p[o],n=m.start;n<m.end;n++)this.removeItemFromDOM(n);this.rowsContainer.style.left="-"+c+"px",this.rowsContainer.style.top="-"+a+"px",this.horizontalScrolling&&(this.rowsContainer.style.width=Math.max(e,this.renderWidth)+"px"),this.lastRenderTop=a,this.lastRenderHeight=b},d.prototype.insertItemInDOM=function(a,b){var c=this,e=this.items[a];if(!e.row){e.row=this.cache.alloc(e.templateId);var f=this.ariaProvider.getRole?this.ariaProvider.getRole(e.element):"treeitem";e.row.domNode.setAttribute("role",f);var g=this.ariaProvider.isChecked?this.ariaProvider.isChecked(e.element):void 0;typeof g!=="undefined"&&e.row.domNode.setAttribute("aria-checked",String(g))}e.row.domNode.parentElement||(b?this.rowsContainer.insertBefore(e.row.domNode,b):this.rowsContainer.appendChild(e.row.domNode)),this.updateItemInDOM(e,a);var h=this.renderers.get(e.templateId);if(!h)throw new Error("No renderer found for template id "+e.templateId);h&&h.renderElement(e.element,a,e.row.templateData,e.size);var i=this.dnd.getDragURI(e.element);e.dragStartDisposable.dispose(),e.row.domNode.draggable=!!i;if(i){var j=ua(e.row.domNode,"dragstart");e.dragStartDisposable=j(function(k){return c.onDragStart(e.element,i,k)})}this.horizontalScrolling&&(this.measureItemWidth(e),this.eventuallyUpdateScrollWidth())},d.prototype.measureItemWidth=function(a){if(!a.row||!a.row.domNode)return;a.row.domNode.style.width=uc?"-moz-fit-content":"fit-content",a.width=Zi(a.row.domNode);var b=window.getComputedStyle(a.row.domNode);b.paddingLeft&&(a.width+=parseFloat(b.paddingLeft)),b.paddingRight&&(a.width+=parseFloat(b.paddingRight)),a.row.domNode.style.width=""},d.prototype.updateItemInDOM=function(a,b){a.row.domNode.style.top=this.elementTop(b)+"px",a.row.domNode.style.height=a.size+"px",this.setRowLineHeight&&(a.row.domNode.style.lineHeight=a.size+"px"),a.row.domNode.setAttribute("data-index",""+b),a.row.domNode.setAttribute("data-last-element",b===this.length-1?"true":"false"),a.row.domNode.setAttribute("aria-setsize",String(this.ariaProvider.getSetSize(a.element,b,this.length))),a.row.domNode.setAttribute("aria-posinset",String(this.ariaProvider.getPosInSet(a.element,b))),a.row.domNode.setAttribute("id",this.getElementDomId(b)),qa(a.row.domNode,"drop-target",a.dropTarget)},d.prototype.removeItemFromDOM=function(a){var b=this.items[a];b.dragStartDisposable.dispose();var c=this.renderers.get(b.templateId);c&&c.disposeElement&&c.disposeElement(b.element,a,b.row.templateData,b.size),this.cache.release(b.row),b.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()},d.prototype.getScrollTop=function(){var a=this.scrollableElement.getScrollPosition();return a.scrollTop},d.prototype.setScrollTop=function(a){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:a})},Object.defineProperty(d.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(a){this.setScrollTop(a)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"scrollHeight",{get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMouseClick",{get:function(){var a=this;return da.map(ua(this.domNode,"click"),function(b){return a.toMouseEvent(b)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMouseDblClick",{get:function(){var a=this;return da.map(ua(this.domNode,"dblclick"),function(b){return a.toMouseEvent(b)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMouseMiddleClick",{get:function(){var a=this;return da.filter(da.map(ua(this.domNode,"auxclick"),function(b){return a.toMouseEvent(b)}),function(b){return b.browserEvent.button===1})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMouseDown",{get:function(){var a=this;return da.map(ua(this.domNode,"mousedown"),function(b){return a.toMouseEvent(b)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onContextMenu",{get:function(){var a=this;return da.map(ua(this.domNode,"contextmenu"),function(b){return a.toMouseEvent(b)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onTouchStart",{get:function(){var a=this;return da.map(ua(this.domNode,"touchstart"),function(b){return a.toTouchEvent(b)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onTap",{get:function(){var a=this;return da.map(ua(this.rowsContainer,Xa.Tap),function(b){return a.toGestureEvent(b)})},enumerable:!0,configurable:!0}),d.prototype.toMouseEvent=function(a){var b=this.getItemIndexFromEventTarget(a.target||null),c=typeof b==="undefined"?void 0:this.items[b],e=c&&c.element;return{browserEvent:a,index:b,element:e}},d.prototype.toTouchEvent=function(a){var b=this.getItemIndexFromEventTarget(a.target||null),c=typeof b==="undefined"?void 0:this.items[b],e=c&&c.element;return{browserEvent:a,index:b,element:e}},d.prototype.toGestureEvent=function(a){var b=this.getItemIndexFromEventTarget(a.initialTarget||null),c=typeof b==="undefined"?void 0:this.items[b],e=c&&c.element;return{browserEvent:a,index:b,element:e}},d.prototype.toDragEvent=function(a){var b=this.getItemIndexFromEventTarget(a.target||null),c=typeof b==="undefined"?void 0:this.items[b],e=c&&c.element;return{browserEvent:a,index:b,element:e}},d.prototype.onScroll=function(a){try{this.render(a.scrollTop,a.height,a.scrollLeft,a.scrollWidth),this.supportDynamicHeights&&this._rerender(a.scrollTop,a.height)}catch(b){throw console.error("Got bad scroll event:",a),b}},d.prototype.onTouchChange=function(a){a.preventDefault(),a.stopPropagation(),this.scrollTop-=a.translationY},d.prototype.onDragStart=function(a,b,c){if(!c.dataTransfer)return;var e=this.dnd.getDragElements(a);c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setData(Vi.RESOURCES,JSON.stringify([b]));if(c.dataTransfer.setDragImage){var f=void 0;this.dnd.getDragLabel&&(f=this.dnd.getDragLabel(e,c)),typeof f==="undefined"&&(f=String(e.length));var g=X(".monaco-drag-image");g.textContent=f,document.body.appendChild(g),c.dataTransfer.setDragImage(g,-10,-10),setTimeout(function(){return document.body.removeChild(g)},0)}this.currentDragData=new Oh(e),Wc.CurrentDragAndDropData=new gO(e),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,c)},d.prototype.onDragOver=function(a){var b=this;a.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose();if(Wc.CurrentDragAndDropData&&Wc.CurrentDragAndDropData.getData()==="vscode-ui")return!1;this.setupDragAndDropScrollTopAnimation(a.browserEvent);if(!a.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(Wc.CurrentDragAndDropData)this.currentDragData=Wc.CurrentDragAndDropData;else{if(!a.browserEvent.dataTransfer.types)return!1;this.currentDragData=new hO()}var c=this.dnd.onDragOver(this.currentDragData,a.element,a.index,a.browserEvent);this.canDrop=typeof c==="boolean"?c:c.accept;if(!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;a.browserEvent.dataTransfer.dropEffect=typeof c!=="boolean"&&c.effect===0?"copy":"move";var e;typeof c!=="boolean"&&c.feedback?e=c.feedback:typeof a.index==="undefined"?e=[-1]:e=[a.index],e=ml(e).filter(function(j){return j>=-1&&j<b.length}).sort(function(j,k){return j-k}),e=e[0]===-1?[-1]:e;if(iO(this.currentDragFeedback,e))return!0;this.currentDragFeedback=e,this.currentDragFeedbackDisposable.dispose();if(e[0]===-1)U(this.domNode,"drop-target"),U(this.rowsContainer,"drop-target"),this.currentDragFeedbackDisposable=va(function(){fa(b.domNode,"drop-target"),fa(b.rowsContainer,"drop-target")});else{for(var f=0,g=e;f<g.length;f++){var h=g[f],i=this.items[h];i.dropTarget=!0,i.row&&i.row.domNode&&U(i.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=va(function(){for(var j=0,k=e;j<k.length;j++){var l=k[j],m=b.items[l];m.dropTarget=!1,m.row&&m.row.domNode&&fa(m.row.domNode,"drop-target")}})}return!0},d.prototype.onDragLeave=function(){var a=this;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=cf(function(){return a.clearDragOverFeedback()},100)},d.prototype.onDrop=function(a){if(!this.canDrop)return;var b=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Wc.CurrentDragAndDropData=void 0;if(!b||!a.browserEvent.dataTransfer)return;a.browserEvent.preventDefault(),b.update(a.browserEvent.dataTransfer),this.dnd.drop(b,a.element,a.index,a.browserEvent)},d.prototype.onDragEnd=function(a){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Wc.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(a)},d.prototype.clearDragOverFeedback=function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=I.None},d.prototype.setupDragAndDropScrollTopAnimation=function(a){var b=this;if(!this.dragOverAnimationDisposable){var c=Yi(this.domNode).top;this.dragOverAnimationDisposable=Qy(this.animateDragAndDropScrollTop.bind(this,c))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=cf(function(){b.dragOverAnimationDisposable&&(b.dragOverAnimationDisposable.dispose(),b.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=a.pageY},d.prototype.animateDragAndDropScrollTop=function(a){if(this.dragOverMouseY===void 0)return;var b=this.dragOverMouseY-a,c=this.renderHeight-35;b<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(b-35))):b>c&&(this.scrollTop+=Math.min(14,Math.floor(.3*(b-c))))},d.prototype.teardownDragAndDropScrollTopAnimation=function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},d.prototype.getItemIndexFromEventTarget=function(a){for(var b=a;b instanceof HTMLElement&&b!==this.rowsContainer;){var c=b.getAttribute("data-index");if(c){var e=Number(c);if(!isNaN(e))return e}b=b.parentElement}return},d.prototype.getRenderRange=function(a,b){return{start:this.rangeMap.indexAt(a),end:this.rangeMap.indexAfter(a+b-1)}},d.prototype._rerender=function(a,b){var c=this.getRenderRange(a,b),e,f;a===this.elementTop(c.start)?(e=c.start,f=0):c.end-c.start>1&&(e=c.start+1,f=this.elementTop(e)-a);for(var g=0;;){for(var h=this.getRenderRange(a,b),i=!1,j=h.start;j<h.end;j++){var k=this.probeDynamicHeight(j);k!==0&&this.rangeMap.splice(j,1,[this.items[j]]),g+=k,i=i||k!==0}if(!i){g!==0&&this.eventuallyUpdateScrollDimensions();for(var l=bc.relativeComplement(c,h),m=0,n=l;m<n.length;m++)for(var o=n[m],j=o.start;j<o.end;j++)this.items[j].row&&this.removeItemFromDOM(j);for(var p=bc.relativeComplement(h,c),q=0,r=p;q<r.length;q++)for(var o=r[q],j=o.start;j<o.end;j++){var t=j+1,v=t<this.items.length?this.items[t].row:null,w=v?v.domNode:null;this.insertItemInDOM(j,w)}for(var j=h.start;j<h.end;j++)this.items[j].row&&this.updateItemInDOM(this.items[j],j);typeof e==="number"&&(this.scrollTop=this.elementTop(e)-f),this._onDidChangeContentHeight.fire(this.contentHeight);return}}},d.prototype.probeDynamicHeight=function(a){var b=this.items[a];if(!b.hasDynamicHeight||b.lastDynamicHeightWidth===this.renderWidth)return 0;var c=b.size,e=this.cache.alloc(b.templateId);e.domNode.style.height="",this.rowsContainer.appendChild(e.domNode);var f=this.renderers.get(b.templateId);return f&&(f.renderElement(b.element,a,e.templateData,void 0),f.disposeElement&&f.disposeElement(b.element,a,e.templateData,void 0)),b.size=e.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(b.element,b.size),b.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(e.domNode),this.cache.release(e),b.size-c},d.prototype.getNextToLastElement=function(a){var b=a[a.length-1];if(!b)return null;var c=this.items[b.end];return c?c.row?c.row.domNode:null:null},d.prototype.getElementDomId=function(a){return this.domId+"_"+a},d.prototype.dispose=function(){if(this.items){for(var a=0,b=this.items;a<b.length;a++){var c=b[a];if(c.row){var e=this.renderers.get(c.row.templateId);e&&e.disposeTemplate(c.row.templateData)}}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),ca(this.disposables)},d.InstanceCount=0,Lh([Lc],d.prototype,"onMouseClick",null),Lh([Lc],d.prototype,"onMouseDblClick",null),Lh([Lc],d.prototype,"onMouseMiddleClick",null),Lh([Lc],d.prototype,"onMouseDown",null),Lh([Lc],d.prototype,"onContextMenu",null),Lh([Lc],d.prototype,"onTouchStart",null),Lh([Lc],d.prototype,"onTap",null),d}();var oz=function(){function d(a){this.spliceables=a}return d.prototype.splice=function(a,b,c){this.spliceables.forEach(function(e){return e.splice(a,b,c)})},d}();function Fd(d,a,b){return Math.min(Math.max(d,a),b)}function nA(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];return function(b,c){for(var e=0,f=d.length;e<f;e++){var g=d[e](b,c);if(g)return g}return null}}var co=OP.bind(void 0,!0);function OP(d,a,b){if(!b||b.length<a.length)return null;var c;return d?c=Qg(b,a):c=b.indexOf(a)===0,c?a.length>0?[{start:0,end:a.length}]:[]:null}function PP(d,a){var b=a.toLowerCase().indexOf(d.toLowerCase());return b===-1?null:[{start:b,end:b+d.length}]}function QP(d,a){return Gt(d.toLowerCase(),a.toLowerCase(),0,0)}function Gt(d,a,b,c){if(b===d.length)return[];{if(c===a.length)return null;{if(d[b]===a[c]){var e=null;return(e=Gt(d,a,b+1,c+1))?pA({start:c,end:c+1},e):null}return Gt(d,a,b,c+1)}}}function Ht(d){return 97<=d&&d<=122}function yo(d){return 65<=d&&d<=90}function It(d){return 48<=d&&d<=57}function RP(d){return d===32||d===9||d===10||d===13}var SP=new Set();"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(function(d){return SP.add(d.charCodeAt(0))});function oA(d){return Ht(d)||yo(d)||It(d)}function pA(d,a){return a.length===0?a=[d]:d.end===a[0].start?a[0].start=d.start:a.unshift(d),a}function qA(d,a){for(var b=a;b<d.length;b++){var c=d.charCodeAt(b);if(yo(c)||It(c)||b>0&&!oA(d.charCodeAt(b-1)))return b}return d.length}function Jt(d,a,b,c){if(b===d.length)return[];{if(c===a.length)return null;{if(d[b]!==a[c].toLowerCase())return null;{var e=null,f=c+1;for(e=Jt(d,a,b+1,c+1);!e&&(f=qA(a,f))<a.length;)e=Jt(d,a,b+1,f),f++;return e===null?null:pA({start:c,end:c+1},e)}}}}function TP(d){for(var a=0,b=0,c=0,e=0,f=0,g=0;g<d.length;g++)f=d.charCodeAt(g),yo(f)&&a++,Ht(f)&&b++,oA(f)&&c++,It(f)&&e++;var h=a/d.length,i=b/d.length,j=c/d.length,k=e/d.length;return{upperPercent:h,lowerPercent:i,alphaPercent:j,numericPercent:k}}function UP(d){var a=d.upperPercent,b=d.lowerPercent;return b===0&&a>.6}function VP(d){var a=d.upperPercent,b=d.lowerPercent,c=d.alphaPercent,e=d.numericPercent;return b>.2&&a<.8&&c>.6&&e<.2}function WP(d){for(var a=0,b=0,c=0,e=0,f=0;f<d.length;f++)c=d.charCodeAt(f),yo(c)&&a++,Ht(c)&&b++,RP(c)&&e++;return(a===0||b===0)&&e===0?d.length<=30:a<=5}function rA(d,a){if(!a)return null;a=a.trim();if(a.length===0)return null;if(!WP(d))return null;if(a.length>60)return null;var b=TP(a);if(!VP(b)){if(!UP(b))return null;a=a.toLowerCase()}var c=null,e=0;for(d=d.toLowerCase();e<a.length&&(c=Jt(d,a,0,e))===null;)e=qA(a,e+1);return c}var XP=nA(co,rA,PP),YP=nA(co,rA,QP),sA=new De(1e4);function zo(d,a,b){b===void 0&&(b=!1);if(typeof d!=="string"||typeof a!=="string")return null;var c=sA.get(d);c||(c=new RegExp(AA(d),"i"),sA.set(d,c));var e=c.exec(a);return e?[{start:e.index,end:e.index+e[0].length}]:b?YP(d,a):XP(d,a)}function tA(d,a,b,c,e,f){var g=Qh(d,a,0,c,e,0,!0);if(g)return g;for(var h=0,i=0,j=f,k=0;k<a.length&&k<Rg;++k){var l=e.indexOf(a.charAt(k),j);if(l>=0)i+=1,h+=Math.pow(2,l),j=l+1;else if(h!==0)break}return[i,h,f]}function yl(d){if(typeof d==="undefined")return[];for(var a=d[1].toString(2),b=d[2],c=[],e=b;e<Rg;e++)if(a[a.length-(e+1)]==="1"){var f=c[c.length-1];f&&f.end===e?f.end=e+1:c.push({start:e,end:e+1})}return c}var Rg=128;function Kt(){for(var d=[],a=[0],b=1;b<=Rg;b++)a.push(-b);for(var b=0;b<=Rg;b++){var c=a.slice(0);c[0]=-b,d.push(c)}return d}var ef=Kt(),Lt=Kt(),Sg=Kt(),ZP=!1;function Mt(d,a,b,c,e){function f(i,j,k){for(k===void 0&&(k=" ");i.length<j;)i=k+i;return i}for(var g=" |   |"+c.split("").map(function(i){return f(i,3)}).join("|")+`
`,h=0;h<=b;h++)h===0?g+=" |":g+=a[h-1]+"|",g+=d[h].slice(0,e+1).map(function(i){return f(i.toString(),3)}).join("|")+`
`;return g}function _P(d,a,b,c){d=d.substr(a),b=b.substr(c),console.log(Mt(ef,d,d.length,b,b.length)),console.log(Mt(Sg,d,d.length,b,b.length)),console.log(Mt(Lt,d,d.length,b,b.length))}function Nt(d,a){if(a<0||a>=d.length)return!1;var b=d.charCodeAt(a);switch(b){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function $P(d,a){if(a<0||a>=d.length)return!1;var b=d.charCodeAt(a);switch(b){case 32:case 9:return!0;default:return!1}}function uA(d,a,b){return a[d]!==b[d]}function aQ(d,a,b,c,e,f){for(;a<b&&e<f;)d[a]===c[e]&&(a+=1),e+=1;return a===b}var kd;(function(d){d.Default=Object.freeze([-100,0,0]);function a(b){return!b||b[0]===-100&&b[1]===0&&b[2]===0}d.isDefault=a})(kd||(kd={}));function Qh(d,a,b,c,e,f,g){var h=d.length>Rg?Rg:d.length,i=c.length>Rg?Rg:c.length;if(b>=h||f>=i||h-b>i-f)return;if(!aQ(a,b,h,e,f,i))return;var j=1,k=1,l=b,m=f;for(j=1,l=b;l<h;j++,l++)for(k=1,m=f;m<i;k++,m++){var n=bQ(d,a,l,b,c,e,m);Lt[j][k]=n;var o=ef[j-1][k-1]+(n>1?1:n),p=ef[j-1][k]+-1,q=ef[j][k-1]+-1;q>=p?q>o?(ef[j][k]=q,Sg[j][k]=4):q===o?(ef[j][k]=q,Sg[j][k]=4|2):(ef[j][k]=o,Sg[j][k]=2):p>o?(ef[j][k]=p,Sg[j][k]=1):p===o?(ef[j][k]=p,Sg[j][k]=1|2):(ef[j][k]=o,Sg[j][k]=2)}return ZP&&_P(d,b,c,f),Ao=0,Bo=-100,wA=f,xA=g,yA(j-1,k-1,h===i?1:0,0,!1),Ao===0?void 0:[Bo,vA,f]}function bQ(d,a,b,c,e,f,g){return a[b]!==f[g]?-1:g===b-c?d[b]===e[g]?7:5:uA(g,e,f)&&(g===0||!uA(g-1,e,f))?d[b]===e[g]?7:5:Nt(f,g)&&(g===0||!Nt(f,g-1))?5:Nt(f,g-1)||$P(f,g-1)?5:1}var Ao=0,vA=0,Bo=0,wA=0,xA=!1;function yA(d,a,b,c,e){if(Ao>=10||b<-25)return;for(var f=0;d>0&&a>0;){var g=Lt[d][a],h=Sg[d][a];if(h===4)a-=1,e?b-=5:c!==0&&(b-=1),e=!1,f=0;else if(h&2){h&4&&yA(d,a-1,c!==0?b-1:b,c,e),b+=g,d-=1,a-=1,e=!0,c+=Math.pow(2,a+wA);if(g===1){f+=1;if(d===0&&!xA)return}else b+=1+f*(g-1),f=0}else return}b-=a>=3?9:a*3,Ao+=1,b>Bo&&(Bo=b,vA=c)}function zA(d,a,b,c,e,f,g){return cQ(d,a,b,c,e,f,!0,g)}function cQ(d,a,b,c,e,f,g,h){var i=Qh(d,a,b,c,e,f,h);if(i&&!g)return i;if(d.length>=3)for(var j=Math.min(7,d.length-1),k=b+1;k<j;k++){var l=dQ(d,k);if(l){var m=Qh(l,l.toLowerCase(),b,c,e,f,h);m&&(m[0]-=3,(!i||m[0]>i[0])&&(i=m))}}return i}function dQ(d,a){if(a+1>=d.length)return;var b=d[a],c=d[a+1];return b===c?void 0:d.slice(0,a)+c+b+d.slice(a+2)}var jO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),hj=function(){return hj=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},hj.apply(this,arguments)},ao=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},bo=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},kO=function(){function d(a){this.trait=a,this.renderedElements=[]}return Object.defineProperty(d.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),d.prototype.renderTemplate=function(a){return a},d.prototype.renderElement=function(a,b,c){var e=Ce(this.renderedElements,function(g){return g.templateData===c});if(e>=0){var f=this.renderedElements[e];this.trait.unrender(c),f.index=b}else{var f={index:b,templateData:c};this.renderedElements.push(f)}this.trait.renderIndex(b,c)},d.prototype.splice=function(a,b,c){for(var e=[],f=0,g=this.renderedElements;f<g.length;f++){var h=g[f];h.index<a?e.push(h):h.index>=a+b&&e.push({index:h.index+c-b,templateData:h.templateData})}this.renderedElements=e},d.prototype.renderIndexes=function(a){for(var b=0,c=this.renderedElements;b<c.length;b++){var e=c[b],f=e.index,g=e.templateData;a.indexOf(f)>-1&&this.trait.renderIndex(f,g)}},d.prototype.disposeTemplate=function(a){var b=Ce(this.renderedElements,function(c){return c.templateData===a});if(b<0)return;this.renderedElements.splice(b,1)},d}(),pz=function(){function d(a){this._trait=a,this.indexes=[],this.sortedIndexes=[],this._onChange=new E(),this.onChange=this._onChange.event}return Object.defineProperty(d.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"renderer",{get:function(){return new kO(this)},enumerable:!0,configurable:!0}),d.prototype.splice=function(a,b,c){var e=c.length-b,f=a+b,g=bo(this.sortedIndexes.filter(function(h){return h<a}),c.map(function(h,i){return h?i+a:-1}).filter(function(h){return h!==-1}),this.sortedIndexes.filter(function(h){return h>=f}).map(function(h){return h+e}));this.renderer.splice(a,b,c.length),this._set(g,g)},d.prototype.renderIndex=function(a,b){qa(b,this._trait,this.contains(a))},d.prototype.unrender=function(a){fa(a,this._trait)},d.prototype.set=function(a,b){return this._set(a,bo(a).sort(tz),b)},d.prototype._set=function(a,b,c){var e=this.indexes,f=this.sortedIndexes;this.indexes=a,this.sortedIndexes=b;var g=ft(f,a);return this.renderer.renderIndexes(g),this._onChange.fire({indexes:a,browserEvent:c}),e},d.prototype.get=function(){return this.indexes},d.prototype.contains=function(a){return Ph(this.sortedIndexes,a,tz)>=0},d.prototype.dispose=function(){ca(this._onChange)},ao([Lc],d.prototype,"renderer",null),d}(),lO=function(d){jO(a,d);function a(){return d.call(this,"focused")||this}return a.prototype.renderIndex=function(b,c){d.prototype.renderIndex.call(this,b,c),this.contains(b)?c.setAttribute("aria-selected","true"):c.removeAttribute("aria-selected")},a}(pz),qz=function(){function d(a,b,c){this.trait=a,this.view=b,this.identityProvider=c}return d.prototype.splice=function(a,b,c){var e=this;if(!this.identityProvider)return this.trait.splice(a,b,c.map(function(){return!1}));var f=this.trait.get().map(function(h){return e.identityProvider.getId(e.view.element(h)).toString()}),g=c.map(function(h){return f.indexOf(e.identityProvider.getId(h).toString())>-1});this.trait.splice(a,b,g)},d}();function nl(d){return d.tagName==="INPUT"||d.tagName==="TEXTAREA"}var mO=function(){function d(a,b,c){this.list=a,this.view=b,this.disposables=new P();var e=c.multipleSelectionSupport!==!1;this.openController=c.openController||sz;var f=da.chain(ua(b.domNode,"keydown")).filter(function(g){return!nl(g.target)}).map(function(g){return new Pa(g)});f.filter(function(g){return g.keyCode===3}).on(this.onEnter,this,this.disposables),f.filter(function(g){return g.keyCode===16}).on(this.onUpArrow,this,this.disposables),f.filter(function(g){return g.keyCode===18}).on(this.onDownArrow,this,this.disposables),f.filter(function(g){return g.keyCode===11}).on(this.onPageUpArrow,this,this.disposables),f.filter(function(g){return g.keyCode===12}).on(this.onPageDownArrow,this,this.disposables),f.filter(function(g){return g.keyCode===9}).on(this.onEscape,this,this.disposables),e&&f.filter(function(g){return(ka?g.metaKey:g.ctrlKey)&&g.keyCode===31}).on(this.onCtrlA,this,this.disposables)}return d.prototype.onEnter=function(a){a.preventDefault(),a.stopPropagation(),this.list.setSelection(this.list.getFocus(),a.browserEvent),this.openController.shouldOpen(a.browserEvent)&&this.list.open(this.list.getFocus(),a.browserEvent)},d.prototype.onUpArrow=function(a){a.preventDefault(),a.stopPropagation(),this.list.focusPrevious(1,!1,a.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},d.prototype.onDownArrow=function(a){a.preventDefault(),a.stopPropagation(),this.list.focusNext(1,!1,a.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},d.prototype.onPageUpArrow=function(a){a.preventDefault(),a.stopPropagation(),this.list.focusPreviousPage(a.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},d.prototype.onPageDownArrow=function(a){a.preventDefault(),a.stopPropagation(),this.list.focusNextPage(a.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},d.prototype.onCtrlA=function(a){a.preventDefault(),a.stopPropagation(),this.list.setSelection(Bc(this.list.length),a.browserEvent),this.view.domNode.focus()},d.prototype.onEscape=function(a){a.preventDefault(),a.stopPropagation(),this.list.setSelection([],a.browserEvent),this.view.domNode.focus()},d.prototype.dispose=function(){this.disposables.dispose()},d}(),jj;(function(d){d[d.Idle=0]="Idle",d[d.Typing=1]="Typing"})(jj||(jj={}));var at=new(function(){function d(){}return d.prototype.mightProducePrintableCharacter=function(a){return a.ctrlKey||a.metaKey||a.altKey?!1:a.keyCode>=31&&a.keyCode<=56||a.keyCode>=21&&a.keyCode<=30||a.keyCode>=93&&a.keyCode<=102||a.keyCode>=80&&a.keyCode<=90},d}())(),nO=function(){function d(a,b,c,e){this.list=a,this.view=b,this.keyboardNavigationLabelProvider=c,this.delegate=e,this.enabled=!1,this.state=jj.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.enabledDisposables=new P(),this.disposables=new P(),this.updateOptions(a.options)}return d.prototype.updateOptions=function(a){var b=typeof a.enableKeyboardNavigation==="undefined"?!0:!!a.enableKeyboardNavigation;b?this.enable():this.disable(),typeof a.automaticKeyboardNavigation!=="undefined"&&(this.automaticKeyboardNavigation=a.automaticKeyboardNavigation)},d.prototype.enable=function(){var a=this;if(this.enabled)return;var b=da.chain(ua(this.view.domNode,"keydown")).filter(function(f){return!nl(f.target)}).filter(function(){return a.automaticKeyboardNavigation||a.triggered}).map(function(f){return new Pa(f)}).filter(function(f){return a.delegate.mightProducePrintableCharacter(f)}).forEach(function(f){f.stopPropagation(),f.preventDefault()}).map(function(f){return f.browserEvent.key}).event,c=da.debounce(b,function(){return null},800),e=da.reduce(da.any(b,c),function(f,g){return g===null?null:(f||"")+g});e(this.onInput,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1},d.prototype.disable=function(){if(!this.enabled)return;this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1},d.prototype.onInput=function(a){if(!a){this.state=jj.Idle,this.triggered=!1;return}var b=this.list.getFocus(),c=b.length>0?b[0]:0,e=this.state===jj.Idle?1:0;this.state=jj.Typing;for(var f=0;f<this.list.length;f++){var g=(c+f+e)%this.list.length,h=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(g)),i=h&&h.toString();if(typeof i==="undefined"||co(a,i)){this.list.setFocus([g]),this.list.reveal(g);return}}},d.prototype.dispose=function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()},d}(),oO=function(){function d(a,b){this.list=a,this.view=b,this.disposables=new P();var c=da.chain(ua(b.domNode,"keydown")).filter(function(e){return!nl(e.target)}).map(function(e){return new Pa(e)});c.filter(function(e){return e.keyCode===2&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey}).on(this.onTab,this,this.disposables)}return d.prototype.onTab=function(a){if(a.target!==this.view.domNode)return;var b=this.list.getFocus();if(b.length===0)return;var c=this.view.domElement(b[0]);if(!c)return;var e=c.querySelector("[tabIndex]");if(!e||!(e instanceof HTMLElement)||e.tabIndex===-1)return;var f=window.getComputedStyle(e);if(f.visibility==="hidden"||f.display==="none")return;a.preventDefault(),a.stopPropagation(),e.focus()},d.prototype.dispose=function(){this.disposables.dispose()},d}();function bt(d){return ka?d.browserEvent.metaKey:d.browserEvent.ctrlKey}function ct(d){return d.browserEvent.shiftKey}function rz(d){return d instanceof MouseEvent&&d.button===2}var pO={isSelectionSingleChangeEvent:bt,isSelectionRangeChangeEvent:ct},sz={shouldOpen:function(d){return d instanceof MouseEvent?!rz(d):!0}},dt=function(){function d(a){this.list=a,this.disposables=new P(),this.multipleSelectionSupport=!(a.options.multipleSelectionSupport===!1),this.multipleSelectionSupport&&(this.multipleSelectionController=a.options.multipleSelectionController||pO),this.openController=a.options.openController||sz,this.mouseSupport=typeof a.options.mouseSupport==="undefined"||!!a.options.mouseSupport,this.mouseSupport&&(a.onMouseDown(this.onMouseDown,this,this.disposables),a.onContextMenu(this.onContextMenu,this,this.disposables),a.onMouseDblClick(this.onDoubleClick,this,this.disposables),a.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(wc.addTarget(a.getHTMLElement()))),a.onMouseClick(this.onPointer,this,this.disposables),a.onMouseMiddleClick(this.onPointer,this,this.disposables),a.onTap(this.onPointer,this,this.disposables)}return d.prototype.isSelectionSingleChangeEvent=function(a){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(a):ka?a.browserEvent.metaKey:a.browserEvent.ctrlKey},d.prototype.isSelectionRangeChangeEvent=function(a){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(a):a.browserEvent.shiftKey},d.prototype.isSelectionChangeEvent=function(a){return this.isSelectionSingleChangeEvent(a)||this.isSelectionRangeChangeEvent(a)},d.prototype.onMouseDown=function(a){document.activeElement!==a.browserEvent.target&&this.list.domFocus()},d.prototype.onContextMenu=function(a){var b=typeof a.index==="undefined"?[]:[a.index];this.list.setFocus(b,a.browserEvent)},d.prototype.onPointer=function(a){if(!this.mouseSupport)return;if(nl(a.browserEvent.target))return;var b=this.list.getFocus()[0],c=this.list.getSelection();b=b===void 0?c[0]:b;var e=a.index;if(typeof e==="undefined"){this.list.setFocus([],a.browserEvent),this.list.setSelection([],a.browserEvent);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(a))return this.changeSelection(a,b);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(a))return this.changeSelection(a,b);this.list.setFocus([e],a.browserEvent),rz(a.browserEvent)||(this.list.setSelection([e],a.browserEvent),this.openController.shouldOpen(a.browserEvent)&&this.list.open([e],a.browserEvent))},d.prototype.onDoubleClick=function(a){if(nl(a.browserEvent.target))return;if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(a))return;var b=this.list.getFocus();this.list.setSelection(b,a.browserEvent),this.list.pin(b)},d.prototype.changeSelection=function(a,b){var c=a.index;if(this.isSelectionRangeChangeEvent(a)&&b!==void 0){var e=Math.min(b,c),f=Math.max(b,c),g=Bc(e,f+1),h=this.list.getSelection(),i=sO(ft(h,[b]),b);if(i.length===0)return;var j=ft(g,tO(h,i));this.list.setSelection(j,a.browserEvent)}else if(this.isSelectionSingleChangeEvent(a)){var h=this.list.getSelection(),j=h.filter(function(k){return k!==c});this.list.setFocus([c]),h.length===j.length?this.list.setSelection(bo(j,[c]),a.browserEvent):this.list.setSelection(j,a.browserEvent)}},d.prototype.dispose=function(){this.disposables.dispose()},d}(),et=function(){function d(a,b){this.styleElement=a,this.selectorSuffix=b}return d.prototype.style=function(a){var b=this.selectorSuffix&&"."+this.selectorSuffix,c=[];a.listBackground&&(a.listBackground.isOpaque()?c.push(".monaco-list"+b+" .monaco-list-rows { background: "+a.listBackground+"; }"):ka||console.warn("List with id '"+this.selectorSuffix+"' was styled with a non-opaque background color. This will break sub-pixel antialiasing.")),a.listFocusBackground&&(c.push(".monaco-list"+b+":focus .monaco-list-row.focused { background-color: "+a.listFocusBackground+"; }"),c.push(".monaco-list"+b+":focus .monaco-list-row.focused:hover { background-color: "+a.listFocusBackground+"; }")),a.listFocusForeground&&c.push(".monaco-list"+b+":focus .monaco-list-row.focused { color: "+a.listFocusForeground+"; }"),a.listActiveSelectionBackground&&(c.push(".monaco-list"+b+":focus .monaco-list-row.selected { background-color: "+a.listActiveSelectionBackground+"; }"),c.push(".monaco-list"+b+":focus .monaco-list-row.selected:hover { background-color: "+a.listActiveSelectionBackground+"; }")),a.listActiveSelectionForeground&&c.push(".monaco-list"+b+":focus .monaco-list-row.selected { color: "+a.listActiveSelectionForeground+"; }"),a.listFocusAndSelectionBackground&&c.push(`
				.monaco-drag-image,
				.monaco-list`+b+":focus .monaco-list-row.selected.focused { background-color: "+a.listFocusAndSelectionBackground+`; }
			`),a.listFocusAndSelectionForeground&&c.push(`
				.monaco-drag-image,
				.monaco-list`+b+":focus .monaco-list-row.selected.focused { color: "+a.listFocusAndSelectionForeground+`; }
			`),a.listInactiveFocusBackground&&(c.push(".monaco-list"+b+" .monaco-list-row.focused { background-color:  "+a.listInactiveFocusBackground+"; }"),c.push(".monaco-list"+b+" .monaco-list-row.focused:hover { background-color:  "+a.listInactiveFocusBackground+"; }")),a.listInactiveSelectionBackground&&(c.push(".monaco-list"+b+" .monaco-list-row.selected { background-color:  "+a.listInactiveSelectionBackground+"; }"),c.push(".monaco-list"+b+" .monaco-list-row.selected:hover { background-color:  "+a.listInactiveSelectionBackground+"; }")),a.listInactiveSelectionForeground&&c.push(".monaco-list"+b+" .monaco-list-row.selected { color: "+a.listInactiveSelectionForeground+"; }"),a.listHoverBackground&&c.push(".monaco-list"+b+":not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  "+a.listHoverBackground+"; }"),a.listHoverForeground&&c.push(".monaco-list"+b+" .monaco-list-row:hover:not(.selected):not(.focused) { color:  "+a.listHoverForeground+"; }"),a.listSelectionOutline&&c.push(".monaco-list"+b+" .monaco-list-row.selected { outline: 1px dotted "+a.listSelectionOutline+"; outline-offset: -1px; }"),a.listFocusOutline&&c.push(`
				.monaco-drag-image,
				.monaco-list`+b+":focus .monaco-list-row.focused { outline: 1px solid "+a.listFocusOutline+`; outline-offset: -1px; }
			`),a.listInactiveFocusOutline&&c.push(".monaco-list"+b+" .monaco-list-row.focused { outline: 1px dotted "+a.listInactiveFocusOutline+"; outline-offset: -1px; }"),a.listHoverOutline&&c.push(".monaco-list"+b+" .monaco-list-row:hover { outline: 1px dashed "+a.listHoverOutline+"; outline-offset: -1px; }"),a.listDropBackground&&c.push(`
				.monaco-list`+b+`.drop-target,
				.monaco-list`+b+` .monaco-list-rows.drop-target,
				.monaco-list`+b+" .monaco-list-row.drop-target { background-color: "+a.listDropBackground+` !important; color: inherit !important; }
			`),a.listFilterWidgetBackground&&c.push(".monaco-list-type-filter { background-color: "+a.listFilterWidgetBackground+" }"),a.listFilterWidgetOutline&&c.push(".monaco-list-type-filter { border: 1px solid "+a.listFilterWidgetOutline+"; }"),a.listFilterWidgetNoMatchesOutline&&c.push(".monaco-list-type-filter.no-matches { border: 1px solid "+a.listFilterWidgetNoMatchesOutline+"; }"),a.listMatchesShadow&&c.push(".monaco-list-type-filter { box-shadow: 1px 1px 1px "+a.listMatchesShadow+"; }");var e=c.join(`
`);e!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=e)},d}(),qO={listFocusBackground:M.fromHex("#7FB0D0"),listActiveSelectionBackground:M.fromHex("#0E639C"),listActiveSelectionForeground:M.fromHex("#FFFFFF"),listFocusAndSelectionBackground:M.fromHex("#094771"),listFocusAndSelectionForeground:M.fromHex("#FFFFFF"),listInactiveSelectionBackground:M.fromHex("#3F3F46"),listHoverBackground:M.fromHex("#2A2D2E"),listDropBackground:M.fromHex("#383B3D"),treeIndentGuidesStroke:M.fromHex("#a9a9a9")},rO={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},ariaRootRole:ll.TREE};function sO(d,a){var b=d.indexOf(a);if(b===-1)return[];for(var c=[],e=b-1;e>=0&&d[e]===a-(b-e);)c.push(d[e--]);for(c.reverse(),e=b;e<d.length&&d[e]===a+(e-b);)c.push(d[e++]);return c}function ft(d,a){for(var b=[],c=0,e=0;c<d.length||e<a.length;)if(c>=d.length)b.push(a[e++]);else if(e>=a.length)b.push(d[c++]);else if(d[c]===a[e]){b.push(d[c]),c++,e++;continue}else d[c]<a[e]?b.push(d[c++]):b.push(a[e++]);return b}function tO(d,a){for(var b=[],c=0,e=0;c<d.length||e<a.length;)if(c>=d.length)b.push(a[e++]);else if(e>=a.length)b.push(d[c++]);else if(d[c]===a[e]){c++,e++;continue}else d[c]<a[e]?b.push(d[c++]):e++;return b}var tz=function(d,a){return d-a},uO=function(){function d(a,b){this._templateId=a,this.renderers=b}return Object.defineProperty(d.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),d.prototype.renderTemplate=function(a){return this.renderers.map(function(b){return b.renderTemplate(a)})},d.prototype.renderElement=function(a,b,c,e){for(var f=0,g=0,h=this.renderers;g<h.length;g++){var i=h[g];i.renderElement(a,b,c[f++],e)}},d.prototype.disposeElement=function(a,b,c,e){for(var f=0,g=0,h=this.renderers;g<h.length;g++){var i=h[g];i.disposeElement&&i.disposeElement(a,b,c[f],e),f+=1}},d.prototype.disposeTemplate=function(a){for(var b=0,c=0,e=this.renderers;c<e.length;c++){var f=e[c];f.disposeTemplate(a[b++])}},d}(),vO=function(){function d(a){this.accessibilityProvider=a,this.templateId="a18n"}return d.prototype.renderTemplate=function(a){return a},d.prototype.renderElement=function(a,b,c){var e=this.accessibilityProvider.getAriaLabel(a);e?c.setAttribute("aria-label",e):c.removeAttribute("aria-label");var f=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(a);typeof f==="number"?c.setAttribute("aria-level",""+f):c.removeAttribute("aria-level")},d.prototype.disposeTemplate=function(a){},d}(),wO=function(){function d(a,b){this.list=a,this.dnd=b}return d.prototype.getDragElements=function(a){var b=this.list.getSelectedElements(),c=b.indexOf(a)>-1?b:[a];return c},d.prototype.getDragURI=function(a){return this.dnd.getDragURI(a)},d.prototype.getDragLabel=function(a,b){return this.dnd.getDragLabel?this.dnd.getDragLabel(a,b):void 0},d.prototype.onDragStart=function(a,b){this.dnd.onDragStart&&this.dnd.onDragStart(a,b)},d.prototype.onDragOver=function(a,b,c,e){return this.dnd.onDragOver(a,b,c,e)},d.prototype.onDragEnd=function(a){this.dnd.onDragEnd&&this.dnd.onDragEnd(a)},d.prototype.drop=function(a,b,c,e){this.dnd.drop(a,b,c,e)},d}(),eo=function(){function d(a,b,c,e,f){f===void 0&&(f=rO),this.user=a,this._options=f,this.eventBufferer=new ij(),this.disposables=new P(),this._onDidOpen=new E(),this.onDidOpen=this._onDidOpen.event,this._onDidPin=new E(),this.didJustPressContextMenuKey=!1,this._onDidDispose=new E(),this.onDidDispose=this._onDidDispose.event,this.focus=new lO(),this.selection=new pz("selected"),Pb(f,qO,!1);var g=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=f.accessibilityProvider,this.accessibilityProvider&&(g.push(new vO(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),e=e.map(function(l){return new uO(l.templateId,bo(g,[l]))});var h=hj(hj({},f),{dnd:f.dnd&&new wO(this,f.dnd)});this.view=new nz(b,c,e,h),typeof f.ariaRole!=="string"?this.view.domNode.setAttribute("role",ll.TREE):this.view.domNode.setAttribute("role",f.ariaRole);if(f.styleController)this.styleController=f.styleController(this.view.domId);else{var i=vc(this.view.domNode);this.styleController=new et(i,this.view.domId)}this.spliceable=new oz([new qz(this.focus,this.view,f.identityProvider),new qz(this.selection,this.view,f.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=da.map(ua(this.view.domNode,"focus",!0),function(){return null}),this.onDidBlur=da.map(ua(this.view.domNode,"blur",!0),function(){return null}),this.disposables.add(new oO(this,this.view));if(typeof f.keyboardSupport!=="boolean"||f.keyboardSupport){var j=new mO(this,this.view,f);this.disposables.add(j)}if(f.keyboardNavigationLabelProvider){var k=f.keyboardNavigationDelegate||at;this.typeLabelController=new nO(this,this.view,f.keyboardNavigationLabelProvider,k),this.disposables.add(this.typeLabelController)}this.disposables.add(this.createMouseController(f)),this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),f.ariaLabel&&this.view.domNode.setAttribute("aria-label",s("aria list","{0}. Use the navigation keys to navigate.",f.ariaLabel))}return Object.defineProperty(d.prototype,"onFocusChange",{get:function(){var a=this;return da.map(this.eventBufferer.wrapEvent(this.focus.onChange),function(b){return a.toListEvent(b)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onSelectionChange",{get:function(){var a=this;return da.map(this.eventBufferer.wrapEvent(this.selection.onChange),function(b){return a.toListEvent(b)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"domId",{get:function(){return this.view.domId},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMouseDblClick",{get:function(){return this.view.onMouseDblClick},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMouseMiddleClick",{get:function(){return this.view.onMouseMiddleClick},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMouseDown",{get:function(){return this.view.onMouseDown},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onTouchStart",{get:function(){return this.view.onTouchStart},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onTap",{get:function(){return this.view.onTap},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onContextMenu",{get:function(){var a=this,b=da.chain(ua(this.view.domNode,"keydown")).map(function(f){return new Pa(f)}).filter(function(f){return a.didJustPressContextMenuKey=f.keyCode===58||f.shiftKey&&f.keyCode===68}).filter(function(f){return f.preventDefault(),f.stopPropagation(),!1}).event,c=da.chain(ua(this.view.domNode,"keyup")).filter(function(){var f=a.didJustPressContextMenuKey;return a.didJustPressContextMenuKey=!1,f}).filter(function(){return a.getFocus().length>0&&!!a.view.domElement(a.getFocus()[0])}).map(function(f){var g=a.getFocus()[0],h=a.view.element(g),i=a.view.domElement(g);return{index:g,element:h,anchor:i,browserEvent:f}}).event,e=da.chain(this.view.onContextMenu).filter(function(){return!a.didJustPressContextMenuKey}).map(function(f){var g=f.element,h=f.index,i=f.browserEvent;return{element:g,index:h,anchor:{x:i.clientX+1,y:i.clientY},browserEvent:i}}).event;return da.any(b,c,e)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onKeyDown",{get:function(){return ua(this.view.domNode,"keydown")},enumerable:!0,configurable:!0}),d.prototype.createMouseController=function(a){return new dt(this)},d.prototype.updateOptions=function(a){a===void 0&&(a={}),this._options=hj(hj({},this._options),a),this.typeLabelController&&this.typeLabelController.updateOptions(this._options)},Object.defineProperty(d.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),d.prototype.splice=function(a,b,c){var e=this;c===void 0&&(c=[]);if(a<0||a>this.view.length)throw new Pf(this.user,"Invalid start index: "+a);if(b<0)throw new Pf(this.user,"Invalid delete count: "+b);if(b===0&&c.length===0)return;this.eventBufferer.bufferEvents(function(){return e.spliceable.splice(a,b,c)})},d.prototype.rerender=function(){this.view.rerender()},d.prototype.element=function(a){return this.view.element(a)},Object.defineProperty(d.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"contentHeight",{get:function(){return this.view.contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(a){this.view.setScrollTop(a)},enumerable:!0,configurable:!0}),d.prototype.domFocus=function(){this.view.domNode.focus()},d.prototype.layout=function(a,b){this.view.layout(a,b)},d.prototype.setSelection=function(a,b){for(var c=0,e=a;c<e.length;c++){var f=e[c];if(f<0||f>=this.length)throw new Pf(this.user,"Invalid index "+f)}this.selection.set(a,b)},d.prototype.getSelection=function(){return this.selection.get()},d.prototype.getSelectedElements=function(){var a=this;return this.getSelection().map(function(b){return a.view.element(b)})},d.prototype.setFocus=function(a,b){for(var c=0,e=a;c<e.length;c++){var f=e[c];if(f<0||f>=this.length)throw new Pf(this.user,"Invalid index "+f)}this.focus.set(a,b)},d.prototype.focusNext=function(a,b,c,e){a===void 0&&(a=1),b===void 0&&(b=!1);if(this.length===0)return;var f=this.focus.get(),g=this.findNextIndex(f.length>0?f[0]+a:0,b,e);g>-1&&this.setFocus([g],c)},d.prototype.focusPrevious=function(a,b,c,e){a===void 0&&(a=1),b===void 0&&(b=!1);if(this.length===0)return;var f=this.focus.get(),g=this.findPreviousIndex(f.length>0?f[0]-a:0,b,e);g>-1&&this.setFocus([g],c)},d.prototype.focusNextPage=function(a,b){var c=this,e=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);e=e===0?0:e-1;var f=this.view.element(e),g=this.getFocusedElements()[0];if(g!==f){var h=this.findPreviousIndex(e,!1,b);h>-1&&g!==this.view.element(h)?this.setFocus([h],a):this.setFocus([e],a)}else{var i=this.view.getScrollTop();this.view.setScrollTop(i+this.view.renderHeight-this.view.elementHeight(e)),this.view.getScrollTop()!==i&&setTimeout(function(){return c.focusNextPage(a,b)},0)}},d.prototype.focusPreviousPage=function(a,b){var c=this,e,f=this.view.getScrollTop();f===0?e=this.view.indexAt(f):e=this.view.indexAfter(f-1);var g=this.view.element(e),h=this.getFocusedElements()[0];if(h!==g){var i=this.findNextIndex(e,!1,b);i>-1&&h!==this.view.element(i)?this.setFocus([i],a):this.setFocus([e],a)}else{var j=f;this.view.setScrollTop(f-this.view.renderHeight),this.view.getScrollTop()!==j&&setTimeout(function(){return c.focusPreviousPage(a,b)},0)}},d.prototype.focusLast=function(a,b){if(this.length===0)return;var c=this.findPreviousIndex(this.length-1,!1,b);c>-1&&this.setFocus([c],a)},d.prototype.focusFirst=function(a,b){if(this.length===0)return;var c=this.findNextIndex(0,!1,b);c>-1&&this.setFocus([c],a)},d.prototype.findNextIndex=function(a,b,c){b===void 0&&(b=!1);for(var e=0;e<this.length;e++){if(a>=this.length&&!b)return-1;a=a%this.length;if(!c||c(this.element(a)))return a;a++}return-1},d.prototype.findPreviousIndex=function(a,b,c){b===void 0&&(b=!1);for(var e=0;e<this.length;e++){if(a<0&&!b)return-1;a=(this.length+a%this.length)%this.length;if(!c||c(this.element(a)))return a;a--}return-1},d.prototype.getFocus=function(){return this.focus.get()},d.prototype.getFocusedElements=function(){var a=this;return this.getFocus().map(function(b){return a.view.element(b)})},d.prototype.reveal=function(a,b){if(a<0||a>=this.length)throw new Pf(this.user,"Invalid index "+a);var c=this.view.getScrollTop(),e=this.view.elementTop(a),f=this.view.elementHeight(a);if(id(b)){var g=f-this.view.renderHeight;this.view.setScrollTop(g*Fd(b,0,1)+e)}else{var h=e+f,i=c+this.view.renderHeight;e<c&&h>=i||(e<c?this.view.setScrollTop(e):h>=i&&this.view.setScrollTop(h-this.view.renderHeight))}},d.prototype.getRelativeTop=function(a){if(a<0||a>=this.length)throw new Pf(this.user,"Invalid index "+a);var b=this.view.getScrollTop(),c=this.view.elementTop(a),e=this.view.elementHeight(a);if(c<b||c+e>b+this.view.renderHeight)return null;var f=e-this.view.renderHeight;return Math.abs((b-c)/f)},d.prototype.getHTMLElement=function(){return this.view.domNode},d.prototype.open=function(a,b){for(var c=this,e=0,f=a;e<f.length;e++){var g=f[e];if(g<0||g>=this.length)throw new Pf(this.user,"Invalid index "+g)}this._onDidOpen.fire({indexes:a,elements:a.map(function(h){return c.view.element(h)}),browserEvent:b})},d.prototype.pin=function(a,b){for(var c=this,e=0,f=a;e<f.length;e++){var g=f[e];if(g<0||g>=this.length)throw new Pf(this.user,"Invalid index "+g)}this._onDidPin.fire({indexes:a,elements:a.map(function(h){return c.view.element(h)}),browserEvent:b})},d.prototype.style=function(a){this.styleController.style(a)},d.prototype.toListEvent=function(a){var b=this,c=a.indexes,e=a.browserEvent;return{indexes:c,elements:c.map(function(f){return b.view.element(f)}),browserEvent:e}},d.prototype._onFocusChange=function(){var a=this.focus.get();qa(this.view.domNode,"element-focused",a.length>0),this.onDidChangeActiveDescendant()},d.prototype.onDidChangeActiveDescendant=function(){var a,b=this.focus.get();if(b.length>0){var c=void 0;((a=this.accessibilityProvider)===null||a===void 0?void 0:a.getActiveDescendantId)&&(c=this.accessibilityProvider.getActiveDescendantId(this.view.element(b[0]))),this.view.domNode.setAttribute("aria-activedescendant",c||this.view.getElementDomId(b[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")},d.prototype._onSelectionChange=function(){var a=this.selection.get();qa(this.view.domNode,"selection-none",a.length===0),qa(this.view.domNode,"selection-single",a.length===1),qa(this.view.domNode,"selection-multiple",a.length>1)},d.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidOpen.dispose(),this._onDidPin.dispose(),this._onDidDispose.dispose()},ao([Lc],d.prototype,"onFocusChange",null),ao([Lc],d.prototype,"onSelectionChange",null),ao([Lc],d.prototype,"onContextMenu",null),d}();var xM="inputFocus";var BP=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Nc=function(d){BP(a,d);function a(b,c){return d.call(this,"TreeError ["+b+"] "+c)||this}return a}(Error),vl=function(){function d(a){this.fn=a,this._map=new WeakMap()}return d.prototype.map=function(a){var b=this._map.get(a);return b||(b=this.fn(a),this._map.set(a,b)),b},d}();var Vz=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c};function sl(d){return typeof d==="object"&&"visibility"in d&&"data"in d}function Rh(d){switch(d){case!0:return 1;case!1:return 0;default:return d}}function xt(d){return typeof d.collapsible==="boolean"}var Xz=function(){function d(a,b,c,e){e===void 0&&(e={}),this.user=a,this.list=b,this.rootRef=[],this.eventBufferer=new ij(),this._onDidChangeCollapseState=new E(),this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new E(),this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new E(),this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof e.collapseByDefault==="undefined"?!1:e.collapseByDefault,this.filter=e.filter,this.autoExpandSingleChildren=typeof e.autoExpandSingleChildren==="undefined"?!1:e.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visible:!0,filterData:void 0}}return d.prototype.splice=function(a,b,c,e,f){var g,h=this;if(a.length===0)throw new Nc(this.user,"Invalid tree location");for(var i=this.getParentNodeWithListIndex(a),j=i.parentNode,k=i.listIndex,l=i.revealed,m=i.visible,n=[],o=La.map(La.from(c),function(H){return h.createTreeNode(H,j,j.visible?1:0,l,n,e)}),p=a[a.length-1],q=0,r=p;r>=0&&r<j.children.length;r--){var t=j.children[r];if(t.visible){q=t.visibleChildIndex;break}}var v=[],w=0,x=0;La.forEach(o,function(H){v.push(H),x+=H.renderNodeCount,H.visible&&(H.visibleChildIndex=q+w++)});for(var u=(g=j.children).splice.apply(g,Vz([p,b],v)),y=0,A=0,F=u;A<F.length;A++){var t=F[A];t.visible&&y++}if(y!==0)for(var r=p+v.length;r<j.children.length;r++){var t=j.children[r];t.visible&&(t.visibleChildIndex-=y)}j.visibleChildrenCount+=w-y;if(l&&m){var B=u.reduce(function(H,J){return H+(J.visible?J.renderNodeCount:0)},0);this._updateAncestorsRenderNodeCount(j,x-B),this.list.splice(k,B,n)}if(u.length>0&&f){var D=function(H){f(H),H.children.forEach(D)};u.forEach(D)}this._onDidSplice.fire({insertedNodes:v,deletedNodes:u})},d.prototype.rerender=function(a){if(a.length===0)throw new Nc(this.user,"Invalid tree location");var b=this.getTreeNodeWithListIndex(a),c=b.node,e=b.listIndex,f=b.revealed;f&&this.list.splice(e,1,[c])},d.prototype.has=function(a){return this.hasTreeNode(a)},d.prototype.getListIndex=function(a){var b=this.getTreeNodeWithListIndex(a),c=b.listIndex,e=b.visible,f=b.revealed;return e&&f?c:-1},d.prototype.getListRenderCount=function(a){return this.getTreeNode(a).renderNodeCount},d.prototype.isCollapsible=function(a){return this.getTreeNode(a).collapsible},d.prototype.setCollapsible=function(a,b){var c=this,e=this.getTreeNode(a);typeof b==="undefined"&&(b=!e.collapsible);var f={collapsible:b};return this.eventBufferer.bufferEvents(function(){return c._setCollapseState(a,f)})},d.prototype.isCollapsed=function(a){return this.getTreeNode(a).collapsed},d.prototype.setCollapsed=function(a,b,c){var e=this,f=this.getTreeNode(a);typeof b==="undefined"&&(b=!f.collapsed);var g={collapsed:b,recursive:c||!1};return this.eventBufferer.bufferEvents(function(){return e._setCollapseState(a,g)})},d.prototype._setCollapseState=function(a,b){var c=this.getTreeNodeWithListIndex(a),e=c.node,f=c.listIndex,g=c.revealed,h=this._setListNodeCollapseState(e,f,g,b);if(e!==this.root&&this.autoExpandSingleChildren&&h&&!xt(b)&&e.collapsible&&!e.collapsed&&!b.recursive){for(var i=-1,j=0;j<e.children.length;j++){var k=e.children[j];if(k.visible)if(i>-1){i=-1;break}else i=j}i>-1&&this._setCollapseState(Vz(a,[i]),b)}return h},d.prototype._setListNodeCollapseState=function(a,b,c,e){var f=this._setNodeCollapseState(a,e,!1);if(!c||!a.visible||!f)return f;var g=a.renderNodeCount,h=this.updateNodeAfterCollapseChange(a),i=g-(b===-1?0:1);return this.list.splice(b+1,i,h.slice(1)),f},d.prototype._setNodeCollapseState=function(a,b,c){var e;a===this.root?e=!1:(xt(b)?(e=a.collapsible!==b.collapsible,a.collapsible=b.collapsible):a.collapsible?(e=a.collapsed!==b.collapsed,a.collapsed=b.collapsed):e=!1,e&&this._onDidChangeCollapseState.fire({node:a,deep:c}));if(!xt(b)&&b.recursive)for(var f=0,g=a.children;f<g.length;f++){var h=g[f];e=this._setNodeCollapseState(h,b,!0)||e}return e},d.prototype.expandTo=function(a){var b=this;this.eventBufferer.bufferEvents(function(){for(var c=b.getTreeNode(a);c.parent;)c=c.parent,a=a.slice(0,a.length-1),c.collapsed&&b._setCollapseState(a,{collapsed:!1,recursive:!1})})},d.prototype.refilter=function(){var a=this.root.renderNodeCount,b=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,a,b)},d.prototype.createTreeNode=function(a,b,c,e,f,g){var h=this,i={parent:b,element:a.element,children:[],depth:b.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof a.collapsible==="boolean"?a.collapsible:typeof a.collapsed!=="undefined",collapsed:typeof a.collapsed==="undefined"?this.collapseByDefault:a.collapsed,renderNodeCount:1,visible:!0,filterData:void 0},j=this._filterNode(i,c);e&&f.push(i);var k=La.from(a.children),l=e&&j!==0&&!i.collapsed,m=La.map(k,function(p){return h.createTreeNode(p,i,j,l,f,g)}),n=0,o=1;return La.forEach(m,function(p){i.children.push(p),o+=p.renderNodeCount,p.visible&&(p.visibleChildIndex=n++)}),i.collapsible=i.collapsible||i.children.length>0,i.visibleChildrenCount=n,i.visible=j===2?n>0:j===1,i.visible?i.collapsed||(i.renderNodeCount=o):(i.renderNodeCount=0,e&&f.pop()),g&&g(i),i},d.prototype.updateNodeAfterCollapseChange=function(a){var b=a.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(a,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-b),c},d.prototype._updateNodeAfterCollapseChange=function(a,b){if(a.visible===!1)return 0;b.push(a),a.renderNodeCount=1;if(!a.collapsed)for(var c=0,e=a.children;c<e.length;c++){var f=e[c];a.renderNodeCount+=this._updateNodeAfterCollapseChange(f,b)}return this._onDidChangeRenderNodeCount.fire(a),a.renderNodeCount},d.prototype.updateNodeAfterFilterChange=function(a){var b=a.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(a,a.visible?1:0,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-b),c},d.prototype._updateNodeAfterFilterChange=function(a,b,c,e){e===void 0&&(e=!0);var f;if(a!==this.root){f=this._filterNode(a,b);if(f===0)return a.visible=!1,a.renderNodeCount=0,!1;e&&c.push(a)}var g=c.length;a.renderNodeCount=a===this.root?0:1;var h=!1;if(!a.collapsed||f!==0){for(var i=0,j=0,k=a.children;j<k.length;j++){var l=k[j];h=this._updateNodeAfterFilterChange(l,f,c,e&&!a.collapsed)||h,l.visible&&(l.visibleChildIndex=i++)}a.visibleChildrenCount=i}else a.visibleChildrenCount=0;return a!==this.root&&(a.visible=f===2?h:f===1),a.visible?a.collapsed||(a.renderNodeCount+=c.length-g):(a.renderNodeCount=0,e&&c.pop()),this._onDidChangeRenderNodeCount.fire(a),a.visible},d.prototype._updateAncestorsRenderNodeCount=function(a,b){if(b===0)return;for(;a;)a.renderNodeCount+=b,this._onDidChangeRenderNodeCount.fire(a),a=a.parent},d.prototype._filterNode=function(a,b){var c=this.filter?this.filter.filter(a.element,b):1;return typeof c==="boolean"?(a.filterData=void 0,c?1:0):sl(c)?(a.filterData=c.data,Rh(c.visibility)):(a.filterData=void 0,Rh(c))},d.prototype.hasTreeNode=function(a,b){b===void 0&&(b=this.root);if(!a||a.length===0)return!0;var c=a[0],e=a.slice(1);return c<0||c>b.children.length?!1:this.hasTreeNode(e,b.children[c])},d.prototype.getTreeNode=function(a,b){b===void 0&&(b=this.root);if(!a||a.length===0)return b;var c=a[0],e=a.slice(1);if(c<0||c>b.children.length)throw new Nc(this.user,"Invalid tree location");return this.getTreeNode(e,b.children[c])},d.prototype.getTreeNodeWithListIndex=function(a){if(a.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var b=this.getParentNodeWithListIndex(a),c=b.parentNode,e=b.listIndex,f=b.revealed,g=b.visible,h=a[a.length-1];if(h<0||h>c.children.length)throw new Nc(this.user,"Invalid tree location");var i=c.children[h];return{node:i,listIndex:e,revealed:f,visible:g&&i.visible}},d.prototype.getParentNodeWithListIndex=function(a,b,c,e,f){b===void 0&&(b=this.root),c===void 0&&(c=0),e===void 0&&(e=!0),f===void 0&&(f=!0);var g=a[0],h=a.slice(1);if(g<0||g>b.children.length)throw new Nc(this.user,"Invalid tree location");for(var i=0;i<g;i++)c+=b.children[i].renderNodeCount;return e=e&&!b.collapsed,f=f&&b.visible,h.length===0?{parentNode:b,listIndex:c,revealed:e,visible:f}:this.getParentNodeWithListIndex(h,b.children[g],c+1,e,f)},d.prototype.getNode=function(a){return a===void 0&&(a=[]),this.getTreeNode(a)},d.prototype.getNodeLocation=function(a){for(var b=[],c=a;c.parent;)b.push(c.parent.children.indexOf(c)),c=c.parent;return b.reverse()},d.prototype.getParentNodeLocation=function(a){return a.length===0?void 0:a.length===1?[]:Wz(a)[0]},d}();var mt=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),mc=function(){return mc=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},mc.apply(this,arguments)},ko=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},ZO=function(d){mt(a,d);function a(b){var c=d.call(this,b.elements.map(function(e){return e.element}))||this;return c.data=b,c}return a}(Oh);function ot(d){return d instanceof Oh?new ZO(d):d}var _O=function(){function d(a,b){this.modelProvider=a,this.dnd=b,this.autoExpandDisposable=I.None}return d.prototype.getDragURI=function(a){return this.dnd.getDragURI(a.element)},d.prototype.getDragLabel=function(a,b){return this.dnd.getDragLabel?this.dnd.getDragLabel(a.map(function(c){return c.element}),b):void 0},d.prototype.onDragStart=function(a,b){this.dnd.onDragStart&&this.dnd.onDragStart(ot(a),b)},d.prototype.onDragOver=function(a,b,c,e,f){var g=this;f===void 0&&(f=!0);var h=this.dnd.onDragOver(ot(a),b&&b.element,c,e),i=this.autoExpandNode!==b;i&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=b);if(typeof b==="undefined")return h;i&&typeof h!=="boolean"&&h.autoExpand&&(this.autoExpandDisposable=cf(function(){var w=g.modelProvider(),x=w.getNodeLocation(b);w.isCollapsed(x)&&w.setCollapsed(x,!1),g.autoExpandNode=void 0},500));if(typeof h==="boolean"||!h.accept||typeof h.bubble==="undefined"||h.feedback){if(!f){var j=typeof h==="boolean"?h:h.accept,k=typeof h==="boolean"?void 0:h.effect;return{accept:j,effect:k,feedback:[c]}}return h}if(h.bubble===1){var l=this.modelProvider(),m=l.getNodeLocation(b),n=l.getParentNodeLocation(m),o=l.getNode(n),p=n&&l.getListIndex(n);return this.onDragOver(a,o,p,e,!1)}var q=this.modelProvider(),r=q.getNodeLocation(b),t=q.getListIndex(r),v=q.getListRenderCount(r);return mc(mc({},h),{feedback:Bc(t,t+v)})},d.prototype.drop=function(a,b,c,e){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(ot(a),b&&b.element,c,e)},d.prototype.onDragEnd=function(a){this.dnd.onDragEnd&&this.dnd.onDragEnd(a)},d}();function $O(d,a){return a&&mc(mc({},a),{identityProvider:a.identityProvider&&{getId:function(b){return a.identityProvider.getId(b.element)}},dnd:a.dnd&&new _O(d,a.dnd),multipleSelectionController:a.multipleSelectionController&&{isSelectionSingleChangeEvent:function(b){return a.multipleSelectionController.isSelectionSingleChangeEvent(mc(mc({},b),{element:b.element}))},isSelectionRangeChangeEvent:function(b){return a.multipleSelectionController.isSelectionRangeChangeEvent(mc(mc({},b),{element:b.element}))}},accessibilityProvider:a.accessibilityProvider&&mc(mc({},a.accessibilityProvider),{getAriaLabel:function(b){return a.accessibilityProvider.getAriaLabel(b.element)},getAriaLevel:function(b){return b.depth},getActiveDescendantId:a.accessibilityProvider.getActiveDescendantId&&function(b){return a.accessibilityProvider.getActiveDescendantId(b.element)}}),keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&mc(mc({},a.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(b){return a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(b.element)}}),enableKeyboardNavigation:a.simpleKeyboardNavigation,ariaProvider:{getSetSize:function(b){var c=d(),e=c.getNodeLocation(b),f=c.getParentNodeLocation(e),g=c.getNode(f);return g.visibleChildrenCount},getPosInSet:function(b){return b.visibleChildIndex+1},isChecked:a.ariaProvider&&a.ariaProvider.isChecked?function(b){return a.ariaProvider.isChecked(b.element)}:void 0,getRole:a.ariaProvider&&a.ariaProvider.getRole?function(b){return a.ariaProvider.getRole(b.element)}:void 0}})}var lo=function(){function d(a){this.delegate=a}return d.prototype.getHeight=function(a){return this.delegate.getHeight(a.element)},d.prototype.getTemplateId=function(a){return this.delegate.getTemplateId(a.element)},d.prototype.hasDynamicHeight=function(a){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(a.element)},d.prototype.setDynamicHeight=function(a,b){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(a.element,b)},d}(),tl;(function(d){d.None="none",d.OnHover="onHover",d.Always="always"})(tl||(tl={}));var aP=function(){function d(a,b){var c=this;b===void 0&&(b=[]),this._elements=b,this.onDidChange=da.forEach(a,function(e){return c._elements=e})}return Object.defineProperty(d.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),d}(),bP=function(){function d(a,b,c,e,f){f===void 0&&(f={}),this.renderer=a,this.modelProvider=b,this.activeNodes=e,this.renderedElements=new Map(),this.renderedNodes=new Map(),this.indent=d.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Lz(),this.activeIndentNodes=new Set(),this.indentGuidesDisposable=I.None,this.disposables=new P(),this.templateId=a.templateId,this.updateOptions(f),da.map(c,function(g){return g.node})(this.onDidChangeNodeTwistieState,this,this.disposables),a.onDidChangeTwistieState&&a.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}return d.prototype.updateOptions=function(a){a===void 0&&(a={}),typeof a.indent!=="undefined"&&(this.indent=Fd(a.indent,0,40));if(typeof a.renderIndentGuides!=="undefined"){var b=a.renderIndentGuides!==tl.None;if(b!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=b,this.indentGuidesDisposable.dispose();if(b){var c=new P();this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,c),this.indentGuidesDisposable=c,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof a.hideTwistiesOfChildlessElements!=="undefined"&&(this.hideTwistiesOfChildlessElements=a.hideTwistiesOfChildlessElements)},d.prototype.renderTemplate=function(a){var b=S(a,X(".monaco-tl-row")),c=S(b,X(".monaco-tl-indent")),e=S(b,X(".monaco-tl-twistie")),f=S(b,X(".monaco-tl-contents")),g=this.renderer.renderTemplate(f);return{container:a,indent:c,twistie:e,indentGuidesDisposable:I.None,templateData:g}},d.prototype.renderElement=function(a,b,c,e){typeof e==="number"&&(this.renderedNodes.set(a,{templateData:c,height:e}),this.renderedElements.set(a.element,a));var f=d.DefaultIndent+(a.depth-1)*this.indent;c.twistie.style.paddingLeft=f+"px",c.indent.style.width=f+this.indent-16+"px",this.renderTwistie(a,c),typeof e==="number"&&this.renderIndentGuides(a,c),this.renderer.renderElement(a,b,c.templateData,e)},d.prototype.disposeElement=function(a,b,c,e){c.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(a,b,c.templateData,e),typeof e==="number"&&(this.renderedNodes.delete(a),this.renderedElements.delete(a.element))},d.prototype.disposeTemplate=function(a){this.renderer.disposeTemplate(a.templateData)},d.prototype.onDidChangeTwistieState=function(a){var b=this.renderedElements.get(a);if(!b)return;this.onDidChangeNodeTwistieState(b)},d.prototype.onDidChangeNodeTwistieState=function(a){var b=this.renderedNodes.get(a);if(!b)return;this.renderTwistie(a,b.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(a,b.templateData)},d.prototype.renderTwistie=function(a,b){this.renderer.renderTwistie&&this.renderer.renderTwistie(a.element,b.twistie),a.collapsible&&(!this.hideTwistiesOfChildlessElements||a.visibleChildrenCount>0)?(Lf(b.twistie,"codicon","codicon-chevron-down","collapsible"),qa(b.twistie,"collapsed",a.collapsed)):_e(b.twistie,"codicon","codicon-chevron-down","collapsible","collapsed"),a.collapsible?b.container.setAttribute("aria-expanded",String(!a.collapsed)):b.container.removeAttribute("aria-expanded")},d.prototype.renderIndentGuides=function(a,b){var c=this;$b(b.indent),b.indentGuidesDisposable.dispose();if(!this.shouldRenderIndentGuides)return;for(var e=new P(),f=this.modelProvider(),g=a,h=function(){var k=f.getNodeLocation(g),l=f.getParentNodeLocation(k);if(!l)return"break";var m=f.getNode(l),n=X(".indent-guide",{style:"width: "+i.indent+"px"});i.activeIndentNodes.has(m)&&U(n,"active"),b.indent.childElementCount===0?b.indent.appendChild(n):b.indent.insertBefore(n,b.indent.firstElementChild),i.renderedIndentGuides.add(m,n),e.add(va(function(){return c.renderedIndentGuides.delete(m,n)})),g=m},i=this;;){var j=h();if(j==="break")break}b.indentGuidesDisposable=e},d.prototype._onDidChangeActiveNodes=function(a){var b=this;if(!this.shouldRenderIndentGuides)return;var c=new Set(),e=this.modelProvider();a.forEach(function(f){var g=e.getNodeLocation(f);try{var h=e.getParentNodeLocation(g);f.collapsible&&f.children.length>0&&!f.collapsed?c.add(f):h&&c.add(e.getNode(h))}catch(i){}}),this.activeIndentNodes.forEach(function(f){c.has(f)||b.renderedIndentGuides.forEach(f,function(g){return fa(g,"active")})}),c.forEach(function(f){b.activeIndentNodes.has(f)||b.renderedIndentGuides.forEach(f,function(g){return U(g,"active")})}),this.activeIndentNodes=c},d.prototype.dispose=function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),ca(this.disposables)},d.DefaultIndent=8,d}(),cP=function(){function d(a,b,c){this.tree=a,this.keyboardNavigationLabelProvider=b,this._filter=c,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new P(),a.onWillRefilter(this.reset,this,this.disposables)}return Object.defineProperty(d.prototype,"totalCount",{get:function(){return this._totalCount},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"matchCount",{get:function(){return this._matchCount},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"pattern",{set:function(a){this._pattern=a,this._lowercasePattern=a.toLowerCase()},enumerable:!0,configurable:!0}),d.prototype.filter=function(a,b){if(this._filter){var c=this._filter.filter(a,b);if(this.tree.options.simpleKeyboardNavigation)return c;var e=void 0;typeof c==="boolean"?e=c?1:0:sl(c)?e=Rh(c.visibility):e=c;if(e===0)return!1}this._totalCount++;if(this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:kd.Default,visibility:!0};var f=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a),g=f&&f.toString();if(typeof g==="undefined")return{data:kd.Default,visibility:!0};var h=Qh(this._pattern,this._lowercasePattern,0,g,g.toLowerCase(),0,!0);return h?(this._matchCount++,{data:h,visibility:!0}):this.tree.options.filterOnType?2:{data:kd.Default,visibility:!0}},d.prototype.reset=function(){this._totalCount=0,this._matchCount=0},d.prototype.dispose=function(){ca(this.disposables)},d}(),dP=function(){function d(a,b,c,e,f){this.tree=a,this.view=c,this.filter=e,this.keyboardNavigationDelegate=f,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new E(),this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new E(),this.enabledDisposables=new P(),this.disposables=new P(),this.domNode=X(".monaco-list-type-filter."+this.positionClassName),this.domNode.draggable=!0,ua(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=S(c.getHTMLElement(),X(".monaco-list-type-filter-message")),this.labelDomNode=S(this.domNode,X("span.label"));var g=S(this.domNode,X(".controls"));this._filterOnType=!!a.options.filterOnType,this.filterOnTypeDomNode=S(g,X("input.filter.codicon.codicon-list-selection")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitle(),ua(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=S(g,X("button.clear.codicon.codicon-close")),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=s("clear","Clear"),this.keyboardNavigationEventFilter=a.options.keyboardNavigationEventFilter,b.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(a.options)}return Object.defineProperty(d.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"pattern",{get:function(){return this._pattern},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"filterOnType",{get:function(){return this._filterOnType},enumerable:!0,configurable:!0}),d.prototype.updateOptions=function(a){a.simpleKeyboardNavigation?this.disable():this.enable(),typeof a.filterOnType!=="undefined"&&(this._filterOnType=!!a.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),typeof a.automaticKeyboardNavigation!=="undefined"&&(this.automaticKeyboardNavigation=a.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")},d.prototype.enable=function(){var a=this;if(this._enabled)return;var b=da.chain(ua(this.view.getHTMLElement(),"keydown")).filter(function(e){return!pt(e.target)||e.target===a.filterOnTypeDomNode}).filter(function(e){return e.key!=="Dead"&&!/^Media/.test(e.key)}).map(function(e){return new Pa(e)}).filter(this.keyboardNavigationEventFilter||function(){return!0}).filter(function(){return a.automaticKeyboardNavigation||a.triggered}).filter(function(e){return a.keyboardNavigationDelegate.mightProducePrintableCharacter(e)||(a.pattern.length>0||a.triggered)&&(e.keyCode===9||e.keyCode===1)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||e.keyCode===1&&(ka?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey}).forEach(function(e){e.stopPropagation(),e.preventDefault()}).event,c=ua(this.clearDomNode,"click");da.chain(da.any(b,c)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1},d.prototype.disable=function(){if(!this._enabled)return;this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1},d.prototype.onEventOrInput=function(a){typeof a==="string"?this.onInput(a):a instanceof MouseEvent||a.keyCode===9||a.keyCode===1&&(ka?a.altKey:a.ctrlKey)?this.onInput(""):a.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+a.browserEvent.key)},d.prototype.onInput=function(a){var b=this.view.getHTMLElement();a&&!this.domNode.parentElement?b.append(this.domNode):!a&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=a,this._onDidChangePattern.fire(a),this.filter.pattern=a,this.tree.refilter(),a&&this.tree.focusNext(0,!0,void 0,function(f){return!kd.isDefault(f.filterData)});var c=this.tree.getFocus();if(c.length>0){var e=c[0];this.tree.getRelativeTop(e)===null&&this.tree.reveal(e,.5)}this.render(),a||(this.triggered=!1)},d.prototype.onDragStart=function(){var a=this,b=this.view.getHTMLElement(),c=ab(b).left,e=b.clientWidth,f=e/2,g=this.domNode.clientWidth,h=new P(),i=this.positionClassName,j=function(){switch(i){case"nw":a.domNode.style.top="4px",a.domNode.style.left="4px";break;case"ne":a.domNode.style.top="4px",a.domNode.style.left=e-g-6+"px";break}},k=function(m){m.preventDefault();var n=m.screenX-c;m.dataTransfer&&(m.dataTransfer.dropEffect="none"),n<f?i="nw":i="ne",j()},l=function(){a.positionClassName=i,a.domNode.className="monaco-list-type-filter "+a.positionClassName,a.domNode.style.top="",a.domNode.style.left="",ca(h)};j(),fa(this.domNode,i),U(this.domNode,"dragging"),h.add(va(function(){return fa(a.domNode,"dragging")})),ua(document,"dragover")(k,null,h),ua(this.domNode,"dragend")(l,null,h),Wc.CurrentDragAndDropData=new Cy("vscode-ui"),h.add(va(function(){return Wc.CurrentDragAndDropData=void 0}))},d.prototype.onDidSpliceModel=function(){if(!this._enabled||this.pattern.length===0)return;this.tree.refilter(),this.render()},d.prototype.onDidChangeFilterOnType=function(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitle()},d.prototype.updateFilterOnTypeTitle=function(){this.filterOnType?this.filterOnTypeDomNode.title=s("disable filter on type","Disable Filter on Type"):this.filterOnTypeDomNode.title=s("enable filter on type","Enable Filter on Type")},d.prototype.render=function(){var a=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&a?(this.messageDomNode.textContent=s("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerHTML="",this._empty=!1),qa(this.domNode,"no-matches",a),this.domNode.title=s("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)},d.prototype.shouldAllowFocus=function(a){return!this.enabled||!this.pattern||this.filterOnType?!0:this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!kd.isDefault(a.filterData)},d.prototype.dispose=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),ca(this.disposables)},d}();function pt(d){return d.tagName==="INPUT"||d.tagName==="TEXTAREA"}function eP(d){return{elements:d.elements.map(function(a){return a.element}),browserEvent:d.browserEvent}}function mo(d,a){a(d),d.children.forEach(function(b){return mo(b,a)})}var Mz=function(){function d(a){this.identityProvider=a,this.nodes=[],this._onDidChange=new E(),this.onDidChange=this._onDidChange.event}return Object.defineProperty(d.prototype,"nodeSet",{get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet},enumerable:!0,configurable:!0}),d.prototype.set=function(a,b){if(xc(this.nodes,a))return;this._set(a,!1,b)},d.prototype._set=function(a,b,c){this.nodes=ko(a),this.elements=void 0,this._nodeSet=void 0;if(!b){var e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:c})}},d.prototype.get=function(){return this.elements||(this.elements=this.nodes.map(function(a){return a.element})),ko(this.elements)},d.prototype.getNodes=function(){return this.nodes},d.prototype.has=function(a){return this.nodeSet.has(a)},d.prototype.onDidModelSplice=function(a){var b=this,c=a.insertedNodes,e=a.deletedNodes;if(!this.identityProvider){var f=this.createNodeSet(),g=function(t){return f.delete(t)};e.forEach(function(t){return mo(t,g)}),this.set(Ig(f));return}var h=new Set(),i=function(t){return h.add(b.identityProvider.getId(t.element).toString())};e.forEach(function(t){return mo(t,i)});var j=new Map(),k=function(t){return j.set(b.identityProvider.getId(t.element).toString(),t)};c.forEach(function(t){return mo(t,k)});for(var l=[],m=0,n=this.nodes;m<n.length;m++){var o=n[m],p=this.identityProvider.getId(o.element).toString(),q=h.has(p);if(!q)l.push(o);else{var r=j.get(p);r&&l.push(r)}}this._set(l,!0)},d.prototype.createNodeSet=function(){for(var a=new Set(),b=0,c=this.nodes;b<c.length;b++){var e=c[b];a.add(e)}return a},d}(),fP=function(d){mt(a,d);function a(b,c){var e=d.call(this,b)||this;return e.tree=c,e}return a.prototype.onPointer=function(b){if(pt(b.browserEvent.target))return;var c=b.element;if(!c)return d.prototype.onPointer.call(this,b);if(this.isSelectionRangeChangeEvent(b)||this.isSelectionSingleChangeEvent(b))return d.prototype.onPointer.call(this,b);var e=Kc(b.browserEvent.target,"monaco-tl-twistie");if(!this.tree.openOnSingleClick&&b.browserEvent.detail!==2&&!e)return d.prototype.onPointer.call(this,b);var f=!1;typeof this.tree.expandOnlyOnTwistieClick==="function"?f=this.tree.expandOnlyOnTwistieClick(c.element):f=!!this.tree.expandOnlyOnTwistieClick;if(f&&!e)return d.prototype.onPointer.call(this,b);if(c.collapsible){var g=this.tree.model,h=g.getNodeLocation(c),i=b.browserEvent.altKey;g.setCollapsed(h,void 0,i);if(f&&e)return}d.prototype.onPointer.call(this,b)},a.prototype.onDoubleClick=function(b){var c=Kc(b.browserEvent.target,"monaco-tl-twistie");if(c)return;d.prototype.onDoubleClick.call(this,b)},a}(dt),gP=function(d){mt(a,d);function a(b,c,e,f,g,h,i){var j=d.call(this,b,c,e,f,i)||this;return j.focusTrait=g,j.selectionTrait=h,j}return a.prototype.createMouseController=function(b){return new fP(this,b.tree)},a.prototype.splice=function(b,c,e){var f=this;e===void 0&&(e=[]),d.prototype.splice.call(this,b,c,e);if(e.length===0)return;var g=[],h=[];e.forEach(function(i,j){f.focusTrait.has(i)&&g.push(b+j),f.selectionTrait.has(i)&&h.push(b+j)}),g.length>0&&d.prototype.setFocus.call(this,nt(ko(d.prototype.getFocus.call(this),g))),h.length>0&&d.prototype.setSelection.call(this,nt(ko(d.prototype.getSelection.call(this),h)))},a.prototype.setFocus=function(b,c,e){var f=this;e===void 0&&(e=!1),d.prototype.setFocus.call(this,b,c),e||this.focusTrait.set(b.map(function(g){return f.element(g)}),c)},a.prototype.setSelection=function(b,c,e){var f=this;e===void 0&&(e=!1),d.prototype.setSelection.call(this,b,c),e||this.selectionTrait.set(b.map(function(g){return f.element(g)}),c)},a}(eo),no=function(){function d(a,b,c,e,f){var g=this;f===void 0&&(f={}),this._options=f,this.eventBufferer=new ij(),this.disposables=new P(),this._onWillRefilter=new E(),this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new E();var h=new lo(c),i=new ec(),j=new ec(),k=new aP(j.event);this.renderers=e.map(function(t){return new bP(t,function(){return g.model},i.event,k,f)});for(var l=0,m=this.renderers;l<m.length;l++){var n=m[l];this.disposables.add(n)}var o;f.keyboardNavigationLabelProvider&&(o=new cP(this,f.keyboardNavigationLabelProvider,f.filter),f=mc(mc({},f),{filter:o}),this.disposables.add(o)),this.focus=new Mz(f.identityProvider),this.selection=new Mz(f.identityProvider),this.view=new gP(a,b,h,this.renderers,this.focus,this.selection,mc(mc({},$O(function(){return g.model},f)),{tree:this})),this.model=this.createModel(a,this.view,f),i.input=this.model.onDidChangeCollapseState;var p=da.forEach(this.model.onDidSplice,function(t){g.eventBufferer.bufferEvents(function(){g.focus.onDidModelSplice(t),g.selection.onDidModelSplice(t)})});p(function(){return null},null,this.disposables),j.input=da.chain(da.any(p,this.focus.onDidChange,this.selection.onDidChange)).debounce(function(){return null},0).map(function(){for(var t=new Set(),v=0,w=g.focus.getNodes();v<w.length;v++){var x=w[v];t.add(x)}for(var u=0,y=g.selection.getNodes();u<y.length;u++){var x=y[u];t.add(x)}return Kz(t)}).event;if(f.keyboardSupport!==!1){var q=da.chain(this.view.onKeyDown).filter(function(t){return!pt(t.target)}).map(function(t){return new Pa(t)});q.filter(function(t){return t.keyCode===15}).on(this.onLeftArrow,this,this.disposables),q.filter(function(t){return t.keyCode===17}).on(this.onRightArrow,this,this.disposables),q.filter(function(t){return t.keyCode===10}).on(this.onSpace,this,this.disposables)}if(f.keyboardNavigationLabelProvider){var r=f.keyboardNavigationDelegate||at;this.typeFilterController=new dP(this,this.model,this.view,o,r),this.focusNavigationFilter=function(t){return g.typeFilterController.shouldAllowFocus(t)},this.disposables.add(this.typeFilterController)}this.styleElement=vc(this.view.getHTMLElement()),qa(this.getHTMLElement(),"always",this._options.renderIndentGuides===tl.Always)}return Object.defineProperty(d.prototype,"onDidChangeFocus",{get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidChangeSelection",{get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidOpen",{get:function(){return da.map(this.view.onDidOpen,eP)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidFocus",{get:function(){return this.view.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"openOnSingleClick",{get:function(){return typeof this._options.openOnSingleClick==="undefined"?!0:this._options.openOnSingleClick},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"expandOnlyOnTwistieClick",{get:function(){return typeof this._options.expandOnlyOnTwistieClick==="undefined"?!1:this._options.expandOnlyOnTwistieClick},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidDispose",{get:function(){return this.view.onDidDispose},enumerable:!0,configurable:!0}),d.prototype.updateOptions=function(a){a===void 0&&(a={}),this._options=mc(mc({},this._options),a);for(var b=0,c=this.renderers;b<c.length;b++){var e=c[b];e.updateOptions(a)}this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),qa(this.getHTMLElement(),"always",this._options.renderIndentGuides===tl.Always)},Object.defineProperty(d.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),d.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},Object.defineProperty(d.prototype,"scrollTop",{get:function(){return this.view.scrollTop},set:function(a){this.view.scrollTop=a},enumerable:!0,configurable:!0}),d.prototype.domFocus=function(){this.view.domFocus()},d.prototype.layout=function(a,b){this.view.layout(a,b)},d.prototype.style=function(a){var b="."+this.view.domId,c=[];a.treeIndentGuidesStroke&&(c.push(".monaco-list"+b+":hover .monaco-tl-indent > .indent-guide, .monaco-list"+b+".always .monaco-tl-indent > .indent-guide  { border-color: "+a.treeIndentGuidesStroke.transparent(.4)+"; }"),c.push(".monaco-list"+b+" .monaco-tl-indent > .indent-guide.active { border-color: "+a.treeIndentGuidesStroke+"; }"));var e=c.join(`
`);e!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=e),this.view.style(a)},d.prototype.collapse=function(a,b){return b===void 0&&(b=!1),this.model.setCollapsed(a,!0,b)},d.prototype.expand=function(a,b){return b===void 0&&(b=!1),this.model.setCollapsed(a,!1,b)},d.prototype.isCollapsible=function(a){return this.model.isCollapsible(a)},d.prototype.setCollapsible=function(a,b){return this.model.setCollapsible(a,b)},d.prototype.isCollapsed=function(a){return this.model.isCollapsed(a)},d.prototype.refilter=function(){this._onWillRefilter.fire(void 0),this.model.refilter()},d.prototype.setSelection=function(a,b){var c=this,e=a.map(function(g){return c.model.getNode(g)});this.selection.set(e,b);var f=a.map(function(g){return c.model.getListIndex(g)}).filter(function(g){return g>-1});this.view.setSelection(f,b,!0)},d.prototype.getSelection=function(){return this.selection.get()},d.prototype.setFocus=function(a,b){var c=this,e=a.map(function(g){return c.model.getNode(g)});this.focus.set(e,b);var f=a.map(function(g){return c.model.getListIndex(g)}).filter(function(g){return g>-1});this.view.setFocus(f,b,!0)},d.prototype.focusNext=function(a,b,c,e){a===void 0&&(a=1),b===void 0&&(b=!1),e===void 0&&(e=this.focusNavigationFilter),this.view.focusNext(a,b,c,e)},d.prototype.getFocus=function(){return this.focus.get()},d.prototype.reveal=function(a,b){this.model.expandTo(a);var c=this.model.getListIndex(a);if(c===-1)return;this.view.reveal(c,b)},d.prototype.getRelativeTop=function(a){var b=this.model.getListIndex(a);return b===-1?null:this.view.getRelativeTop(b)},d.prototype.onLeftArrow=function(a){a.preventDefault(),a.stopPropagation();var b=this.view.getFocusedElements();if(b.length===0)return;var c=b[0],e=this.model.getNodeLocation(c),f=this.model.setCollapsed(e,!0);if(!f){var g=this.model.getParentNodeLocation(e);if(!g)return;var h=this.model.getListIndex(g);this.view.reveal(h),this.view.setFocus([h])}},d.prototype.onRightArrow=function(a){a.preventDefault(),a.stopPropagation();var b=this.view.getFocusedElements();if(b.length===0)return;var c=b[0],e=this.model.getNodeLocation(c),f=this.model.setCollapsed(e,!1);if(!f){if(!c.children.some(function(i){return i.visible}))return;var g=this.view.getFocus()[0],h=g+1;this.view.reveal(h),this.view.setFocus([h])}},d.prototype.onSpace=function(a){a.preventDefault(),a.stopPropagation();var b=this.view.getFocusedElements();if(b.length===0)return;var c=b[0],e=this.model.getNodeLocation(c),f=a.browserEvent.altKey;this.model.setCollapsed(e,void 0,f)},d.prototype.dispose=function(){ca(this.disposables),this.view.dispose()},d}();var lj=function(){return lj=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},lj.apply(this,arguments)},AP=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},kj=function(){function d(a,b,c){c===void 0&&(c={}),this.user=a,this.nodes=new Map(),this.nodesByIdentity=new Map(),this.model=new Xz(a,b,null,c),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,c.sorter&&(this.sorter={compare:function(e,f){return c.sorter.compare(e.element,f.element)}}),this.identityProvider=c.identityProvider}return d.prototype.setChildren=function(a,b,c,e){var f=this.getElementLocation(a);this._setChildren(f,this.preserveCollapseState(b),c,e)},d.prototype._setChildren=function(a,b,c,e){var f=this,g=new Set(),h=new Set(),i=function(k){g.add(k.element),f.nodes.set(k.element,k);if(f.identityProvider){var l=f.identityProvider.getId(k.element).toString();h.add(l),f.nodesByIdentity.set(l,k)}c&&c(k)},j=function(k){g.has(k.element)||f.nodes.delete(k.element);if(f.identityProvider){var l=f.identityProvider.getId(k.element).toString();h.has(l)||f.nodesByIdentity.delete(l)}e&&e(k)};this.model.splice(AP(a,[0]),Number.MAX_VALUE,b,i,j)},d.prototype.preserveCollapseState=function(a){var b=this,c=a?Zz(a):La.empty();return this.sorter&&(c=La.fromArray(Tf(La.collect(c),this.sorter.compare.bind(this.sorter)))),La.map(c,function(e){var f=b.nodes.get(e.element);if(!f&&b.identityProvider){var g=b.identityProvider.getId(e.element).toString();f=b.nodesByIdentity.get(g)}if(!f)return lj(lj({},e),{children:b.preserveCollapseState(e.children)});var h=typeof e.collapsible==="boolean"?e.collapsible:f.collapsible,i=typeof e.collapsed!=="undefined"?e.collapsed:f.collapsed;return lj(lj({},e),{collapsible:h,collapsed:i,children:b.preserveCollapseState(e.children)})})},d.prototype.rerender=function(a){var b=this.getElementLocation(a);this.model.rerender(b)},d.prototype.has=function(a){return this.nodes.has(a)},d.prototype.getListIndex=function(a){var b=this.getElementLocation(a);return this.model.getListIndex(b)},d.prototype.getListRenderCount=function(a){var b=this.getElementLocation(a);return this.model.getListRenderCount(b)},d.prototype.isCollapsible=function(a){var b=this.getElementLocation(a);return this.model.isCollapsible(b)},d.prototype.setCollapsible=function(a,b){var c=this.getElementLocation(a);return this.model.setCollapsible(c,b)},d.prototype.isCollapsed=function(a){var b=this.getElementLocation(a);return this.model.isCollapsed(b)},d.prototype.setCollapsed=function(a,b,c){var e=this.getElementLocation(a);return this.model.setCollapsed(e,b,c)},d.prototype.expandTo=function(a){var b=this.getElementLocation(a);this.model.expandTo(b)},d.prototype.refilter=function(){this.model.refilter()},d.prototype.getNode=function(a){a===void 0&&(a=null);if(a===null)return this.model.getNode(this.model.rootRef);var b=this.nodes.get(a);if(!b)throw new Nc(this.user,"Tree element not found: "+a);return b},d.prototype.getNodeLocation=function(a){return a.element},d.prototype.getParentNodeLocation=function(a){if(a===null)throw new Nc(this.user,"Invalid getParentNodeLocation call");var b=this.nodes.get(a);if(!b)throw new Nc(this.user,"Tree element not found: "+a);var c=this.model.getNodeLocation(b),e=this.model.getParentNodeLocation(c),f=this.model.getNode(e);return f.element},d.prototype.getElementLocation=function(a){if(a===null)return[];var b=this.nodes.get(a);if(!b)throw new Nc(this.user,"Tree element not found: "+a);return this.model.getNodeLocation(b)},d}();var Mg=function(){return Mg=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},Mg.apply(this,arguments)};function oo(d){var a=[d.element],b=d.incompressible||!1;return{element:{elements:a,incompressible:b},children:La.map(La.from(d.children),oo),collapsible:d.collapsible,collapsed:d.collapsed}}function po(d){for(var a=[d.element],b=d.incompressible||!1,c,e;;){c=La.from(d.children),e=La.collect(c,2);if(e.length!==1)break;d=e[0];if(d.incompressible)break;a.push(d.element)}return{element:{elements:a,incompressible:b},children:La.map(La.concat(La.fromArray(e),c),po),collapsible:d.collapsible,collapsed:d.collapsed}}function wt(d,a){a===void 0&&(a=0);var b;return a<d.element.elements.length-1?b=La.single(wt(d,a+1)):b=La.map(La.from(d.children),function(c){return wt(c,0)}),a===0&&d.element.incompressible?{element:d.element.elements[a],children:b,incompressible:!0,collapsible:d.collapsible,collapsed:d.collapsed}:{element:d.element.elements[a],children:b,collapsible:d.collapsible,collapsed:d.collapsed}}function Rz(d){return wt(d,0)}function Sz(d,a,b){return d.element===a?Mg(Mg({},d),{children:b}):Mg(Mg({},d),{children:La.map(La.from(d.children),function(c){return Sz(c,a,b)})})}var rP=function(){function d(a,b,c){c===void 0&&(c={}),this.user=a,this.nodes=new Map(),this.model=new kj(a,b,c),this.enabled=typeof c.compressionEnabled==="undefined"?!0:c.compressionEnabled}return Object.defineProperty(d.prototype,"onDidSplice",{get:function(){return this.model.onDidSplice},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),d.prototype.setChildren=function(a,b){if(a===null){var c=La.map(La.from(b),this.enabled?po:oo);this._setChildren(null,c);return}var e=this.nodes.get(a);if(!e)throw new Error("Unknown compressed tree node");var f=this.model.getNode(e),g=this.model.getParentNodeLocation(e),h=this.model.getNode(g),i=Rz(f),j=Sz(i,a,La.from(b)),k=(this.enabled?po:oo)(j),l=h.children.map(function(m){return m===f?k:m});this._setChildren(h.element,l)},d.prototype.setCompressionEnabled=function(a){if(a===this.enabled)return;this.enabled=a;var b=this.model.getNode(),c=La.from(b.children),e=La.map(c,Rz),f=La.map(e,a?po:oo);this._setChildren(null,f)},d.prototype._setChildren=function(a,b){var c=this,e=new Set(),f=function(h){for(var i=0,j=h.element.elements;i<j.length;i++){var k=j[i];e.add(k),c.nodes.set(k,h.element)}},g=function(h){for(var i=0,j=h.element.elements;i<j.length;i++){var k=j[i];e.has(k)||c.nodes.delete(k)}};this.model.setChildren(a,b,f,g)},d.prototype.has=function(a){return this.nodes.has(a)},d.prototype.getListIndex=function(a){var b=this.getCompressedNode(a);return this.model.getListIndex(b)},d.prototype.getListRenderCount=function(a){var b=this.getCompressedNode(a);return this.model.getListRenderCount(b)},d.prototype.getNode=function(a){if(typeof a==="undefined")return this.model.getNode();var b=this.getCompressedNode(a);return this.model.getNode(b)},d.prototype.getNodeLocation=function(a){var b=this.model.getNodeLocation(a);return b===null?null:b.elements[b.elements.length-1]},d.prototype.getParentNodeLocation=function(a){var b=this.getCompressedNode(a),c=this.model.getParentNodeLocation(b);return c===null?null:c.elements[c.elements.length-1]},d.prototype.isCollapsible=function(a){var b=this.getCompressedNode(a);return this.model.isCollapsible(b)},d.prototype.setCollapsible=function(a,b){var c=this.getCompressedNode(a);return this.model.setCollapsible(c,b)},d.prototype.isCollapsed=function(a){var b=this.getCompressedNode(a);return this.model.isCollapsed(b)},d.prototype.setCollapsed=function(a,b,c){var e=this.getCompressedNode(a);return this.model.setCollapsed(e,b,c)},d.prototype.expandTo=function(a){var b=this.getCompressedNode(a);this.model.expandTo(b)},d.prototype.rerender=function(a){var b=this.getCompressedNode(a);this.model.rerender(b)},d.prototype.refilter=function(){this.model.refilter()},d.prototype.getCompressedNode=function(a){if(a===null)return null;var b=this.nodes.get(a);if(!b)throw new Nc(this.user,"Tree element not found: "+a);return b},d}(),sP=function(d){return d[d.length-1]},tP=function(){function d(a,b){this.unwrapper=a,this.node=b}return Object.defineProperty(d.prototype,"element",{get:function(){return this.node.element===null?null:this.unwrapper(this.node.element)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"children",{get:function(){var a=this;return this.node.children.map(function(b){return new d(a.unwrapper,b)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),d}();function uP(d,a){return{splice:function(b,c,e){a.splice(b,c,e.map(function(f){return d.map(f)}))}}}function vP(d,a){return Mg(Mg({},a),{sorter:a.sorter&&{compare:function(b,c){return a.sorter.compare(b.elements[0],c.elements[0])}},identityProvider:a.identityProvider&&{getId:function(b){return a.identityProvider.getId(d(b))}},filter:a.filter&&{filter:function(b,c){return a.filter.filter(d(b),c)}}})}var Tz=function(){function d(a,b,c){var e=this;c===void 0&&(c={}),this.elementMapper=c.elementMapper||sP;var f=function(g){return e.elementMapper(g.elements)};this.nodeMapper=new vl(function(g){return new tP(f,g)}),this.model=new rP(a,uP(this.nodeMapper,b),vP(f,c))}return Object.defineProperty(d.prototype,"onDidSplice",{get:function(){var a=this;return da.map(this.model.onDidSplice,function(b){var c=b.insertedNodes,e=b.deletedNodes;return{insertedNodes:c.map(function(f){return a.nodeMapper.map(f)}),deletedNodes:e.map(function(f){return a.nodeMapper.map(f)})}})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidChangeCollapseState",{get:function(){var a=this;return da.map(this.model.onDidChangeCollapseState,function(b){var c=b.node,e=b.deep;return{node:a.nodeMapper.map(c),deep:e}})},enumerable:!0,configurable:!0}),d.prototype.setChildren=function(a,b){this.model.setChildren(a,b)},d.prototype.setCompressionEnabled=function(a){this.model.setCompressionEnabled(a)},d.prototype.has=function(a){return this.model.has(a)},d.prototype.getListIndex=function(a){return this.model.getListIndex(a)},d.prototype.getListRenderCount=function(a){return this.model.getListRenderCount(a)},d.prototype.getNode=function(a){return this.nodeMapper.map(this.model.getNode(a))},d.prototype.getNodeLocation=function(a){return a.element},d.prototype.getParentNodeLocation=function(a){return this.model.getParentNodeLocation(a)},d.prototype.isCollapsible=function(a){return this.model.isCollapsible(a)},d.prototype.setCollapsible=function(a,b){return this.model.setCollapsible(a,b)},d.prototype.isCollapsed=function(a){return this.model.isCollapsed(a)},d.prototype.setCollapsed=function(a,b,c){return this.model.setCollapsed(a,b,c)},d.prototype.expandTo=function(a){return this.model.expandTo(a)},d.prototype.rerender=function(a){return this.model.rerender(a)},d.prototype.refilter=function(){return this.model.refilter()},d.prototype.getCompressedTreeNode=function(a){return a===void 0&&(a=null),this.model.getNode(a)},d}();var Yz=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),qo=function(){return qo=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},qo.apply(this,arguments)},xP=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},ul=function(d){Yz(a,d);function a(b,c,e,f,g){return g===void 0&&(g={}),d.call(this,b,c,e,f,g)||this}return Object.defineProperty(a.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),a.prototype.setChildren=function(b,c){this.model.setChildren(b,c)},a.prototype.rerender=function(b){if(b===void 0){this.view.rerender();return}this.model.rerender(b)},a.prototype.hasElement=function(b){return this.model.has(b)},a.prototype.createModel=function(b,c,e){return new kj(b,c,e)},a}(no),yP=function(){function d(a,b){this._compressedTreeNodeProvider=a,this.renderer=b,this.templateId=b.templateId,b.onDidChangeTwistieState&&(this.onDidChangeTwistieState=b.onDidChangeTwistieState)}return Object.defineProperty(d.prototype,"compressedTreeNodeProvider",{get:function(){return this._compressedTreeNodeProvider()},enumerable:!0,configurable:!0}),d.prototype.renderTemplate=function(a){var b=this.renderer.renderTemplate(a);return{compressedTreeNode:void 0,data:b}},d.prototype.renderElement=function(a,b,c,e){var f=this.compressedTreeNodeProvider.getCompressedTreeNode(a.element);f.element.elements.length===1?(c.compressedTreeNode=void 0,this.renderer.renderElement(a,b,c.data,e)):(c.compressedTreeNode=f,this.renderer.renderCompressedElements(f,b,c.data,e))},d.prototype.disposeElement=function(a,b,c,e){c.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(c.compressedTreeNode,b,c.data,e):this.renderer.disposeElement&&this.renderer.disposeElement(a,b,c.data,e)},d.prototype.disposeTemplate=function(a){this.renderer.disposeTemplate(a.data)},d.prototype.renderTwistie=function(a,b){this.renderer.renderTwistie&&this.renderer.renderTwistie(a,b)},xP([Lc],d.prototype,"compressedTreeNodeProvider",null),d}();function zP(d,a){return a&&qo(qo({},a),{keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(b){var c;try{c=d().getCompressedTreeNode(b)}catch(e){return a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(b)}return c.element.elements.length===1?a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(b):a.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(c.element.elements)}}})}var Oz=function(d){Yz(a,d);function a(b,c,e,f,g){g===void 0&&(g={});var h=this,i=function(){return h},j=f.map(function(k){return new yP(i,k)});return h=d.call(this,b,c,e,j,zP(i,g))||this,h}return a.prototype.setChildren=function(b,c){this.model.setChildren(b,c)},a.prototype.createModel=function(b,c,e){return new Tz(b,c,e)},a.prototype.updateOptions=function(b){b===void 0&&(b={}),d.prototype.updateOptions.call(this,b),typeof b.compressionEnabled!=="undefined"&&this.model.setCompressionEnabled(b.compressionEnabled)},a.prototype.getCompressedTreeNode=function(b){return b===void 0&&(b=null),this.model.getCompressedTreeNode(b)},a}(ul);var Nz=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),fc=function(){return fc=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},fc.apply(this,arguments)},Jg=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},Kg=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},hP=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c};function qt(d){return fc(fc({},d),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function rt(d,a){return a.parent?a.parent===d?!0:rt(d,a.parent):!1}function iP(d,a){return d===a||rt(d,a)||rt(a,d)}var jP=function(){function d(a){this.node=a}return Object.defineProperty(d.prototype,"element",{get:function(){return this.node.element.element},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"children",{get:function(){return this.node.children.map(function(a){return new d(a)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),d}(),kP=function(){function d(a,b,c){this.renderer=a,this.nodeMapper=b,this.onDidChangeTwistieState=c,this.renderedNodes=new Map(),this.templateId=a.templateId}return d.prototype.renderTemplate=function(a){var b=this.renderer.renderTemplate(a);return{templateData:b}},d.prototype.renderElement=function(a,b,c,e){this.renderer.renderElement(this.nodeMapper.map(a),b,c.templateData,e)},d.prototype.renderTwistie=function(a,b){return qa(b,"codicon-loading",a.slow),!1},d.prototype.disposeElement=function(a,b,c,e){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(a),b,c.templateData,e)},d.prototype.disposeTemplate=function(a){this.renderer.disposeTemplate(a.templateData)},d.prototype.dispose=function(){this.renderedNodes.clear()},d}();function st(d){return{browserEvent:d.browserEvent,elements:d.elements.map(function(a){return a.element})}}var lP=function(d){Nz(a,d);function a(b){var c=d.call(this,b.elements.map(function(e){return e.element}))||this;return c.data=b,c}return a}(Oh);function tt(d){return d instanceof Oh?new lP(d):d}var mP=function(){function d(a){this.dnd=a}return d.prototype.getDragURI=function(a){return this.dnd.getDragURI(a.element)},d.prototype.getDragLabel=function(a,b){return this.dnd.getDragLabel?this.dnd.getDragLabel(a.map(function(c){return c.element}),b):void 0},d.prototype.onDragStart=function(a,b){this.dnd.onDragStart&&this.dnd.onDragStart(tt(a),b)},d.prototype.onDragOver=function(a,b,c,e,f){return f===void 0&&(f=!0),this.dnd.onDragOver(tt(a),b&&b.element,c,e)},d.prototype.drop=function(a,b,c,e){this.dnd.drop(tt(a),b&&b.element,c,e)},d.prototype.onDragEnd=function(a){this.dnd.onDragEnd&&this.dnd.onDragEnd(a)},d}();function Pz(d){return d&&fc(fc({},d),{collapseByDefault:!0,identityProvider:d.identityProvider&&{getId:function(a){return d.identityProvider.getId(a.element)}},dnd:d.dnd&&new mP(d.dnd),multipleSelectionController:d.multipleSelectionController&&{isSelectionSingleChangeEvent:function(a){return d.multipleSelectionController.isSelectionSingleChangeEvent(fc(fc({},a),{element:a.element}))},isSelectionRangeChangeEvent:function(a){return d.multipleSelectionController.isSelectionRangeChangeEvent(fc(fc({},a),{element:a.element}))}},accessibilityProvider:d.accessibilityProvider&&fc(fc({},d.accessibilityProvider),{getAriaLabel:function(a){return d.accessibilityProvider.getAriaLabel(a.element)},getAriaLevel:d.accessibilityProvider.getAriaLevel&&function(a){return d.accessibilityProvider.getAriaLevel(a.element)},getActiveDescendantId:d.accessibilityProvider.getActiveDescendantId&&function(a){return d.accessibilityProvider.getActiveDescendantId(a.element)}}),filter:d.filter&&{filter:function(a,b){return d.filter.filter(a.element,b)}},keyboardNavigationLabelProvider:d.keyboardNavigationLabelProvider&&fc(fc({},d.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(a){return d.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof d.expandOnlyOnTwistieClick==="undefined"?void 0:typeof d.expandOnlyOnTwistieClick!=="function"?d.expandOnlyOnTwistieClick:function(a){return d.expandOnlyOnTwistieClick(a.element)},ariaProvider:d.ariaProvider&&{getPosInSet:function(a,b){return d.ariaProvider.getPosInSet(a.element,b)},getSetSize:function(a,b,c){return d.ariaProvider.getSetSize(a.element,b,c)},getRole:d.ariaProvider.getRole?function(a){return d.ariaProvider.getRole(a.element)}:void 0,isChecked:d.ariaProvider.isChecked?function(a){var b;return((b=d.ariaProvider)===null||b===void 0?void 0:b.isChecked)(a.element)}:void 0},additionalScrollHeight:d.additionalScrollHeight})}function ut(d,a){a(d),d.children.forEach(function(b){return ut(b,a)})}var vt=function(){function d(a,b,c,e,f,g){g===void 0&&(g={}),this.user=a,this.dataSource=f,this.nodes=new Map(),this.subTreeRefreshPromises=new Map(),this.refreshPromises=new Map(),this._onDidRender=new E(),this._onDidChangeNodeSlowState=new E(),this.nodeMapper=new vl(function(h){return new jP(h)}),this.disposables=new P(),this.identityProvider=g.identityProvider,this.autoExpandSingleChildren=typeof g.autoExpandSingleChildren==="undefined"?!1:g.autoExpandSingleChildren,this.sorter=g.sorter,this.collapseByDefault=g.collapseByDefault,this.tree=this.createTree(a,b,c,e,g),this.root=qt({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=fc(fc({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object.defineProperty(d.prototype,"onDidChangeFocus",{get:function(){return da.map(this.tree.onDidChangeFocus,st)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidChangeSelection",{get:function(){return da.map(this.tree.onDidChangeSelection,st)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidOpen",{get:function(){return da.map(this.tree.onDidOpen,st)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidFocus",{get:function(){return this.tree.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onDidDispose",{get:function(){return this.tree.onDidDispose},enumerable:!0,configurable:!0}),d.prototype.createTree=function(a,b,c,e,f){var g=this,h=new lo(c),i=e.map(function(k){return new kP(k,g.nodeMapper,g._onDidChangeNodeSlowState.event)}),j=Pz(f)||{};return new ul(a,b,h,i,j)},d.prototype.updateOptions=function(a){a===void 0&&(a={}),this.tree.updateOptions(a)},d.prototype.getHTMLElement=function(){return this.tree.getHTMLElement()},Object.defineProperty(d.prototype,"scrollTop",{get:function(){return this.tree.scrollTop},set:function(a){this.tree.scrollTop=a},enumerable:!0,configurable:!0}),d.prototype.domFocus=function(){this.tree.domFocus()},d.prototype.layout=function(a,b){this.tree.layout(a,b)},d.prototype.style=function(a){this.tree.style(a)},d.prototype.getInput=function(){return this.root.element},d.prototype.setInput=function(a,b){return Jg(this,void 0,void 0,function(){var c;return Kg(this,function(e){switch(e.label){case 0:return this.refreshPromises.forEach(function(f){return f.cancel()}),this.refreshPromises.clear(),this.root.element=a,c=b&&{viewState:b,focus:[],selection:[]},[4,this._updateChildren(a,!0,!1,c)];case 1:return e.sent(),c&&(this.tree.setFocus(c.focus),this.tree.setSelection(c.selection)),b&&typeof b.scrollTop==="number"&&(this.scrollTop=b.scrollTop),[2]}})})},d.prototype._updateChildren=function(a,b,c,e){return a===void 0&&(a=this.root.element),b===void 0&&(b=!0),c===void 0&&(c=!1),Jg(this,void 0,void 0,function(){var f;return Kg(this,function(g){switch(g.label){case 0:if(typeof this.root.element==="undefined")throw new Nc(this.user,"Tree input not set");return this.root.refreshPromise?[4,this.root.refreshPromise]:[3,3];case 1:return g.sent(),[4,da.toPromise(this._onDidRender.event)];case 2:g.sent(),g.label=3;case 3:return f=this.getDataNode(a),[4,this.refreshAndRenderNode(f,b,e)];case 4:g.sent();if(c)try{this.tree.rerender(f)}catch(h){}return[2]}})})},d.prototype.rerender=function(a){if(a===void 0||a===this.root.element){this.tree.rerender();return}var b=this.getDataNode(a);this.tree.rerender(b)},d.prototype.collapse=function(a,b){b===void 0&&(b=!1);var c=this.getDataNode(a);return this.tree.collapse(c===this.root?null:c,b)},d.prototype.expand=function(a,b){return b===void 0&&(b=!1),Jg(this,void 0,void 0,function(){var c,e;return Kg(this,function(f){switch(f.label){case 0:if(typeof this.root.element==="undefined")throw new Nc(this.user,"Tree input not set");return this.root.refreshPromise?[4,this.root.refreshPromise]:[3,3];case 1:return f.sent(),[4,da.toPromise(this._onDidRender.event)];case 2:f.sent(),f.label=3;case 3:return c=this.getDataNode(a),this.tree.hasElement(c)&&!this.tree.isCollapsible(c)?[2,!1]:c.refreshPromise?[4,this.root.refreshPromise]:[3,6];case 4:return f.sent(),[4,da.toPromise(this._onDidRender.event)];case 5:f.sent(),f.label=6;case 6:return c!==this.root&&!c.refreshPromise&&!this.tree.isCollapsed(c)?[2,!1]:(e=this.tree.expand(c===this.root?null:c,b),c.refreshPromise?[4,this.root.refreshPromise]:[3,9]);case 7:return f.sent(),[4,da.toPromise(this._onDidRender.event)];case 8:f.sent(),f.label=9;case 9:return[2,e]}})})},d.prototype.setSelection=function(a,b){var c=this,e=a.map(function(f){return c.getDataNode(f)});this.tree.setSelection(e,b)},d.prototype.getSelection=function(){var a=this.tree.getSelection();return a.map(function(b){return b.element})},d.prototype.setFocus=function(a,b){var c=this,e=a.map(function(f){return c.getDataNode(f)});this.tree.setFocus(e,b)},d.prototype.getFocus=function(){var a=this.tree.getFocus();return a.map(function(b){return b.element})},d.prototype.reveal=function(a,b){this.tree.reveal(this.getDataNode(a),b)},d.prototype.getDataNode=function(a){var b=this.nodes.get(a===this.root.element?null:a);if(!b)throw new Nc(this.user,"Data tree node not found: "+a);return b},d.prototype.refreshAndRenderNode=function(a,b,c){return Jg(this,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return[4,this.refreshNode(a,b,c)];case 1:return e.sent(),this.render(a,c),[2]}})})},d.prototype.refreshNode=function(a,b,c){return Jg(this,void 0,void 0,function(){var e,f=this;return Kg(this,function(g){return this.subTreeRefreshPromises.forEach(function(h,i){!e&&iP(i,a)&&(e=h.then(function(){return f.refreshNode(a,b,c)}))}),e?[2,e]:[2,this.doRefreshSubTree(a,b,c)]})})},d.prototype.doRefreshSubTree=function(a,b,c){return Jg(this,void 0,void 0,function(){var e,f,g=this;return Kg(this,function(h){switch(h.label){case 0:a.refreshPromise=new Promise(function(i){return e=i}),this.subTreeRefreshPromises.set(a,a.refreshPromise),a.refreshPromise.finally(function(){a.refreshPromise=void 0,g.subTreeRefreshPromises.delete(a)}),h.label=1;case 1:return h.trys.push([1,,4,5]),[4,this.doRefreshNode(a,b,c)];case 2:return f=h.sent(),a.stale=!1,[4,Promise.all(f.map(function(i){return g.doRefreshSubTree(i,b,c)}))];case 3:return h.sent(),[3,5];case 4:return e(),[7];case 5:return[2]}})})},d.prototype.doRefreshNode=function(a,b,c){return Jg(this,void 0,void 0,function(){var e,f,g,h,i=this;return Kg(this,function(j){switch(j.label){case 0:a.hasChildren=!!this.dataSource.hasChildren(a.element),a.hasChildren?(f=Sf(800),f.then(function(){a.slow=!0,i._onDidChangeNodeSlowState.fire(a)},function(k){return null}),e=this.doGetChildren(a).finally(function(){return f.cancel()})):e=Promise.resolve([]),j.label=1;case 1:return j.trys.push([1,3,4,5]),[4,e];case 2:return g=j.sent(),[2,this.setChildren(a,g,b,c)];case 3:h=j.sent(),a!==this.root&&this.tree.collapse(a===this.root?null:a);if(Lg(h))return[2,[]];throw h;case 4:return a.slow&&(a.slow=!1,this._onDidChangeNodeSlowState.fire(a)),[7];case 5:return[2]}})})},d.prototype.doGetChildren=function(a){var b=this,c=this.refreshPromises.get(a);return c?c:(c=bb(function(){return Jg(b,void 0,void 0,function(){var e;return Kg(this,function(f){switch(f.label){case 0:return[4,this.dataSource.getChildren(a.element)];case 1:return e=f.sent(),[2,this.processChildren(e)]}})})}),this.refreshPromises.set(a,c),c.finally(function(){return b.refreshPromises.delete(a)}))},d.prototype._onDidChangeCollapseState=function(a){var b=a.node,c=a.deep;!b.collapsed&&b.element.stale&&(c?this.collapse(b.element.element):this.refreshAndRenderNode(b.element,!1).catch(W))},d.prototype.setChildren=function(a,b,c,e){var f,g=this;if(a.children.length===0&&b.length===0)return[];for(var h=new Map(),i=new Map(),j=0,k=a.children;j<k.length;j++){var l=k[j];h.set(l.element,l);if(this.identityProvider){var m=this.tree.isCollapsed(l);i.set(l.id,{node:l,collapsed:m})}}for(var n=[],o=b.map(function(w){var x=!!g.dataSource.hasChildren(w);if(!g.identityProvider){var u=qt({element:w,parent:a,hasChildren:x});return x&&g.collapseByDefault&&!g.collapseByDefault(w)&&(u.collapsedByDefault=!1,n.push(u)),u}var y=g.identityProvider.getId(w).toString(),A=i.get(y);if(A){var u=A.node;return h.delete(u.element),g.nodes.delete(u.element),g.nodes.set(w,u),u.element=w,u.hasChildren=x,c?A.collapsed?(u.children.forEach(function(B){return ut(B,function(D){return g.nodes.delete(D.element)})}),u.children.splice(0,u.children.length),u.stale=!0):n.push(u):x&&g.collapseByDefault&&!g.collapseByDefault(w)&&(u.collapsedByDefault=!1,n.push(u)),u}var F=qt({element:w,parent:a,id:y,hasChildren:x});return e&&e.viewState.focus&&e.viewState.focus.indexOf(y)>-1&&e.focus.push(F),e&&e.viewState.selection&&e.viewState.selection.indexOf(y)>-1&&e.selection.push(F),e&&e.viewState.expanded&&e.viewState.expanded.indexOf(y)>-1?n.push(F):x&&g.collapseByDefault&&!g.collapseByDefault(w)&&(F.collapsedByDefault=!1,n.push(F)),F}),p=0,q=Ig(h);p<q.length;p++){var r=q[p];ut(r,function(w){return g.nodes.delete(w.element)})}for(var t=0,v=o;t<v.length;t++){var l=v[t];this.nodes.set(l.element,l)}return(f=a.children).splice.apply(f,hP([0,a.children.length],o)),a!==this.root&&this.autoExpandSingleChildren&&o.length===1&&n.length===0&&(o[0].collapsedByDefault=!1,n.push(o[0])),n},d.prototype.render=function(a,b){var c=this,e=a.children.map(function(f){return c.asTreeElement(f,b)});this.tree.setChildren(a===this.root?null:a,e),a!==this.root&&this.tree.setCollapsible(a,a.hasChildren),this._onDidRender.fire()},d.prototype.asTreeElement=function(a,b){var c=this;if(a.stale)return{element:a,collapsible:a.hasChildren,collapsed:!0};var e;return b&&b.viewState.expanded&&a.id&&b.viewState.expanded.indexOf(a.id)>-1?e=!1:e=a.collapsedByDefault,a.collapsedByDefault=void 0,{element:a,children:a.hasChildren?La.map(La.fromArray(a.children),function(f){return c.asTreeElement(f,b)}):[],collapsible:a.hasChildren,collapsed:e}},d.prototype.processChildren=function(a){return this.sorter&&a.sort(this.sorter.compare.bind(this.sorter)),a},d.prototype.dispose=function(){this.disposables.dispose()},d}(),nP=function(){function d(a){this.node=a}return Object.defineProperty(d.prototype,"element",{get:function(){return{elements:this.node.element.elements.map(function(a){return a.element}),incompressible:this.node.element.incompressible}},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"children",{get:function(){return this.node.children.map(function(a){return new d(a)})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),d}(),oP=function(){function d(a,b,c,e){this.renderer=a,this.nodeMapper=b,this.compressibleNodeMapperProvider=c,this.onDidChangeTwistieState=e,this.renderedNodes=new Map(),this.disposables=[],this.templateId=a.templateId}return d.prototype.renderTemplate=function(a){var b=this.renderer.renderTemplate(a);return{templateData:b}},d.prototype.renderElement=function(a,b,c,e){this.renderer.renderElement(this.nodeMapper.map(a),b,c.templateData,e)},d.prototype.renderCompressedElements=function(a,b,c,e){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(a),b,c.templateData,e)},d.prototype.renderTwistie=function(a,b){return qa(b,"codicon-loading",a.slow),!1},d.prototype.disposeElement=function(a,b,c,e){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(a),b,c.templateData,e)},d.prototype.disposeCompressedElements=function(a,b,c,e){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(a),b,c.templateData,e)},d.prototype.disposeTemplate=function(a){this.renderer.disposeTemplate(a.templateData)},d.prototype.dispose=function(){this.renderedNodes.clear(),this.disposables=ca(this.disposables)},d}();function pP(d){var a=d&&Pz(d);return a&&fc(fc({},a),{keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&fc(fc({},a.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(b){return d.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(b.map(function(c){return c.element}))}})})}var Qz=function(d){Nz(a,d);function a(b,c,e,f,g,h,i){i===void 0&&(i={});var j=d.call(this,b,c,e,g,h,i)||this;return j.compressionDelegate=f,j.compressibleNodeMapper=new vl(function(k){return new nP(k)}),j.filter=i.filter,j}return a.prototype.createTree=function(b,c,e,f,g){var h=this,i=new lo(e),j=f.map(function(l){return new oP(l,h.nodeMapper,function(){return h.compressibleNodeMapper},h._onDidChangeNodeSlowState.event)}),k=pP(g)||{};return new Oz(b,c,i,j,k)},a.prototype.asTreeElement=function(b,c){return fc({incompressible:this.compressionDelegate.isIncompressible(b.element)},d.prototype.asTreeElement.call(this,b,c))},a.prototype.updateOptions=function(b){b===void 0&&(b={}),this.tree.updateOptions(b)},a.prototype.render=function(b,c){var e=this;if(!this.identityProvider)return d.prototype.render.call(this,b,c);var f=function(o){return e.identityProvider.getId(o).toString()},g=function(o){for(var p=new Set(),q=0,r=o;q<r.length;q++){var t=r[q],v=e.tree.getCompressedTreeNode(t===e.root?null:t);if(!v.element)continue;for(var w=0,x=v.element.elements;w<x.length;w++){var u=x[w];p.add(f(u.element))}}return p},h=g(this.tree.getSelection()),i=g(this.tree.getFocus());d.prototype.render.call(this,b,c);var j=this.getSelection(),k=!1,l=this.getFocus(),m=!1,n=function(o){var p=o.element;if(p)for(var q=0;q<p.elements.length;q++){var r=f(p.elements[q].element),t=p.elements[p.elements.length-1].element;h.has(r)&&j.indexOf(t)===-1&&(j.push(t),k=!0),i.has(r)&&l.indexOf(t)===-1&&(l.push(t),m=!0)}o.children.forEach(n)};n(this.tree.getCompressedTreeNode(b===this.root?null:b)),k&&this.setSelection(j),m&&this.setFocus(l)},a.prototype.processChildren=function(b){var c=this;return this.filter&&(b=b.filter(function(e){var f=c.filter.filter(e,1),g=qP(f);if(g===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return g===1})),d.prototype.processChildren.call(this,b)},a}(vt);function qP(d){return typeof d==="boolean"?d?1:0:sl(d)?Rh(d.visibility):Rh(d)}var wP=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Uz=function(d){wP(a,d);function a(b,c,e,f,g,h){h===void 0&&(h={});var i=d.call(this,b,c,e,f,h)||this;return i.user=b,i.dataSource=g,i.identityProvider=h.identityProvider,i}return a.prototype.createModel=function(b,c,e){return new kj(b,c,e)},a}(no);var Zk=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),En=function(){return En=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},En.apply(this,arguments)},_k=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},mb=function(d,a){return function(b,c){a(b,c,d)}},Kf,Hf=ia("listService"),BL=function(){function d(a){this._themeService=a,this.disposables=new P(),this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}return Object.defineProperty(d.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:!0,configurable:!0}),d.prototype.register=function(a,b){var c=this;if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;var e=new et(vc(),"");this.disposables.add(tn(e,this._themeService))}if(this.lists.some(function(g){return g.widget===a}))throw new Error("Cannot register the same widget multiple times");var f={widget:a,extraContextKeys:b};return this.lists.push(f),a.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=a),Mc(a.onDidFocus(function(){return c._lastFocusedWidget=a}),va(function(){return c.lists.splice(c.lists.indexOf(f),1)}),a.onDidDispose(function(){c.lists=c.lists.filter(function(g){return g!==f}),c._lastFocusedWidget===a&&(c._lastFocusedWidget=void 0)}))},d.prototype.dispose=function(){this.disposables.dispose()},d=_k([mb(0,Ia)],d),d}(),HM=new ea("listFocus",!0),z4=new ea("listSupportsMultiselect",!0),MI=Z.and(HM,Z.not(xM)),A4=new ea("listHasSelectionOrFocus",!1),B4=new ea("listDoubleSelection",!1),C4=new ea("listMultiSelection",!1),D4=new ea("listSupportsKeyboardNavigation",!0),ly="listAutomaticKeyboardNavigation",E4=new ea(ly,!0),IM=!1;function F4(d,a){var b=d.createScoped(a.getHTMLElement());return HM.bindTo(b),b}var ps="workbench.list.multiSelectModifier",qs="workbench.list.openMode",my="workbench.list.horizontalScrolling",rs="workbench.list.keyboardNavigation",ny="workbench.list.automaticKeyboardNavigation",ss="workbench.tree.indent",ts="workbench.tree.renderIndentGuides";function G4(d){return hM(d,my,"workbench.tree.horizontalScrolling")}function us(d){return d.getValue(ps)==="alt"}function vs(d){return d.getValue(qs)!=="doubleClick"}var H4=function(d){Zk(a,d);function a(b){var c=d.call(this)||this;return c.configurationService=b,c.useAltAsMultipleSelectionModifier=us(b),c.registerListeners(),c}return a.prototype.registerListeners=function(){var b=this;this._register(this.configurationService.onDidChangeConfiguration(function(c){c.affectsConfiguration(ps)&&(b.useAltAsMultipleSelectionModifier=us(b.configurationService))}))},a.prototype.isSelectionSingleChangeEvent=function(b){return this.useAltAsMultipleSelectionModifier?b.browserEvent.altKey:bt(b)},a.prototype.isSelectionRangeChangeEvent=function(b){return ct(b)},a}(I),I4=function(d){Zk(a,d);function a(b,c){var e=d.call(this)||this;return e.configurationService=b,e.existingOpenController=c,e.openOnSingleClick=vs(b),e.registerListeners(),e}return a.prototype.registerListeners=function(){var b=this;this._register(this.configurationService.onDidChangeConfiguration(function(c){c.affectsConfiguration(qs)&&(b.openOnSingleClick=vs(b.configurationService))}))},a.prototype.shouldOpen=function(b){if(b instanceof MouseEvent){var c=b.button===0,e=b.detail===2;return c&&!this.openOnSingleClick&&!e?!1:c||b.button===1?this.existingOpenController?this.existingOpenController.shouldOpen(b):!0:!1}return this.existingOpenController?this.existingOpenController.shouldOpen(b):!0},a}(I);function J4(d,a,b){var c=new P(),e=En({},d);if(d.multipleSelectionSupport!==!1&&!d.multipleSelectionController){var f=new H4(a);e.multipleSelectionController=f,c.add(f)}var g=new I4(a,d.openController);return e.openController=g,c.add(g),e.keyboardNavigationDelegate={mightProducePrintableCharacter:function(h){return b.mightProducePrintableCharacter(h)}},[e,c]}function K4(d,a){var b=!1;return function(c){if(b)return b=!1,!1;var e=a.softDispatch(c,d);return e&&e.enterChord?(b=!0,!1):(b=!1,!0)}}var sZa=function(d){Zk(a,d);function a(b,c,e,f,g,h,i,j,k,l,m){var n=this,o=ws(c,g,h,k,l,m),p=o.options,q=o.getAutomaticKeyboardNavigation,r=o.disposable;return n=d.call(this,b,c,e,f,p)||this,n.disposables.add(r),n.internals=new xs(n,p,q,g.overrideStyles,h,i,j,k,m),n.disposables.add(n.internals),n}return a=_k([mb(5,ha),mb(6,Hf),mb(7,Ia),mb(8,gb),mb(9,Ja),mb(10,Qc)],a),a}(ul),tZa=function(d){Zk(a,d);function a(b,c,e,f,g,h,i,j,k,l,m,n){var o=this,p=ws(c,h,i,l,m,n),q=p.options,r=p.getAutomaticKeyboardNavigation,t=p.disposable;return o=d.call(this,b,c,e,f,g,q)||this,o.disposables.add(t),o.internals=new xs(o,q,r,h.overrideStyles,i,j,k,l,n),o.disposables.add(o.internals),o}return a.prototype.updateOptions=function(b){b===void 0&&(b={}),d.prototype.updateOptions.call(this,b),b.overrideStyles&&this.internals.updateStyleOverrides(b.overrideStyles)},a=_k([mb(6,ha),mb(7,Hf),mb(8,Ia),mb(9,gb),mb(10,Ja),mb(11,Qc)],a),a}(Uz),TI=function(d){Zk(a,d);function a(b,c,e,f,g,h,i,j,k,l,m,n){var o=this,p=ws(c,h,i,l,m,n),q=p.options,r=p.getAutomaticKeyboardNavigation,t=p.disposable;return o=d.call(this,b,c,e,f,g,q)||this,o.disposables.add(t),o.internals=new xs(o,q,r,h.overrideStyles,i,j,k,l,n),o.disposables.add(o.internals),o}return a.prototype.updateOptions=function(b){b===void 0&&(b={}),d.prototype.updateOptions.call(this,b),b.overrideStyles&&this.internals.updateStyleOverrides(b.overrideStyles)},a=_k([mb(6,ha),mb(7,Hf),mb(8,Ia),mb(9,gb),mb(10,Ja),mb(11,Qc)],a),a}(vt),uZa=function(d){Zk(a,d);function a(b,c,e,f,g,h,i,j,k,l,m,n,o){var p=this,q=ws(c,i,j,m,n,o),r=q.options,t=q.getAutomaticKeyboardNavigation,v=q.disposable;return p=d.call(this,b,c,e,f,g,h,r)||this,p.disposables.add(v),p.internals=new xs(p,r,t,i.overrideStyles,j,k,l,m,o),p.disposables.add(p.internals),p}return a=_k([mb(7,ha),mb(8,Hf),mb(9,Ia),mb(10,gb),mb(11,Ja),mb(12,Qc)],a),a}(Qz);function ws(d,a,b,c,e,f){D4.bindTo(b),IM||(E4.bindTo(b),IM=!0);var g=function(){var p=b.getContextKeyValue(ly);return p&&(p=c.getValue(ny)),p},h=f.isScreenReaderOptimized(),i=h?"simple":c.getValue(rs),j=typeof a.horizontalScrolling!=="undefined"?a.horizontalScrolling:G4(c),k=vs(c),l=J4(a,c,e),m=l[0],n=l[1],o=a.additionalScrollHeight;return{getAutomaticKeyboardNavigation:g,disposable:n,options:En(En({keyboardSupport:!1},m),{indent:c.getValue(ss),renderIndentGuides:c.getValue(ts),automaticKeyboardNavigation:g(),simpleKeyboardNavigation:i==="simple",filterOnType:i==="filter",horizontalScrolling:j,openOnSingleClick:k,keyboardNavigationEventFilter:K4(d,e),additionalScrollHeight:o,hideTwistiesOfChildlessElements:a.hideTwistiesOfChildlessElements})}}var xs=function(){function d(a,b,c,e,f,g,h,i,j){var k=this;this.tree=a,this.themeService=h,this.disposables=[],this.contextKeyService=F4(f,a);var l=z4.bindTo(this.contextKeyService);l.set(!(b.multipleSelectionSupport===!1)),this.hasSelectionOrFocus=A4.bindTo(this.contextKeyService),this.hasDoubleSelection=B4.bindTo(this.contextKeyService),this.hasMultiSelection=C4.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=us(i);var m=new Set();m.add(ly);var n=function(){var o=j.isScreenReaderOptimized(),p=o?"simple":i.getValue(rs);a.updateOptions({simpleKeyboardNavigation:p==="simple",filterOnType:p==="filter"})};this.updateStyleOverrides(e),this.disposables.push(this.contextKeyService,g.register(a),a.onDidChangeSelection(function(){var o=a.getSelection(),p=a.getFocus();k.hasSelectionOrFocus.set(o.length>0||p.length>0),k.hasMultiSelection.set(o.length>1),k.hasDoubleSelection.set(o.length===2)}),a.onDidChangeFocus(function(){var o=a.getSelection(),p=a.getFocus();k.hasSelectionOrFocus.set(o.length>0||p.length>0)}),i.onDidChangeConfiguration(function(o){o.affectsConfiguration(qs)&&a.updateOptions({openOnSingleClick:vs(i)}),o.affectsConfiguration(ps)&&(k._useAltAsMultipleSelectionModifier=us(i));if(o.affectsConfiguration(ss)){var p=i.getValue(ss);a.updateOptions({indent:p})}if(o.affectsConfiguration(ts)){var q=i.getValue(ts);a.updateOptions({renderIndentGuides:q})}o.affectsConfiguration(rs)&&n(),o.affectsConfiguration(ny)&&a.updateOptions({automaticKeyboardNavigation:c()})}),this.contextKeyService.onDidChangeContext(function(o){o.affectsSome(m)&&a.updateOptions({automaticKeyboardNavigation:c()})}),j.onDidChangeScreenReaderOptimized(function(){return n()}))}return d.prototype.updateStyleOverrides=function(a){ca(this.styler),this.styler=a?tn(this.tree,this.themeService,a):I.None},d.prototype.dispose=function(){this.disposables=ca(this.disposables),this.styler=ca(this.styler)},d=_k([mb(4,ha),mb(5,Hf),mb(6,Ia),mb(7,gb),mb(8,Qc)],d),d}(),L4=ib.as(me.Configuration);L4.registerConfiguration({id:"workbench",order:7,title:s("workbenchConfigurationTitle","Workbench"),type:"object",properties:(Kf={},Kf[ps]={type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[s("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),s("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:s({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},Kf[qs]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:s({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},Kf[my]={type:"boolean",default:!1,description:s("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench.")},Kf["workbench.tree.horizontalScrolling"]={type:"boolean",default:!1,description:s("tree horizontalScrolling setting","Controls whether trees support horizontal scrolling in the workbench."),deprecationMessage:s("deprecated","This setting is deprecated, please use '{0}' instead.",my)},Kf[ss]={type:"number",default:8,minimum:0,maximum:40,description:s("tree indent setting","Controls tree indentation in pixels.")},Kf[ts]={type:"string",enum:["none","onHover","always"],default:"onHover",description:s("render tree indent guides","Controls whether the tree should render indent guides.")},Kf[rs]={type:"string",enum:["simple","highlight","filter"],enumDescriptions:[s("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),s("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),s("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:s("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},Kf[ny]={type:"boolean",default:!0,markdownDescription:s("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},Kf)});var _a;(function(d){d[d.Hint=1]="Hint",d[d.Info=2]="Info",d[d.Warning=4]="Warning",d[d.Error=8]="Error"})(_a||(_a={}));(function(d){function a(g,h){return h-g}d.compare=a;var b=Object.create(null);b[d.Error]=s("sev.error","Error"),b[d.Warning]=s("sev.warning","Warning"),b[d.Info]=s("sev.info","Info");function c(g){return b[g]||""}d.toString=c;function e(g){switch(g){case Zb.Error:return d.Error;case Zb.Warning:return d.Warning;case Zb.Info:return d.Info;case Zb.Ignore:return d.Hint}}d.fromSeverity=e;function f(g){switch(g){case d.Error:return Zb.Error;case d.Warning:return Zb.Warning;case d.Info:return Zb.Info;case d.Hint:return Zb.Ignore}}d.toSeverity=f})(_a||(_a={}));var mn;(function(d){var a="";function b(e){return c(e,!0)}d.makeKey=b;function c(e,f){var g=[a];return e.source?g.push(e.source.replace("¦","¦")):g.push(a),e.code?typeof e.code==="string"?g.push(e.code.replace("¦","¦")):g.push(e.code.value.replace("¦","¦")):g.push(a),e.severity!==void 0&&e.severity!==null?g.push(_a.toString(e.severity)):g.push(a),e.message&&f?g.push(e.message.replace("¦","¦")):g.push(a),e.startLineNumber!==void 0&&e.startLineNumber!==null?g.push(e.startLineNumber.toString()):g.push(a),e.startColumn!==void 0&&e.startColumn!==null?g.push(e.startColumn.toString()):g.push(a),e.endLineNumber!==void 0&&e.endLineNumber!==null?g.push(e.endLineNumber.toString()):g.push(a),e.endColumn!==void 0&&e.endColumn!==null?g.push(e.endColumn.toString()):g.push(a),g.push(a),g.join("¦")}d.makeKeyOptionalMessage=c})(mn||(mn={}));var rg=ia("markerService");var Ti;(function(d){function a(e,f,g){return e[f]?e[f][g]:void 0}d.get=a;function b(e,f,g,h){e[f]||(e[f]=Object.create(null)),e[f][g]=h}d.set=b;function c(e,f,g){return e[f]&&e[f][g]?(delete e[f][g],Xo(e[f])&&delete e[f],!0):!1}d.remove=c})(Ti||(Ti={}));var M4=function(){function d(a){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=a,this._subscription=a.onMarkerChanged(this._update,this)}return d.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},d.prototype._update=function(a){if(!this._data)return;for(var b=0,c=a;b<c.length;b++){var e=c[b],f=e.toString(),g=this._data[f];g&&this._substract(g);var h=this._resourceStats(e);this._add(h),this._data[f]=h}},d.prototype._resourceStats=function(a){var b={errors:0,warnings:0,infos:0,unknowns:0};if(a.scheme===wa.inMemory||a.scheme===wa.walkThrough||a.scheme===wa.walkThroughSnippet)return b;for(var c=0,e=this._service.read({resource:a});c<e.length;c++){var f=e[c].severity;f===_a.Error?b.errors+=1:f===_a.Warning?b.warnings+=1:f===_a.Info?b.infos+=1:b.unknowns+=1}return b},d.prototype._substract=function(a){this.errors-=a.errors,this.warnings-=a.warnings,this.infos-=a.infos,this.unknowns-=a.unknowns},d.prototype._add=function(a){this.errors+=a.errors,this.warnings+=a.warnings,this.infos+=a.infos,this.unknowns+=a.unknowns},d}(),DL=function(){function d(){this._onMarkerChanged=new E(),this._onMarkerChangedEvent=da.debounce(this._onMarkerChanged.event,d._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new M4(this)}return d.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(d.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),d.prototype.remove=function(a,b){for(var c=0,e=b||[];c<e.length;c++){var f=e[c];this.changeOne(a,f,[])}},d.prototype.changeOne=function(a,b,c){if(ro(c)){var e=Ti.remove(this._byResource,b.toString(),a),f=Ti.remove(this._byOwner,a,b.toString());if(e!==f)throw new Error("invalid marker service state");e&&f&&this._onMarkerChanged.fire([b])}else{for(var g=[],h=0,i=c;h<i.length;h++){var j=i[h],k=d._toMarker(a,b,j);k&&g.push(k)}Ti.set(this._byResource,b.toString(),a,g),Ti.set(this._byOwner,a,b.toString(),g),this._onMarkerChanged.fire([b])}},d._toMarker=function(a,b,c){var e=c.code,f=c.severity,g=c.message,h=c.source,i=c.startLineNumber,j=c.startColumn,k=c.endLineNumber,l=c.endColumn,m=c.relatedInformation,n=c.tags;return g?(i=i>0?i:1,j=j>0?j:1,k=k>=i?k:i,l=l>0?l:j,{resource:b,owner:a,code:e,severity:f,message:g,source:h,startLineNumber:i,startColumn:j,endLineNumber:k,endColumn:l,relatedInformation:m,tags:n}):void 0},d.prototype.read=function(a){a===void 0&&(a=Object.create(null));var b=a.owner,c=a.resource,e=a.severities,f=a.take;(!f||f<0)&&(f=-1);if(b&&c){var g=Ti.get(this._byResource,c.toString(),b);if(g){for(var h=[],i=0,j=g;i<j.length;i++){var k=j[i];if(d._accept(k,e)){var l=h.push(k);if(f>0&&l===f)break}}return h}else return[]}else if(!b&&!c){var h=[];for(var m in this._byResource)for(var n in this._byResource[m])for(var o=0,p=this._byResource[m][n];o<p.length;o++){var g=p[o];if(d._accept(g,e)){var l=h.push(g);if(f>0&&l===f)return h}}return h}else{var q=b?this._byOwner[b]:c?this._byResource[c.toString()]:void 0;if(!q)return[];var h=[];for(var r in q)for(var t=0,v=q[r];t<v.length;t++){var g=v[t];if(d._accept(g,e)){var l=h.push(g);if(f>0&&l===f)return h}}return h}},d._accept=function(a,b){return b===void 0||(b&a.severity)===a.severity},d._debouncer=function(a,b){a||(d._dedupeMap=Object.create(null),a=[]);for(var c=0,e=b;c<e.length;c++){var f=e[c];d._dedupeMap[f.toString()]===void 0&&(d._dedupeMap[f.toString()]=!0,a.push(f))}return a},d}();var O4=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),zd=ia("storageService"),ok;(function(d){d[d.NONE=0]="NONE",d[d.SHUTDOWN=1]="SHUTDOWN"})(ok||(ok={}));var EL=function(d){O4(a,d);function a(){var b=d!==null&&d.apply(this,arguments)||this;return b._onDidChangeStorage=b._register(new E()),b.onDidChangeStorage=b._onDidChangeStorage.event,b._onWillSaveState=b._register(new E()),b.onWillSaveState=b._onWillSaveState.event,b.globalCache=new Map(),b.workspaceCache=new Map(),b}return a.prototype.getCache=function(b){return b===0?this.globalCache:this.workspaceCache},a.prototype.get=function(b,c,e){var f=this.getCache(c).get(b);return de(f)?e:f},a.prototype.getBoolean=function(b,c,e){var f=this.getCache(c).get(b);return de(f)?e:f==="true"},a.prototype.store=function(b,c,e){if(de(c))return this.remove(b,e);var f=String(c),g=this.getCache(e).get(b);return g===f?Promise.resolve():(this.getCache(e).set(b,f),this._onDidChangeStorage.fire({scope:e,key:b}),Promise.resolve())},a.prototype.remove=function(b,c){var e=this.getCache(c).delete(b);return e?(this._onDidChangeStorage.fire({scope:c,key:b}),Promise.resolve()):Promise.resolve()},a}(I);var WL=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},by=function(d,a){return function(b,c){a(b,c,d)}},FL=function(){function d(a){this._commandService=a}return d.prototype.createMenu=function(a,b){return new S3(a,this._commandService,b)},d=WL([by(0,db)],d),d}(),S3=function(){function d(a,b,c){var e=this;this._id=a,this._commandService=b,this._contextKeyService=c,this._onDidChange=new E(),this._dispoables=new P(),this._menuGroups=[],this._contextKeys=new Set(),this._build(),this._dispoables.add(da.debounce(da.filter(Jd.onDidChangeMenu,function(f){return f===e._id}),function(){},50)(this._build,this)),this._dispoables.add(da.debounce(this._contextKeyService.onDidChangeContext,function(f,g){return f||g.affectsSome(e._contextKeys)},50)(function(f){return f&&e._onDidChange.fire(void 0)},this))}return d.prototype.dispose=function(){this._dispoables.dispose(),this._onDidChange.dispose()},d.prototype._build=function(){this._menuGroups.length=0,this._contextKeys.clear();var a=Jd.getMenuItems(this._id),b;a.sort(d._compareMenuItems);for(var c=0,e=a;c<e.length;c++){var f=e[c],g=f.group||"";(!b||b[0]!==g)&&(b=[g,[]],this._menuGroups.push(b)),b[1].push(f),d._fillInKbExprKeys(f.when,this._contextKeys),Si(f)&&f.command.precondition&&d._fillInKbExprKeys(f.command.precondition,this._contextKeys),Si(f)&&f.command.toggled&&d._fillInKbExprKeys(f.command.toggled,this._contextKeys)}this._onDidChange.fire(this)},d.prototype.getActions=function(a){for(var b=[],c=0,e=this._menuGroups;c<e.length;c++){for(var f=e[c],g=f[0],h=f[1],i=[],j=0,k=h;j<k.length;j++){var l=k[j];if(this._contextKeyService.contextMatchesRules(l.when)){var m=Si(l)?new VL(l.command,l.alt,a,this._contextKeyService,this._commandService):new br(l);i.push(m)}}i.length>0&&b.push([g,i])}return b},d._fillInKbExprKeys=function(a,b){if(a)for(var c=0,e=a.keys();c<e.length;c++){var f=e[c];b.add(f)}},d._compareMenuItems=function(a,b){var c=a.group,e=b.group;if(c!==e){if(c){if(!e)return-1}else return 1;if(c==="navigation")return-1;if(e==="navigation")return 1;var f=c.localeCompare(e);if(f!==0)return f}var g=a.order||0,h=b.order||0;return g<h?-1:g>h?1:d._compareTitles(Si(a)?a.command.title:a.title,Si(b)?b.command.title:b.title)},d._compareTitles=function(a,b){var c=typeof a==="string"?a:a.value,e=typeof b==="string"?b:b.value;return c.localeCompare(e)},d=WL([by(1,db),by(2,ha)],d),d}();var $p=ia("markerDecorationsService");var iG=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),gW=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},jG=function(d,a){return function(b,c){a(b,c,d)}};function Dm(d){return d.toString()}var hW=function(d){iG(a,d);function a(b){var c=d.call(this)||this;return c.model=b,c._markersData=new Map(),c._register(va(function(){c.model.deltaDecorations(_f(c._markersData),[]),c._markersData.clear()})),c}return a.prototype.update=function(b,c){var e=_f(this._markersData);this._markersData.clear();for(var f=this.model.deltaDecorations(e,c),g=0;g<f.length;g++)this._markersData.set(f[g],b[g])},a.prototype.getMarker=function(b){return this._markersData.get(b.id)},a}(I),pG=function(d){iG(a,d);function a(b,c){var e=d.call(this)||this;return e._markerService=c,e._onDidChangeMarker=e._register(new E()),e._markerDecorations=new Map(),b.getModels().forEach(function(f){return e._onModelAdded(f)}),e._register(b.onModelAdded(e._onModelAdded,e)),e._register(b.onModelRemoved(e._onModelRemoved,e)),e._register(e._markerService.onMarkerChanged(e._handleMarkerChange,e)),e}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this._markerDecorations.forEach(function(b){return b.dispose()}),this._markerDecorations.clear()},a.prototype.getMarker=function(b,c){var e=this._markerDecorations.get(Dm(b.uri));return e?ag(e.getMarker(c)):null},a.prototype._handleMarkerChange=function(b){var c=this;b.forEach(function(e){var f=c._markerDecorations.get(Dm(e));f&&c._updateDecorations(f)})},a.prototype._onModelAdded=function(b){var c=new hW(b);this._markerDecorations.set(Dm(b.uri),c),this._updateDecorations(c)},a.prototype._onModelRemoved=function(b){var c=this,e=this._markerDecorations.get(Dm(b.uri));e&&(e.dispose(),this._markerDecorations.delete(Dm(b.uri))),(b.uri.scheme===wa.inMemory||b.uri.scheme===wa.internal||b.uri.scheme===wa.vscode)&&(this._markerService&&this._markerService.read({resource:b.uri}).map(function(f){return f.owner}).forEach(function(f){return c._markerService.remove(f,[b.uri])}))},a.prototype._updateDecorations=function(b){var c=this,e=this._markerService.read({resource:b.model.uri,take:500}),f=e.map(function(g){return{range:c._createDecorationRange(b.model,g),options:c._createDecorationOption(g)}});b.update(e,f),this._onDidChangeMarker.fire(b.model)},a.prototype._createDecorationRange=function(b,c){var e=z.lift(c);c.severity===_a.Hint&&!this._hasMarkerTag(c,1)&&!this._hasMarkerTag(c,2)&&(e=e.setEndPosition(e.startLineNumber,e.startColumn+2)),e=b.validateRange(e);if(e.isEmpty()){var f=b.getWordAtPosition(e.getStartPosition());if(f)e=new z(e.startLineNumber,f.startColumn,e.endLineNumber,f.endColumn);else{var g=b.getLineLastNonWhitespaceColumn(e.startLineNumber)||b.getLineMaxColumn(e.startLineNumber);g===1||(e.endColumn>=g?e=new z(e.startLineNumber,g-1,e.endLineNumber,g):e=new z(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn+1))}}else if(c.endColumn===Number.MAX_VALUE&&c.startColumn===1&&e.startLineNumber===e.endLineNumber){var h=b.getLineFirstNonWhitespaceColumn(c.startLineNumber);h<e.endColumn&&(e=new z(e.startLineNumber,h,e.endLineNumber,e.endColumn),c.startColumn=h)}return e},a.prototype._createDecorationOption=function(b){var c,e=void 0,f,g=void 0,h;switch(b.severity){case _a.Hint:this._hasMarkerTag(b,2)?c=void 0:this._hasMarkerTag(b,1)?c="squiggly-unnecessary":c="squiggly-hint",f=0;break;case _a.Warning:c="squiggly-warning",e=sc(kG),f=20,h={color:sc(nG),position:Ne.Inline};break;case _a.Info:c="squiggly-info",e=sc(lG),f=10;break;case _a.Error:default:c="squiggly-error",e=sc(mG),f=30,h={color:sc(oG),position:Ne.Inline};break}return b.tags&&(b.tags.indexOf(1)!==-1&&(g="squiggly-inline-unnecessary"),b.tags.indexOf(2)!==-1&&(g="squiggly-inline-deprecated")),{stickiness:1,className:c,showIfCollapsed:!0,overviewRuler:{color:e,position:oc.Right},minimap:h,zIndex:f,inlineClassName:g}},a.prototype._hasMarkerTag=function(b,c){return b.tags?b.tags.indexOf(c)>=0:!1},a=gW([jG(0,ub),jG(1,rg)],a),a}(I);var P3=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Q3=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},TL=function(d,a){return function(b,c){a(b,c,d)}},HL=function(d){P3(a,d);function a(b,c){var e=d.call(this)||this;e._contextKeyService=b,e._configurationService=c,e._accessibilitySupport=0,e._onDidChangeScreenReaderOptimized=new E(),e._accessibilityModeEnabledContext=Ni.bindTo(e._contextKeyService);var f=function(){return e._accessibilityModeEnabledContext.set(e.isScreenReaderOptimized())};return e._register(e._configurationService.onDidChangeConfiguration(function(g){g.affectsConfiguration("editor.accessibilitySupport")&&(f(),e._onDidChangeScreenReaderOptimized.fire())})),f(),e.onDidChangeScreenReaderOptimized(function(){return f()}),e}return Object.defineProperty(a.prototype,"onDidChangeScreenReaderOptimized",{get:function(){return this._onDidChangeScreenReaderOptimized.event},enumerable:!0,configurable:!0}),a.prototype.isScreenReaderOptimized=function(){var b=this._configurationService.getValue("editor.accessibilitySupport");return b==="on"||b==="auto"&&this._accessibilitySupport===2},a.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},a=Q3([TL(0,ha),TL(1,gb)],a),a}(I);var z3=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Wa;(function(d){var a=new uf(),b=function(){function h(i,j){this._serviceId=i,this._factory=j,this._value=null}return Object.defineProperty(h.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),h.prototype.get=function(i){if(!this._value){i&&(this._value=i[this._serviceId.toString()]),this._value||(this._value=this._factory(i));if(!this._value)throw new Error("Service "+this._serviceId+" is missing!");a.set(this._serviceId,this._value)}return this._value},h}();d.LazyStaticService=b;var c=[];function e(h,i){var j=new b(h,i);return c.push(j),j}function f(h){for(var i=new uf(),j=0,k=GL();j<k.length;j++){var l=k[j],m=l[0],n=l[1];i.set(m,n)}for(var o in h)h.hasOwnProperty(o)&&i.set(ia(o),h[o]);c.forEach(function(q){return i.set(q.id,q.get(h))});var p=new Mx(i,!0);return i.set(Aa,p),[i,p]}d.init=f,d.instantiationService=e(Aa,function(){return new Mx(a,!0)});var g=new Jx();d.configurationService=e(gb,function(){return g}),d.resourceConfigurationService=e(kk,function(){return new eL(g)}),d.resourcePropertiesService=e(cq,function(){return new fL(g)}),d.contextService=e(Ur,function(){return new hL()}),d.labelService=e(vh,function(){return new jL()}),d.telemetryService=e(Le,function(){return new gL()}),d.dialogService=e(AL,function(){return new bL()}),d.notificationService=e(Ra,function(){return new cL()}),d.markerService=e(rg,function(){return new DL()}),d.modeService=e(xd,function(h){return new rG()}),d.standaloneThemeService=e(ve,function(){return new wL()}),d.logService=e(zf,function(){return new CL()}),d.modelService=e(ub,function(h){return new sG(d.configurationService.get(h),d.resourcePropertiesService.get(h),d.standaloneThemeService.get(h),d.logService.get(h))}),d.markerDecorationsService=e($p,function(h){return new pG(d.modelService.get(h),d.markerService.get(h))}),d.codeEditorService=e(ya,function(h){return new pL(d.standaloneThemeService.get(h))}),d.editorProgressService=e(Kd,function(){return new aL()}),d.storageService=e(zd,function(){return new EL()}),d.editorWorkerService=e(pc,function(h){return new eG(d.modelService.get(h),d.resourceConfigurationService.get(h),d.logService.get(h))})})(Wa||(Wa={}));var qL=function(d){z3(a,d);function a(b,c){var e=d.call(this)||this,f=Wa.init(c),g=f[0],h=f[1];e._serviceCollection=g,e._instantiationService=h;var i=e.get(gb),j=e.get(Ra),k=e.get(Le),l=e.get(Ia),m=function(t,v){var w=null;return c&&(w=c[t.toString()]),w||(w=v()),e._serviceCollection.set(t,w),w},n=m(ha,function(){return e._register(new xL(i))});m(Qc,function(){return new HL(n,i)}),m(Hf,function(){return new BL(l)});var o=m(db,function(){return new Ix(e._instantiationService)}),p=m(Ja,function(){return e._register(new gs(n,o,k,j,b))}),q=m(hs,function(){return new kL(b)}),r=m(Od,function(){return e._register(new zL(q))});return m(le,function(){var t=new yL(k,j,r,p,l);return t.configure({blockMouse:!1}),e._register(t)}),m(ar,function(){return new FL(o)}),m(Ij,function(){return new iL(Wa.modelService.get(ub))}),e}return a.prototype.get=function(b){var c=this._serviceCollection.get(b);if(!c)throw new Error("Missing service "+b);return c},a.prototype.set=function(b,c){this._serviceCollection.set(b,c)},a.prototype.has=function(b){return this._serviceCollection.has(b)},a}(I);function rL(d,a,b){var c=new qL(d,a),e=null;c.has(rd)||(e=new $K(Wa.modelService.get()),c.set(rd,e)),c.has(Uc)||c.set(Uc,new jD(c.get(ya),c.get(db)));var f=b(c);return e&&e.setEditor(f),f}function z2(d,a,b){return rL(d,b||{},function(c){return new nL(d,a,c,c.get(Aa),c.get(ya),c.get(db),c.get(ha),c.get(Ja),c.get(Od),c.get(ve),c.get(Ra),c.get(gb),c.get(Qc))})}function A2(d){return Wa.codeEditorService.get().onCodeEditorAdd(function(a){d(a)})}function B2(d,a,b){return rL(d,b||{},function(c){return new oL(d,a,c,c.get(Aa),c.get(ha),c.get(Ja),c.get(Od),c.get(pc),c.get(ya),c.get(ve),c.get(Ra),c.get(gb),c.get(le),c.get(Kd),null)})}function C2(d,a){return new IE(d,a)}function sL(d,a,b){return Wa.modelService.get().createModel(d,a,b)}function D2(d,a,b){d=d||"";if(!a){var c=d.indexOf(`
`),e=d;return c!==-1&&(e=d.substring(0,c)),sL(d,Wa.modeService.get().createByFilepathOrFirstLine(b||null,e),b)}return sL(d,Wa.modeService.get().create(a),b)}function E2(d,a){Wa.modelService.get().setMode(d,Wa.modeService.get().create(a))}function F2(d,a,b){d&&Wa.markerService.get().changeOne(a,d.uri,b)}function G2(d){return Wa.markerService.get().read(d)}function H2(d){return Wa.modelService.get().getModel(d)}function I2(){return Wa.modelService.get().getModels()}function J2(d){return Wa.modelService.get().onModelAdded(d)}function K2(d){return Wa.modelService.get().onModelRemoved(d)}function L2(d){return Wa.modelService.get().onModelModeChanged(function(a){d({model:a.model,oldLanguage:a.oldModeId})})}function M2(d){return tG(Wa.modelService.get(),d)}function N2(d,a){return es.colorizeElement(Wa.standaloneThemeService.get(),Wa.modeService.get(),d,a)}function O2(d,a,b){return es.colorize(Wa.modeService.get(),d,a,b)}function P2(d,a,b){return b===void 0&&(b=4),es.colorizeModelLine(d,a,b)}function Q2(d){var a=Ga.get(d);return a?a:{getInitialState:function(){return qg},tokenize:function(b,c,e){return Wp(d,b,c,e)}}}function R2(d,a){var b=Wa.modeService.get();b.triggerMode(a);for(var c=Q2(a),e=d.split(/\r\n|\r|\n/),f=[],g=c.getInitialState(),h=0,i=e.length;h<i;h++){var j=e[h],k=c.tokenize(j,g,0);f[h]=k.tokens,g=k.endState}return f}function S2(d,a){Wa.standaloneThemeService.get().defineTheme(d,a)}function T2(d){Wa.standaloneThemeService.get().setTheme(d)}function U2(){NC()}function JK(){return{create:z2,onDidCreateEditor:A2,createDiffEditor:B2,createDiffNavigator:C2,createModel:D2,setModelLanguage:E2,setModelMarkers:F2,getModelMarkers:G2,getModels:I2,getModel:H2,onDidCreateModel:J2,onWillDisposeModel:K2,onDidChangeModelLanguage:L2,createWebWorker:M2,colorizeElement:N2,colorize:O2,colorizeModelLine:P2,tokenize:R2,defineTheme:S2,setTheme:T2,remeasureFonts:U2,AccessibilitySupport:iq,ContentWidgetPositionPreference:nq,CursorChangeReason:oq,DefaultEndOfLine:pq,EditorAutoIndentStrategy:rq,EditorOption:sq,EndOfLinePreference:tq,EndOfLineSequence:uq,MinimapPosition:wq,MouseTargetType:xq,OverlayWidgetPositionPreference:yq,OverviewRulerLane:zq,RenderLineNumbersType:Aq,RenderMinimap:Bq,ScrollbarVisibility:Dq,ScrollType:Cq,TextEditorCursorBlinkingStyle:Hq,TextEditorCursorStyle:Iq,TrackedRangeStickiness:Jq,WrappingIndent:Kq,ConfigurationChangedEvent:Ep,BareFontInfo:gm,FontInfo:Nl,TextModelResolvedOptions:ak,FindMatch:mh,EditorType:bh,EditorOptions:$c}}function G3(d,a){if(!a)return!1;if(!Array.isArray(a))return!1;for(var b=0,c=a;b<c.length;b++){var e=c[b];if(!d(e))return!1}return!0}function PL(d,a){return typeof d==="boolean"?d:a}function QL(d,a){return typeof d==="string"?d:a}function H3(d){for(var a={},b=0,c=d;b<c.length;b++){var e=c[b];a[e]=!0}return a}function RL(d,a){a===void 0&&(a=!1),a&&(d=d.map(function(c){return c.toLowerCase()}));var b=H3(d);return a?function(c){return b[c.toLowerCase()]!==void 0&&b.hasOwnProperty(c.toLowerCase())}:function(c){return b[c]!==void 0&&b.hasOwnProperty(c)}}function Vx(d,a){for(var b=0;a.indexOf("@")>=0&&b<5;)b++,a=a.replace(/@(\w+)/g,function(c,e){var f="";if(typeof d[e]==="string")f=d[e];else if(d[e]&&d[e]instanceof RegExp)f=d[e].source;else throw d[e]===void 0?Ta(d,"language definition does not contain attribute '"+e+"', used at: "+a):Ta(d,"attribute reference '"+e+"' must be a string, used at: "+a);return Ri(f)?"":"(?:"+f+")"});return new RegExp(a,d.ignoreCase?"i":"")}function I3(d,a,b,c){if(c<0)return d;if(c<a.length)return a[c];if(c>=100){c=c-100;var e=b.split(".");e.unshift(b);if(c<e.length)return e[c]}return null}function J3(d,a,b,c){var e=-1,f=b,g=b.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);g&&(g[3]&&(e=parseInt(g[3]),g[2]&&(e=e+100)),f=g[4]);var h="~",i=f;!f||f.length===0?(h="!=",i=""):/^\w*$/.test(i)?h="==":(g=f.match(/^(@|!@|~|!~|==|!=)(.*)$/),g&&(h=g[1],i=g[2]));var j;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(i)){var k=RL(i.split("|"),d.ignoreCase);j=function(q){return h==="~"?k(q):!k(q)}}else if(h==="@"||h==="!@"){var l=d[i];if(!l)throw Ta(d,"the @ match target '"+i+"' is not defined, in rule: "+a);if(!G3(function(q){return typeof q==="string"},l))throw Ta(d,"the @ match target '"+i+"' must be an array of strings, in rule: "+a);var m=RL(l,d.ignoreCase);j=function(q){return h==="@"?m(q):!m(q)}}else if(h==="~"||h==="!~")if(i.indexOf("$")<0){var n=Vx(d,"^"+i+"$");j=function(q){return h==="~"?n.test(q):!n.test(q)}}else j=function(q,r,t,v){var w=Vx(d,"^"+Jf(d,i,r,t,v)+"$");return w.test(q)};else if(i.indexOf("$")<0){var o=If(d,i);j=function(q){return h==="=="?q===o:q!==o}}else{var p=If(d,i);j=function(q,r,t,v,w){var x=Jf(d,p,r,t,v);return h==="=="?q===x:q!==x}}return e===-1?{name:b,value:c,test:function(q,r,t,v){return j(q,q,r,t,v)}}:{name:b,value:c,test:function(q,r,t,v){var w=I3(q,r,t,e);return j(w?w:"",q,r,t,v)}}}function Wx(d,a,b){if(b){if(typeof b==="string")return b;if(b.token||b.token===""){if(typeof b.token!=="string")throw Ta(d,"a 'token' attribute must be of type string, in rule: "+a);{var c={token:b.token};b.token.indexOf("$")>=0&&(c.tokenSubst=!0);if(typeof b.bracket==="string")if(b.bracket==="@open")c.bracket=1;else if(b.bracket==="@close")c.bracket=-1;else throw Ta(d,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+a);if(b.next){if(typeof b.next!=="string")throw Ta(d,"the next state must be a string value in rule: "+a);{var e=b.next;if(!/^(@pop|@push|@popall)$/.test(e)){e[0]==="@"&&(e=e.substr(1));if(e.indexOf("$")<0){if(!OL(d,Jf(d,e,"",[],"")))throw Ta(d,"the next state '"+b.next+"' is not defined in rule: "+a)}}c.next=e}}return typeof b.goBack==="number"&&(c.goBack=b.goBack),typeof b.switchTo==="string"&&(c.switchTo=b.switchTo),typeof b.log==="string"&&(c.log=b.log),typeof b.nextEmbedded==="string"&&(c.nextEmbedded=b.nextEmbedded,d.usesEmbedded=!0),c}}else if(Array.isArray(b)){for(var f=[],g=0,h=b.length;g<h;g++)f[g]=Wx(d,a,b[g]);return{group:f}}else if(b.cases){var i=[];for(var j in b.cases)if(b.cases.hasOwnProperty(j)){var k=Wx(d,a,b.cases[j]);j==="@default"||j==="@"||j===""?i.push({test:void 0,value:k,name:j}):j==="@eos"?i.push({test:function(m,n,o,p){return p},value:k,name:j}):i.push(J3(d,a,j,k))}var l=d.defaultToken;return{test:function(m,n,o,p){for(var q=0,r=i;q<r.length;q++){var t=r[q],v=!t.test||t.test(m,n,o,p);if(v)return t.value}return l}}}else throw Ta(d,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+a)}else return{token:""}}var K3=function(){function d(a){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=a}return d.prototype.setRegex=function(a,b){var c;if(typeof b==="string")c=b;else if(b instanceof RegExp)c=b.source;else throw Ta(a,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=c.length>0&&c[0]==="^",this.name=this.name+": "+c,this.regex=Vx(a,"^(?:"+(this.matchOnlyAtLineStart?c.substr(1):c)+")")},d.prototype.setAction=function(a,b){this.action=Wx(a,this.name,b)},d}();function tL(d,a){if(!a||typeof a!=="object")throw new Error("Monarch: expecting a language definition object");var b={};b.languageId=d,b.noThrow=!1,b.maxStack=100,b.start=typeof a.start==="string"?a.start:null,b.ignoreCase=PL(a.ignoreCase,!1),b.tokenPostfix=QL(a.tokenPostfix,"."+b.languageId),b.defaultToken=QL(a.defaultToken,"source"),b.usesEmbedded=!1;var c=a;c.languageId=d,c.ignoreCase=b.ignoreCase,c.noThrow=b.noThrow,c.usesEmbedded=b.usesEmbedded,c.stateNames=a.tokenizer,c.defaultToken=b.defaultToken;function e(m,n,o){for(var p=0,q=o;p<q.length;p++){var r=q[p],t=r.include;if(t){if(typeof t!=="string")throw Ta(b,"an 'include' attribute must be a string at: "+m);t[0]==="@"&&(t=t.substr(1));if(!a.tokenizer[t])throw Ta(b,"include target '"+t+"' is not defined at: "+m);e(m+"."+t,n,a.tokenizer[t])}else{var v=new K3(m);if(Array.isArray(r)&&r.length>=1&&r.length<=3){v.setRegex(c,r[0]);if(r.length>=3)if(typeof r[1]==="string")v.setAction(c,{token:r[1],next:r[2]});else if(typeof r[1]==="object"){var w=r[1];w.next=r[2],v.setAction(c,w)}else throw Ta(b,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+m);else v.setAction(c,r[1])}else{if(!r.regex)throw Ta(b,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+m);r.name&&(typeof r.name==="string"&&(v.name=r.name)),r.matchOnlyAtStart&&(v.matchOnlyAtLineStart=PL(r.matchOnlyAtLineStart,!1)),v.setRegex(c,r.regex),v.setAction(c,r.action)}n.push(v)}}}if(!a.tokenizer||typeof a.tokenizer!=="object")throw Ta(b,"a language definition must define the 'tokenizer' attribute as an object");b.tokenizer=[];for(var f in a.tokenizer)if(a.tokenizer.hasOwnProperty(f)){b.start||(b.start=f);var g=a.tokenizer[f];b.tokenizer[f]=new Array(),e("tokenizer."+f,b.tokenizer[f],g)}b.usesEmbedded=c.usesEmbedded;if(a.brackets){if(!Array.isArray(a.brackets))throw Ta(b,"the 'brackets' attribute must be defined as an array")}else a.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];for(var h=[],i=0,j=a.brackets;i<j.length;i++){var k=j[i],l=k;l&&Array.isArray(l)&&l.length===3&&(l={token:l[2],open:l[0],close:l[1]});if(l.open===l.close)throw Ta(b,"open and close brackets in a 'brackets' attribute must be different: "+l.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof l.open==="string"&&typeof l.token==="string"&&typeof l.close==="string")h.push({token:l.token+b.tokenPostfix,open:If(b,l.open),close:If(b,l.close)});else throw Ta(b,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return b.brackets=h,b.noThrow=!0,b}function V2(d){pg.registerLanguage(d)}function W2(){var d=[];return d=d.concat(pg.getLanguages()),d}function X2(d){var a=Wa.modeService.get().getLanguageIdentifier(d);return a?a.id:0}function Y2(d,a){var b=Wa.modeService.get().onDidCreateMode(function(c){c.getId()===d&&(b.dispose(),a())});return b}function Z2(d,a){var b=Wa.modeService.get().getLanguageIdentifier(d);if(!b)throw new Error("Cannot set configuration for unknown language "+d);return sa.register(b,a)}var _2=function(){function d(a){this._actual=a}return d.prototype.getInitialState=function(){return this._actual.getInitialState()},d.prototype.tokenize=function(a,b,c){throw new Error("Not supported!")},d.prototype.tokenize2=function(a,b){var c=this._actual.tokenizeEncoded(a,b);return new si(c.tokens,c.endState)},d}(),$2=function(){function d(a,b,c){this._standaloneThemeService=a,this._languageIdentifier=b,this._actual=c}return d.prototype.getInitialState=function(){return this._actual.getInitialState()},d.prototype._toClassicTokens=function(a,b,c){for(var e=[],f=0,g=0,h=a.length;g<h;g++){var i=a[g],j=i.startIndex;g===0?j=0:j<f&&(j=f),e[g]=new lh(j+c,i.scopes,b),f=j}return e},d.prototype.tokenize=function(a,b,c){var e=this._actual.tokenize(a,b),f=this._toClassicTokens(e.tokens,this._languageIdentifier.language,c),g;return e.endState.equals(b)?g=b:g=e.endState,new $j(f,g)},d.prototype._toBinaryTokens=function(a,b){for(var c=this._languageIdentifier.id,e=this._standaloneThemeService.getTheme().tokenTheme,f=[],g=0,h=0,i=0,j=a.length;i<j;i++){var k=a[i],l=e.match(c,k.scopes);if(g>0&&f[g-1]===l)continue;var m=k.startIndex;i===0?m=0:m<h&&(m=h),f[g++]=m+b,f[g++]=l,h=m}for(var n=new Uint32Array(g),i=0;i<g;i++)n[i]=f[i];return n},d.prototype.tokenize2=function(a,b,c){var e=this._actual.tokenize(a,b),f=this._toBinaryTokens(e.tokens,c),g;return e.endState.equals(b)?g=b:g=e.endState,new si(f,g)},d}();function a3(d){return"tokenizeEncoded"in d}function vL(d){return d&&typeof d.then==="function"}function b3(d,a){var b=Wa.modeService.get().getLanguageIdentifier(d);if(!b)throw new Error("Cannot set tokens provider for unknown language "+d);var c=function(e){return a3(e)?new _2(e):new $2(Wa.standaloneThemeService.get(),b,e)};return vL(a)?Ga.registerPromise(d,a.then(function(e){return c(e)})):Ga.register(d,c(a))}function c3(d,a){var b=function(c){return uL(Wa.modeService.get(),Wa.standaloneThemeService.get(),d,tL(d,c))};return vL(a)?Ga.registerPromise(d,a.then(function(c){return b(c)})):Ga.register(d,b(a))}function d3(d,a){return ki.register(d,a)}function e3(d,a){return li.register(d,a)}function f3(d,a){return Pe.register(d,a)}function g3(d,a){return fg.register(d,{provideHover:function(b,c,e){var f=b.getWordAtPosition(c);return Promise.resolve(a.provideHover(b,c,e)).then(function(g){return g?(!g.range&&f&&(g.range=new z(c.lineNumber,f.startColumn,c.lineNumber,f.endColumn)),g.range||(g.range=new z(c.lineNumber,c.column,c.lineNumber,c.column)),g):void 0})}})}function h3(d,a){return ke.register(d,a)}function i3(d,a){return vf.register(d,a)}function j3(d,a){return eg.register(d,a)}function k3(d,a){return ii.register(d,a)}function l3(d,a){return ji.register(d,a)}function m3(d,a){return Oe.register(d,a)}function n3(d,a){return td.register(d,{provideCodeActions:function(b,c,e,f){var g=Wa.markerService.get().read({resource:b.uri}).filter(function(h){return z.areIntersectingOrTouching(h,c)});return a.provideCodeActions(b,c,{markers:g,only:e.only},f)}})}function o3(d,a){return gh.register(d,a)}function p3(d,a){return ud.register(d,a)}function q3(d,a){return wi.register(d,a)}function r3(d,a){return ng.register(d,a)}function s3(d,a){return sd.register(d,a)}function t3(d,a){return og.register(d,a)}function u3(d,a){return xm.register(d,a)}function v3(d,a){return hi.register(d,a)}function w3(d,a){return hk.register(d,a)}function x3(d,a){return ym.register(d,a)}function y3(d,a){return OF.register(d,a)}function KK(){return{register:V2,getLanguages:W2,onLanguage:Y2,getEncodedLanguageId:X2,setLanguageConfiguration:Z2,setTokensProvider:b3,setMonarchTokensProvider:c3,registerReferenceProvider:d3,registerRenameProvider:e3,registerCompletionItemProvider:s3,registerSignatureHelpProvider:f3,registerHoverProvider:g3,registerDocumentSymbolProvider:h3,registerDocumentHighlightProvider:i3,registerDefinitionProvider:j3,registerImplementationProvider:k3,registerTypeDefinitionProvider:l3,registerCodeLensProvider:m3,registerCodeActionProvider:n3,registerDocumentFormattingEditProvider:o3,registerDocumentRangeFormattingEditProvider:p3,registerOnTypeFormattingEditProvider:q3,registerLinkProvider:r3,registerColorProvider:t3,registerFoldingRangeProvider:u3,registerDeclarationProvider:v3,registerSelectionRangeProvider:w3,registerDocumentSemanticTokensProvider:x3,registerDocumentRangeSemanticTokensProvider:y3,DocumentHighlightKind:qq,CompletionItemKind:kq,CompletionItemTag:lq,CompletionItemInsertTextRule:jq,SymbolKind:Fq,SymbolTag:Gq,IndentAction:vq,CompletionTriggerKind:mq,SignatureHelpTriggerKind:Eq,FoldingRangeKind:gk}}var bs=self;$c.wrappingIndent.defaultValue=0;$c.glyphMargin.defaultValue=!1;$c.autoIndent.defaultValue=3;$c.overviewRulerLanes.defaultValue=2;var Vc=Zp();Vc.editor=JK();Vc.languages=KK();var mRa=Vc.CancellationTokenSource,nRa=Vc.Emitter,oRa=Vc.KeyCode,pRa=Vc.KeyMod,qRa=Vc.Position,rRa=Vc.Range,sRa=Vc.Selection,tRa=Vc.SelectionDirection,uRa=Vc.MarkerSeverity,vRa=Vc.MarkerTag,wRa=Vc.Uri,xRa=Vc.Token,Gn=Vc.editor,yRa=Vc.languages;bs.monaco=Vc;typeof bs.require!=="undefined"&&typeof bs.require.config==="function"&&bs.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});"use strict";var ap=typeof monaco==="undefined"?self.monaco:monaco,uC={},uu={},FR=function(){function d(a){var b=this;this._languageId=a,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(c,e){b._lazyLoadPromiseResolve=c,b._lazyLoadPromiseReject=e})}return d.getOrCreate=function(a){return uu[a]||(uu[a]=new d(a)),uu[a]},d.prototype.whenLoaded=function(){return this._lazyLoadPromise},d.prototype.load=function(){var a=this;return this._loadingTriggered||(this._loadingTriggered=!0,uC[this._languageId].loader().then(function(b){return a._lazyLoadPromiseResolve(b)},function(b){return a._lazyLoadPromiseReject(b)})),this._lazyLoadPromise},d}();function fb(d){var a=d.id;uC[a]=d,ap.languages.register(d);var b=FR.getOrCreate(a);ap.languages.setMonarchTokensProvider(a,b.whenLoaded().then(function(c){return c.language})),ap.languages.onLanguage(a,function(){b.load().then(function(c){ap.languages.setLanguageConfiguration(a,c.conf)})})}"use strict";fb({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return Promise.resolve().then(()=>Ic(vu()))}});fb({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return Promise.resolve().then(()=>Ic(vu()))}});"use strict";fb({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return Promise.resolve().then(()=>Ic(vC()))}});"use strict";fb({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return Promise.resolve().then(()=>Ic(wC()))}});"use strict";fb({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return Promise.resolve().then(()=>Ic(xC()))}});"use strict";fb({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return Promise.resolve().then(()=>Ic(yC()))}});"use strict";fb({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return Promise.resolve().then(()=>Ic(zC()))}});"use strict";fb({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return Promise.resolve().then(()=>Ic(AC()))}});"use strict";fb({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return Promise.resolve().then(()=>Ic(BC()))}});"use strict";fb({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return Promise.resolve().then(()=>Ic(CC()))}});"use strict";fb({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return Promise.resolve().then(()=>Ic(DC()))}});"use strict";fb({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return Promise.resolve().then(()=>Ic(EC()))}});"use strict";fb({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return Promise.resolve().then(()=>Ic(FC()))}});"use strict";fb({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return Promise.resolve().then(()=>Ic(wu()))}});"use strict";fb({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return Promise.resolve().then(()=>Ic(GC()))}});"use strict";fb({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return Promise.resolve().then(()=>Ic(HC()))}});"use strict";var Zv=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),eX=K("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},s("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),fX=function(d){Zv(a,d);function a(){return d.call(this,{id:"editor.action.jumpToBracket",label:s("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|88,weight:100}})||this}return a.prototype.run=function(b,c){var e=Tq.get(c);if(!e)return;e.jumpToBracket()},a}(aa),gX=function(d){Zv(a,d);function a(){return d.call(this,{id:"editor.action.selectToBracket",label:s("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})||this}return a.prototype.run=function(b,c,e){var f=Tq.get(c);if(!f)return;var g=!0;e&&e.selectBrackets===!1&&(g=!1),f.selectToBracket(g)},a}(aa),hX=function(){function d(a,b,c){this.position=a,this.brackets=b,this.options=c}return d}(),Tq=function(d){Zv(a,d);function a(b){var c=d.call(this)||this;return c._editor=b,c._lastBracketsData=[],c._lastVersionId=0,c._decorations=[],c._updateBracketsSoon=c._register(new Ka(function(){return c._updateBrackets()},50)),c._matchBrackets=c._editor.getOption(53),c._updateBracketsSoon.schedule(),c._register(b.onDidChangeCursorPosition(function(e){if(c._matchBrackets==="never")return;c._updateBracketsSoon.schedule()})),c._register(b.onDidChangeModelContent(function(e){c._updateBracketsSoon.schedule()})),c._register(b.onDidChangeModel(function(e){c._lastBracketsData=[],c._decorations=[],c._updateBracketsSoon.schedule()})),c._register(b.onDidChangeModelLanguageConfiguration(function(e){c._lastBracketsData=[],c._updateBracketsSoon.schedule()})),c._register(b.onDidChangeConfiguration(function(e){e.hasChanged(53)&&(c._matchBrackets=c._editor.getOption(53),c._decorations=c._editor.deltaDecorations(c._decorations,[]),c._lastBracketsData=[],c._lastVersionId=0,c._updateBracketsSoon.schedule())})),c}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.jumpToBracket=function(){if(!this._editor.hasModel())return;var b=this._editor.getModel(),c=this._editor.getSelections().map(function(e){var f=e.getStartPosition(),g=b.matchBracket(f),h=null;if(g)g[0].containsPosition(f)?h=g[1].getStartPosition():g[1].containsPosition(f)&&(h=g[0].getStartPosition());else{var i=b.findEnclosingBrackets(f);if(i)h=i[0].getStartPosition();else{var j=b.findNextBracket(f);j&&j.range&&(h=j.range.getStartPosition())}}return h?new V(h.lineNumber,h.column,h.lineNumber,h.column):new V(f.lineNumber,f.column,f.lineNumber,f.column)});this._editor.setSelections(c),this._editor.revealRange(c[0])},a.prototype.selectToBracket=function(b){if(!this._editor.hasModel())return;var c=this._editor.getModel(),e=[];this._editor.getSelections().forEach(function(f){var g=f.getStartPosition(),h=c.matchBracket(g);if(!h){h=c.findEnclosingBrackets(g);if(!h){var i=c.findNextBracket(g);i&&i.range&&(h=c.matchBracket(i.range.getStartPosition()))}}var j=null,k=null;if(h){h.sort(z.compareRangesUsingStarts);var l=h[0],m=h[1];j=b?l.getStartPosition():l.getEndPosition(),k=b?m.getEndPosition():m.getStartPosition()}j&&k&&e.push(new V(j.lineNumber,j.column,k.lineNumber,k.column))}),e.length>0&&(this._editor.setSelections(e),this._editor.revealRange(e[0]))},a.prototype._updateBrackets=function(){if(this._matchBrackets==="never")return;this._recomputeBrackets();for(var b=[],c=0,e=0,f=this._lastBracketsData;e<f.length;e++){var g=f[e],h=g.brackets;h&&(b[c++]={range:h[0],options:g.options},b[c++]={range:h[1],options:g.options})}this._decorations=this._editor.deltaDecorations(this._decorations,b)},a.prototype._recomputeBrackets=function(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}var b=this._editor.getSelections();if(b.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}var c=this._editor.getModel(),e=c.getVersionId(),f=[];this._lastVersionId===e&&(f=this._lastBracketsData);for(var g=[],h=0,i=0,j=b.length;i<j;i++){var k=b[i];k.isEmpty()&&(g[h++]=k.getStartPosition())}g.length>1&&g.sort(G.compare);for(var l=[],m=0,n=0,o=f.length,i=0,j=g.length;i<j;i++){for(var p=g[i];n<o&&f[n].position.isBefore(p);)n++;if(n<o&&f[n].position.equals(p))l[m++]=f[n];else{var q=c.matchBracket(p),r=a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!q&&this._matchBrackets==="always"&&(q=c.findEnclosingBrackets(p,20),r=a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),l[m++]=new hX(p,q,r)}}this._lastBracketsData=l,this._lastVersionId=e},a.ID="editor.contrib.bracketMatchingController",a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=na.register({stickiness:1,className:"bracket-match",overviewRuler:{color:sc(eX),position:oc.Center}}),a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=na.register({stickiness:1,className:"bracket-match"}),a}(I);ra(Tq.ID,Tq);N(gX);N(fX);la(function(d,a){var b=d.getColor(wG);b&&a.addRule(".monaco-editor .bracket-match { background-color: "+b+"; }");var c=d.getColor(Oq);c&&a.addRule(".monaco-editor .bracket-match { border: 1px solid "+c+"; }")});Jd.appendMenuItem(19,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:s({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});var VG=function(){function d(a,b){this._selection=a,this._isMovingLeft=b,this._cutStartIndex=-1,this._cutEndIndex=-1,this._moved=!1,this._selectionId=null}return d.prototype.getEditOperations=function(a,b){var c=this._selection;this._selectionId=b.trackSelection(c);if(c.startLineNumber!==c.endLineNumber)return;if(this._isMovingLeft&&c.startColumn===0)return;if(!this._isMovingLeft&&c.endColumn===a.getLineMaxColumn(c.startLineNumber))return;var e=c.selectionStartLineNumber,f=a.getLineContent(e),g,h,i;this._isMovingLeft?(g=f.substring(0,c.startColumn-2),h=f.substring(c.startColumn-1,c.endColumn-1),i=f.substring(c.startColumn-2,c.startColumn-1)+f.substring(c.endColumn-1)):(g=f.substring(0,c.startColumn-1)+f.substring(c.endColumn-1,c.endColumn),h=f.substring(c.startColumn-1,c.endColumn-1),i=f.substring(c.endColumn));var j=g+h+i;b.addEditOperation(new z(e,1,e,a.getLineMaxColumn(e)),null),b.addEditOperation(new z(e,1,e,1),j),this._cutStartIndex=c.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+c.endColumn-c.startColumn,this._moved=!0},d.prototype.computeCursorState=function(a,b){var c=b.getTrackedSelection(this._selectionId);return this._moved&&(c=c.setStartPosition(c.startLineNumber,this._cutStartIndex),c=c.setEndPosition(c.startLineNumber,this._cutEndIndex)),c},d}();var _v=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),WG=function(d){_v(a,d);function a(b,c){var e=d.call(this,c)||this;return e.left=b,e}return a.prototype.run=function(b,c){if(!c.hasModel())return;for(var e=[],f=c.getSelections(),g=0,h=f;g<h.length;g++){var i=h[g];e.push(new VG(i,this.left))}c.pushUndoStop(),c.executeCommands(this.id,e),c.pushUndoStop()},a}(aa),iX=function(d){_v(a,d);function a(){return d.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:s("caret.moveLeft","Move Caret Left"),alias:"Move Caret Left",precondition:C.writable})||this}return a}(WG),jX=function(d){_v(a,d);function a(){return d.call(this,!1,{id:"editor.action.moveCarretRightAction",label:s("caret.moveRight","Move Caret Right"),alias:"Move Caret Right",precondition:C.writable})||this}return a}(WG);N(iX);N(jX);var kX=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),lX=function(d){kX(a,d);function a(){return d.call(this,{id:"editor.action.transposeLetters",label:s("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:C.writable,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;for(var e=c.getModel(),f=[],g=c.getSelections(),h=0,i=g;h<i.length;h++){var j=i[h];if(!j.isEmpty())continue;var k=j.startLineNumber,l=j.startColumn,m=e.getLineMaxColumn(k);if(k===1&&(l===1||l===2&&m===2))continue;var n=l===m?j.getPosition():vb.rightPosition(e,j.getPosition().lineNumber,j.getPosition().column),o=vb.leftPosition(e,n.lineNumber,n.column),p=vb.leftPosition(e,o.lineNumber,o.column),q=e.getValueInRange(z.fromPositions(p,o)),r=e.getValueInRange(z.fromPositions(o,n)),t=z.fromPositions(p,n);f.push(new Lb(t,r+q))}f.length>0&&(c.pushUndoStop(),c.executeCommands(this.id,f),c.pushUndoStop())},a}(aa);N(lX);var Jm=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),$v="9_cutcopypaste",mX=lc||document.queryCommandSupported("cut"),XG=lc||document.queryCommandSupported("copy"),nX=XG&&!Jc,oX=lc||!Hh&&document.queryCommandSupported("paste"),Uq=function(d){Jm(a,d);function a(b,c){var e=d.call(this,c)||this;return e.browserCommand=b,e}return a.prototype.runCommand=function(b,c){var e=b.get(ya).getFocusedCodeEditor();if(e&&e.hasTextFocus()){e.trigger("keyboard",this.id,c);return}document.execCommand(this.browserCommand)},a.prototype.run=function(b,c){c.focus(),document.execCommand(this.browserCommand)},a}(aa),pX=function(d){Jm(a,d);function a(){var b=this,c={kbExpr:C.textInputFocus,primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100};return lc||(c=void 0),b=d.call(this,"cut",{id:"editor.action.clipboardCutAction",label:s("actions.clipboard.cutLabel","Cut"),alias:"Cut",precondition:C.writable,kbOpts:c,contextMenuOpts:{group:$v,order:1},menuOpts:{menuId:17,group:"2_ccp",title:s({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1}})||this,b}return a.prototype.run=function(b,c){if(!c.hasModel())return;var e=c.getOption(25);if(!e&&c.getSelection().isEmpty())return;d.prototype.run.call(this,b,c)},a}(Uq),qX=function(d){Jm(a,d);function a(){var b=this,c={kbExpr:C.textInputFocus,primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100};return lc||(c=void 0),b=d.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:s("actions.clipboard.copyLabel","Copy"),alias:"Copy",precondition:void 0,kbOpts:c,contextMenuOpts:{group:$v,order:2},menuOpts:{menuId:17,group:"2_ccp",title:s({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2}})||this,b}return a.prototype.run=function(b,c){if(!c.hasModel())return;var e=c.getOption(25);if(!e&&c.getSelection().isEmpty())return;d.prototype.run.call(this,b,c)},a}(Uq),rX=function(d){Jm(a,d);function a(){var b=this,c={kbExpr:C.textInputFocus,primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},weight:100};return lc||(c=void 0),b=d.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:s("actions.clipboard.pasteLabel","Paste"),alias:"Paste",precondition:C.writable,kbOpts:c,contextMenuOpts:{group:$v,order:3},menuOpts:{menuId:17,group:"2_ccp",title:s({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3}})||this,b}return a}(Uq),sX=function(d){Jm(a,d);function a(){return d.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:s("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:0,weight:100}})||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;var e=c.getOption(25);if(!e&&c.getSelection().isEmpty())return;Sl.forceCopyWithSyntaxHighlighting=!0,d.prototype.run.call(this,b,c),Sl.forceCopyWithSyntaxHighlighting=!1},a}(Uq);mX&&N(pX);XG&&N(qX);oX&&N(rX);nX&&N(sX);var Wh=function(){function d(a){this.executor=a,this._didRun=!1}return d.prototype.getValue=function(){if(!this._didRun)try{this._value=this.executor()}catch(a){this._error=a}finally{this._didRun=!0}if(this._error)throw this._error;return this._value},Object.defineProperty(d.prototype,"rawValue",{get:function(){return this._value},enumerable:!0,configurable:!0}),d}();var eb=function(){function d(a){this.value=a}return d.prototype.equals=function(a){return this.value===a.value},d.prototype.contains=function(a){return this.equals(a)||this.value===""||Ug(a.value,this.value+d.sep)},d.prototype.intersects=function(a){return this.contains(a)||a.contains(this)},d.prototype.append=function(a){return new d(this.value+d.sep+a)},d.sep=".",d.None=new d("@@none@@"),d.Empty=new d(""),d.QuickFix=new d("quickfix"),d.Refactor=new d("refactor"),d.Source=new d("source"),d.SourceOrganizeImports=d.Source.append("organizeImports"),d.SourceFixAll=d.Source.append("fixAll"),d}();function $G(d,a){if(d.include&&!d.include.intersects(a))return!1;if(d.excludes){if(d.excludes.some(function(b){return rH(a,b,d.include)}))return!1}return!d.includeSourceActions&&eb.Source.contains(a)?!1:!0}function _G(d,a){var b=a.kind?new eb(a.kind):void 0;if(d.include){if(!b||!d.include.contains(b))return!1}if(d.excludes){if(b&&d.excludes.some(function(c){return rH(b,c,d.include)}))return!1}if(!d.includeSourceActions){if(b&&eb.Source.contains(b))return!1}if(d.onlyIncludePreferredActions){if(!a.isPreferred)return!1}return!0}function rH(d,a,b){return a.contains(d)?b&&a.contains(b)?!1:!0:!1}var mk=function(){function d(a,b,c){this.kind=a,this.apply=b,this.preferred=c}return d.fromUser=function(a,b){return!a||typeof a!=="object"?new d(b.kind,b.apply,!1):new d(d.getKindFromUser(a,b.kind),d.getApplyFromUser(a,b.apply),d.getPreferredUser(a))},d.getApplyFromUser=function(a,b){switch(typeof a.apply==="string"?a.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return b}},d.getKindFromUser=function(a,b){return typeof a.kind==="string"?new eb(a.kind):b},d.getPreferredUser=function(a){return typeof a.preferred==="boolean"?a.preferred:!1},d}();var tX=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),YG=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},ZG=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},uX=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},Vq="editor.action.codeAction",Wq="editor.action.refactor",Xq="editor.action.sourceAction",Km="editor.action.organizeImports",Lm="editor.action.fixAll",vX=function(d){tX(a,d);function a(b,c){var e=d.call(this)||this;return e._register(c),e.allActions=Tf(uX(b),a.codeActionsComparator),e.validActions=e.allActions.filter(function(f){return!f.disabled}),e}return a.codeActionsComparator=function(b,c){return Ib(b.diagnostics)?Ib(c.diagnostics)?b.diagnostics[0].message.localeCompare(c.diagnostics[0].message):-1:Ib(c.diagnostics)?1:0},Object.defineProperty(a.prototype,"hasAutoFix",{get:function(){return this.validActions.some(function(b){return!!b.kind&&eb.QuickFix.contains(new eb(b.kind))&&!!b.isPreferred})},enumerable:!0,configurable:!0}),a}(I);function Mm(d,a,b,c){var e=this,f,g=b.filter||{},h={only:(f=g.include)===null||f===void 0?void 0:f.value,trigger:b.type},i=new Vl(d,c),j=wX(d,g),k=new P(),l=j.map(function(n){return YG(e,void 0,void 0,function(){var o,p;return ZG(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,,3]),[4,n.provideCodeActions(d,a,h,i.token)];case 1:return o=q.sent(),i.token.isCancellationRequested||!o?[2,[]]:(k.add(o),[2,o.actions.filter(function(r){return r&&_G(g,r)})]);case 2:p=q.sent();if(Lg(p))throw p;return tb(p),[2,[]];case 3:return[2]}})})}),m=td.onDidChange(function(){var n=td.all(d);xc(n,j)||i.cancel()});return Promise.all(l).then(Ng).then(function(n){return new vX(n,k)}).finally(function(){m.dispose(),i.dispose()})}function wX(d,a){return td.all(d).filter(function(b){return b.providedCodeActionKinds?b.providedCodeActionKinds.some(function(c){return $G(a,new eb(c))}):!0})}ch("_executeCodeActionProvider",function(d,a){return YG(this,void 0,void 0,function(){var b,c,e,f,g,h;return ZG(this,function(i){switch(i.label){case 0:b=a.resource,c=a.rangeOrSelection,e=a.kind;if(!(b instanceof ja))throw Qb();f=d.get(ub).getModel(b);if(!f)throw Qb();g=V.isISelection(c)?V.liftSelection(c):z.isIRange(c)?f.validateRange(c):void 0;if(!g)throw Qb();return[4,Mm(f,g,{type:2,filter:{includeSourceActions:!0,include:e&&e.value?new eb(e.value):void 0}},xa.None)];case 1:return h=i.sent(),setTimeout(function(){return h.dispose()},100),[2,h.validActions]}})})});var y$=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),z$=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},A$=function(d,a){return function(b,c){a(b,c,d)}},Nd=function(d){y$(a,d);function a(b,c){var e=d.call(this)||this;return e.closeTimeout=3e3,e._messageWidget=e._register(new Pc()),e._messageListeners=e._register(new P()),e._editor=b,e._visible=a.MESSAGE_VISIBLE.bindTo(c),e._register(e._editor.onDidAttemptReadOnlyEdit(function(){return e._onDidAttemptReadOnlyEdit()})),e}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.dispose=function(){d.prototype.dispose.call(this),this._visible.reset()},a.prototype.showMessage=function(b,c){var e=this;Gb(b),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new zJ(this._editor,c,b),this._messageListeners.add(this._editor.onDidBlurEditorText(function(){return e.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(function(){return e.closeMessage()})),this._messageListeners.add(this._editor.onDidDispose(function(){return e.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeModel(function(){return e.closeMessage()})),this._messageListeners.add(new rb(function(){return e.closeMessage()},this.closeTimeout));var f;this._messageListeners.add(this._editor.onMouseMove(function(g){if(!g.target.position)return;f?f.containsPosition(g.target.position)||e.closeMessage():f=new z(c.lineNumber-3,1,g.target.position.lineNumber+3,1)}))},a.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(zJ.fadeOut(this._messageWidget.value))},a.prototype._onDidAttemptReadOnlyEdit=function(){this._editor.hasModel()&&this.showMessage(s("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},a.ID="editor.contrib.messageController",a.MESSAGE_VISIBLE=new ea("messageVisible",!1),a=z$([A$(1,ha)],a),a}(I),B$=ob.bindToContribution(Nd.get);Q(new B$({id:"leaveEditorMessage",precondition:Nd.MESSAGE_VISIBLE,handler:function(d){return d.closeMessage()},kbOpts:{weight:100+30,primary:9}}));var zJ=function(){function d(a,b,c){var e=b.lineNumber,f=b.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=a,this._editor.revealLinesInCenterIfOutsideViewport(e,e,0),this._position={lineNumber:e,column:f-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var g=document.createElement("div");g.classList.add("message"),g.textContent=c,this._domNode.appendChild(g);var h=document.createElement("div");h.classList.add("anchor"),this._domNode.appendChild(h),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return d.fadeOut=function(a){var b,c=function(){a.dispose(),clearTimeout(b),a.getDomNode().removeEventListener("animationend",c)};return b=setTimeout(c,110),a.getDomNode().addEventListener("animationend",c),a.getDomNode().classList.add("fadeOut"),{dispose:c}},d.prototype.dispose=function(){this._editor.removeContentWidget(this)},d.prototype.getId=function(){return"messageoverlay"},d.prototype.getDomNode=function(){return this._domNode},d.prototype.getPosition=function(){return{position:this._position,preference:[1,2]}},d}();ra(Nd.ID,Nd);la(function(d,a){var b=d.getColor(xk);if(b){var c=d.type===rf?2:1;a.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+b+"; }"),a.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+c+"px solid "+b+"; }")}var e=d.getColor(wk);e&&a.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+e+"; }");var f=d.getColor(yk);f&&a.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: "+f+"; }")});var jH=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),dw=function(){return dw=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},dw.apply(this,arguments)},BX=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},kH=function(d,a){return function(b,c){a(b,c,d)}},CX=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},DX=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},EX=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},lH=function(d){jH(a,d);function a(b,c){var e=d.call(this,b.command?b.command.id:b.title,b.title,void 0,!b.disabled,c)||this;return e.action=b,e}return a}(ac),mH=function(d){jH(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g._editor=b,g._delegate=c,g._contextMenuService=e,g._visible=!1,g._showingActions=g._register(new Pc()),g._keybindingResolver=new FX({getKeybindings:function(){return f.getKeybindings()}}),g}return Object.defineProperty(a.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),a.prototype.show=function(b,c,e,f){return CX(this,void 0,void 0,function(){var g,h,i,j,k=this;return DX(this,function(l){g=f.includeDisabledActions?c.allActions:c.validActions;if(!g.length)return this._visible=!1,[2];if(!this._editor.getDomNode())throw this._visible=!1,Og();return this._visible=!0,this._showingActions.value=c,h=this.getMenuActions(b,g),i=G.isIPosition(e)?this._toCoords(e):e||{x:0,y:0},j=this._keybindingResolver.getResolver(),this._contextMenuService.showContextMenu({getAnchor:function(){return i},getActions:function(){return h},onHide:function(){k._visible=!1,k._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:function(m){return m instanceof lH?j(m.action):void 0}}),[2]})})},a.prototype.getMenuActions=function(b,c){var e=this,f,g,h=function(o){return new lH(o,function(){return e._delegate.onSelectCodeAction(o)})},i=c.map(h),j=this._editor.getModel();if(j&&i.length)for(var k=0,l=td.all(j);k<l.length;k++){var m=l[k];if(m._getAdditionalMenuItems){var n=m._getAdditionalMenuItems({trigger:b.type,only:(g=(f=b.filter)===null||f===void 0?void 0:f.include)===null||g===void 0?void 0:g.value},c);n.length&&i.push.apply(i,EX([new Eg()],n.map(function(o){return h({title:o.title,command:o})})))}}return i},a.prototype._toCoords=function(b){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(b,1),this._editor.render();var c=this._editor.getScrolledVisiblePosition(b),e=ab(this._editor.getDomNode()),f=e.left+c.left,g=e.top+c.top+c.height;return{x:f,y:g}},a=BX([kH(2,le),kH(3,Ja)],a),a}(I),FX=function(){function d(a){this._keybindingProvider=a}return d.prototype.getResolver=function(){var a=this,b=new Wh(function(){return a._keybindingProvider.getKeybindings().filter(function(c){return d.codeActionCommands.indexOf(c.command)>=0}).filter(function(c){return c.resolvedKeybinding}).map(function(c){var e=c.commandArgs;return c.command===Km?e={kind:eb.SourceOrganizeImports.value}:c.command===Lm&&(e={kind:eb.SourceFixAll.value}),dw({resolvedKeybinding:c.resolvedKeybinding},mk.fromUser(e,{kind:eb.None,apply:"never"}))})});return function(c){if(c.kind){var e=a.bestKeybindingForCodeAction(c,b.getValue());return e===null||e===void 0?void 0:e.resolvedKeybinding}return}},d.prototype.bestKeybindingForCodeAction=function(a,b){if(!a.kind)return;var c=new eb(a.kind);return b.filter(function(e){return e.kind.contains(c)}).filter(function(e){return e.preferred?a.isPreferred:!0}).reduceRight(function(e,f){return e?e.kind.contains(f.kind)?f:e:f},void 0)},d.codeActionCommands=[Wq,Vq,Xq,Km,Lm],d}();var KX=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),LX=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},MX=function(d,a){return function(b,c){a(b,c,d)}},Pm;(function(d){d.Hidden={type:0};var a=function(){function b(c,e,f,g){this.actions=c,this.trigger=e,this.editorPosition=f,this.widgetPosition=g,this.type=1}return b}();d.Showing=a})(Pm||(Pm={}));var oH=function(d){KX(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g._editor=b,g._quickFixActionId=c,g._preferredFixActionId=e,g._keybindingService=f,g._onClick=g._register(new E()),g.onClick=g._onClick.event,g._state=Pm.Hidden,g._domNode=document.createElement("div"),g._domNode.className="codicon codicon-lightbulb",g._editor.addContentWidget(g),g._register(g._editor.onDidChangeModelContent(function(h){var i=g._editor.getModel();(g.state.type!==1||!i||g.state.editorPosition.lineNumber>=i.getLineCount())&&g.hide()})),wc.ignoreTarget(g._domNode),g._register(Gy(g._domNode,function(h){if(g.state.type!==1)return;g._editor.focus(),h.preventDefault();var i=ab(g._domNode),j=i.top,k=i.height,l=g._editor.getOption(49),m=Math.floor(l/3);g.state.widgetPosition.position!==null&&g.state.widgetPosition.position.lineNumber<g.state.editorPosition.lineNumber&&(m+=l),g._onClick.fire({x:h.posx,y:j+k+m,actions:g.state.actions,trigger:g.state.trigger})})),g._register(R(g._domNode,"mouseenter",function(h){if((h.buttons&1)!==1)return;g.hide();var i=new Rd();i.startMonitoring(h.target,h.buttons,Ae,function(){},function(){i.dispose()})})),g._register(g._editor.onDidChangeConfiguration(function(h){h.hasChanged(47)&&!g._editor.getOption(47).enabled&&g.hide()})),g._updateLightBulbTitle(),g._register(g._keybindingService.onDidUpdateKeybindings(g._updateLightBulbTitle,g)),g}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this._editor.removeContentWidget(this)},a.prototype.getId=function(){return"LightBulbWidget"},a.prototype.getDomNode=function(){return this._domNode},a.prototype.getPosition=function(){return this._state.type===1?this._state.widgetPosition:null},a.prototype.update=function(b,c,e){var f=this;if(b.validActions.length<=0)return this.hide();var g=this._editor.getOptions();if(!g.get(47).enabled)return this.hide();var h=e.lineNumber,i=e.column,j=this._editor.getModel();if(!j)return this.hide();var k=j.getOptions().tabSize,l=g.get(34),m=j.getLineContent(h),n=Qe.computeIndentLevel(m,k),o=l.spaceWidth*n>22,p=function(r){return r>2&&f._editor.getTopForLineNumber(r)===f._editor.getTopForLineNumber(r-1)},q=h;if(!o){if(h>1&&!p(h-1))q-=1;else if(!p(h+1))q+=1;else if(i*l.spaceWidth<22)return this.hide()}this.state=new Pm.Showing(b,c,e,{position:{lineNumber:q,column:1},preference:a._posPref}),qa(this._domNode,"codicon-lightbulb-autofix",b.hasAutoFix),this._editor.layoutContentWidget(this)},a.prototype.hide=function(){this.state=Pm.Hidden,this._editor.layoutContentWidget(this)},Object.defineProperty(a.prototype,"state",{get:function(){return this._state},set:function(b){this._state=b,this._updateLightBulbTitle()},enumerable:!0,configurable:!0}),a.prototype._updateLightBulbTitle=function(){if(this.state.type===1&&this.state.actions.hasAutoFix){var b=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(b){this.title=s("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",b.getLabel());return}}var c=this._keybindingService.lookupKeybinding(this._quickFixActionId);c?this.title=s("quickFixWithKb","Show Fixes ({0})",c.getLabel()):this.title=s("quickFix","Show Fixes")},Object.defineProperty(a.prototype,"title",{set:function(b){this._domNode.title=b},enumerable:!0,configurable:!0}),a._posPref=[0],a=LX([MX(3,Ja)],a),a}(I);la(function(d,a){var b=d.getColor(pH);b&&a.addRule(`
		.monaco-editor .contentWidgets .codicon-lightbulb {
			color: `+b+`;
		}`);var c=d.getColor(qH);c&&a.addRule(`
		.monaco-editor .contentWidgets .codicon-lightbulb-autofix {
			color: `+c+`;
		}`)});var HX=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),IX=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},JX=function(d,a){return function(b,c){a(b,c,d)}},ew=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},fw=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},cH=function(d){HX(a,d);function a(b,c,e,f,g){var h=d.call(this)||this;return h._editor=b,h.delegate=f,h._activeCodeActions=h._register(new Pc()),h._codeActionWidget=new Wh(function(){return h._register(g.createInstance(mH,h._editor,{onSelectCodeAction:function(i){return ew(h,void 0,void 0,function(){return fw(this,function(j){return this.delegate.applyCodeAction(i,!0),[2]})})}}))}),h._lightBulbWidget=new Wh(function(){var i=h._register(g.createInstance(oH,h._editor,c,e));return h._register(i.onClick(function(j){return h.showCodeActionList(j.trigger,j.actions,j,{includeDisabledActions:!1})})),i}),h}return a.prototype.update=function(b){var c,e,f;return ew(this,void 0,void 0,function(){var g,h,i,j,k;return fw(this,function(l){switch(l.label){case 0:if(b.type!==1)return(c=this._lightBulbWidget.rawValue)===null||c===void 0||c.hide(),[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,b.actions];case 2:return g=l.sent(),[3,4];case 3:return h=l.sent(),W(h),[2];case 4:this._lightBulbWidget.getValue().update(g,b.trigger,b.position);if(!(b.trigger.type===2))return[3,11];if(!((e=b.trigger.filter)===null||e===void 0?void 0:e.include))return[3,10];i=this.tryGetValidActionToApply(b.trigger,g);if(!i)return[3,9];l.label=5;case 5:return l.trys.push([5,,7,8]),[4,this.delegate.applyCodeAction(i,!1)];case 6:return l.sent(),[3,8];case 7:return g.dispose(),[7];case 8:return[2];case 9:if(b.trigger.context){j=this.getInvalidActionThatWouldHaveBeenApplied(b.trigger,g);if(j&&j.disabled)return Nd.get(this._editor).showMessage(j.disabled,b.trigger.context.position),g.dispose(),[2]}l.label=10;case 10:k=!!((f=b.trigger.filter)===null||f===void 0?void 0:f.include);if(b.trigger.context){if(!g.allActions.length||!k&&!g.validActions.length)return Nd.get(this._editor).showMessage(b.trigger.context.notAvailableMessage,b.trigger.context.position),this._activeCodeActions.value=g,g.dispose(),[2]}return this._activeCodeActions.value=g,this._codeActionWidget.getValue().show(b.trigger,g,b.position,{includeDisabledActions:k}),[3,12];case 11:this._codeActionWidget.getValue().isVisible?g.dispose():this._activeCodeActions.value=g,l.label=12;case 12:return[2]}})})},a.prototype.getInvalidActionThatWouldHaveBeenApplied=function(b,c){return c.allActions.length?b.autoApply==="first"&&c.validActions.length===0||b.autoApply==="ifSingle"&&c.allActions.length===1?to(c.allActions,function(e){return e.disabled}):void 0:void 0},a.prototype.tryGetValidActionToApply=function(b,c){return c.validActions.length?b.autoApply==="first"&&c.validActions.length>0||b.autoApply==="ifSingle"&&c.validActions.length===1?c.validActions[0]:void 0:void 0},a.prototype.showCodeActionList=function(b,c,e,f){return ew(this,void 0,void 0,function(){return fw(this,function(g){return this._codeActionWidget.getValue().show(b,c,e,f),[2]})})},a=IX([JX(4,Aa)],a),a}(I);var nH=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),aw=new ea("supportedCodeAction",""),GX=function(d){nH(a,d);function a(b,c,e,f){f===void 0&&(f=250);var g=d.call(this)||this;return g._editor=b,g._markerService=c,g._signalChange=e,g._delay=f,g._autoTriggerTimer=g._register(new rb()),g._register(g._markerService.onMarkerChanged(function(h){return g._onMarkerChanges(h)})),g._register(g._editor.onDidChangeCursorPosition(function(){return g._onCursorChange()})),g}return a.prototype.trigger=function(b){var c=this._getRangeOfSelectionUnlessWhitespaceEnclosed(b);return this._createEventAndSignalChange(b,c)},a.prototype._onMarkerChanges=function(b){var c=this,e=this._editor.getModel();if(!e)return;b.some(function(f){return He(f,e.uri)})&&this._autoTriggerTimer.cancelAndSet(function(){c.trigger({type:1})},this._delay)},a.prototype._onCursorChange=function(){var b=this;this._autoTriggerTimer.cancelAndSet(function(){b.trigger({type:1})},this._delay)},a.prototype._getRangeOfMarker=function(b){var c=this._editor.getModel();if(!c)return;for(var e=0,f=this._markerService.read({resource:c.uri});e<f.length;e++){var g=f[e],h=c.validateRange(g);if(z.intersectRanges(h,b))return z.lift(h)}return},a.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(b){if(!this._editor.hasModel())return;var c=this._editor.getModel(),e=this._editor.getSelection();if(e.isEmpty()&&b.type===1){var f=e.getPosition(),g=f.lineNumber,h=f.column,i=c.getLineContent(g);if(i.length===0)return;if(h===1){if(/\s/.test(i[0]))return}else if(h===c.getLineMaxColumn(g)){if(/\s/.test(i[i.length-1]))return}else if(/\s/.test(i[h-2])&&/\s/.test(i[h-1]))return}return e},a.prototype._createEventAndSignalChange=function(b,c){var e=this._editor.getModel();if(!c||!e){this._signalChange(void 0);return}var f=this._getRangeOfMarker(c),g=f?f.getStartPosition():c.getStartPosition(),h={trigger:b,selection:c,position:g};return this._signalChange(h),h},a}(I),Di;(function(d){d.Empty={type:0};var a=function(){function b(c,e,f,g){this.trigger=c,this.rangeOrSelection=e,this.position=f,this.actions=g,this.type=1}return b}();d.Triggered=a})(Di||(Di={}));var dH=function(d){nH(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g._editor=b,g._markerService=c,g._progressService=f,g._codeActionOracle=g._register(new Pc()),g._state=Di.Empty,g._onDidChangeState=g._register(new E()),g.onDidChangeState=g._onDidChangeState.event,g._supportedCodeActions=aw.bindTo(e),g._register(g._editor.onDidChangeModel(function(){return g._update()})),g._register(g._editor.onDidChangeModelLanguage(function(){return g._update()})),g._register(td.onDidChange(function(){return g._update()})),g._update(),g}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this.setState(Di.Empty,!0)},a.prototype._update=function(){var b=this;this._codeActionOracle.value=void 0,this.setState(Di.Empty);var c=this._editor.getModel();if(c&&td.has(c)&&!this._editor.getOption(68)){for(var e=[],f=0,g=td.all(c);f<g.length;f++){var h=g[f];Array.isArray(h.providedCodeActionKinds)&&e.push.apply(e,h.providedCodeActionKinds)}this._supportedCodeActions.set(e.join(" ")),this._codeActionOracle.value=new GX(this._editor,this._markerService,function(i){if(!i){b.setState(Di.Empty);return}var j=bb(function(k){return Mm(c,i.selection,i.trigger,k)});b._progressService&&i.trigger.type===2&&b._progressService.showWhile(j,250),b.setState(new Di.Triggered(i.trigger,i.selection,i.position,j))},void 0),this._codeActionOracle.value.trigger({type:1})}else this._supportedCodeActions.reset()},a.prototype.trigger=function(b){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(b)},a.prototype.setState=function(b,c){if(b===this._state)return;this._state.type===1&&this._state.actions.cancel(),this._state=b,c||this._onDidChangeState.fire(b)},a}(I);var qh=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),xX=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Yq=function(d,a){return function(b,c){a(b,c,d)}},aH=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},bH=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},yX=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c};function Nm(d){return Z.regex(aw.keys()[0],new RegExp("(\\s|^)"+Zc(d.value)+"\\b"))}var bw={type:"object",required:["kind"],defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:s("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:s("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[s("args.schema.apply.first","Always apply the first returned code action."),s("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),s("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:s("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},nk=function(d){qh(a,d);function a(b,c,e,f,g){var h=d.call(this)||this;return h._instantiationService=g,h._editor=b,h._model=h._register(new dH(h._editor,c,e,f)),h._register(h._model.onDidChangeState(function(i){return h.update(i)})),h._ui=new Wh(function(){return h._register(new cH(b,Om.Id,cw.Id,{applyCodeAction:function(i,j){return aH(h,void 0,void 0,function(){return bH(this,function(k){switch(k.label){case 0:return k.trys.push([0,,2,3]),[4,this._applyCodeAction(i)];case 1:return k.sent(),[3,3];case 2:return j&&this._trigger({type:1,filter:{}}),[7];case 3:return[2]}})})}},h._instantiationService))}),h}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.update=function(b){this._ui.getValue().update(b)},a.prototype.showCodeActions=function(b,c,e){return this._ui.getValue().showCodeActionList(b,c,e,{includeDisabledActions:!1})},a.prototype.manualTriggerAtCurrentPosition=function(b,c,e){if(!this._editor.hasModel())return;Nd.get(this._editor).closeMessage();var f=this._editor.getPosition();this._trigger({type:2,filter:c,autoApply:e,context:{notAvailableMessage:b,position:f}})},a.prototype._trigger=function(b){return this._model.trigger(b)},a.prototype._applyCodeAction=function(b){return this._instantiationService.invokeFunction(zX,b,this._editor)},a.ID="editor.contrib.quickFixController",a=xX([Yq(1,rg),Yq(2,ha),Yq(3,Kd),Yq(4,Aa)],a),a}(I);function zX(d,a,b){return aH(this,void 0,void 0,function(){var c,e,f,g,h,i;return bH(this,function(j){switch(j.label){case 0:return c=d.get(Ij),e=d.get(db),f=d.get(Le),g=d.get(Ra),f.publicLog2("codeAction.applyCodeAction",{codeActionTitle:a.title,codeActionKind:a.kind,codeActionIsPreferred:!!a.isPreferred}),a.edit?[4,c.apply(a.edit,{editor:b})]:[3,2];case 1:j.sent(),j.label=2;case 2:if(!a.command)return[3,6];j.label=3;case 3:return j.trys.push([3,5,,6]),[4,e.executeCommand.apply(e,yX([a.command.id],a.command.arguments||[]))];case 4:return j.sent(),[3,6];case 5:return h=j.sent(),i=AX(h),g.error(typeof i==="string"?i:s("applyCodeActionFailed","An unknown error occurred while applying the code action")),[3,6];case 6:return[2]}})})}function AX(d){return typeof d==="string"?d:d instanceof Error&&typeof d.message==="string"?d.message:void 0}function Ci(d,a,b,c){if(d.hasModel()){var e=nk.get(d);e&&e.manualTriggerAtCurrentPosition(a,b,c)}}var Om=function(d){qh(a,d);function a(){return d.call(this,{id:a.Id,label:s("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Z.and(C.writable,C.hasCodeActionsProvider),kbOpts:{kbExpr:C.editorTextFocus,primary:2048|84,weight:100}})||this}return a.prototype.run=function(b,c){return Ci(c,s("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)},a.Id="editor.action.quickFix",a}(aa),eH=function(d){qh(a,d);function a(){return d.call(this,{id:Vq,precondition:Z.and(C.writable,C.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:bw}]}})||this}return a.prototype.runEditorCommand=function(b,c,e){var f=mk.fromUser(e,{kind:eb.Empty,apply:"ifSingle"});return Ci(c,typeof(e===null||e===void 0?void 0:e.kind)==="string"?f.preferred?s("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",e.kind):s("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",e.kind):f.preferred?s("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):s("editor.action.codeAction.noneMessage","No code actions available"),{include:f.kind,includeSourceActions:!0,onlyIncludePreferredActions:f.preferred},f.apply)},a}(ob),fH=function(d){qh(a,d);function a(){return d.call(this,{id:Wq,label:s("refactor.label","Refactor..."),alias:"Refactor...",precondition:Z.and(C.writable,C.hasCodeActionsProvider),kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Z.and(C.writable,Nm(eb.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:bw}]}})||this}return a.prototype.run=function(b,c,e){var f=mk.fromUser(e,{kind:eb.Refactor,apply:"never"});return Ci(c,typeof(e===null||e===void 0?void 0:e.kind)==="string"?f.preferred?s("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",e.kind):s("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",e.kind):f.preferred?s("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):s("editor.action.refactor.noneMessage","No refactorings available"),{include:eb.Refactor.contains(f.kind)?f.kind:eb.None,onlyIncludePreferredActions:f.preferred},f.apply)},a}(aa),gH=function(d){qh(a,d);function a(){return d.call(this,{id:Xq,label:s("source.label","Source Action..."),alias:"Source Action...",precondition:Z.and(C.writable,C.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Z.and(C.writable,Nm(eb.Source))},description:{description:"Source Action...",args:[{name:"args",schema:bw}]}})||this}return a.prototype.run=function(b,c,e){var f=mk.fromUser(e,{kind:eb.Source,apply:"never"});return Ci(c,typeof(e===null||e===void 0?void 0:e.kind)==="string"?f.preferred?s("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",e.kind):s("editor.action.source.noneMessage.kind","No source actions for '{0}' available",e.kind):f.preferred?s("editor.action.source.noneMessage.preferred","No preferred source actions available"):s("editor.action.source.noneMessage","No source actions available"),{include:eb.Source.contains(f.kind)?f.kind:eb.None,includeSourceActions:!0,onlyIncludePreferredActions:f.preferred},f.apply)},a}(aa),hH=function(d){qh(a,d);function a(){return d.call(this,{id:Km,label:s("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Z.and(C.writable,Nm(eb.SourceOrganizeImports)),kbOpts:{kbExpr:C.editorTextFocus,primary:1024|512|45,weight:100}})||this}return a.prototype.run=function(b,c){return Ci(c,s("editor.action.organize.noneMessage","No organize imports action available"),{include:eb.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")},a}(aa),iH=function(d){qh(a,d);function a(){return d.call(this,{id:Lm,label:s("fixAll.label","Fix All"),alias:"Fix All",precondition:Z.and(C.writable,Nm(eb.SourceFixAll))})||this}return a.prototype.run=function(b,c){return Ci(c,s("fixAll.noneMessage","No fix all action available"),{include:eb.SourceFixAll,includeSourceActions:!0},"ifSingle")},a}(aa),cw=function(d){qh(a,d);function a(){return d.call(this,{id:a.Id,label:s("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Z.and(C.writable,Nm(eb.QuickFix)),kbOpts:{kbExpr:C.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})||this}return a.prototype.run=function(b,c){return Ci(c,s("editor.action.autoFix.noneMessage","No auto fixes available"),{include:eb.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")},a.Id="editor.action.autoFix",a}(aa);ra(nk.ID,nk);N(Om);N(fH);N(gH);N(hH);N(cw);N(iH);Q(new eH());var Zq=function(){function d(){this.lenses=[],this._disposables=new P()}return d.prototype.dispose=function(){this._disposables.dispose()},d.prototype.add=function(a,b){this._disposables.add(a);for(var c=0,e=a.lenses;c<e.length;c++){var f=e[c];this.lenses.push({symbol:f,provider:b})}},d}();function hw(d,a){var b=Oe.ordered(d),c=new Map(),e=new Zq(),f=b.map(function(g,h){return c.set(g,h),Promise.resolve(g.provideCodeLenses(d,a)).then(function(i){return i&&e.add(i,g)}).catch(tb)});return Promise.all(f).then(function(){return e.lenses=Tf(e.lenses,function(g,h){return g.symbol.range.startLineNumber<h.symbol.range.startLineNumber?-1:g.symbol.range.startLineNumber>h.symbol.range.startLineNumber?1:c.get(g.provider)<c.get(h.provider)?-1:c.get(g.provider)>c.get(h.provider)?1:g.symbol.range.startColumn<h.symbol.range.startColumn?-1:g.symbol.range.startColumn>h.symbol.range.startColumn?1:0}),e})}ch("_executeCodeLensProvider",function(d,a){var b=a.resource,c=a.itemResolveCount;if(!(b instanceof ja))throw Qb();var e=d.get(ub).getModel(b);if(!e)throw Qb();var f=[],g=new P();return hw(e,xa.None).then(function(h){g.add(h);for(var i=[],j=function(n){typeof c==="undefined"||Boolean(n.symbol.command)?f.push(n.symbol):c-- >0&&n.provider.resolveCodeLens&&i.push(Promise.resolve(n.provider.resolveCodeLens(e,n.symbol,xa.None)).then(function(o){return f.push(o||n.symbol)}))},k=0,l=h.lenses;k<l.length;k++){var m=l[k];j(m)}return Promise.all(i)}).then(function(){return f}).finally(function(){setTimeout(function(){return g.dispose()},100)})});var GP=/(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function cA(d){return d.replace(GP,function(a,b){return b?a:"\\"+a})}var HP=/\\\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function Xy(d){return d.replace(HP,function(a){return"\\"+a})}var IP=/(\\)?\$\((([a-z0-9\-]+?)(?:~([a-z0-9\-]*?))?)\)/gi;function Dg(d){return d.replace(IP,function(a,b,c,e,f){return b?"$("+c+")":'<span class="codicon codicon-'+e+(f?" codicon-animation-"+f:"")+'"></span>'})}var SX=function(){function d(a,b){this.afterLineNumber=a,this._onHeight=b,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return d.prototype.onComputedHeight=function(a){this._lastHeight===void 0?this._lastHeight=a:this._lastHeight!==a&&(this._lastHeight=a,this._onHeight())},d}(),TX=function(){function d(a,b,c){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map(),this._isEmpty=!0,this._editor=a,this._id="codelens.widget-"+d._idPool++,this.updatePosition(c),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration "+b}return d.prototype.withCommands=function(a,b){this._commands.clear();for(var c="",e=!1,f=0;f<a.length;f++){var g=a[f];if(!g)continue;e=!0;if(g.command){var h=Dg(Xb(g.command.title));g.command.id?(c+="<a id="+f+">"+h+"</a>",this._commands.set(String(f),g.command)):c+="<span>"+h+"</span>",f+1<a.length&&(c+="<span>&#160;|&#160;</span>")}}e?(c||(c="&#160;"),this._domNode.innerHTML=c,this._isEmpty&&b&&U(this._domNode,"fadein"),this._isEmpty=!1):this._domNode.innerHTML="<span>no commands</span>"},d.prototype.getCommand=function(a){return a.parentElement===this._domNode?this._commands.get(a.id):void 0},d.prototype.getId=function(){return this._id},d.prototype.getDomNode=function(){return this._domNode},d.prototype.updatePosition=function(a){var b=this._editor.getModel().getLineFirstNonWhitespaceColumn(a);this._widgetPosition={position:{lineNumber:a,column:b},preference:[1]}},d.prototype.getPosition=function(){return this._widgetPosition||null},d._idPool=0,d}(),_q=function(){function d(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return d.prototype.addDecoration=function(a,b){this._addDecorations.push(a),this._addDecorationsCallbacks.push(b)},d.prototype.removeDecoration=function(a){this._removeDecorations.push(a)},d.prototype.commit=function(a){for(var b=a.deltaDecorations(this._removeDecorations,this._addDecorations),c=0,e=b.length;c<e;c++)this._addDecorationsCallbacks[c](b[c])},d}(),jw=function(){function d(a,b,c,e,f,g){var h=this;this._isDisposed=!1,this._editor=b,this._className=c,this._data=a,this._decorationIds=[];var i,j=[];this._data.forEach(function(k,l){k.symbol.command&&j.push(k.symbol),e.addDecoration({range:k.symbol.range,options:na.EMPTY},function(m){return h._decorationIds[l]=m}),i?i=z.plusRange(i,k.symbol.range):i=z.lift(k.symbol.range)}),this._viewZone=new SX(i.startLineNumber-1,g),this._viewZoneId=f.addZone(this._viewZone),j.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(j,!1))}return d.prototype._createContentWidgetIfNecessary=function(){this._contentWidget||(this._contentWidget=new TX(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))},d.prototype.dispose=function(a,b){this._decorationIds.forEach(a.removeDecoration,a),this._decorationIds=[],b&&b.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0},d.prototype.isDisposed=function(){return this._isDisposed},d.prototype.isValid=function(){var a=this;return this._decorationIds.some(function(b,c){var e=a._editor.getModel().getDecorationRange(b),f=a._data[c].symbol;return!!(e&&z.isEmpty(f.range)===e.isEmpty())})},d.prototype.updateCodeLensSymbols=function(a,b){var c=this;this._decorationIds.forEach(b.removeDecoration,b),this._decorationIds=[],this._data=a,this._data.forEach(function(e,f){b.addDecoration({range:e.symbol.range,options:na.EMPTY},function(g){return c._decorationIds[f]=g})})},d.prototype.computeIfNecessary=function(a){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(var b=0;b<this._decorationIds.length;b++){var c=a.getDecorationRange(this._decorationIds[b]);c&&(this._data[b].symbol.range=c)}return this._data},d.prototype.updateCommands=function(a){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(a,!0);for(var b=0;b<this._data.length;b++){var c=a[b];if(c){var e=this._data[b].symbol;e.command=c.command||e.command}}},d.prototype.getCommand=function(a){var b;return(b=this._contentWidget)===null||b===void 0?void 0:b.getCommand(a)},d.prototype.getLineNumber=function(){var a=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return a?a.startLineNumber:-1},d.prototype.update=function(a){if(this.isValid()){var b=this._editor.getModel().getDecorationRange(this._decorationIds[0]);b&&(this._viewZone.afterLineNumber=b.startLineNumber-1,a.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(b.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}},d}();la(function(d,a){var b=d.getColor(vG);b&&(a.addRule(".monaco-editor .codelens-decoration { color: "+b+"; }"),a.addRule(".monaco-editor .codelens-decoration .codicon { color: "+b+"; }"));var c=d.getColor(pk);c&&(a.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+c+" !important; }"),a.addRule(".monaco-editor .codelens-decoration > a:hover .codicon { color: "+c+" !important; }"))});var NX=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},OX=function(d,a){return function(b,c){a(b,c,d)}},gw=ia("ICodeLensCache"),sH=function(){function d(a,b){this.lineCount=a,this.data=b}return d}(),PX=function(){function d(a){var b=this;this._fakeProvider=new(function(){function g(){}return g.prototype.provideCodeLenses=function(){throw new Error("not supported")},g}())(),this._cache=new De(20,.75);var c="codelens/cache";wl(function(){return a.remove(c,1)});var e="codelens/cache2",f=a.get(e,1,"{}");this._deserialize(f),Xf(a.onWillSaveState)(function(g){g.reason===ok.SHUTDOWN&&a.store(e,b._serialize(),1)})}return d.prototype.put=function(a,b){var c=b.lenses.map(function(g){var h;return{range:g.symbol.range,command:g.symbol.command&&{id:"",title:(h=g.symbol.command)===null||h===void 0?void 0:h.title}}}),e=new Zq();e.add({lenses:c,dispose:function(){}},this._fakeProvider);var f=new sH(a.getLineCount(),e);this._cache.set(a.uri.toString(),f)},d.prototype.get=function(a){var b=this._cache.get(a.uri.toString());return b&&b.lineCount===a.getLineCount()?b.data:void 0},d.prototype.delete=function(a){this._cache.delete(a.uri.toString())},d.prototype._serialize=function(){var a=Object.create(null);return this._cache.forEach(function(b,c){for(var e=new Set(),f=0,g=b.data.lenses;f<g.length;f++){var h=g[f];e.add(h.symbol.range.startLineNumber)}a[c]={lineCount:b.lineCount,lines:Ig(e)}}),JSON.stringify(a)},d.prototype._deserialize=function(a){try{var b=JSON.parse(a);for(var c in b){for(var e=b[c],f=[],g=0,h=e.lines;g<h.length;g++){var i=h[g];f.push({range:new z(i,1,i,11)})}var j=new Zq();j.add({lenses:f,dispose:function(){}},this._fakeProvider),this._cache.set(c,new sH(e.lineCount,j))}}catch(k){}},d=NX([OX(0,zd)],d),d}();mf(gw,PX);var QX=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},iw=function(d,a){return function(b,c){a(b,c,d)}},RX=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},tH=function(){function d(a,b,c,e){var f=this;this._editor=a,this._commandService=b,this._notificationService=c,this._codeLensCache=e,this._globalToDispose=new P(),this._localToDispose=new P(),this._lenses=[],this._oldCodeLensModels=new P(),this._modelChangeCounter=0,this._isEnabled=this._editor.getOption(11),this._globalToDispose.add(this._editor.onDidChangeModel(function(){return f._onModelChange()})),this._globalToDispose.add(this._editor.onDidChangeModelLanguage(function(){return f._onModelChange()})),this._globalToDispose.add(this._editor.onDidChangeConfiguration(function(){var g=f._isEnabled;f._isEnabled=f._editor.getOption(11),g!==f._isEnabled&&f._onModelChange()})),this._globalToDispose.add(Oe.onDidChange(this._onModelChange,this)),this._globalToDispose.add(this._editor.onDidChangeConfiguration(function(g){g.hasChanged(34)&&f._updateLensStyle()})),this._onModelChange(),this._styleClassName=rj(this._editor.getId()).toString(16),this._styleElement=vc(_i(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}return d.prototype.dispose=function(){this._localDispose(),this._globalToDispose.dispose(),this._oldCodeLensModels.dispose(),ca(this._currentCodeLensModel)},d.prototype._updateLensStyle=function(){var a=this._editor.getOptions(),b=a.get(34),c=a.get(49),e=Math.round(c*1.1),f=Math.round(b.fontSize*.9),g=`
		.monaco-editor .codelens-decoration.`+this._styleClassName+" { height: "+e+"px; line-height: "+c+"px; font-size: "+f+"px; padding-right: "+Math.round(b.fontSize*.45)+`px;}
		.monaco-editor .codelens-decoration.`+this._styleClassName+" > a > .codicon { line-height: "+c+"px; font-size: "+f+`px; }
		`;this._styleElement.innerHTML=g},d.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=void 0,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0),this._localToDispose.clear(),this._oldCodeLensModels.clear(),ca(this._currentCodeLensModel)},d.prototype._onModelChange=function(){var a=this;this._localDispose();var b=this._editor.getModel();if(!b)return;if(!this._isEnabled)return;var c=this._codeLensCache.get(b);c&&this._renderCodeLensSymbols(c);if(!Oe.has(b)){c&&this._localToDispose.add(cf(function(){var k=a._codeLensCache.get(b);c===k&&(a._codeLensCache.delete(b),a._onModelChange())},30*1e3));return}for(var e=0,f=Oe.all(b);e<f.length;e++){var g=f[e];if(typeof g.onDidChange==="function"){var h=g.onDidChange(function(){return j.schedule()});this._localToDispose.add(h)}}var i=this._detectVisibleLenses=new Ka(function(){return a._onViewportChanged()},250),j=new Ka(function(){var k=++a._modelChangeCounter;a._currentFindCodeLensSymbolsPromise&&a._currentFindCodeLensSymbolsPromise.cancel(),a._currentFindCodeLensSymbolsPromise=bb(function(l){return hw(b,l)}),a._currentFindCodeLensSymbolsPromise.then(function(l){k===a._modelChangeCounter&&(a._currentCodeLensModel&&a._oldCodeLensModels.add(a._currentCodeLensModel),a._currentCodeLensModel=l,a._codeLensCache.put(b,l),a._renderCodeLensSymbols(l),i.schedule())},W)},250);this._localToDispose.add(j),this._localToDispose.add(i),this._localToDispose.add(this._editor.onDidChangeModelContent(function(){a._editor.changeDecorations(function(k){a._editor.changeViewZones(function(l){var m=[],n=-1;a._lenses.forEach(function(p){!p.isValid()||n===p.getLineNumber()?m.push(p):(p.update(l),n=p.getLineNumber())});var o=new _q();m.forEach(function(p){p.dispose(o,l),a._lenses.splice(a._lenses.indexOf(p),1)}),o.commit(k)})}),i.schedule(),j.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(function(k){k.scrollTopChanged&&a._lenses.length>0&&i.schedule()})),this._localToDispose.add(this._editor.onDidLayoutChange(function(){i.schedule()})),this._localToDispose.add(va(function(){if(a._editor.getModel()){var k=Wl.capture(a._editor);a._editor.changeDecorations(function(l){a._editor.changeViewZones(function(m){a._disposeAllLenses(l,m)})}),k.restore(a._editor)}else a._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseUp(function(k){var l;if(k.target.type!==9)return;var m=k.target.element;(m===null||m===void 0?void 0:m.tagName)==="SPAN"&&(m=m.parentElement);if((m===null||m===void 0?void 0:m.tagName)==="A")for(var n=0,o=a._lenses;n<o.length;n++){var p=o[n],q=p.getCommand(m);if(q){(l=a._commandService).executeCommand.apply(l,RX([q.id],q.arguments||[])).catch(function(r){return a._notificationService.error(r)});break}}})),j.schedule()},d.prototype._disposeAllLenses=function(a,b){for(var c=new _q(),e=0,f=this._lenses;e<f.length;e++){var g=f[e];g.dispose(c,b)}a&&c.commit(a),this._lenses=[]},d.prototype._renderCodeLensSymbols=function(a){var b=this;if(!this._editor.hasModel())return;for(var c=this._editor.getModel().getLineCount(),e=[],f,g=0,h=a.lenses;g<h.length;g++){var i=h[g],j=i.symbol.range.startLineNumber;if(j<1||j>c)continue;f&&f[f.length-1].symbol.range.startLineNumber===j?f.push(i):(f=[i],e.push(f))}var k=Wl.capture(this._editor);this._editor.changeDecorations(function(l){b._editor.changeViewZones(function(m){for(var n=new _q(),o=0,p=0;p<e.length&&o<b._lenses.length;){var q=e[p][0].symbol.range.startLineNumber,r=b._lenses[o].getLineNumber();r<q?(b._lenses[o].dispose(n,m),b._lenses.splice(o,1)):r===q?(b._lenses[o].updateCodeLensSymbols(e[p],n),p++,o++):(b._lenses.splice(o,0,new jw(e[p],b._editor,b._styleClassName,n,m,function(){return b._detectVisibleLenses&&b._detectVisibleLenses.schedule()})),o++,p++)}for(;o<b._lenses.length;)b._lenses[o].dispose(n,m),b._lenses.splice(o,1);for(;p<e.length;)b._lenses.push(new jw(e[p],b._editor,b._styleClassName,n,m,function(){return b._detectVisibleLenses&&b._detectVisibleLenses.schedule()})),p++;n.commit(l)})}),k.restore(this._editor)},d.prototype._onViewportChanged=function(){var a=this;this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0);var b=this._editor.getModel();if(!b)return;var c=[],e=[];this._lenses.forEach(function(g){var h=g.computeIfNecessary(b);h&&(c.push(h),e.push(g))});if(c.length===0)return;var f=bb(function(g){var h=c.map(function(i,j){var k=new Array(i.length),l=i.map(function(m,n){return!m.symbol.command&&typeof m.provider.resolveCodeLens==="function"?Promise.resolve(m.provider.resolveCodeLens(b,m.symbol,g)).then(function(o){k[n]=o},tb):(k[n]=m.symbol,Promise.resolve(void 0))});return Promise.all(l).then(function(){!g.isCancellationRequested&&!e[j].isDisposed()&&e[j].updateCommands(k)})});return Promise.all(h)});this._currentResolveCodeLensSymbolsPromise=f,this._currentResolveCodeLensSymbolsPromise.then(function(){a._currentCodeLensModel&&a._codeLensCache.put(b,a._currentCodeLensModel),a._oldCodeLensModels.clear(),f===a._currentResolveCodeLensSymbolsPromise&&(a._currentResolveCodeLensSymbolsPromise=void 0)},function(g){W(g),f===a._currentResolveCodeLensSymbolsPromise&&(a._currentResolveCodeLensSymbolsPromise=void 0)})},d.ID="css.editor.codeLens",d=QX([iw(1,db),iw(2,Ra),iw(3,gw)],d),d}();ra(tH.ID,tH);function uH(d,a){var b=[],c=og.ordered(d).reverse(),e=c.map(function(f){return Promise.resolve(f.provideDocumentColors(d,a)).then(function(g){if(Array.isArray(g))for(var h=0,i=g;h<i.length;h++){var j=i[h];b.push({colorInfo:j,provider:f})}})});return Promise.all(e).then(function(){return b})}function kw(d,a,b,c){return Promise.resolve(b.provideColorPresentations(d,a,c))}ch("_executeDocumentColorProvider",function(d,a){var b=a.resource;if(!(b instanceof ja))throw Qb();var c=d.get(ub).getModel(b);if(!c)throw Qb();var e=[],f=og.ordered(c).reverse(),g=f.map(function(h){return Promise.resolve(h.provideDocumentColors(c,xa.None)).then(function(i){if(Array.isArray(i))for(var j=0,k=i;j<k.length;j++){var l=k[j];e.push({range:l.range,color:[l.color.red,l.color.green,l.color.blue,l.color.alpha]})}})});return Promise.all(g).then(function(){return e})});ch("_executeColorPresentationProvider",function(d,a){var b=a.resource,c=a.color,e=a.range;if(!(b instanceof ja)||!Array.isArray(c)||c.length!==4||!z.isIRange(e))throw Qb();var f=c[0],g=c[1],h=c[2],i=c[3],j=d.get(ub).getModel(b);if(!j)throw Qb();var k={range:e,color:{red:f,green:g,blue:h,alpha:i}},l=[],m=og.ordered(j).reverse(),n=m.map(function(o){return Promise.resolve(o.provideColorPresentations(j,k,xa.None)).then(function(p){Array.isArray(p)&&l.push.apply(l,p)})});return Promise.all(n).then(function(){return l})});var UX=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),VX=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},vH=function(d,a){return function(b,c){a(b,c,d)}},WX=500,$q=function(d){UX(a,d);function a(b,c,e){var f=d.call(this)||this;return f._editor=b,f._codeEditorService=c,f._configurationService=e,f._localToDispose=f._register(new P()),f._decorationsIds=[],f._colorDatas=new Map(),f._colorDecoratorIds=[],f._decorationsTypes=new Set(),f._register(b.onDidChangeModel(function(g){f._isEnabled=f.isEnabled(),f.onModelChanged()})),f._register(b.onDidChangeModelLanguage(function(g){return f.onModelChanged()})),f._register(og.onDidChange(function(g){return f.onModelChanged()})),f._register(b.onDidChangeConfiguration(function(g){var h=f._isEnabled;f._isEnabled=f.isEnabled(),h!==f._isEnabled&&(f._isEnabled?f.onModelChanged():f.removeAllDecorations())})),f._timeoutTimer=null,f._computePromise=null,f._isEnabled=f.isEnabled(),f.onModelChanged(),f}return a.prototype.isEnabled=function(){var b=this._editor.getModel();if(!b)return!1;var c=b.getLanguageIdentifier(),e=this._configurationService.getValue(c.language);if(e){var f=e.colorDecorators;if(f&&f.enable!==void 0&&!f.enable)return f.enable}return this._editor.getOption(12)},a.get=function(b){return b.getContribution(this.ID)},a.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),d.prototype.dispose.call(this)},a.prototype.onModelChanged=function(){var b=this;this.stop();if(!this._isEnabled)return;var c=this._editor.getModel();if(!c||!og.has(c))return;this._localToDispose.add(this._editor.onDidChangeModelContent(function(e){b._timeoutTimer||(b._timeoutTimer=new rb(),b._timeoutTimer.cancelAndSet(function(){b._timeoutTimer=null,b.beginCompute()},a.RECOMPUTE_TIME))})),this.beginCompute()},a.prototype.beginCompute=function(){var b=this;this._computePromise=bb(function(c){var e=b._editor.getModel();return e?uH(e,c):Promise.resolve([])}),this._computePromise.then(function(c){b.updateDecorations(c),b.updateColorDecorators(c),b._computePromise=null},W)},a.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()},a.prototype.updateDecorations=function(b){var c=this,e=b.map(function(f){return{range:{startLineNumber:f.colorInfo.range.startLineNumber,startColumn:f.colorInfo.range.startColumn,endLineNumber:f.colorInfo.range.endLineNumber,endColumn:f.colorInfo.range.endColumn},options:na.EMPTY}});this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,e),this._colorDatas=new Map(),this._decorationsIds.forEach(function(f,g){return c._colorDatas.set(f,b[g])})},a.prototype.updateColorDecorators=function(b){for(var c=this,e=[],f={},g=0;g<b.length&&e.length<WX;g++){var h=b[g].colorInfo.color,i=h.red,j=h.green,k=h.blue,l=h.alpha,m=new Ha(Math.round(i*255),Math.round(j*255),Math.round(k*255),l),n=rj(m).toString(16),o="rgba("+m.r+", "+m.g+", "+m.b+", "+m.a+")",p="colorBox-"+n;!this._decorationsTypes.has(p)&&!f[p]&&this._codeEditorService.registerDecorationType(p,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:o},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),f[p]=!0,e.push({range:{startLineNumber:b[g].colorInfo.range.startLineNumber,startColumn:b[g].colorInfo.range.startColumn,endLineNumber:b[g].colorInfo.range.endLineNumber,endColumn:b[g].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(p,!0)})}this._decorationsTypes.forEach(function(q){f[q]||c._codeEditorService.removeDecorationType(q)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,e)},a.prototype.removeAllDecorations=function(){var b=this;this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(function(c){b._codeEditorService.removeDecorationType(c)})},a.prototype.getColorData=function(b){var c=this,e=this._editor.getModel();if(!e)return null;var f=e.getDecorationsInRange(z.fromPositions(b,b)).filter(function(g){return c._colorDatas.has(g.id)});return f.length===0?null:this._colorDatas.get(f[0].id)},a.ID="editor.contrib.colorDetector",a.RECOMPUTE_TIME=1e3,a=VX([vH(1,ya),vH(2,gb)],a),a}(I);ra($q.ID,$q);var Fi=function(){function d(a,b){this._selection=a,this._insertSpace=b,this._usedEndToken=null}return d._haystackHasNeedleAtOffset=function(a,b,c){if(c<0)return!1;var e=b.length,f=a.length;if(c+e>f)return!1;for(var g=0;g<e;g++){var h=a.charCodeAt(c+g),i=b.charCodeAt(g);if(h===i)continue;if(h>=65&&h<=90&&h+32===i)continue;if(i>=65&&i<=90&&i+32===h)continue;return!1}return!0},d.prototype._createOperationsForBlockComment=function(a,b,c,e,f,g){var h=a.startLineNumber,i=a.startColumn,j=a.endLineNumber,k=a.endColumn,l=f.getLineContent(h),m=f.getLineContent(j),n=l.lastIndexOf(b,i-1+b.length),o=m.indexOf(c,k-1-c.length);if(n!==-1&&o!==-1)if(h===j){var p=l.substring(n+b.length,o);p.indexOf(c)>=0&&(n=-1,o=-1)}else{var q=l.substring(n+b.length),r=m.substring(0,o);(q.indexOf(c)>=0||r.indexOf(c)>=0)&&(n=-1,o=-1)}var t;n!==-1&&o!==-1?(e&&n+b.length<l.length&&l.charCodeAt(n+b.length)===32&&(b=b+" "),e&&o>0&&m.charCodeAt(o-1)===32&&(c=" "+c,o-=1),t=d._createRemoveBlockCommentOperations(new z(h,n+b.length+1,j,o+1),b,c)):(t=d._createAddBlockCommentOperations(a,b,c,this._insertSpace),this._usedEndToken=t.length===1?c:null);for(var v=0,w=t;v<w.length;v++){var x=w[v];g.addTrackedEditOperation(x.range,x.text)}},d._createRemoveBlockCommentOperations=function(a,b,c){var e=[];return z.isEmpty(a)?e.push(jb.delete(new z(a.startLineNumber,a.startColumn-b.length,a.endLineNumber,a.endColumn+c.length))):(e.push(jb.delete(new z(a.startLineNumber,a.startColumn-b.length,a.startLineNumber,a.startColumn))),e.push(jb.delete(new z(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn+c.length)))),e},d._createAddBlockCommentOperations=function(a,b,c,e){var f=[];return z.isEmpty(a)?f.push(jb.replace(new z(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn),b+"  "+c)):(f.push(jb.insert(new G(a.startLineNumber,a.startColumn),b+(e?" ":""))),f.push(jb.insert(new G(a.endLineNumber,a.endColumn),(e?" ":"")+c))),f},d.prototype.getEditOperations=function(a,b){var c=this._selection.startLineNumber,e=this._selection.startColumn;a.tokenizeIfCheap(c);var f=a.getLanguageIdAtPosition(c,e),g=sa.getComments(f);if(!g||!g.blockCommentStartToken||!g.blockCommentEndToken)return;this._createOperationsForBlockComment(this._selection,g.blockCommentStartToken,g.blockCommentEndToken,this._insertSpace,a,b)},d.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations();if(c.length===2){var e=c[0],f=c[1];return new V(e.range.endLineNumber,e.range.endColumn,f.range.startLineNumber,f.range.startColumn)}else{var g=c[0].range,h=this._usedEndToken?-this._usedEndToken.length-1:0;return new V(g.endLineNumber,g.endColumn+h,g.endLineNumber,g.endColumn+h)}},d}();var zH=function(){function d(a,b,c,e){this._selection=a,this._tabSize=b,this._type=c,this._insertSpace=e,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1}return d._gatherPreflightCommentStrings=function(a,b,c){a.tokenizeIfCheap(b);var e=a.getLanguageIdAtPosition(b,1),f=sa.getComments(e),g=f?f.lineCommentToken:null;if(!g)return null;for(var h=[],i=0,j=c-b+1;i<j;i++)h[i]={ignore:!1,commentStr:g,commentStrOffset:0,commentStrLength:g.length};return h},d._analyzeLines=function(a,b,c,e,f){var g=!0,h;a===0?h=!0:a===1?h=!1:h=!0;for(var i=0,j=e.length;i<j;i++){var k=e[i],l=f+i,m=c.getLineContent(l),n=Jb(m);if(n===-1){a===0?k.ignore=!0:a===1?k.ignore=!0:k.ignore=!0,k.commentStrOffset=m.length;continue}g=!1,k.ignore=!1,k.commentStrOffset=n,h&&!Fi._haystackHasNeedleAtOffset(m,k.commentStr,n)&&(a===0?h=!1:a===1||(k.ignore=!0));if(h&&b){var o=n+k.commentStrLength;o<m.length&&m.charCodeAt(o)===32&&(k.commentStrLength+=1)}}if(a===0&&g){h=!1;for(var i=0,j=e.length;i<j;i++)e[i].ignore=!1}return{supported:!0,shouldRemoveComments:h,lines:e}},d._gatherPreflightData=function(a,b,c,e,f){var g=d._gatherPreflightCommentStrings(c,e,f);return g===null?{supported:!1}:d._analyzeLines(a,b,c,g,e)},d.prototype._executeLineComments=function(a,b,c,e){var f;c.shouldRemoveComments?f=d._createRemoveLineCommentsOperations(c.lines,e.startLineNumber):(d._normalizeInsertionPoint(a,c.lines,e.startLineNumber,this._tabSize),f=this._createAddLineCommentsOperations(c.lines,e.startLineNumber));for(var g=new G(e.positionLineNumber,e.positionColumn),h=0,i=f.length;h<i;h++){b.addEditOperation(f[h].range,f[h].text);if(f[h].range.isEmpty()&&f[h].range.getStartPosition().equals(g)){var j=a.getLineContent(g.lineNumber);j.length+1===g.column&&(this._deltaColumn=(f[h].text||"").length)}}this._selectionId=b.trackSelection(e)},d.prototype._attemptRemoveBlockComment=function(a,b,c,e){var f=b.startLineNumber,g=b.endLineNumber,h=e.length+Math.max(a.getLineFirstNonWhitespaceColumn(b.startLineNumber),b.startColumn),i=a.getLineContent(f).lastIndexOf(c,h-1),j=a.getLineContent(g).indexOf(e,b.endColumn-1-c.length);return i!==-1&&j===-1&&(j=a.getLineContent(f).indexOf(e,i+c.length),g=f),i===-1&&j!==-1&&(i=a.getLineContent(g).lastIndexOf(c,j),f=g),b.isEmpty()&&(i===-1||j===-1)&&(i=a.getLineContent(f).indexOf(c),i!==-1&&(j=a.getLineContent(f).indexOf(e,i+c.length))),i!==-1&&a.getLineContent(f).charCodeAt(i+c.length)===32&&(c+=" "),j!==-1&&a.getLineContent(g).charCodeAt(j-1)===32&&(e=" "+e,j-=1),i!==-1&&j!==-1?Fi._createRemoveBlockCommentOperations(new z(f,i+c.length+1,g,j+1),c,e):null},d.prototype._executeBlockComment=function(a,b,c){a.tokenizeIfCheap(c.startLineNumber);var e=a.getLanguageIdAtPosition(c.startLineNumber,1),f=sa.getComments(e);if(!f||!f.blockCommentStartToken||!f.blockCommentEndToken)return;var g=f.blockCommentStartToken,h=f.blockCommentEndToken,i=this._attemptRemoveBlockComment(a,c,g,h);if(!i){if(c.isEmpty()){var j=a.getLineContent(c.startLineNumber),k=Jb(j);k===-1&&(k=j.length),i=Fi._createAddBlockCommentOperations(new z(c.startLineNumber,k+1,c.startLineNumber,j.length+1),g,h,this._insertSpace)}else i=Fi._createAddBlockCommentOperations(new z(c.startLineNumber,a.getLineFirstNonWhitespaceColumn(c.startLineNumber),c.endLineNumber,a.getLineMaxColumn(c.endLineNumber)),g,h,this._insertSpace);i.length===1&&(this._deltaColumn=g.length+1)}this._selectionId=b.trackSelection(c);for(var l=0,m=i;l<m.length;l++){var n=m[l];b.addEditOperation(n.range,n.text)}},d.prototype.getEditOperations=function(a,b){var c=this._selection;this._moveEndPositionDown=!1,c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,a.getLineMaxColumn(c.endLineNumber-1)));var e=d._gatherPreflightData(this._type,this._insertSpace,a,c.startLineNumber,c.endLineNumber);return e.supported?this._executeLineComments(a,b,e,c):this._executeBlockComment(a,b,c)},d.prototype.computeCursorState=function(a,b){var c=b.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(c=c.setEndPosition(c.endLineNumber+1,1)),new V(c.selectionStartLineNumber,c.selectionStartColumn+this._deltaColumn,c.positionLineNumber,c.positionColumn+this._deltaColumn)},d._createRemoveLineCommentsOperations=function(a,b){for(var c=[],e=0,f=a.length;e<f;e++){var g=a[e];if(g.ignore)continue;c.push(jb.delete(new z(b+e,g.commentStrOffset+1,b+e,g.commentStrOffset+g.commentStrLength+1)))}return c},d.prototype._createAddLineCommentsOperations=function(a,b){for(var c=[],e=this._insertSpace?" ":"",f=0,g=a.length;f<g;f++){var h=a[f];if(h.ignore)continue;c.push(jb.insert(new G(b+f,h.commentStrOffset+1),h.commentStr+e))}return c},d.nextVisibleColumn=function(a,b,c,e){return c?a+(b-a%b):a+e},d._normalizeInsertionPoint=function(a,b,c,e){for(var f=1073741824,g,h,i=0,j=b.length;i<j;i++){if(b[i].ignore)continue;for(var k=a.getLineContent(c+i),l=0,m=0,n=b[i].commentStrOffset;l<f&&m<n;m++)l=d.nextVisibleColumn(l,e,k.charCodeAt(m)===9,1);l<f&&(f=l)}f=Math.floor(f/e)*e;for(var i=0,j=b.length;i<j;i++){if(b[i].ignore)continue;var k=a.getLineContent(c+i),l=0;for(g=0,h=b[i].commentStrOffset;l<f&&g<h;g++)l=d.nextVisibleColumn(l,e,k.charCodeAt(g)===9,1);l>f?b[i].commentStrOffset=g-1:b[i].commentStrOffset=g}},d}();var Qm=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),lw=function(d){Qm(a,d);function a(b,c){var e=d.call(this,c)||this;return e._type=b,e}return a.prototype.run=function(b,c){if(!c.hasModel())return;for(var e=c.getModel(),f=[],g=c.getSelections(),h=e.getOptions(),i=c.getOption(13),j=0,k=g;j<k.length;j++){var l=k[j];f.push(new zH(l,h.tabSize,this._type,i.insertSpace))}c.pushUndoStop(),c.executeCommands(this.id,f),c.pushUndoStop()},a}(aa),aY=function(d){Qm(a,d);function a(){return d.call(this,0,{id:"editor.action.commentLine",label:s("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:17,group:"5_insert",title:s({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})||this}return a}(lw),bY=function(d){Qm(a,d);function a(){return d.call(this,1,{id:"editor.action.addCommentLine",label:s("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|33),weight:100}})||this}return a}(lw),cY=function(d){Qm(a,d);function a(){return d.call(this,2,{id:"editor.action.removeCommentLine",label:s("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|51),weight:100}})||this}return a}(lw),dY=function(d){Qm(a,d);function a(){return d.call(this,{id:"editor.action.blockComment",label:s("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:17,group:"5_insert",title:s({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;for(var e=c.getOption(13),f=[],g=c.getSelections(),h=0,i=g;h<i.length;h++){var j=i[h];f.push(new Fi(j,e.insertSpace))}c.pushUndoStop(),c.executeCommands(this.id,f),c.pushUndoStop()},a}(aa);N(aY);N(bY);N(cY);N(dY);var qN=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),By=function(d){qN(a,d);function a(b,c){var e=d.call(this,b,c,"contextsubmenu")||this;return e.entries=c,e}return a}(Fs);var eY=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),fY=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Rm=function(d,a){return function(b,c){a(b,c,d)}},mw=function(){function d(a,b,c,e,f,g){var h=this;this._contextMenuService=b,this._contextViewService=c,this._contextKeyService=e,this._keybindingService=f,this._menuService=g,this._toDispose=new P(),this._contextMenuIsBeingShownCount=0,this._editor=a,this._toDispose.add(this._editor.onContextMenu(function(i){return h._onContextMenu(i)})),this._toDispose.add(this._editor.onMouseWheel(function(i){h._contextMenuIsBeingShownCount>0&&h._contextViewService.hideContextView()})),this._toDispose.add(this._editor.onKeyDown(function(i){i.keyCode===58&&(i.preventDefault(),i.stopPropagation(),h.showContextMenu())}))}return d.get=function(a){return a.getContribution(d.ID)},d.prototype._onContextMenu=function(a){if(!this._editor.hasModel())return;if(!this._editor.getOption(14)){this._editor.focus(),a.target.position&&!this._editor.getSelection().containsPosition(a.target.position)&&this._editor.setPosition(a.target.position);return}if(a.target.type===12)return;a.event.preventDefault();if(a.target.type!==6&&a.target.type!==7&&a.target.type!==1)return;this._editor.focus();if(a.target.position){for(var b=!1,c=0,e=this._editor.getSelections();c<e.length;c++){var f=e[c];if(f.containsPosition(a.target.position)){b=!0;break}}b||this._editor.setPosition(a.target.position)}var g=null;a.target.type!==1&&(g={x:a.event.posx-1,width:2,y:a.event.posy-1,height:2}),this.showContextMenu(g)},d.prototype.showContextMenu=function(a){if(!this._editor.getOption(14))return;if(!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}var b=this._getMenuActions(this._editor.getModel(),7);b.length>0&&this._doShowContextMenu(b,a)},d.prototype._getMenuActions=function(a,b){var c=[],e=this._menuService.createMenu(b,this._contextKeyService),f=e.getActions({arg:a.uri});e.dispose();for(var g=0,h=f;g<h.length;g++){for(var i=h[g],j=i[1],k=0,l=0,m=j;l<m.length;l++){var n=m[l];if(n instanceof br){var o=this._getMenuActions(a,n.item.submenu);o.length>0&&(c.push(new By(n.label,o)),k++)}else c.push(n),k++}k&&c.push(new Eg())}return c.length&&c.pop(),c},d.prototype._doShowContextMenu=function(a,b){var c=this;b===void 0&&(b=null);if(!this._editor.hasModel())return;var e=this._editor.getOption(44);this._editor.updateOptions({hover:{enabled:!1}});if(!b){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var f=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),g=ab(this._editor.getDomNode()),h=g.left+f.left,i=g.top+f.top+f.height;b={x:h,y:i}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return b},getActions:function(){return a},getActionViewItem:function(j){var k=c._keybindingFor(j);if(k)return new bj(j,j,{label:!0,keybinding:k.getLabel(),isMenu:!0});var l=j;return typeof l.getActionViewItem==="function"?l.getActionViewItem():new bj(j,j,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(j){return c._keybindingFor(j)},onHide:function(j){c._contextMenuIsBeingShownCount--,c._editor.focus(),c._editor.updateOptions({hover:e})}})},d.prototype._keybindingFor=function(a){return this._keybindingService.lookupKeybinding(a.id)},d.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()},d.ID="editor.contrib.contextmenu",d=fY([Rm(1,le),Rm(2,Od),Rm(3,ha),Rm(4,Ja),Rm(5,ar)],d),d}(),gY=function(d){eY(a,d);function a(){return d.call(this,{id:"editor.action.showContextMenu",label:s("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:1024|68,weight:100}})||this}return a.prototype.run=function(b,c){var e=mw.get(c);e.showContextMenu()},a}(aa);ra(mw.ID,mw);N(gY);var nw=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),ow=function(){function d(a){this.selections=a}return d.prototype.equals=function(a){var b=this.selections.length,c=a.selections.length;if(b!==c)return!1;for(var e=0;e<b;e++)if(!this.selections[e].equalsSelection(a.selections[e]))return!1;return!0},d}(),pw=function(){function d(a,b,c){this.cursorState=a,this.scrollTop=b,this.scrollLeft=c}return d}(),cr=function(d){nw(a,d);function a(b){var c=d.call(this)||this;return c._editor=b,c._isCursorUndoRedo=!1,c._undoStack=[],c._redoStack=[],c._register(b.onDidChangeModel(function(e){c._undoStack=[],c._redoStack=[]})),c._register(b.onDidChangeModelContent(function(e){c._undoStack=[],c._redoStack=[]})),c._register(b.onDidChangeCursorSelection(function(e){if(c._isCursorUndoRedo)return;if(!e.oldSelections)return;if(e.oldModelVersionId!==e.modelVersionId)return;var f=new ow(e.oldSelections),g=c._undoStack.length>0&&c._undoStack[c._undoStack.length-1].cursorState.equals(f);g||(c._undoStack.push(new pw(f,b.getScrollTop(),b.getScrollLeft())),c._redoStack=[],c._undoStack.length>50&&c._undoStack.shift())})),c}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.cursorUndo=function(){if(!this._editor.hasModel()||this._undoStack.length===0)return;this._redoStack.push(new pw(new ow(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop())},a.prototype.cursorRedo=function(){if(!this._editor.hasModel()||this._redoStack.length===0)return;this._undoStack.push(new pw(new ow(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop())},a.prototype._applyState=function(b){this._isCursorUndoRedo=!0,this._editor.setSelections(b.cursorState.selections),this._editor.setScrollPosition({scrollTop:b.scrollTop,scrollLeft:b.scrollLeft}),this._isCursorUndoRedo=!1},a.ID="editor.contrib.cursorUndoRedoController",a}(I),hY=function(d){nw(a,d);function a(){return d.call(this,{id:"cursorUndo",label:s("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:2048|51,weight:100}})||this}return a.prototype.run=function(b,c,e){cr.get(c).cursorUndo()},a}(aa),iY=function(d){nw(a,d);function a(){return d.call(this,{id:"cursorRedo",label:s("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})||this}return a.prototype.run=function(b,c,e){cr.get(c).cursorRedo()},a}(aa);ra(cr.ID,cr);N(hY);N(iY);var AH=function(){function d(a,b,c){this.selection=a,this.targetPosition=b,this.copy=c,this.targetSelection=null}return d.prototype.getEditOperations=function(a,b){var c=a.getValueInRange(this.selection);this.copy||b.addEditOperation(this.selection,null),b.addEditOperation(new z(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),c);if(this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new V(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new V(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new V(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new V(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new V(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)},d.prototype.computeCursorState=function(a,b){return this.targetSelection},d}();var jY=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function qk(d){return ka?d.altKey:d.ctrlKey}var BH=function(d){jY(a,d);function a(b){var c=d.call(this)||this;return c._editor=b,c._register(c._editor.onMouseDown(function(e){return c._onEditorMouseDown(e)})),c._register(c._editor.onMouseUp(function(e){return c._onEditorMouseUp(e)})),c._register(c._editor.onMouseDrag(function(e){return c._onEditorMouseDrag(e)})),c._register(c._editor.onMouseDrop(function(e){return c._onEditorMouseDrop(e)})),c._register(c._editor.onKeyDown(function(e){return c.onEditorKeyDown(e)})),c._register(c._editor.onKeyUp(function(e){return c.onEditorKeyUp(e)})),c._register(c._editor.onDidBlurEditorWidget(function(){return c.onEditorBlur()})),c._dndDecorationIds=[],c._mouseDown=!1,c._modifierPressed=!1,c._dragSelection=null,c}return a.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},a.prototype.onEditorKeyDown=function(b){if(!this._editor.getOption(24))return;qk(b)&&(this._modifierPressed=!0),this._mouseDown&&qk(b)&&this._editor.updateOptions({mouseStyle:"copy"})},a.prototype.onEditorKeyUp=function(b){if(!this._editor.getOption(24))return;qk(b)&&(this._modifierPressed=!1),this._mouseDown&&b.keyCode===a.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"})},a.prototype._onEditorMouseDown=function(b){this._mouseDown=!0},a.prototype._onEditorMouseUp=function(b){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},a.prototype._onEditorMouseDrag=function(b){var c=b.target;if(this._dragSelection===null){var e=this._editor.getSelections()||[],f=e.filter(function(g){return c.position&&g.containsPosition(c.position)});if(f.length===1)this._dragSelection=f[0];else return}qk(b.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),c.position&&(this._dragSelection.containsPosition(c.position)?this._removeDecoration():this.showAt(c.position))},a.prototype._onEditorMouseDrop=function(b){if(b.target&&(this._hitContent(b.target)||this._hitMargin(b.target))&&b.target.position){var c=new G(b.target.position.lineNumber,b.target.position.column);if(this._dragSelection===null){var e=null;if(b.event.shiftKey){var f=this._editor.getSelection();if(f){var g=f.selectionStartLineNumber,h=f.selectionStartColumn;e=[new V(g,h,c.lineNumber,c.column)]}}else e=(this._editor.getSelections()||[]).map(function(i){return i.containsPosition(c)?new V(c.lineNumber,c.column,c.lineNumber,c.column):i});this._editor.setSelections(e||[],"mouse")}else(!this._dragSelection.containsPosition(c)||(qk(b.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(c)||this._dragSelection.getStartPosition().equals(c)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(a.ID,new AH(this._dragSelection,c,qk(b.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},a.prototype.showAt=function(b){var c=[{range:new z(b.lineNumber,b.column,b.lineNumber,b.column),options:a._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,c),this._editor.revealPosition(b,1)},a.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},a.prototype._hitContent=function(b){return b.type===6||b.type===7},a.prototype._hitMargin=function(b){return b.type===2||b.type===3||b.type===4},a.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,d.prototype.dispose.call(this)},a.ID="editor.contrib.dragAndDrop",a.TRIGGER_KEY_VALUE=ka?6:5,a._DECORATION_OPTIONS=na.register({className:"dnd-target"}),a}(I);ra(BH.ID,BH);var KH=function(){function d(a){this._editor=a,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return d.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},d.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},d.prototype.getCount=function(){return this._decorations.length},d.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},d.prototype.getStartPosition=function(){return this._startPosition},d.prototype.setStartPosition=function(a){this._startPosition=a,this.setCurrentFindMatch(null)},d.prototype._getDecorationIndex=function(a){var b=this._decorations.indexOf(a);return b>=0?b+1:1},d.prototype.getCurrentMatchesPosition=function(a){for(var b=this._editor.getModel().getDecorationsInRange(a),c=0,e=b;c<e.length;c++){var f=e[c],g=f.options;if(g===d._FIND_MATCH_DECORATION||g===d._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(f.id)}return 1},d.prototype.setCurrentFindMatch=function(a){var b=this,c=null,e=0;if(a)for(var f=0,g=this._decorations.length;f<g;f++){var h=this._editor.getModel().getDecorationRange(this._decorations[f]);if(a.equalsRange(h)){c=this._decorations[f],e=f+1;break}}return(this._highlightedDecorationId!==null||c!==null)&&this._editor.changeDecorations(function(i){b._highlightedDecorationId!==null&&(i.changeDecorationOptions(b._highlightedDecorationId,d._FIND_MATCH_DECORATION),b._highlightedDecorationId=null),c!==null&&(b._highlightedDecorationId=c,i.changeDecorationOptions(b._highlightedDecorationId,d._CURRENT_FIND_MATCH_DECORATION)),b._rangeHighlightDecorationId!==null&&(i.removeDecoration(b._rangeHighlightDecorationId),b._rangeHighlightDecorationId=null);if(c!==null){var j=b._editor.getModel().getDecorationRange(c);if(j.startLineNumber!==j.endLineNumber&&j.endColumn===1){var k=j.endLineNumber-1,l=b._editor.getModel().getLineMaxColumn(k);j=new z(j.startLineNumber,j.startColumn,k,l)}b._rangeHighlightDecorationId=i.addDecoration(j,d._RANGE_HIGHLIGHT_DECORATION)}}),e},d.prototype.set=function(a,b){var c=this;this._editor.changeDecorations(function(e){var f=d._FIND_MATCH_DECORATION,g=[];if(a.length>1e3){f=d._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var h=c._editor.getModel().getLineCount(),i=c._editor.getLayoutInfo().height,j=i/h,k=Math.max(2,Math.ceil(3/j)),l=a[0].range.startLineNumber,m=a[0].range.endLineNumber,n=1,o=a.length;n<o;n++){var p=a[n].range;m+k>=p.startLineNumber?p.endLineNumber>m&&(m=p.endLineNumber):(g.push({range:new z(l,1,m,1),options:d._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),l=p.startLineNumber,m=p.endLineNumber)}g.push({range:new z(l,1,m,1),options:d._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}for(var q=new Array(a.length),n=0,o=a.length;n<o;n++)q[n]={range:a[n].range,options:f};c._decorations=e.deltaDecorations(c._decorations,q),c._overviewRulerApproximateDecorations=e.deltaDecorations(c._overviewRulerApproximateDecorations,g),c._rangeHighlightDecorationId&&(e.removeDecoration(c._rangeHighlightDecorationId),c._rangeHighlightDecorationId=null),c._findScopeDecorationId&&(e.removeDecoration(c._findScopeDecorationId),c._findScopeDecorationId=null),b&&(c._findScopeDecorationId=e.addDecoration(b,d._FIND_SCOPE_DECORATION))})},d.prototype.matchBeforePosition=function(a){if(this._decorations.length===0)return null;for(var b=this._decorations.length-1;b>=0;b--){var c=this._decorations[b],e=this._editor.getModel().getDecorationRange(c);if(!e||e.endLineNumber>a.lineNumber)continue;if(e.endLineNumber<a.lineNumber)return e;if(e.endColumn>a.column)continue;return e}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},d.prototype.matchAfterPosition=function(a){if(this._decorations.length===0)return null;for(var b=0,c=this._decorations.length;b<c;b++){var e=this._decorations[b],f=this._editor.getModel().getDecorationRange(e);if(!f||f.startLineNumber<a.lineNumber)continue;if(f.startLineNumber>a.lineNumber)return f;if(f.startColumn<a.column)continue;return f}return this._editor.getModel().getDecorationRange(this._decorations[0])},d.prototype._allDecorations=function(){var a=[];return a=a.concat(this._decorations),a=a.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&a.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&a.push(this._rangeHighlightDecorationId),a},d._CURRENT_FIND_MATCH_DECORATION=na.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:sc(er),position:oc.Center},minimap:{color:sc(sw),position:Ne.Inline}}),d._FIND_MATCH_DECORATION=na.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:sc(er),position:oc.Center},minimap:{color:sc(sw),position:Ne.Inline}}),d._FIND_MATCH_NO_OVERVIEW_DECORATION=na.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),d._FIND_MATCH_ONLY_OVERVIEW_DECORATION=na.register({stickiness:1,overviewRuler:{color:sc(er),position:oc.Center}}),d._RANGE_HIGHLIGHT_DECORATION=na.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),d._FIND_SCOPE_DECORATION=na.register({className:"findScope",isWholeLine:!0}),d}();var LH=function(){function d(a,b,c){this._editorSelection=a,this._ranges=b,this._replaceStrings=c,this._trackedEditorSelectionId=null}return d.prototype.getEditOperations=function(a,b){if(this._ranges.length>0){for(var c=[],e=0;e<this._ranges.length;e++)c.push({range:this._ranges[e],text:this._replaceStrings[e]});c.sort(function(k,l){return z.compareRangesUsingStarts(k.range,l.range)});for(var f=[],g=c[0],e=1;e<c.length;e++)g.range.endLineNumber===c[e].range.startLineNumber&&g.range.endColumn===c[e].range.startColumn?(g.range=g.range.plusRange(c[e].range),g.text=g.text+c[e].text):(f.push(g),g=c[e]);f.push(g);for(var h=0,i=f;h<i.length;h++){var j=i[h];b.addEditOperation(j.range,j.text)}}this._trackedEditorSelectionId=b.trackSelection(this._editorSelection)},d.prototype.computeCursorState=function(a,b){return b.getTrackedSelection(this._trackedEditorSelectionId)},d}();function nu(d,a){if(d&&d[0]!==""){var b=sB(d,a,"-"),c=sB(d,a,"_");return b&&!c?tB(d,a,"-"):!b&&c?tB(d,a,"_"):d[0].toUpperCase()===d[0]?a.toUpperCase():d[0].toLowerCase()===d[0]?a.toLowerCase():uB(d[0][0])?a[0].toUpperCase()+a.substr(1):a}else return a}function sB(d,a,b){var c=d[0].indexOf(b)!==-1&&a.indexOf(b)!==-1;return c&&d[0].split(b).length===a.split(b).length}function tB(d,a,b){var c=a.split(b),e=d[0].split(b),f="";return c.forEach(function(g,h){f+=nu([e[h]],g)+b}),f.slice(0,-1)}var aI=function(){function d(a){this.staticValue=a,this.kind=0}return d}(),vZ=function(){function d(a){this.pieces=a,this.kind=1}return d}(),fr=function(){function d(a){!a||a.length===0?this._state=new aI(""):a.length===1&&a[0].staticValue!==null?this._state=new aI(a[0].staticValue):this._state=new vZ(a)}return d.fromStaticValue=function(a){return new d([nr.staticValue(a)])},Object.defineProperty(d.prototype,"hasReplacementPatterns",{get:function(){return this._state.kind===1},enumerable:!0,configurable:!0}),d.prototype.buildReplaceString=function(a,b){if(this._state.kind===0)return b?nu(a,this._state.staticValue):this._state.staticValue;for(var c="",e=0,f=this._state.pieces.length;e<f;e++){var g=this._state.pieces[e];if(g.staticValue!==null){c+=g.staticValue;continue}c+=d._substitute(g.matchIndex,a)}return c},d._substitute=function(a,b){if(b===null)return"";if(a===0)return b[0];for(var c="";a>0;){if(a<b.length){var e=b[a]||"";return e+c}c=String(a%10)+c,a=Math.floor(a/10)}return"$"+c},d}(),nr=function(){function d(a,b){this.staticValue=a,this.matchIndex=b}return d.staticValue=function(a){return new d(a,-1)},d.matchIndex=function(a){return new d(null,a)},d}(),wZ=function(){function d(a){this._source=a,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return d.prototype.emitUnchanged=function(a){this._emitStatic(this._source.substring(this._lastCharIndex,a)),this._lastCharIndex=a},d.prototype.emitStatic=function(a,b){this._emitStatic(a),this._lastCharIndex=b},d.prototype._emitStatic=function(a){if(a.length===0)return;this._currentStaticPiece+=a},d.prototype.emitMatchIndex=function(a,b){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=nr.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=nr.matchIndex(a),this._lastCharIndex=b},d.prototype.finalize=function(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=nr.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new fr(this._result)},d}();function MH(d){if(!d||d.length===0)return new fr(null);for(var a=new wZ(d),b=0,c=d.length;b<c;b++){var e=d.charCodeAt(b);if(e===92){b++;if(b>=c)break;var f=d.charCodeAt(b);switch(f){case 92:a.emitUnchanged(b-1),a.emitStatic("\\",b+1);break;case 110:a.emitUnchanged(b-1),a.emitStatic(`
`,b+1);break;case 116:a.emitUnchanged(b-1),a.emitStatic("	",b+1);break}continue}if(e===36){b++;if(b>=c)break;var f=d.charCodeAt(b);if(f===36){a.emitUnchanged(b-1),a.emitStatic("$",b+1);continue}if(f===48||f===38){a.emitUnchanged(b-1),a.emitMatchIndex(0,b+1);continue}if(49<=f&&f<=57){var g=f-48;if(b+1<c){var h=d.charCodeAt(b+1);if(48<=h&&h<=57){b++,g=g*10+(h-48),a.emitUnchanged(b-2),a.emitMatchIndex(g,b+1);continue}}a.emitUnchanged(b-1),a.emitMatchIndex(g,b+1);continue}}}return a.finalize()}var rh=new ea("findWidgetVisible",!1),sk=new ea("findInputFocussed",!1),Wm=new ea("replaceInputFocussed",!1),Sm={primary:512|33,mac:{primary:2048|512|33}},Vm={primary:512|53,mac:{primary:2048|512|53}},Tm={primary:512|48,mac:{primary:2048|512|48}},Um={primary:512|42,mac:{primary:2048|512|42}},Sa={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},sh=19999,cZ=240,EH=function(){function d(a,b){var c=this;this._toDispose=new P(),this._editor=a,this._state=b,this._isDisposed=!1,this._startSearchingTimer=new rb(),this._decorations=new KH(a),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Ka(function(){return c.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(function(e){(e.reason===3||e.reason===5||e.reason===6)&&c._decorations.setStartPosition(c._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(function(e){if(c._ignoreModelContentChanged)return;e.isFlush&&c._decorations.reset(),c._decorations.setStartPosition(c._editor.getPosition()),c._updateDecorationsScheduler.schedule()})),this._toDispose.add(this._state.onFindReplaceStateChange(function(e){return c._onStateChanged(e)})),this.research(!1,this._state.searchScope)}return d.prototype.dispose=function(){this._isDisposed=!0,ca(this._startSearchingTimer),this._toDispose.dispose()},d.prototype._onStateChanged=function(a){var b=this;if(this._isDisposed)return;if(!this._editor.hasModel())return;if(a.searchString||a.isReplaceRevealed||a.isRegex||a.wholeWord||a.matchCase||a.searchScope){var c=this._editor.getModel();c.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){a.searchScope?b.research(a.moveCursor,b._state.searchScope):b.research(a.moveCursor)},cZ)):a.searchScope?this.research(a.moveCursor,this._state.searchScope):this.research(a.moveCursor)}},d._getSearchRange=function(a,b){return b?b:a.getFullModelRange()},d.prototype.research=function(a,b){var c=null;typeof b!=="undefined"?c=b:c=this._decorations.getFindScope(),c!==null&&(c.startLineNumber!==c.endLineNumber&&(c.endColumn===1?c=new z(c.startLineNumber,1,c.endLineNumber-1,this._editor.getModel().getLineMaxColumn(c.endLineNumber-1)):c=new z(c.startLineNumber,1,c.endLineNumber,this._editor.getModel().getLineMaxColumn(c.endLineNumber))));var e=this._findMatches(c,!1,sh);this._decorations.set(e,c),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),a&&this._moveToNextMatch(this._decorations.getStartPosition())},d.prototype._hasMatches=function(){return this._state.matchesCount>0},d.prototype._cannotFind=function(){if(!this._hasMatches()){var a=this._decorations.getFindScope();return a&&this._editor.revealRangeInCenterIfOutsideViewport(a,0),!0}return!1},d.prototype._setCurrentFindMatch=function(a){var b=this._decorations.setCurrentFindMatch(a);this._state.changeMatchInfo(b,this._decorations.getCount(),a),this._editor.setSelection(a),this._editor.revealRangeInCenterIfOutsideViewport(a,0)},d.prototype._prevSearchPosition=function(a){var b=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),c=a.lineNumber,e=a.column,f=this._editor.getModel();return b||e===1?(c===1?c=f.getLineCount():c--,e=f.getLineMaxColumn(c)):e--,new G(c,e)},d.prototype._moveToPrevMatch=function(a,b){b===void 0&&(b=!1);if(this._decorations.getCount()<sh){var c=this._decorations.matchBeforePosition(a);c&&c.isEmpty()&&c.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),c=this._decorations.matchBeforePosition(a)),c&&this._setCurrentFindMatch(c);return}if(this._cannotFind())return;var e=this._decorations.getFindScope(),f=d._getSearchRange(this._editor.getModel(),e);f.getEndPosition().isBefore(a)&&(a=f.getEndPosition()),a.isBefore(f.getStartPosition())&&(a=f.getEndPosition());var g=a.lineNumber,h=a.column,i=this._editor.getModel(),j=new G(g,h),k=i.findPreviousMatch(this._state.searchString,j,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,!1);k&&k.range.isEmpty()&&k.range.getStartPosition().equals(j)&&(j=this._prevSearchPosition(j),k=i.findPreviousMatch(this._state.searchString,j,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,!1));if(!k)return;if(!b&&!f.containsRange(k.range))return this._moveToPrevMatch(k.range.getStartPosition(),!0);this._setCurrentFindMatch(k.range)},d.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},d.prototype._nextSearchPosition=function(a){var b=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),c=a.lineNumber,e=a.column,f=this._editor.getModel();return b||e===f.getLineMaxColumn(c)?(c===f.getLineCount()?c=1:c++,e=1):e++,new G(c,e)},d.prototype._moveToNextMatch=function(a){if(this._decorations.getCount()<sh){var b=this._decorations.matchAfterPosition(a);b&&b.isEmpty()&&b.getStartPosition().equals(a)&&(a=this._nextSearchPosition(a),b=this._decorations.matchAfterPosition(a)),b&&this._setCurrentFindMatch(b);return}var c=this._getNextMatch(a,!1,!0);c&&this._setCurrentFindMatch(c.range)},d.prototype._getNextMatch=function(a,b,c,e){e===void 0&&(e=!1);if(this._cannotFind())return null;var f=this._decorations.getFindScope(),g=d._getSearchRange(this._editor.getModel(),f);g.getEndPosition().isBefore(a)&&(a=g.getStartPosition()),a.isBefore(g.getStartPosition())&&(a=g.getStartPosition());var h=a.lineNumber,i=a.column,j=this._editor.getModel(),k=new G(h,i),l=j.findNextMatch(this._state.searchString,k,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,b);return c&&l&&l.range.isEmpty()&&l.range.getStartPosition().equals(k)&&(k=this._nextSearchPosition(k),l=j.findNextMatch(this._state.searchString,k,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,b)),l?!e&&!g.containsRange(l.range)?this._getNextMatch(l.range.getEndPosition(),b,c,!0):l:null},d.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},d.prototype._getReplacePattern=function(){return this._state.isRegex?MH(this._state.replaceString):fr.fromStaticValue(this._state.replaceString)},d.prototype.replace=function(){if(!this._hasMatches())return;var a=this._getReplacePattern(),b=this._editor.getSelection(),c=this._getNextMatch(b.getStartPosition(),!0,!1);if(c)if(b.equalsRange(c.range)){var e=a.buildReplaceString(c.matches,this._state.preserveCase),f=new Lb(b,e);this._executeEditorCommand("replace",f),this._decorations.setStartPosition(new G(b.startLineNumber,b.startColumn+e.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(c.range)},d.prototype._findMatches=function(a,b,c){var e=d._getSearchRange(this._editor.getModel(),a);return this._editor.getModel().findMatches(this._state.searchString,e,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,b,c)},d.prototype.replaceAll=function(){if(!this._hasMatches())return;var a=this._decorations.getFindScope();a===null&&this._state.matchesCount>=sh?this._largeReplaceAll():this._regularReplaceAll(a),this.research(!1)},d.prototype._largeReplaceAll=function(){var a=new lg(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null),b=a.parseSearchRequest();if(!b)return;var c=b.regex;if(!c.multiline){var e="mu";c.ignoreCase&&(e+="i"),c.global&&(e+="g"),c=new RegExp(c.source,e)}var f=this._editor.getModel(),g=f.getValue(1),h=f.getFullModelRange(),i=this._getReplacePattern(),j,k=this._state.preserveCase;i.hasReplacementPatterns||k?j=g.replace(c,function(){return i.buildReplaceString(arguments,k)}):j=g.replace(c,i.buildReplaceString(null,k));var l=new ih(h,j,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)},d.prototype._regularReplaceAll=function(a){for(var b=this._getReplacePattern(),c=this._findMatches(a,b.hasReplacementPatterns||this._state.preserveCase,1073741824),e=[],f=0,g=c.length;f<g;f++)e[f]=b.buildReplaceString(c[f].matches,this._state.preserveCase);var h=new LH(this._editor.getSelection(),c.map(function(i){return i.range}),e);this._executeEditorCommand("replaceAll",h)},d.prototype.selectAllMatches=function(){if(!this._hasMatches())return;for(var a=this._decorations.getFindScope(),b=this._findMatches(a,!1,1073741824),c=b.map(function(i){return new V(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn)}),e=this._editor.getSelection(),f=0,g=c.length;f<g;f++){var h=c[f];if(h.equalsRange(e)){c=[e].concat(c.slice(0,f)).concat(c.slice(f+1));break}}this._editor.setSelections(c)},d.prototype._executeEditorCommand=function(a,b){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(a,b),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},d}();var QN=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),RN={inputActiveOptionBorder:M.fromHex("#007ACC00"),inputActiveOptionBackground:M.fromHex("#0E639C50")},Fg=function(d){QN(a,d);function a(b){var c=d.call(this)||this;return c._onChange=c._register(new E()),c.onChange=c._onChange.event,c._onKeyDown=c._register(new E()),c.onKeyDown=c._onKeyDown.event,c._opts=jd(b),Pb(c._opts,RN,!1),c._checked=c._opts.isChecked,c.domNode=document.createElement("div"),c.domNode.title=c._opts.title,c.domNode.className="monaco-custom-checkbox codicon "+(c._opts.actionClassName||"")+" "+(c._checked?"checked":"unchecked"),c.domNode.tabIndex=0,c.domNode.setAttribute("role","checkbox"),c.domNode.setAttribute("aria-checked",String(c._checked)),c.domNode.setAttribute("aria-label",c._opts.title),c.applyStyles(),c.onclick(c.domNode,function(e){c.checked=!c._checked,c._onChange.fire(!1),e.preventDefault()}),c.ignoreGesture(c.domNode),c.onkeydown(c.domNode,function(e){if(e.keyCode===10||e.keyCode===3){c.checked=!c._checked,c._onChange.fire(!0),e.preventDefault();return}c._onKeyDown.fire(e)}),c}return Object.defineProperty(a.prototype,"enabled",{get:function(){return this.domNode.getAttribute("aria-disabled")!=="true"},enumerable:!0,configurable:!0}),a.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(a.prototype,"checked",{get:function(){return this._checked},set:function(b){this._checked=b,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()},enumerable:!0,configurable:!0}),a.prototype.width=function(){return 2+2+2+16},a.prototype.style=function(b){b.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=b.inputActiveOptionBorder),b.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=b.inputActiveOptionBackground),this.applyStyles()},a.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")},a.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},a.prototype.disable=function(){$i(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},a}(Hb);var Xs=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),WN=s("caseDescription","Match Case"),XN=s("wordsDescription","Match Whole Word"),YN=s("regexDescription","Use Regular Expression"),Xn=function(d){Xs(a,d);function a(b){return d.call(this,{actionClassName:"codicon-case-sensitive",title:WN+b.appendTitle,isChecked:b.isChecked,inputActiveOptionBorder:b.inputActiveOptionBorder,inputActiveOptionBackground:b.inputActiveOptionBackground})||this}return a}(Fg),Yn=function(d){Xs(a,d);function a(b){return d.call(this,{actionClassName:"codicon-whole-word",title:XN+b.appendTitle,isChecked:b.isChecked,inputActiveOptionBorder:b.inputActiveOptionBorder,inputActiveOptionBackground:b.inputActiveOptionBackground})||this}return a}(Fg),Zn=function(d){Xs(a,d);function a(b){return d.call(this,{actionClassName:"codicon-regex",title:YN+b.appendTitle,isChecked:b.isChecked,inputActiveOptionBorder:b.inputActiveOptionBorder,inputActiveOptionBackground:b.inputActiveOptionBackground})||this}return a}(Fg);var dZ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),FH=function(d){dZ(a,d);function a(b,c,e,f){var g=d.call(this)||this;g._hideSoon=g._register(new Ka(function(){return g._hide()},2e3)),g._isVisible=!1,g._editor=b,g._state=c,g._keybindingService=e,g._domNode=document.createElement("div"),g._domNode.className="findOptionsWidget",g._domNode.style.display="none",g._domNode.style.top="10px",g._domNode.setAttribute("role","presentation"),g._domNode.setAttribute("aria-hidden","true");var h=f.getTheme().getColor(Xm),i=f.getTheme().getColor(Ym);return g.caseSensitive=g._register(new Xn({appendTitle:g._keybindingLabelFor(Sa.ToggleCaseSensitiveCommand),isChecked:g._state.matchCase,inputActiveOptionBorder:h,inputActiveOptionBackground:i})),g._domNode.appendChild(g.caseSensitive.domNode),g._register(g.caseSensitive.onChange(function(){g._state.change({matchCase:g.caseSensitive.checked},!1)})),g.wholeWords=g._register(new Yn({appendTitle:g._keybindingLabelFor(Sa.ToggleWholeWordCommand),isChecked:g._state.wholeWord,inputActiveOptionBorder:h,inputActiveOptionBackground:i})),g._domNode.appendChild(g.wholeWords.domNode),g._register(g.wholeWords.onChange(function(){g._state.change({wholeWord:g.wholeWords.checked},!1)})),g.regex=g._register(new Zn({appendTitle:g._keybindingLabelFor(Sa.ToggleRegexCommand),isChecked:g._state.isRegex,inputActiveOptionBorder:h,inputActiveOptionBackground:i})),g._domNode.appendChild(g.regex.domNode),g._register(g.regex.onChange(function(){g._state.change({isRegex:g.regex.checked},!1)})),g._editor.addOverlayWidget(g),g._register(g._state.onFindReplaceStateChange(function(j){var k=!1;j.isRegex&&(g.regex.checked=g._state.isRegex,k=!0),j.wholeWord&&(g.wholeWords.checked=g._state.wholeWord,k=!0),j.matchCase&&(g.caseSensitive.checked=g._state.matchCase,k=!0),!g._state.isRevealed&&k&&g._revealTemporarily()})),g._register(Xi(g._domNode,function(j){return g._onMouseOut()})),g._register(R(g._domNode,"mouseover",function(j){return g._onMouseOver()})),g._applyTheme(f.getTheme()),g._register(f.onThemeChange(g._applyTheme.bind(g))),g}return a.prototype._keybindingLabelFor=function(b){var c=this._keybindingService.lookupKeybinding(b);return c?" ("+c.getLabel()+")":""},a.prototype.dispose=function(){this._editor.removeOverlayWidget(this),d.prototype.dispose.call(this)},a.prototype.getId=function(){return a.ID},a.prototype.getDomNode=function(){return this._domNode},a.prototype.getPosition=function(){return{preference:0}},a.prototype.highlightFindOptions=function(){this._revealTemporarily()},a.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},a.prototype._onMouseOut=function(){this._hideSoon.schedule()},a.prototype._onMouseOver=function(){this._hideSoon.cancel()},a.prototype._show=function(){if(this._isVisible)return;this._isVisible=!0,this._domNode.style.display="block"},a.prototype._hide=function(){if(!this._isVisible)return;this._isVisible=!1,this._domNode.style.display="none"},a.prototype._applyTheme=function(b){var c={inputActiveOptionBorder:b.getColor(Xm),inputActiveOptionBackground:b.getColor(Ym)};this.caseSensitive.style(c),this.wholeWords.style(c),this.regex.style(c)},a.ID="editor.contrib.findOptionsWidget",a}(Hb);la(function(d,a){var b=d.getColor(cd);b&&a.addRule(".monaco-editor .findOptionsWidget { background-color: "+b+"; }");var c=d.getColor(sg);c&&a.addRule(".monaco-editor .findOptionsWidget { color: "+c+"; }");var e=d.getColor(re);e&&a.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+e+"; }");var f=d.getColor(Fb);f&&a.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+f+"; }")});var eZ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function gr(d,a){return d===1?!0:d===2?!1:a}var GH=function(d){eZ(a,d);function a(){var b=d.call(this)||this;return b._onFindReplaceStateChange=b._register(new E()),b.onFindReplaceStateChange=b._onFindReplaceStateChange.event,b._searchString="",b._replaceString="",b._isRevealed=!1,b._isReplaceRevealed=!1,b._isRegex=!1,b._isRegexOverride=0,b._wholeWord=!1,b._wholeWordOverride=0,b._matchCase=!1,b._matchCaseOverride=0,b._preserveCase=!1,b._preserveCaseOverride=0,b._searchScope=null,b._matchesPosition=0,b._matchesCount=0,b._currentMatch=null,b}return Object.defineProperty(a.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isRegex",{get:function(){return gr(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"wholeWord",{get:function(){return gr(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"matchCase",{get:function(){return gr(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"preserveCase",{get:function(){return gr(this._preserveCaseOverride,this._preserveCase)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),a.prototype.changeMatchInfo=function(b,c,e){var f={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},g=!1;c===0&&(b=0),b>c&&(b=c),this._matchesPosition!==b&&(this._matchesPosition=b,f.matchesPosition=!0,g=!0),this._matchesCount!==c&&(this._matchesCount=c,f.matchesCount=!0,g=!0),typeof e!=="undefined"&&(z.equalsRange(this._currentMatch,e)||(this._currentMatch=e,f.currentMatch=!0,g=!0)),g&&this._onFindReplaceStateChange.fire(f)},a.prototype.change=function(b,c,e){e===void 0&&(e=!0);var f={moveCursor:c,updateHistory:e,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},g=!1,h=this.isRegex,i=this.wholeWord,j=this.matchCase,k=this.preserveCase;typeof b.searchString!=="undefined"&&(this._searchString!==b.searchString&&(this._searchString=b.searchString,f.searchString=!0,g=!0)),typeof b.replaceString!=="undefined"&&(this._replaceString!==b.replaceString&&(this._replaceString=b.replaceString,f.replaceString=!0,g=!0)),typeof b.isRevealed!=="undefined"&&(this._isRevealed!==b.isRevealed&&(this._isRevealed=b.isRevealed,f.isRevealed=!0,g=!0)),typeof b.isReplaceRevealed!=="undefined"&&(this._isReplaceRevealed!==b.isReplaceRevealed&&(this._isReplaceRevealed=b.isReplaceRevealed,f.isReplaceRevealed=!0,g=!0)),typeof b.isRegex!=="undefined"&&(this._isRegex=b.isRegex),typeof b.wholeWord!=="undefined"&&(this._wholeWord=b.wholeWord),typeof b.matchCase!=="undefined"&&(this._matchCase=b.matchCase),typeof b.preserveCase!=="undefined"&&(this._preserveCase=b.preserveCase),typeof b.searchScope!=="undefined"&&(z.equalsRange(this._searchScope,b.searchScope)||(this._searchScope=b.searchScope,f.searchScope=!0,g=!0)),this._isRegexOverride=typeof b.isRegexOverride!=="undefined"?b.isRegexOverride:0,this._wholeWordOverride=typeof b.wholeWordOverride!=="undefined"?b.wholeWordOverride:0,this._matchCaseOverride=typeof b.matchCaseOverride!=="undefined"?b.matchCaseOverride:0,this._preserveCaseOverride=typeof b.preserveCaseOverride!=="undefined"?b.preserveCaseOverride:0,h!==this.isRegex&&(g=!0,f.isRegex=!0),i!==this.wholeWord&&(g=!0,f.wholeWord=!0),j!==this.matchCase&&(g=!0,f.matchCase=!0),k!==this.preserveCase&&(g=!0,f.preserveCase=!0),g&&this._onFindReplaceStateChange.fire(f)},a}(I);function Ry(d,a){a===void 0&&(a={});var b=Pn(a);return b.textContent=d,b}function On(d,a){a===void 0&&(a={});var b=Pn(a);return Sy(b,EN(d),a.actionHandler),b}function Pn(d){var a=d.inline?"span":"div",b=document.createElement(a);return d.className&&(b.className=d.className),b}var DN=function(){function d(a){this.source=a,this.index=0}return d.prototype.eos=function(){return this.index>=this.source.length},d.prototype.next=function(){var a=this.peek();return this.advance(),a},d.prototype.peek=function(){return this.source[this.index]},d.prototype.advance=function(){this.index++},d}();function Sy(d,a,b){var c;if(a.type===2)c=document.createTextNode(a.content||"");else if(a.type===3)c=document.createElement("b");else if(a.type===4)c=document.createElement("i");else if(a.type===5&&b){var e=document.createElement("a");e.href="#",b.disposeables.add(Ua(e,"click",function(f){b.callback(String(a.index),f)})),c=e}else a.type===7?c=document.createElement("br"):a.type===1&&(c=d);c&&d!==c&&d.appendChild(c),c&&Array.isArray(a.children)&&a.children.forEach(function(f){Sy(c,f,b)})}function EN(d){for(var a={type:1,children:[]},b=0,c=a,e=[],f=new DN(d);!f.eos();){var g=f.next(),h=g==="\\"&&Ts(f.peek())!==0;h&&(g=f.next());if(!h&&FN(g)&&g===f.peek()){f.advance(),c.type===2&&(c=e.pop());var i=Ts(g);if(c.type===i||c.type===5&&i===6)c=e.pop();else{var j={type:i,children:[]};i===5&&(j.index=b,b++),c.children.push(j),e.push(c),c=j}}else if(g===`
`)c.type===2&&(c=e.pop()),c.children.push({type:7});else if(c.type!==2){var k={type:2,content:g};c.children.push(k),e.push(c),c=k}else c.content+=g}return c.type===2&&(c=e.pop()),e.length,a}function FN(d){return Ts(d)!==0}function Ts(d){switch(d){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}var kz=function(){function d(a,b){a===void 0&&(a=[]),b===void 0&&(b=10),this._initialize(a),this._limit=b,this._onChange()}return d.prototype.add=function(a){this._history.delete(a),this._history.add(a),this._onChange()},d.prototype.next=function(){return this._navigator.next()},d.prototype.previous=function(){return this._navigator.previous()},d.prototype.current=function(){return this._navigator.current()},d.prototype.parent=function(){return null},d.prototype.first=function(){return this._navigator.first()},d.prototype.last=function(){return this._navigator.last()},d.prototype.has=function(a){return this._history.has(a)},d.prototype._onChange=function(){this._reduceToLimit();var a=this._elements;this._navigator=new KA(a,0,a.length,a.length)},d.prototype._reduceToLimit=function(){var a=this._elements;a.length>this._limit&&this._initialize(a.slice(a.length-this._limit))},d.prototype._initialize=function(a){this._history=new Set();for(var b=0,c=a;b<c.length;b++){var e=c[b];this._history.add(e)}},Object.defineProperty(d.prototype,"_elements",{get:function(){var a=[];return this._history.forEach(function(b){return a.push(b)}),a},enumerable:!0,configurable:!0}),d}();var jz=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),jl=X,eO={inputBackground:M.fromHex("#3C3C3C"),inputForeground:M.fromHex("#CCCCCC"),inputValidationInfoBorder:M.fromHex("#55AAFF"),inputValidationInfoBackground:M.fromHex("#063B49"),inputValidationWarningBorder:M.fromHex("#B89500"),inputValidationWarningBackground:M.fromHex("#352A05"),inputValidationErrorBorder:M.fromHex("#BE1100"),inputValidationErrorBackground:M.fromHex("#5A1D1D")},Zs=function(d){jz(a,d);function a(b,c,e){var f=d.call(this)||this;f.state="idle",f.maxHeight=Number.POSITIVE_INFINITY,f._onDidChange=f._register(new E()),f.onDidChange=f._onDidChange.event,f._onDidHeightChange=f._register(new E()),f.onDidHeightChange=f._onDidHeightChange.event,f.contextViewProvider=c,f.options=e||Object.create(null),Pb(f.options,eO,!1),f.message=null,f.placeholder=f.options.placeholder||"",f.ariaLabel=f.options.ariaLabel||"",f.inputBackground=f.options.inputBackground,f.inputForeground=f.options.inputForeground,f.inputBorder=f.options.inputBorder,f.inputValidationInfoBorder=f.options.inputValidationInfoBorder,f.inputValidationInfoBackground=f.options.inputValidationInfoBackground,f.inputValidationInfoForeground=f.options.inputValidationInfoForeground,f.inputValidationWarningBorder=f.options.inputValidationWarningBorder,f.inputValidationWarningBackground=f.options.inputValidationWarningBackground,f.inputValidationWarningForeground=f.options.inputValidationWarningForeground,f.inputValidationErrorBorder=f.options.inputValidationErrorBorder,f.inputValidationErrorBackground=f.options.inputValidationErrorBackground,f.inputValidationErrorForeground=f.options.inputValidationErrorForeground,f.options.validationOptions&&(f.validation=f.options.validationOptions.validation),f.element=S(b,jl(".monaco-inputbox.idle"));var g=f.options.flexibleHeight?"textarea":"input",h=S(f.element,jl(".wrapper"));f.input=S(h,jl(g+".input.empty")),f.input.setAttribute("autocorrect","off"),f.input.setAttribute("autocapitalize","off"),f.input.setAttribute("spellcheck","false"),f.onfocus(f.input,function(){return U(f.element,"synthetic-focus")}),f.onblur(f.input,function(){return fa(f.element,"synthetic-focus")});if(f.options.flexibleHeight){f.maxHeight=typeof f.options.flexibleMaxHeight==="number"?f.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,f.mirror=S(h,jl("div.mirror")),f.mirror.innerHTML="&#160;",f.scrollableElement=new Of(f.element,{vertical:1}),f.options.flexibleWidth&&(f.input.setAttribute("wrap","off"),f.mirror.style.whiteSpace="pre",f.mirror.style.wordWrap="initial"),S(b,f.scrollableElement.getDomNode()),f._register(f.scrollableElement),f._register(f.scrollableElement.onScroll(function(j){return f.input.scrollTop=j.scrollTop}));var i=da.filter(ua(document,"selectionchange"),function(){var j=document.getSelection();return(j===null||j===void 0?void 0:j.anchorNode)===h});f._register(i(f.updateScrollDimensions,f)),f._register(f.onDidHeightChange(f.updateScrollDimensions,f))}else f.input.type=f.options.type||"text",f.input.setAttribute("wrap","off");return f.ariaLabel&&f.input.setAttribute("aria-label",f.ariaLabel),f.placeholder&&f.setPlaceHolder(f.placeholder),f.oninput(f.input,function(){return f.onValueChange()}),f.onblur(f.input,function(){return f.onBlur()}),f.onfocus(f.input,function(){return f.onFocus()}),f.placeholder&&xb&&f.onclick(f.input,function(j){Ma.stop(j,!0),f.input.focus()}),f.ignoreGesture(f.input),setTimeout(function(){return f.updateMirror()},0),f.options.actions&&(f.actionbar=f._register(new bf(f.element)),f.actionbar.push(f.options.actions,{icon:!0,label:!1})),f.applyStyles(),f}return a.prototype.onBlur=function(){this._hideMessage()},a.prototype.onFocus=function(){this._showMessage()},a.prototype.setPlaceHolder=function(b){this.placeholder=b,this.input.setAttribute("placeholder",b),this.input.title=b},a.prototype.setAriaLabel=function(b){this.ariaLabel=b,b?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")},Object.defineProperty(a.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.input.value},set:function(b){this.input.value!==b&&(this.input.value=b,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return typeof this.cachedHeight==="number"?this.cachedHeight:cl(this.element)},enumerable:!0,configurable:!0}),a.prototype.focus=function(){this.input.focus()},a.prototype.blur=function(){this.input.blur()},a.prototype.hasFocus=function(){return document.activeElement===this.input},a.prototype.select=function(b){b===void 0&&(b=null),this.input.select(),b&&this.input.setSelectionRange(b.start,b.end)},a.prototype.enable=function(){this.input.removeAttribute("disabled")},a.prototype.disable=function(){this.blur(),this.input.disabled=!0,this._hideMessage()},Object.defineProperty(a.prototype,"width",{get:function(){return hd(this.input)},set:function(b){if(this.options.flexibleHeight&&this.options.flexibleWidth){var c=0;if(this.mirror){var e=parseFloat(this.mirror.style.paddingLeft||"")||0,f=parseFloat(this.mirror.style.paddingRight||"")||0;c=e+f}this.input.style.width=b-c+"px"}else this.input.style.width=b+"px";this.mirror&&(this.mirror.style.width=b+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paddingRight",{set:function(b){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width="calc(100% - "+b+"px)":this.input.style.paddingRight=b+"px",this.mirror&&(this.mirror.style.paddingRight=b+"px")},enumerable:!0,configurable:!0}),a.prototype.updateScrollDimensions=function(){if(typeof this.cachedContentHeight!=="number"||typeof this.cachedHeight!=="number"||!this.scrollableElement)return;var b=this.cachedContentHeight,c=this.cachedHeight,e=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:b,height:c}),this.scrollableElement.setScrollPosition({scrollTop:e})},a.prototype.showMessage=function(b,c){this.message=b,fa(this.element,"idle"),fa(this.element,"info"),fa(this.element,"warning"),fa(this.element,"error"),U(this.element,this.classForType(b.type));var e=this.stylesForType(this.message.type);this.element.style.border=e.border?"1px solid "+e.border:"";var f;b.type===3?f=s("alertErrorMessage","Error: {0}",b.content):b.type===2?f=s("alertWarningMessage","Warning: {0}",b.content):f=s("alertInfoMessage","Info: {0}",b.content),Gb(f),(this.hasFocus()||c)&&this._showMessage()},a.prototype.hideMessage=function(){this.message=null,fa(this.element,"info"),fa(this.element,"warning"),fa(this.element,"error"),U(this.element,"idle"),this._hideMessage(),this.applyStyles()},a.prototype.validate=function(){var b=null;return this.validation&&(b=this.validation(this.value),b?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(b)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!b},a.prototype.stylesForType=function(b){switch(b){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}},a.prototype.classForType=function(b){switch(b){case 1:return"info";case 2:return"warning";default:return"error"}},a.prototype._showMessage=function(){var b=this;if(!this.contextViewProvider||!this.message)return;var c,e=function(){return c.style.width=hd(b.element)+"px"};this.contextViewProvider.showContextView({getAnchor:function(){return b.element},anchorAlignment:1,render:function(f){if(!b.message)return null;c=S(f,jl(".monaco-inputbox-container")),e();var g={inline:!0,className:"monaco-inputbox-message"},h=b.message.formatContent?On(b.message.content,g):Ry(b.message.content,g);U(h,b.classForType(b.message.type));var i=b.stylesForType(b.message.type);return h.style.backgroundColor=i.background?i.background.toString():"",h.style.color=i.foreground?i.foreground.toString():"",h.style.border=i.border?"1px solid "+i.border:"",S(c,h),null},onHide:function(){b.state="closed"},layout:e}),this.state="open"},a.prototype._hideMessage=function(){if(!this.contextViewProvider)return;this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle"},a.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),qa(this.input,"empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()},a.prototype.updateMirror=function(){if(!this.mirror)return;var b=this.value,c=b.charCodeAt(b.length-1),e=c===10?" ":"",f=b+e;f?this.mirror.textContent=b+e:this.mirror.innerHTML="&#160;",this.layout()},a.prototype.style=function(b){this.inputBackground=b.inputBackground,this.inputForeground=b.inputForeground,this.inputBorder=b.inputBorder,this.inputValidationInfoBackground=b.inputValidationInfoBackground,this.inputValidationInfoForeground=b.inputValidationInfoForeground,this.inputValidationInfoBorder=b.inputValidationInfoBorder,this.inputValidationWarningBackground=b.inputValidationWarningBackground,this.inputValidationWarningForeground=b.inputValidationWarningForeground,this.inputValidationWarningBorder=b.inputValidationWarningBorder,this.inputValidationErrorBackground=b.inputValidationErrorBackground,this.inputValidationErrorForeground=b.inputValidationErrorForeground,this.inputValidationErrorBorder=b.inputValidationErrorBorder,this.applyStyles()},a.prototype.applyStyles=function(){var b=this.inputBackground?this.inputBackground.toString():"",c=this.inputForeground?this.inputForeground.toString():"",e=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=b,this.element.style.color=c,this.input.style.backgroundColor=b,this.input.style.color=c,this.element.style.borderWidth=e?"1px":"",this.element.style.borderStyle=e?"solid":"",this.element.style.borderColor=e},a.prototype.layout=function(){if(!this.mirror)return;var b=this.cachedContentHeight;this.cachedContentHeight=cl(this.mirror),b!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))},a.prototype.insertAtCursor=function(b){var c=this.inputElement,e=c.selectionStart,f=c.selectionEnd,g=c.value;e!==null&&f!==null&&(this.value=g.substr(0,e)+b+g.substr(f),c.setSelectionRange(e+1,e+1),this.layout())},a.prototype.dispose=function(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),d.prototype.dispose.call(this)},a}(Hb),Wn=function(d){jz(a,d);function a(b,c,e){var f=d.call(this,b,c,e)||this;return f.history=new kz(e.history,100),f}return a.prototype.addToHistory=function(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)},a.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var b=this.getNextValue();b&&(b=b===this.value?this.getNextValue():b),b&&(this.value=b,Ws(this.value))},a.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var b=this.getPreviousValue();b&&(b=b===this.value?this.getPreviousValue():b),b&&(this.value=b,Ws(this.value))},a.prototype.getCurrentValue=function(){var b=this.history.current();return b||(b=this.history.last(),this.history.next()),b},a.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()},a.prototype.getNextValue=function(){return this.history.next()||this.history.last()},a}(Zs);var UN=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),VN=s("defaultLabel","input"),gz=function(d){UN(a,d);function a(b,c,e,f){var g=d.call(this)||this;g._showOptionButtons=e,g.fixFocusOnOptionClickEnabled=!0,g._onDidOptionChange=g._register(new E()),g.onDidOptionChange=g._onDidOptionChange.event,g._onKeyDown=g._register(new E()),g.onKeyDown=g._onKeyDown.event,g._onMouseDown=g._register(new E()),g.onMouseDown=g._onMouseDown.event,g._onInput=g._register(new E()),g._onKeyUp=g._register(new E()),g._onCaseSensitiveKeyDown=g._register(new E()),g.onCaseSensitiveKeyDown=g._onCaseSensitiveKeyDown.event,g._onRegexKeyDown=g._register(new E()),g.onRegexKeyDown=g._onRegexKeyDown.event,g._lastHighlightFindOptions=0,g.contextViewProvider=c,g.placeholder=f.placeholder||"",g.validation=f.validation,g.label=f.label||VN,g.inputActiveOptionBorder=f.inputActiveOptionBorder,g.inputActiveOptionBackground=f.inputActiveOptionBackground,g.inputBackground=f.inputBackground,g.inputForeground=f.inputForeground,g.inputBorder=f.inputBorder,g.inputValidationInfoBorder=f.inputValidationInfoBorder,g.inputValidationInfoBackground=f.inputValidationInfoBackground,g.inputValidationInfoForeground=f.inputValidationInfoForeground,g.inputValidationWarningBorder=f.inputValidationWarningBorder,g.inputValidationWarningBackground=f.inputValidationWarningBackground,g.inputValidationWarningForeground=f.inputValidationWarningForeground,g.inputValidationErrorBorder=f.inputValidationErrorBorder,g.inputValidationErrorBackground=f.inputValidationErrorBackground,g.inputValidationErrorForeground=f.inputValidationErrorForeground;var h=f.appendCaseSensitiveLabel||"",i=f.appendWholeWordsLabel||"",j=f.appendRegexLabel||"",k=f.history||[],l=!!f.flexibleHeight,m=!!f.flexibleWidth,n=f.flexibleMaxHeight;g.domNode=document.createElement("div"),U(g.domNode,"monaco-findInput"),g.inputBox=g._register(new Wn(g.domNode,g.contextViewProvider,{placeholder:g.placeholder||"",ariaLabel:g.label||"",validationOptions:{validation:g.validation},inputBackground:g.inputBackground,inputForeground:g.inputForeground,inputBorder:g.inputBorder,inputValidationInfoBackground:g.inputValidationInfoBackground,inputValidationInfoForeground:g.inputValidationInfoForeground,inputValidationInfoBorder:g.inputValidationInfoBorder,inputValidationWarningBackground:g.inputValidationWarningBackground,inputValidationWarningForeground:g.inputValidationWarningForeground,inputValidationWarningBorder:g.inputValidationWarningBorder,inputValidationErrorBackground:g.inputValidationErrorBackground,inputValidationErrorForeground:g.inputValidationErrorForeground,inputValidationErrorBorder:g.inputValidationErrorBorder,history:k,flexibleHeight:l,flexibleWidth:m,flexibleMaxHeight:n})),g.regex=g._register(new Zn({appendTitle:j,isChecked:!1,inputActiveOptionBorder:g.inputActiveOptionBorder,inputActiveOptionBackground:g.inputActiveOptionBackground})),g._register(g.regex.onChange(function(q){g._onDidOptionChange.fire(q),!q&&g.fixFocusOnOptionClickEnabled&&g.inputBox.focus(),g.validate()})),g._register(g.regex.onKeyDown(function(q){g._onRegexKeyDown.fire(q)})),g.wholeWords=g._register(new Yn({appendTitle:i,isChecked:!1,inputActiveOptionBorder:g.inputActiveOptionBorder,inputActiveOptionBackground:g.inputActiveOptionBackground})),g._register(g.wholeWords.onChange(function(q){g._onDidOptionChange.fire(q),!q&&g.fixFocusOnOptionClickEnabled&&g.inputBox.focus(),g.validate()})),g.caseSensitive=g._register(new Xn({appendTitle:h,isChecked:!1,inputActiveOptionBorder:g.inputActiveOptionBorder,inputActiveOptionBackground:g.inputActiveOptionBackground})),g._register(g.caseSensitive.onChange(function(q){g._onDidOptionChange.fire(q),!q&&g.fixFocusOnOptionClickEnabled&&g.inputBox.focus(),g.validate()})),g._register(g.caseSensitive.onKeyDown(function(q){g._onCaseSensitiveKeyDown.fire(q)})),g._showOptionButtons&&(g.inputBox.paddingRight=g.caseSensitive.width()+g.wholeWords.width()+g.regex.width());var o=[g.caseSensitive.domNode,g.wholeWords.domNode,g.regex.domNode];g.onkeydown(g.domNode,function(q){if(q.equals(15)||q.equals(17)||q.equals(9)){var r=o.indexOf(document.activeElement);if(r>=0){var t=-1;q.equals(17)?t=(r+1)%o.length:q.equals(15)&&(r===0?t=o.length-1:t=r-1),q.equals(9)?o[r].blur():t>=0&&o[t].focus(),Ma.stop(q,!0)}}});var p=document.createElement("div");return p.className="controls",p.style.display=g._showOptionButtons?"block":"none",p.appendChild(g.caseSensitive.domNode),p.appendChild(g.wholeWords.domNode),p.appendChild(g.regex.domNode),g.domNode.appendChild(p),b&&b.appendChild(g.domNode),g.onkeydown(g.inputBox.inputElement,function(q){return g._onKeyDown.fire(q)}),g.onkeyup(g.inputBox.inputElement,function(q){return g._onKeyUp.fire(q)}),g.oninput(g.inputBox.inputElement,function(q){return g._onInput.fire()}),g.onmousedown(g.inputBox.inputElement,function(q){return g._onMouseDown.fire(q)}),g}return a.prototype.enable=function(){fa(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},a.prototype.disable=function(){U(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},a.prototype.setFocusInputOnOptionClick=function(b){this.fixFocusOnOptionClickEnabled=b},a.prototype.setEnabled=function(b){b?this.enable():this.disable()},a.prototype.getValue=function(){return this.inputBox.value},a.prototype.setValue=function(b){this.inputBox.value!==b&&(this.inputBox.value=b)},a.prototype.style=function(b){this.inputActiveOptionBorder=b.inputActiveOptionBorder,this.inputActiveOptionBackground=b.inputActiveOptionBackground,this.inputBackground=b.inputBackground,this.inputForeground=b.inputForeground,this.inputBorder=b.inputBorder,this.inputValidationInfoBackground=b.inputValidationInfoBackground,this.inputValidationInfoForeground=b.inputValidationInfoForeground,this.inputValidationInfoBorder=b.inputValidationInfoBorder,this.inputValidationWarningBackground=b.inputValidationWarningBackground,this.inputValidationWarningForeground=b.inputValidationWarningForeground,this.inputValidationWarningBorder=b.inputValidationWarningBorder,this.inputValidationErrorBackground=b.inputValidationErrorBackground,this.inputValidationErrorForeground=b.inputValidationErrorForeground,this.inputValidationErrorBorder=b.inputValidationErrorBorder,this.applyStyles()},a.prototype.applyStyles=function(){if(this.domNode){var b={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(b),this.wholeWords.style(b),this.caseSensitive.style(b);var c={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(c)}},a.prototype.select=function(){this.inputBox.select()},a.prototype.focus=function(){this.inputBox.focus()},a.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},a.prototype.setCaseSensitive=function(b){this.caseSensitive.checked=b},a.prototype.getWholeWords=function(){return this.wholeWords.checked},a.prototype.setWholeWords=function(b){this.wholeWords.checked=b},a.prototype.getRegex=function(){return this.regex.checked},a.prototype.setRegex=function(b){this.regex.checked=b,this.validate()},a.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},a.prototype.highlightFindOptions=function(){fa(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,U(this.domNode,"highlight-"+this._lastHighlightFindOptions)},a.prototype.validate=function(){this.inputBox.validate()},a.prototype.clearMessage=function(){this.inputBox.hideMessage()},a}(Hb);var hz=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),ZN=s("defaultLabel","input"),_N=s("label.preserveCaseCheckbox","Preserve Case"),$N=function(d){hz(a,d);function a(b){return d.call(this,{actionClassName:"codicon-preserve-case",title:_N+b.appendTitle,isChecked:b.isChecked,inputActiveOptionBorder:b.inputActiveOptionBorder,inputActiveOptionBackground:b.inputActiveOptionBackground})||this}return a}(Fg),iz=function(d){hz(a,d);function a(b,c,e,f){var g=d.call(this)||this;g._showOptionButtons=e,g.fixFocusOnOptionClickEnabled=!0,g.cachedOptionsWidth=0,g._onDidOptionChange=g._register(new E()),g.onDidOptionChange=g._onDidOptionChange.event,g._onKeyDown=g._register(new E()),g.onKeyDown=g._onKeyDown.event,g._onMouseDown=g._register(new E()),g._onInput=g._register(new E()),g._onKeyUp=g._register(new E()),g._onPreserveCaseKeyDown=g._register(new E()),g.onPreserveCaseKeyDown=g._onPreserveCaseKeyDown.event,g.contextViewProvider=c,g.placeholder=f.placeholder||"",g.validation=f.validation,g.label=f.label||ZN,g.inputActiveOptionBorder=f.inputActiveOptionBorder,g.inputActiveOptionBackground=f.inputActiveOptionBackground,g.inputBackground=f.inputBackground,g.inputForeground=f.inputForeground,g.inputBorder=f.inputBorder,g.inputValidationInfoBorder=f.inputValidationInfoBorder,g.inputValidationInfoBackground=f.inputValidationInfoBackground,g.inputValidationInfoForeground=f.inputValidationInfoForeground,g.inputValidationWarningBorder=f.inputValidationWarningBorder,g.inputValidationWarningBackground=f.inputValidationWarningBackground,g.inputValidationWarningForeground=f.inputValidationWarningForeground,g.inputValidationErrorBorder=f.inputValidationErrorBorder,g.inputValidationErrorBackground=f.inputValidationErrorBackground,g.inputValidationErrorForeground=f.inputValidationErrorForeground;var h=f.history||[],i=!!f.flexibleHeight,j=!!f.flexibleWidth,k=f.flexibleMaxHeight;g.domNode=document.createElement("div"),U(g.domNode,"monaco-findInput"),g.inputBox=g._register(new Wn(g.domNode,g.contextViewProvider,{ariaLabel:g.label||"",placeholder:g.placeholder||"",validationOptions:{validation:g.validation},inputBackground:g.inputBackground,inputForeground:g.inputForeground,inputBorder:g.inputBorder,inputValidationInfoBackground:g.inputValidationInfoBackground,inputValidationInfoForeground:g.inputValidationInfoForeground,inputValidationInfoBorder:g.inputValidationInfoBorder,inputValidationWarningBackground:g.inputValidationWarningBackground,inputValidationWarningForeground:g.inputValidationWarningForeground,inputValidationWarningBorder:g.inputValidationWarningBorder,inputValidationErrorBackground:g.inputValidationErrorBackground,inputValidationErrorForeground:g.inputValidationErrorForeground,inputValidationErrorBorder:g.inputValidationErrorBorder,history:h,flexibleHeight:i,flexibleWidth:j,flexibleMaxHeight:k})),g.preserveCase=g._register(new $N({appendTitle:"",isChecked:!1,inputActiveOptionBorder:g.inputActiveOptionBorder,inputActiveOptionBackground:g.inputActiveOptionBackground})),g._register(g.preserveCase.onChange(function(n){g._onDidOptionChange.fire(n),!n&&g.fixFocusOnOptionClickEnabled&&g.inputBox.focus(),g.validate()})),g._register(g.preserveCase.onKeyDown(function(n){g._onPreserveCaseKeyDown.fire(n)})),g._showOptionButtons?g.cachedOptionsWidth=g.preserveCase.width():g.cachedOptionsWidth=0;var l=[g.preserveCase.domNode];g.onkeydown(g.domNode,function(n){if(n.equals(15)||n.equals(17)||n.equals(9)){var o=l.indexOf(document.activeElement);if(o>=0){var p=-1;n.equals(17)?p=(o+1)%l.length:n.equals(15)&&(o===0?p=l.length-1:p=o-1),n.equals(9)?l[o].blur():p>=0&&l[p].focus(),Ma.stop(n,!0)}}});var m=document.createElement("div");return m.className="controls",m.style.display=g._showOptionButtons?"block":"none",m.appendChild(g.preserveCase.domNode),g.domNode.appendChild(m),b&&b.appendChild(g.domNode),g.onkeydown(g.inputBox.inputElement,function(n){return g._onKeyDown.fire(n)}),g.onkeyup(g.inputBox.inputElement,function(n){return g._onKeyUp.fire(n)}),g.oninput(g.inputBox.inputElement,function(n){return g._onInput.fire()}),g.onmousedown(g.inputBox.inputElement,function(n){return g._onMouseDown.fire(n)}),g}return a.prototype.enable=function(){fa(this.domNode,"disabled"),this.inputBox.enable(),this.preserveCase.enable()},a.prototype.disable=function(){U(this.domNode,"disabled"),this.inputBox.disable(),this.preserveCase.disable()},a.prototype.setEnabled=function(b){b?this.enable():this.disable()},a.prototype.style=function(b){this.inputActiveOptionBorder=b.inputActiveOptionBorder,this.inputActiveOptionBackground=b.inputActiveOptionBackground,this.inputBackground=b.inputBackground,this.inputForeground=b.inputForeground,this.inputBorder=b.inputBorder,this.inputValidationInfoBackground=b.inputValidationInfoBackground,this.inputValidationInfoForeground=b.inputValidationInfoForeground,this.inputValidationInfoBorder=b.inputValidationInfoBorder,this.inputValidationWarningBackground=b.inputValidationWarningBackground,this.inputValidationWarningForeground=b.inputValidationWarningForeground,this.inputValidationWarningBorder=b.inputValidationWarningBorder,this.inputValidationErrorBackground=b.inputValidationErrorBackground,this.inputValidationErrorForeground=b.inputValidationErrorForeground,this.inputValidationErrorBorder=b.inputValidationErrorBorder,this.applyStyles()},a.prototype.applyStyles=function(){if(this.domNode){var b={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(b);var c={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(c)}},a.prototype.select=function(){this.inputBox.select()},a.prototype.focus=function(){this.inputBox.focus()},a.prototype.getPreserveCase=function(){return this.preserveCase.checked},a.prototype.setPreserveCase=function(b){this.preserveCase.checked=b},a.prototype.focusOnPreserve=function(){this.preserveCase.focus()},a.prototype.validate=function(){this.inputBox&&this.inputBox.validate()},Object.defineProperty(a.prototype,"width",{set:function(b){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=b,this.domNode.style.width=b+"px"},enumerable:!0,configurable:!0}),a.prototype.dispose=function(){d.prototype.dispose.call(this)},a}(Hb);var XL=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),YL=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},ZL=function(d,a){return function(b,c){a(b,c,d)}},An="historyNavigationWidget",cy="historyNavigationEnabled";function T3(d,a,b){new ea(b,a).bindTo(d)}function U3(d,a){return d.createScoped(a.target)}function _L(d,a){return d.getContext(document.activeElement).getValue(a)}function $L(d,a){var b=U3(d,a);T3(b,a,An);var c=new ea(cy,!0).bindTo(b);return{scopedContextKeyService:b,historyNavigationEnablement:c}}var VH=function(d){XL(a,d);function a(b,c,e,f,g){g===void 0&&(g=!1);var h=d.call(this,b,c,g,e)||this;return h._register($L(f,{target:h.inputBox.element,historyNavigator:h.inputBox}).scopedContextKeyService),h}return a=YL([ZL(3,ha)],a),a}(gz),WH=function(d){XL(a,d);function a(b,c,e,f,g){g===void 0&&(g=!1);var h=d.call(this,b,c,g,e)||this;return h._register($L(f,{target:h.inputBox.element,historyNavigator:h.inputBox}).scopedContextKeyService),h}return a=YL([ZL(3,ha)],a),a}(iz);nc.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Z.and(Z.has(An),Z.equals(cy,!0)),primary:16,secondary:[512|16],handler:function(d,a){var b=_L(d.get(ha),An);if(b){var c=b.historyNavigator;c.showPreviousValue()}}});nc.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Z.and(Z.has(An),Z.equals(cy,!0)),primary:18,secondary:[512|18],handler:function(d,a){var b=_L(d.get(ha),An);if(b){var c=b.historyNavigator;c.showNextValue()}}});var NH=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),fZ=s("label.find","Find"),gZ=s("placeholder.find","Find"),hZ=s("label.previousMatchButton","Previous match"),iZ=s("label.nextMatchButton","Next match"),jZ=s("label.toggleSelectionFind","Find in selection"),kZ=s("label.closeButton","Close"),lZ=s("label.replace","Replace"),mZ=s("placeholder.replace","Replace"),nZ=s("label.replaceButton","Replace"),oZ=s("label.replaceAllButton","Replace All"),pZ=s("label.toggleReplaceButton","Toggle Replace mode"),qZ=s("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",sh),rZ=s("label.matchesLocation","{0} of {1}"),XH=s("label.noResults","No Results"),Ef=419,sZ=275,tZ=sZ-54,Zm=69,uZ=33,YH="ctrlEnterReplaceAll.windows.donotask",ZH=ka?256:2048,tw=function(){function d(a){this.afterLineNumber=a,this.heightInPx=uZ,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}return d}();function _H(d,a,b){var c=!!a.match(/\n/);if(b&&c&&b.selectionStart>0){d.stopPropagation();return}}function $H(d,a,b){var c=!!a.match(/\n/);if(b&&c&&b.selectionEnd<b.value.length){d.stopPropagation();return}}var HH=function(d){NH(a,d);function a(b,c,e,f,g,h,i,j,k){var l=d.call(this)||this;return l._cachedHeight=null,l._codeEditor=b,l._controller=c,l._state=e,l._contextViewProvider=f,l._keybindingService=g,l._contextKeyService=h,l._storageService=j,l._notificationService=k,l._ctrlEnterReplaceAllWarningPrompted=!!j.getBoolean(YH,0),l._isVisible=!1,l._isReplaceVisible=!1,l._ignoreChangeEvent=!1,l._updateHistoryDelayer=new ee(500),l._register(va(function(){return l._updateHistoryDelayer.cancel()})),l._register(l._state.onFindReplaceStateChange(function(m){return l._onStateChanged(m)})),l._buildDomNode(),l._updateButtons(),l._tryUpdateWidgetWidth(),l._findInput.inputBox.layout(),l._register(l._codeEditor.onDidChangeConfiguration(function(m){m.hasChanged(68)&&(l._codeEditor.getOption(68)&&l._state.change({isReplaceRevealed:!1},!1),l._updateButtons()),m.hasChanged(107)&&l._tryUpdateWidgetWidth(),m.hasChanged(2)&&l.updateAccessibilitySupport();if(m.hasChanged(28)){var n=l._codeEditor.getOption(28).addExtraSpaceOnTop;n&&!l._viewZone&&(l._viewZone=new tw(0),l._showViewZone()),!n&&l._viewZone&&l._removeViewZone()}})),l.updateAccessibilitySupport(),l._register(l._codeEditor.onDidChangeCursorSelection(function(){l._isVisible&&l._updateToggleSelectionFindButton()})),l._register(l._codeEditor.onDidFocusEditorWidget(function(){if(l._isVisible){var m=l._controller.getGlobalBufferTerm();m&&m!==l._state.searchString&&(l._state.change({searchString:m},!0),l._findInput.select())}})),l._findInputFocused=sk.bindTo(h),l._findFocusTracker=l._register(Mf(l._findInput.inputBox.inputElement)),l._register(l._findFocusTracker.onDidFocus(function(){l._findInputFocused.set(!0),l._updateSearchScope()})),l._register(l._findFocusTracker.onDidBlur(function(){l._findInputFocused.set(!1)})),l._replaceInputFocused=Wm.bindTo(h),l._replaceFocusTracker=l._register(Mf(l._replaceInput.inputBox.inputElement)),l._register(l._replaceFocusTracker.onDidFocus(function(){l._replaceInputFocused.set(!0),l._updateSearchScope()})),l._register(l._replaceFocusTracker.onDidBlur(function(){l._replaceInputFocused.set(!1)})),l._codeEditor.addOverlayWidget(l),l._codeEditor.getOption(28).addExtraSpaceOnTop&&(l._viewZone=new tw(0)),l._applyTheme(i.getTheme()),l._register(i.onThemeChange(l._applyTheme.bind(l))),l._register(l._codeEditor.onDidChangeModel(function(){if(!l._isVisible)return;l._viewZoneId=void 0})),l._register(l._codeEditor.onDidScrollChange(function(m){if(m.scrollTopChanged){l._layoutViewZone();return}setTimeout(function(){l._layoutViewZone()},0)})),l}return a.prototype.getId=function(){return a.ID},a.prototype.getDomNode=function(){return this._domNode},a.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},a.prototype._onStateChanged=function(b){if(b.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}b.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),b.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),b.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(68)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=hd(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(b.isRevealed||b.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&(this._tryUpdateHeight()&&this._showViewZone()),b.isRegex&&this._findInput.setRegex(this._state.isRegex),b.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),b.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),b.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton());if(b.searchString||b.matchesCount||b.matchesPosition){var c=this._state.searchString.length>0&&this._state.matchesCount===0;qa(this._domNode,"no-results",c),this._updateMatchesCount(),this._updateButtons()}(b.searchString||b.currentMatch)&&this._layoutViewZone(),b.updateHistory&&this._delayedUpdateHistory()},a.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},a.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},a.prototype._updateMatchesCount=function(){this._matchesCount.style.minWidth=Zm+"px",this._state.matchesCount>=sh?this._matchesCount.title=qZ:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var b;if(this._state.matchesCount>0){var c=String(this._state.matchesCount);this._state.matchesCount>=sh&&(c+="+");var e=String(this._state.matchesPosition);e==="0"&&(e="?"),b=Ba(rZ,e,c)}else b=XH;this._matchesCount.appendChild(document.createTextNode(b)),Gb(this._getAriaLabel(b,this._state.currentMatch,this._state.searchString),!0),Zm=Math.max(Zm,this._matchesCount.clientWidth)},a.prototype._getAriaLabel=function(b,c,e){return b===XH?e===""?s("ariaSearchNoResultEmpty","{0} found",b):s("ariaSearchNoResult","{0} found for {1}",b,e):c?s("ariaSearchNoResultWithLineNum","{0} found for {1} at {2}",b,e,c.startLineNumber+":"+c.startColumn):s("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for {1}",b,e)},a.prototype._updateToggleSelectionFindButton=function(){var b=this._codeEditor.getSelection(),c=b?b.startLineNumber!==b.endLineNumber||b.startColumn!==b.endColumn:!1,e=this._toggleSelectionFind.checked;this._isVisible&&(e||c)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()},a.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var b=this._state.searchString.length>0,c=this._state.matchesCount?!0:!1;this._prevBtn.setEnabled(this._isVisible&&b&&c),this._nextBtn.setEnabled(this._isVisible&&b&&c),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&b),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&b),qa(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var e=!this._codeEditor.getOption(68);this._toggleReplaceBtn.setEnabled(this._isVisible&&e)},a.prototype._reveal=function(){var b=this;if(!this._isVisible){this._isVisible=!0;var c=this._codeEditor.getSelection();switch(this._codeEditor.getOption(28).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var e=!!c&&c.startLineNumber!==c.endLineNumber;this._toggleSelectionFind.checked=e;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout(function(){U(b._domNode,"visible"),b._domNode.setAttribute("aria-hidden","false")},0),setTimeout(function(){b._findInput.validate()},200),this._codeEditor.layoutOverlayWidget(this);var f=!0;if(this._codeEditor.getOption(28).seedSearchStringFromSelection&&c){var g=this._codeEditor.getDomNode();if(g){var h=ab(g),i=this._codeEditor.getScrolledVisiblePosition(c.getStartPosition()),j=h.left+(i?i.left:0),k=i?i.top:0;if(this._viewZone&&k<this._viewZone.heightInPx){c.endLineNumber>c.startLineNumber&&(f=!1);var l=Yi(this._domNode).left;j>l&&(f=!1);var m=this._codeEditor.getScrolledVisiblePosition(c.getEndPosition()),n=h.left+(m?m.left:0);n>l&&(f=!1)}}}this._showViewZone(f)}},a.prototype._hide=function(b){this._isVisible&&(this._isVisible=!1,this._updateButtons(),fa(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),b&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},a.prototype._layoutViewZone=function(){var b=this,c=this._codeEditor.getOption(28).addExtraSpaceOnTop;if(!c){this._removeViewZone();return}if(!this._isVisible)return;var e=this._viewZone;if(this._viewZoneId!==void 0||!e)return;this._codeEditor.changeViewZones(function(f){e.heightInPx=b._getHeight(),b._viewZoneId=f.addZone(e),b._codeEditor.setScrollTop(b._codeEditor.getScrollTop()+e.heightInPx)})},a.prototype._showViewZone=function(b){var c=this;b===void 0&&(b=!0);if(!this._isVisible)return;var e=this._codeEditor.getOption(28).addExtraSpaceOnTop;if(!e)return;this._viewZone===void 0&&(this._viewZone=new tw(0));var f=this._viewZone;this._codeEditor.changeViewZones(function(g){if(c._viewZoneId!==void 0){var h=c._getHeight();if(h===f.heightInPx)return;var i=h-f.heightInPx;f.heightInPx=h,g.layoutZone(c._viewZoneId),b&&c._codeEditor.setScrollTop(c._codeEditor.getScrollTop()+i);return}else{var i=c._getHeight();f.heightInPx=i,c._viewZoneId=g.addZone(f),b&&c._codeEditor.setScrollTop(c._codeEditor.getScrollTop()+i)}})},a.prototype._removeViewZone=function(){var b=this;this._codeEditor.changeViewZones(function(c){b._viewZoneId!==void 0&&(c.removeZone(b._viewZoneId),b._viewZoneId=void 0,b._viewZone&&(b._codeEditor.setScrollTop(b._codeEditor.getScrollTop()-b._viewZone.heightInPx),b._viewZone=void 0))})},a.prototype._applyTheme=function(b){var c={inputActiveOptionBorder:b.getColor(Xm),inputActiveOptionBackground:b.getColor(Ym),inputBackground:b.getColor(tk),inputForeground:b.getColor(vk),inputBorder:b.getColor(uk),inputValidationInfoBackground:b.getColor(wk),inputValidationInfoForeground:b.getColor(yk),inputValidationInfoBorder:b.getColor(xk),inputValidationWarningBackground:b.getColor(kr),inputValidationWarningForeground:b.getColor(mr),inputValidationWarningBorder:b.getColor(lr),inputValidationErrorBackground:b.getColor(hr),inputValidationErrorForeground:b.getColor(jr),inputValidationErrorBorder:b.getColor(ir)};this._findInput.style(c),this._replaceInput.style(c),this._toggleSelectionFind.style(c)},a.prototype._tryUpdateWidgetWidth=function(){if(!this._isVisible)return;if(!Wi(this._domNode))return;var b=this._codeEditor.getLayoutInfo(),c=b.contentWidth;if(c<=0){U(this._domNode,"hiddenEditor");return}else Kc(this._domNode,"hiddenEditor")&&fa(this._domNode,"hiddenEditor");var e=b.width,f=b.minimapWidth,g=!1,h=!1,i=!1;if(this._resized){var j=hd(this._domNode);if(j>Ef){this._domNode.style.maxWidth=e-28-f-15+"px",this._replaceInput.width=hd(this._findInput.domNode);return}}Ef+28+f>=e&&(h=!0),Ef+28+f-Zm>=e&&(i=!0),Ef+28+f-Zm>=e+50&&(g=!0),qa(this._domNode,"collapsed-find-widget",g),qa(this._domNode,"narrow-find-widget",i),qa(this._domNode,"reduced-find-widget",h),!i&&!g&&(this._domNode.style.maxWidth=e-28-f-15+"px");if(this._resized){this._findInput.inputBox.layout();var k=this._findInput.inputBox.element.clientWidth;k>0&&(this._replaceInput.width=k)}else this._isReplaceVisible&&(this._replaceInput.width=hd(this._findInput.domNode))},a.prototype._getHeight=function(){var b=0;return b+=4,b+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(b+=4,b+=this._replaceInput.inputBox.height+2),b+=4,b},a.prototype._tryUpdateHeight=function(){var b=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===b?!1:(this._cachedHeight=b,this._domNode.style.height=b+"px",!0)},a.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},a.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},a.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},a.prototype._updateSearchScope=function(){if(!this._codeEditor.hasModel())return;if(this._toggleSelectionFind.checked){var b=this._codeEditor.getSelection();b.endColumn===1&&b.endLineNumber>b.startLineNumber&&(b=b.setEndPosition(b.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(b.endLineNumber-1)));var c=this._state.currentMatch;b.startLineNumber!==b.endLineNumber&&(z.equalsRange(b,c)||this._state.change({searchScope:b},!0))}},a.prototype._onFindInputMouseDown=function(b){b.middleButton&&b.stopPropagation()},a.prototype._onFindInputKeyDown=function(b){if(b.equals(ZH|3)){this._findInput.inputBox.insertAtCursor(`
`),b.preventDefault();return}if(b.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),b.preventDefault();return}if(b.equals(2048|18)){this._codeEditor.focus(),b.preventDefault();return}if(b.equals(16))return _H(b,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(b.equals(18))return $H(b,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))},a.prototype._onReplaceInputKeyDown=function(b){if(b.equals(ZH|3)){sb&&lc&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(s("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(YH,!0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),b.preventDefault();return}if(b.equals(2)){this._findInput.focusOnCaseSensitive(),b.preventDefault();return}if(b.equals(1024|2)){this._findInput.focus(),b.preventDefault();return}if(b.equals(2048|18)){this._codeEditor.focus(),b.preventDefault();return}if(b.equals(16))return _H(b,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(b.equals(18))return $H(b,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))},a.prototype.getHorizontalSashTop=function(b){return 0},a.prototype.getHorizontalSashLeft=function(b){return 0},a.prototype.getHorizontalSashWidth=function(b){return 500},a.prototype._keybindingLabelFor=function(b){var c=this._keybindingService.lookupKeybinding(b);return c?" ("+c.getLabel()+")":""},a.prototype._buildDomNode=function(){var b=this,c=!0,e=!0;this._findInput=this._register(new VH(null,this._contextViewProvider,{width:tZ,label:fZ,placeholder:gZ,appendCaseSensitiveLabel:this._keybindingLabelFor(Sa.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Sa.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Sa.ToggleRegexCommand),validation:function(k){if(k.length===0||!b._findInput.getRegex())return null;try{return new RegExp(k),null}catch(l){return{content:l.message}}},flexibleHeight:c,flexibleWidth:e,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(k){return b._onFindInputKeyDown(k)})),this._register(this._findInput.inputBox.onDidChange(function(){if(b._ignoreChangeEvent)return;b._state.change({searchString:b._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){b._state.change({isRegex:b._findInput.getRegex(),wholeWord:b._findInput.getWholeWords(),matchCase:b._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(k){k.equals(1024|2)&&(b._isReplaceVisible&&(b._replaceInput.focus(),k.preventDefault()))})),this._register(this._findInput.onRegexKeyDown(function(k){k.equals(2)&&(b._isReplaceVisible&&(b._replaceInput.focusOnPreserve(),k.preventDefault()))})),this._register(this._findInput.inputBox.onDidHeightChange(function(k){b._tryUpdateHeight()&&b._showViewZone()})),cc&&this._register(this._findInput.onMouseDown(function(k){return b._onFindInputMouseDown(k)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new zk({label:hZ+this._keybindingLabelFor(Sa.PreviousMatchFindAction),className:"codicon codicon-arrow-up",onTrigger:function(){b._codeEditor.getAction(Sa.PreviousMatchFindAction).run().then(void 0,W)}})),this._nextBtn=this._register(new zk({label:iZ+this._keybindingLabelFor(Sa.NextMatchFindAction),className:"codicon codicon-arrow-down",onTrigger:function(){b._codeEditor.getAction(Sa.NextMatchFindAction).run().then(void 0,W)}}));var f=document.createElement("div");f.className="find-part",f.appendChild(this._findInput.domNode);var g=document.createElement("div");g.className="find-actions",f.appendChild(g),g.appendChild(this._matchesCount),g.appendChild(this._prevBtn.domNode),g.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Fg({actionClassName:"codicon codicon-selection",title:jZ+this._keybindingLabelFor(Sa.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(function(){if(b._toggleSelectionFind.checked){if(b._codeEditor.hasModel()){var k=b._codeEditor.getSelection();k.endColumn===1&&k.endLineNumber>k.startLineNumber&&(k=k.setEndPosition(k.endLineNumber-1,b._codeEditor.getModel().getLineMaxColumn(k.endLineNumber-1))),k.isEmpty()||b._state.change({searchScope:k},!0)}}else b._state.change({searchScope:null},!0)})),g.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new zk({label:kZ+this._keybindingLabelFor(Sa.CloseFindWidgetCommand),className:"codicon codicon-close",onTrigger:function(){b._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(k){k.equals(2)&&(b._isReplaceVisible&&(b._replaceBtn.isEnabled()?b._replaceBtn.focus():b._codeEditor.focus(),k.preventDefault()))}})),g.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new WH(null,void 0,{label:lZ,placeholder:mZ,history:[],flexibleHeight:c,flexibleWidth:e,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(function(k){return b._onReplaceInputKeyDown(k)})),this._register(this._replaceInput.inputBox.onDidChange(function(){b._state.change({replaceString:b._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(function(k){b._isReplaceVisible&&b._tryUpdateHeight()&&b._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(function(){b._state.change({preserveCase:b._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(function(k){k.equals(2)&&(b._prevBtn.isEnabled()?b._prevBtn.focus():b._nextBtn.isEnabled()?b._nextBtn.focus():b._toggleSelectionFind.enabled?b._toggleSelectionFind.focus():b._closeBtn.isEnabled()&&b._closeBtn.focus(),k.preventDefault())})),this._replaceBtn=this._register(new zk({label:nZ+this._keybindingLabelFor(Sa.ReplaceOneAction),className:"codicon codicon-replace",onTrigger:function(){b._controller.replace()},onKeyDown:function(k){k.equals(1024|2)&&(b._closeBtn.focus(),k.preventDefault())}})),this._replaceAllBtn=this._register(new zk({label:oZ+this._keybindingLabelFor(Sa.ReplaceAllAction),className:"codicon codicon-replace-all",onTrigger:function(){b._controller.replaceAll()}}));var h=document.createElement("div");h.className="replace-part",h.appendChild(this._replaceInput.domNode);var i=document.createElement("div");i.className="replace-actions",h.appendChild(i),i.appendChild(this._replaceBtn.domNode),i.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new zk({label:pZ,className:"codicon toggle left",onTrigger:function(){b._state.change({isReplaceRevealed:!b._isReplaceVisible},!1),b._isReplaceVisible&&(b._replaceInput.width=hd(b._findInput.domNode),b._replaceInput.inputBox.layout()),b._showViewZone()}})),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=Ef+"px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(f),this._domNode.appendChild(h),this._resizeSash=new Gg(this._domNode,this,{orientation:0}),this._resized=!1;var j=Ef;this._register(this._resizeSash.onDidStart(function(){j=hd(b._domNode)})),this._register(this._resizeSash.onDidChange(function(k){b._resized=!0;var l=j+k.startX-k.currentX;if(l<Ef)return;var m=parseFloat(Ln(b._domNode).maxWidth)||0;if(l>m)return;b._domNode.style.width=l+"px",b._isReplaceVisible&&(b._replaceInput.width=hd(b._findInput.domNode)),b._findInput.inputBox.layout(),b._tryUpdateHeight()})),this._register(this._resizeSash.onDidReset(function(){var k=hd(b._domNode);if(k<Ef)return;var l=Ef;if(!b._resized||k===Ef){var m=b._codeEditor.getLayoutInfo();l=m.width-28-m.minimapWidth-15,b._resized=!0}b._domNode.style.width=l+"px",b._isReplaceVisible&&(b._replaceInput.width=hd(b._findInput.domNode)),b._findInput.inputBox.layout()}))},a.prototype.updateAccessibilitySupport=function(){var b=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(b!==2)},a.ID="editor.contrib.findWidget",a}(Hb),zk=function(d){NH(a,d);function a(b){var c=d.call(this)||this;return c._opts=b,c._domNode=document.createElement("div"),c._domNode.title=c._opts.label,c._domNode.tabIndex=0,c._domNode.className="button "+c._opts.className,c._domNode.setAttribute("role","button"),c._domNode.setAttribute("aria-label",c._opts.label),c.onclick(c._domNode,function(e){c._opts.onTrigger(),e.preventDefault()}),c.onkeydown(c._domNode,function(e){if(e.equals(10)||e.equals(3)){c._opts.onTrigger(),e.preventDefault();return}c._opts.onKeyDown&&c._opts.onKeyDown(e)}),c}return Object.defineProperty(a.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),a.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},a.prototype.focus=function(){this._domNode.focus()},a.prototype.setEnabled=function(b){qa(this._domNode,"disabled",!b),this._domNode.setAttribute("aria-disabled",String(!b)),this._domNode.tabIndex=b?0:-1},a.prototype.setExpanded=function(b){this._domNode.setAttribute("aria-expanded",String(!!b))},a.prototype.toggleClass=function(b,c){qa(this._domNode,b,c)},a}(Hb);la(function(d,a){var b=function(o,p){p&&a.addRule(".monaco-editor "+o+" { background-color: "+p+"; }")};b(".findMatch",d.getColor(Fm)),b(".currentFindMatch",d.getColor(OH)),b(".findScope",d.getColor(RH));var c=d.getColor(cd);b(".find-widget",c);var e=d.getColor(re);e&&a.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+e+"; }");var f=d.getColor(QH);f&&a.addRule(".monaco-editor .findMatch { border: 1px "+(d.type==="hc"?"dotted":"solid")+" "+f+"; box-sizing: border-box; }");var g=d.getColor(PH);g&&a.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+g+"; padding: 1px; box-sizing: border-box; }");var h=d.getColor(SH);h&&a.addRule(".monaco-editor .findScope { border: 1px "+(d.type==="hc"?"dashed":"solid")+" "+h+"; }");var i=d.getColor(Fb);i&&a.addRule(".monaco-editor .find-widget { border: 1px solid "+i+"; }");var j=d.getColor(sg);j&&a.addRule(".monaco-editor .find-widget { color: "+j+"; }");var k=d.getColor(UH);k&&a.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+k+"; }");var l=d.getColor(TH);if(l)a.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+l+"; width: 3px !important; margin-left: -4px;}");else{var m=d.getColor(tg);m&&a.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+m+"; width: 3px !important; margin-left: -4px;}")}var n=d.getColor(th);n&&a.addRule(".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: "+n+"; }")});var Yd=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),DH=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Cf=function(d,a){return function(b,c){a(b,c,d)}},TY=524288;function IH(d){if(!d.hasModel())return null;var a=d.getSelection();if(a.startLineNumber===a.endLineNumber){if(a.isEmpty()){var b=d.getModel().getWordAtPosition(a.getStartPosition());if(b)return b.word}else if(d.getModel().getValueLengthInRange(a)<TY)return d.getModel().getValueInRange(a)}return null}var qe=function(d){Yd(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g._editor=b,g._findWidgetVisible=rh.bindTo(c),g._contextKeyService=c,g._storageService=e,g._clipboardService=f,g._updateHistoryDelayer=new ee(500),g._state=g._register(new GH()),g.loadQueryState(),g._register(g._state.onFindReplaceStateChange(function(h){return g._onStateChanged(h)})),g._model=null,g._register(g._editor.onDidChangeModel(function(){var h=g._editor.getModel()&&g._state.isRevealed;g.disposeModel(),g._state.change({searchScope:null,matchCase:g._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:g._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:g._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:g._storageService.getBoolean("editor.preserveCase",1,!1)},!1),h&&g._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})})),g}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.dispose=function(){this.disposeModel(),d.prototype.dispose.call(this)},a.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},a.prototype._onStateChanged=function(b){this.saveQueryState(b),b.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),b.searchString&&this.setGlobalBufferTerm(this._state.searchString)},a.prototype.saveQueryState=function(b){b.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),b.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),b.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),b.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)},a.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)},a.prototype.isFindInputFocused=function(){return!!sk.getValue(this._contextKeyService)},a.prototype.getState=function(){return this._state},a.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},a.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},a.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},a.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},a.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var b=this._editor.getSelection();b.endColumn===1&&b.endLineNumber>b.startLineNumber&&(b=b.setEndPosition(b.endLineNumber-1,this._editor.getModel().getLineMaxColumn(b.endLineNumber-1))),b.isEmpty()||this._state.change({searchScope:b},!0)}},a.prototype.setSearchString=function(b){this._state.isRegex&&(b=Zc(b)),this._state.change({searchString:b},!1)},a.prototype.highlightFindOptions=function(){},a.prototype._start=function(b){this.disposeModel();if(!this._editor.hasModel())return;var c={isRevealed:!0};if(b.seedSearchStringFromSelection){var e=IH(this._editor);e&&(this._state.isRegex?c.searchString=Zc(e):c.searchString=e)}if(!c.searchString&&b.seedSearchStringFromGlobalClipboard){var e=this.getGlobalBufferTerm();e&&(c.searchString=e)}b.forceRevealReplace?c.isReplaceRevealed=!0:this._findWidgetVisible.get()||(c.isReplaceRevealed=!1);if(b.updateSearchScope){var f=this._editor.getSelection();f.isEmpty()||(c.searchScope=f)}this._state.change(c,!1),this._model||(this._model=new EH(this._editor,this._state))},a.prototype.start=function(b){this._start(b)},a.prototype.moveToNextMatch=function(){return this._model?(this._model.moveToNextMatch(),!0):!1},a.prototype.moveToPrevMatch=function(){return this._model?(this._model.moveToPrevMatch(),!0):!1},a.prototype.replace=function(){return this._model?(this._model.replace(),!0):!1},a.prototype.replaceAll=function(){return this._model?(this._model.replaceAll(),!0):!1},a.prototype.selectAllMatches=function(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1},a.prototype.getGlobalBufferTerm=function(){return this._editor.getOption(28).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},a.prototype.setGlobalBufferTerm=function(b){this._editor.getOption(28).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(b)},a.ID="editor.contrib.findController",a=DH([Cf(1,ha),Cf(2,zd),Cf(3,Gi)],a),a}(I),UY=function(d){Yd(a,d);function a(b,c,e,f,g,h,i,j){var k=d.call(this,b,e,i,j)||this;return k._contextViewService=c,k._keybindingService=f,k._themeService=g,k._notificationService=h,k._widget=null,k._findOptionsWidget=null,k}return a.prototype._start=function(b){this._widget||this._createFindWidget();var c=this._editor.getSelection(),e=!1;switch(this._editor.getOption(28).autoFindInSelection){case"always":e=!0;break;case"never":e=!1;break;case"multiline":var f=!!c&&c.startLineNumber!==c.endLineNumber;e=f;break;default:break}b.updateSearchScope=e,d.prototype._start.call(this,b),b.shouldFocus===2?this._widget.focusReplaceInput():b.shouldFocus===1&&this._widget.focusFindInput()},a.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},a.prototype._createFindWidget=function(){this._widget=this._register(new HH(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new FH(this._editor,this._state,this._keybindingService,this._themeService))},a=DH([Cf(1,Od),Cf(2,ha),Cf(3,Ja),Cf(4,Ia),Cf(5,Ra),Cf(6,zd),Cf(7,pe(Gi))],a),a}(qe),VY=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.StartFindAction,label:s("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:17,group:"3_find",title:s({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return a.prototype.run=function(b,c){var e=qe.get(c);e&&e.start({forceRevealReplace:!1,seedSearchStringFromSelection:c.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:c.getOption(28).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},a}(aa),WY=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.StartFindWithSelection,label:s("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})||this}return a.prototype.run=function(b,c){var e=qe.get(c);e&&(e.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),e.setGlobalBufferTerm(e.getState().searchString))},a}(aa),dr=function(d){Yd(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.run=function(b,c){var e=qe.get(c);e&&!this._run(e)&&(e.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getState().searchString.length===0&&c.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(e))},a}(aa),XY=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.NextMatchFindAction,label:s("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100}})||this}return a.prototype._run=function(b){return b.moveToNextMatch()},a}(dr),YY=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.NextMatchFindAction,label:s("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:Z.and(C.focus,sk),primary:3,weight:100}})||this}return a.prototype._run=function(b){return b.moveToNextMatch()},a}(dr),ZY=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.PreviousMatchFindAction,label:s("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100}})||this}return a.prototype._run=function(b){return b.moveToPrevMatch()},a}(dr),_Y=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.PreviousMatchFindAction,label:s("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:Z.and(C.focus,sk),primary:1024|3,weight:100}})||this}return a.prototype._run=function(b){return b.moveToPrevMatch()},a}(dr),JH=function(d){Yd(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.run=function(b,c){var e=qe.get(c);if(!e)return;var f=IH(c);f&&e.setSearchString(f),this._run(e)||(e.start({forceRevealReplace:!1,seedSearchStringFromSelection:c.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(e))},a}(aa),$Y=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.NextSelectionMatchFindAction,label:s("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:2048|61,weight:100}})||this}return a.prototype._run=function(b){return b.moveToNextMatch()},a}(JH),aZ=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.PreviousSelectionMatchFindAction,label:s("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:2048|1024|61,weight:100}})||this}return a.prototype._run=function(b){return b.moveToPrevMatch()},a}(JH),bZ=function(d){Yd(a,d);function a(){return d.call(this,{id:Sa.StartFindReplaceAction,label:s("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:17,group:"3_find",title:s({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return a.prototype.run=function(b,c){if(!c.hasModel()||c.getOption(68))return;var e=qe.get(c),f=c.getSelection(),g=e.isFindInputFocused(),h=!f.isEmpty()&&f.startLineNumber===f.endLineNumber&&c.getOption(28).seedSearchStringFromSelection&&!g,i=g||h?2:1;e&&e.start({forceRevealReplace:!0,seedSearchStringFromSelection:h,seedSearchStringFromGlobalClipboard:c.getOption(28).seedSearchStringFromSelection,shouldFocus:i,shouldAnimate:!0,updateSearchScope:!1})},a}(aa);ra(qe.ID,UY);N(VY);N(WY);N(XY);N(YY);N(ZY);N(_Y);N($Y);N(aZ);N(bZ);var Df=ob.bindToContribution(qe.get);Q(new Df({id:Sa.CloseFindWidgetCommand,precondition:rh,handler:function(d){return d.closeFindWidget()},kbOpts:{weight:100+5,kbExpr:C.focus,primary:9,secondary:[1024|9]}}));Q(new Df({id:Sa.ToggleCaseSensitiveCommand,precondition:void 0,handler:function(d){return d.toggleCaseSensitive()},kbOpts:{weight:100+5,kbExpr:C.focus,primary:Sm.primary,mac:Sm.mac,win:Sm.win,linux:Sm.linux}}));Q(new Df({id:Sa.ToggleWholeWordCommand,precondition:void 0,handler:function(d){return d.toggleWholeWords()},kbOpts:{weight:100+5,kbExpr:C.focus,primary:Vm.primary,mac:Vm.mac,win:Vm.win,linux:Vm.linux}}));Q(new Df({id:Sa.ToggleRegexCommand,precondition:void 0,handler:function(d){return d.toggleRegex()},kbOpts:{weight:100+5,kbExpr:C.focus,primary:Tm.primary,mac:Tm.mac,win:Tm.win,linux:Tm.linux}}));Q(new Df({id:Sa.ToggleSearchScopeCommand,precondition:void 0,handler:function(d){return d.toggleSearchScope()},kbOpts:{weight:100+5,kbExpr:C.focus,primary:Um.primary,mac:Um.mac,win:Um.win,linux:Um.linux}}));Q(new Df({id:Sa.ReplaceOneAction,precondition:rh,handler:function(d){return d.replace()},kbOpts:{weight:100+5,kbExpr:C.focus,primary:2048|1024|22}}));Q(new Df({id:Sa.ReplaceOneAction,precondition:rh,handler:function(d){return d.replace()},kbOpts:{weight:100+5,kbExpr:Z.and(C.focus,Wm),primary:3}}));Q(new Df({id:Sa.ReplaceAllAction,precondition:rh,handler:function(d){return d.replaceAll()},kbOpts:{weight:100+5,kbExpr:C.focus,primary:2048|512|3}}));Q(new Df({id:Sa.ReplaceAllAction,precondition:rh,handler:function(d){return d.replaceAll()},kbOpts:{weight:100+5,kbExpr:Z.and(C.focus,Wm),primary:void 0,mac:{primary:2048|3}}}));Q(new Df({id:Sa.SelectAllMatchesAction,precondition:rh,handler:function(d){return d.selectAllMatches()},kbOpts:{weight:100+5,kbExpr:C.focus,primary:512|3}}));var mI=65535,Ve=16777215,nI=4278190080,uh=function(){function d(a,b,c){if(a.length!==b.length||a.length>mI)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=a,this._endIndexes=b,this._collapseStates=new Uint32Array(Math.ceil(a.length/32)),this._types=c,this._parentsComputed=!1}return d.prototype.ensureParentIndices=function(){var a=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var b=[],c=function(j,k){var l=b[b.length-1];return a.getStartLineNumber(l)<=j&&a.getEndLineNumber(l)>=k},e=0,f=this._startIndexes.length;e<f;e++){var g=this._startIndexes[e],h=this._endIndexes[e];if(g>Ve||h>Ve)throw new Error("startLineNumber or endLineNumber must not exceed "+Ve);for(;b.length>0&&!c(g,h);)b.pop();var i=b.length>0?b[b.length-1]:-1;b.push(e),this._startIndexes[e]=g+((i&255)<<24),this._endIndexes[e]=h+((i&65280)<<16)}}},Object.defineProperty(d.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),d.prototype.getStartLineNumber=function(a){return this._startIndexes[a]&Ve},d.prototype.getEndLineNumber=function(a){return this._endIndexes[a]&Ve},d.prototype.getType=function(a){return this._types?this._types[a]:void 0},d.prototype.hasTypes=function(){return!!this._types},d.prototype.isCollapsed=function(a){var b=a/32|0,c=a%32;return(this._collapseStates[b]&1<<c)!==0},d.prototype.setCollapsed=function(a,b){var c=a/32|0,e=a%32,f=this._collapseStates[c];b?this._collapseStates[c]=f|1<<e:this._collapseStates[c]=f&~(1<<e)},d.prototype.toRegion=function(a){return new KZ(this,a)},d.prototype.getParentIndex=function(a){this.ensureParentIndices();var b=((this._startIndexes[a]&nI)>>>24)+((this._endIndexes[a]&nI)>>>16);return b===mI?-1:b},d.prototype.contains=function(a,b){return this.getStartLineNumber(a)<=b&&this.getEndLineNumber(a)>=b},d.prototype.findIndex=function(a){var b=0,c=this._startIndexes.length;if(c===0)return-1;for(;b<c;){var e=Math.floor((b+c)/2);a<this.getStartLineNumber(e)?c=e:b=e+1}return b-1},d.prototype.findRange=function(a){var b=this.findIndex(a);if(b>=0){var c=this.getEndLineNumber(b);if(c>=a)return b;for(b=this.getParentIndex(b);b!==-1;){if(this.contains(b,a))return b;b=this.getParentIndex(b)}}return-1},d.prototype.toString=function(){for(var a=[],b=0;b<this.length;b++)a[b]="["+(this.isCollapsed(b)?"+":"-")+"] "+this.getStartLineNumber(b)+"/"+this.getEndLineNumber(b);return a.join(", ")},d}(),KZ=function(){function d(a,b){this.ranges=a,this.index=b}return Object.defineProperty(d.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),d.prototype.containedBy=function(a){return a.startLineNumber<=this.startLineNumber&&a.endLineNumber>=this.endLineNumber},d.prototype.containsLine=function(a){return this.startLineNumber<=a&&a<=this.endLineNumber},d}();var bI=function(){function d(a,b){this._updateEventEmitter=new E(),this.onDidChange=this._updateEventEmitter.event,this._textModel=a,this._decorationProvider=b,this._regions=new uh(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(d.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),d.prototype.toggleCollapseState=function(a){var b=this;if(!a.length)return;var c={};this._decorationProvider.changeDecorations(function(e){for(var f=0,g=a;f<g.length;f++){var h=g[f],i=h.regionIndex,j=b._editorDecorationIds[i];if(j&&!c[j]){c[j]=!0;var k=!b._regions.isCollapsed(i);b._regions.setCollapsed(i,k),e.changeDecorationOptions(j,b._decorationProvider.getDecorationOption(k))}}}),this._updateEventEmitter.fire({model:this,collapseStateChanged:a})},d.prototype.update=function(a,b){var c=this;b===void 0&&(b=[]);for(var e=[],f=function(o,p){for(var q=0,r=b;q<r.length;q++){var t=r[q];if(o<t&&t<=p)return!0}return!1},g=function(o,p){var q=a.getStartLineNumber(o);p&&f(q,a.getEndLineNumber(o))&&(p=!1),a.setCollapsed(o,p);var r=c._textModel.getLineMaxColumn(q),t={startLineNumber:q,startColumn:r,endLineNumber:q,endColumn:r};e.push({range:t,options:c._decorationProvider.getDecorationOption(p)})},h=0,i=function(){for(;h<c._regions.length;){var o=c._regions.isCollapsed(h);h++;if(o)return h-1}return-1},j=0,k=i();k!==-1&&j<a.length;){var l=this._textModel.getDecorationRange(this._editorDecorationIds[k]);if(l){var m=l.startLineNumber;if(this._textModel.getLineMaxColumn(m)===l.startColumn)for(;j<a.length;){var n=a.getStartLineNumber(j);if(m>=n)g(j,m===n),j++;else break}}k=i()}for(;j<a.length;)g(j,!1),j++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,e),this._regions=a,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},d.prototype.getMemento=function(){for(var a=[],b=0;b<this._regions.length;b++)if(this._regions.isCollapsed(b)){var c=this._textModel.getDecorationRange(this._editorDecorationIds[b]);if(c){var e=c.startLineNumber,f=c.endLineNumber+this._regions.getEndLineNumber(b)-this._regions.getStartLineNumber(b);a.push({startLineNumber:e,endLineNumber:f})}}return a.length>0?a:void 0},d.prototype.applyMemento=function(a){if(!Array.isArray(a))return;for(var b=[],c=0,e=a;c<e.length;c++){var f=e[c],g=this.getRegionAtLine(f.startLineNumber);g&&!g.isCollapsed&&b.push(g)}this.toggleCollapseState(b)},d.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},d.prototype.getAllRegionsAtLine=function(a,b){var c=[];if(this._regions)for(var e=this._regions.findRange(a),f=1;e>=0;){var g=this._regions.toRegion(e);(!b||b(g,f))&&c.push(g),f++,e=g.parentIndex}return c},d.prototype.getRegionAtLine=function(a){if(this._regions){var b=this._regions.findRange(a);if(b>=0)return this._regions.toRegion(b)}return null},d.prototype.getRegionsInside=function(a,b){var c=[],e=a?a.regionIndex+1:0,f=a?a.endLineNumber:Number.MAX_VALUE;if(b&&b.length===2)for(var g=[],h=e,i=this._regions.length;h<i;h++){var j=this._regions.toRegion(h);if(this._regions.getStartLineNumber(h)<f){for(;g.length>0&&!j.containedBy(g[g.length-1]);)g.pop();g.push(j),b(j,g.length)&&c.push(j)}else break}else for(var h=e,i=this._regions.length;h<i;h++){var j=this._regions.toRegion(h);if(this._regions.getStartLineNumber(h)<f)(!b||b(j))&&c.push(j);else break}return c},d}();function dI(d,a,b){for(var c=[],e=function(i){var j=d.getRegionAtLine(i);if(j){var k=!j.isCollapsed;c.push(j);if(a>1){var l=d.getRegionsInside(j,function(m,n){return m.isCollapsed!==k&&n<a});c.push.apply(c,l)}}},f=0,g=b;f<g.length;f++){var h=g[f];e(h)}d.toggleCollapseState(c)}function Hi(d,a,b,c){b===void 0&&(b=Number.MAX_VALUE);var e=[];if(c&&c.length>0)for(var f=0,g=c;f<g.length;f++){var h=g[f],i=d.getRegionAtLine(h);if(i){i.isCollapsed!==a&&e.push(i);if(b>1){var j=d.getRegionsInside(i,function(k,l){return k.isCollapsed!==a&&l<b});e.push.apply(e,j)}}}else{var j=d.getRegionsInside(null,function(k,l){return k.isCollapsed!==a&&l<b});e.push.apply(e,j)}d.toggleCollapseState(e)}function uw(d,a,b,c){for(var e=[],f=0,g=c;f<g.length;f++){var h=g[f],i=d.getAllRegionsAtLine(h,function(j,k){return j.isCollapsed!==a&&k<=b});e.push.apply(e,i)}d.toggleCollapseState(e)}function eI(d,a,b){for(var c=[],e=0,f=b;e<f.length;e++){var g=f[e],h=d.getAllRegionsAtLine(g,function(i){return i.isCollapsed!==a});h.length>0&&c.push(h[0])}d.toggleCollapseState(c)}function cI(d,a,b,c){var e=function(g,h){return h===a&&g.isCollapsed!==b&&!c.some(function(i){return g.containsLine(i)})},f=d.getRegionsInside(null,e);d.toggleCollapseState(f)}function or(d,a,b){for(var c=d.textModel,e=d.regions,f=[],g=e.length-1;g>=0;g--)if(b!==e.isCollapsed(g)){var h=e.getStartLineNumber(g);a.test(c.getLineContent(h))&&f.push(e.toRegion(g))}d.toggleCollapseState(f)}function pr(d,a,b){for(var c=d.regions,e=[],f=c.length-1;f>=0;f--)b!==c.isCollapsed(f)&&a===c.getType(f)&&e.push(c.toRegion(f));d.toggleCollapseState(e)}var fI=function(){function d(a){this.editor=a,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}return d.prototype.getDecorationOption=function(a){return a?this.showFoldingHighlights?d.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:d.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?d.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:d.EXPANDED_VISUAL_DECORATION},d.prototype.deltaDecorations=function(a,b){return this.editor.deltaDecorations(a,b)},d.prototype.changeDecorations=function(a){return this.editor.changeDecorations(a)},d.COLLAPSED_VISUAL_DECORATION=na.register({stickiness:1,afterContentClassName:"inline-folded",linesDecorationsClassName:"codicon codicon-chevron-right"}),d.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=na.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,linesDecorationsClassName:"codicon codicon-chevron-right"}),d.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=na.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down"}),d.EXPANDED_VISUAL_DECORATION=na.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down alwaysShowFoldIcons"}),d}();var gI=function(){function d(a){var b=this;this._updateEventEmitter=new E(),this._foldingModel=a,this._foldingModelListener=a.onDidChange(function(c){return b.updateHiddenRanges()}),this._hiddenRanges=[],a.regions.length&&this.updateHiddenRanges()}return Object.defineProperty(d.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),d.prototype.updateHiddenRanges=function(){for(var a=!1,b=[],c=0,e=0,f=Number.MAX_VALUE,g=-1,h=this._foldingModel.regions;c<h.length;c++){if(!h.isCollapsed(c))continue;var i=h.getStartLineNumber(c)+1,j=h.getEndLineNumber(c);if(f<=i&&j<=g)continue;!a&&e<this._hiddenRanges.length&&this._hiddenRanges[e].startLineNumber===i&&this._hiddenRanges[e].endLineNumber===j?(b.push(this._hiddenRanges[e]),e++):(a=!0,b.push(new z(i,1,j,1))),f=i,g=j}(a||e<this._hiddenRanges.length)&&this.applyHiddenRanges(b)},d.prototype.applyMemento=function(a){if(!Array.isArray(a)||a.length===0)return!1;for(var b=[],c=0,e=a;c<e.length;c++){var f=e[c];if(!f.startLineNumber||!f.endLineNumber)return!1;b.push(new z(f.startLineNumber+1,1,f.endLineNumber,1))}return this.applyHiddenRanges(b),!0},d.prototype.getMemento=function(){return this._hiddenRanges.map(function(a){return{startLineNumber:a.startLineNumber-1,endLineNumber:a.endLineNumber}})},d.prototype.applyHiddenRanges=function(a){this._hiddenRanges=a,this._updateEventEmitter.fire(a)},d.prototype.hasRanges=function(){return this._hiddenRanges.length>0},d.prototype.isHidden=function(a){return oI(this._hiddenRanges,a)!==null},d.prototype.adjustSelections=function(a){for(var b=this,c=!1,e=this._foldingModel.textModel,f=null,g=function(m){return(!f||!LZ(m,f))&&(f=oI(b._hiddenRanges,m)),f?f.startLineNumber-1:null},h=0,i=a.length;h<i;h++){var j=a[h],k=g(j.startLineNumber);k&&(j=j.setStartPosition(k,e.getLineMaxColumn(k)),c=!0);var l=g(j.endLineNumber);l&&(j=j.setEndPosition(l,e.getLineMaxColumn(l)),c=!0),a[h]=j}return c},d.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},d}();function LZ(d,a){return d>=a.startLineNumber&&d<=a.endLineNumber}function oI(d,a){var b=$z(d,function(c){return a<c.startLineNumber})-1;return b>=0&&d[b].endLineNumber>=a?d[b]:null}var MZ=5e3,NZ="indent",hI=function(){function d(a){this.editorModel=a,this.id=NZ}return d.prototype.dispose=function(){},d.prototype.compute=function(a){var b=sa.getFoldingRules(this.editorModel.getLanguageIdentifier().id),c=b&&!!b.offSide,e=b&&b.markers;return Promise.resolve(PZ(this.editorModel,c,e))},d}(),OZ=function(){function d(a){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=a}return d.prototype.insertFirst=function(a,b,c){if(a>Ve||b>Ve)return;var e=this._length;this._startIndexes[e]=a,this._endIndexes[e]=b,this._length++,c<1e3&&(this._indentOccurrences[c]=(this._indentOccurrences[c]||0)+1)},d.prototype.toIndentRanges=function(a){if(this._length<=this._foldingRangesLimit){for(var b=new Uint32Array(this._length),c=new Uint32Array(this._length),e=this._length-1,f=0;e>=0;e--,f++)b[f]=this._startIndexes[e],c[f]=this._endIndexes[e];return new uh(b,c)}else{for(var g=0,h=this._indentOccurrences.length,e=0;e<this._indentOccurrences.length;e++){var i=this._indentOccurrences[e];if(i){if(i+g>this._foldingRangesLimit){h=e;break}g+=i}}for(var j=a.getOptions().tabSize,b=new Uint32Array(this._foldingRangesLimit),c=new Uint32Array(this._foldingRangesLimit),e=this._length-1,f=0;e>=0;e--){var k=this._startIndexes[e],l=a.getLineContent(k),m=Qe.computeIndentLevel(l,j);(m<h||m===h&&g++<this._foldingRangesLimit)&&(b[f]=k,c[f]=this._endIndexes[e],f++)}return new uh(b,c)}},d}();function PZ(d,a,b,c){c===void 0&&(c=MZ);var e=d.getOptions().tabSize,f=new OZ(c),g=void 0;b&&(g=new RegExp("("+b.start.source+")|(?:"+b.end.source+")"));var h=[],i=d.getLineCount()+1;h.push({indent:-1,endAbove:i,line:i});for(var j=d.getLineCount();j>0;j--){var k=d.getLineContent(j),l=Qe.computeIndentLevel(k,e),m=h[h.length-1];if(l===-1){a&&(m.endAbove=j);continue}var n=void 0;if(g&&(n=k.match(g)))if(n[1]){for(var o=h.length-1;o>0&&h[o].indent!==-2;)o--;if(o>0){h.length=o+1,m=h[o],f.insertFirst(j,m.line,l),m.line=j,m.indent=l,m.endAbove=j;continue}}else{h.push({indent:-2,endAbove:j,line:j});continue}if(m.indent>l){do h.pop(),m=h[h.length-1];while(m.indent>l);var p=m.endAbove-1;p-j>=1&&f.insertFirst(j,p,l)}m.indent===l?m.endAbove=j:h.push({indent:l,endAbove:j,line:j})}return f.toIndentRanges(d)}var QZ=5e3,RZ={},vw="syntax",iI=function(){function d(a,b,c){c===void 0&&(c=QZ),this.editorModel=a,this.providers=b,this.limit=c,this.id=vw}return d.prototype.compute=function(a){var b=this;return SZ(this.providers,this.editorModel,a).then(function(c){if(c){var e=yw(c,b.limit);return e}return null})},d.prototype.dispose=function(){},d}();function SZ(d,a,b){var c=null,e=d.map(function(f,g){return Promise.resolve(f.provideFoldingRanges(a,RZ,b)).then(function(h){if(b.isCancellationRequested)return;if(Array.isArray(h)){Array.isArray(c)||(c=[]);for(var i=a.getLineCount(),j=0,k=h;j<k.length;j++){var l=k[j];l.start>0&&l.end>l.start&&l.end<=i&&c.push({start:l.start,end:l.end,rank:g,kind:l.kind})}}},tb)});return Promise.all(e).then(function(f){return c})}var TZ=function(){function d(a){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=a}return d.prototype.add=function(a,b,c,e){if(a>Ve||b>Ve)return;var f=this._length;this._startIndexes[f]=a,this._endIndexes[f]=b,this._nestingLevels[f]=e,this._types[f]=c,this._length++,e<30&&(this._nestingLevelCounts[e]=(this._nestingLevelCounts[e]||0)+1)},d.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var a=new Uint32Array(this._length),b=new Uint32Array(this._length),c=0;c<this._length;c++)a[c]=this._startIndexes[c],b[c]=this._endIndexes[c];return new uh(a,b,this._types)}else{for(var e=0,f=this._nestingLevelCounts.length,c=0;c<this._nestingLevelCounts.length;c++){var g=this._nestingLevelCounts[c];if(g){if(g+e>this._foldingRangesLimit){f=c;break}e+=g}}for(var a=new Uint32Array(this._foldingRangesLimit),b=new Uint32Array(this._foldingRangesLimit),h=[],c=0,i=0;c<this._length;c++){var j=this._nestingLevels[c];(j<f||j===f&&e++<this._foldingRangesLimit)&&(a[i]=this._startIndexes[c],b[i]=this._endIndexes[c],h[i]=this._types[c],i++)}return new uh(a,b,h)}},d}();function yw(d,a){for(var b=d.sort(function(j,k){var l=j.start-k.start;return l===0&&(l=j.rank-k.rank),l}),c=new TZ(a),e=void 0,f=[],g=0,h=b;g<h.length;g++){var i=h[g];if(!e)e=i,c.add(i.start,i.end,i.kind&&i.kind.value,f.length);else if(i.start>e.start)if(i.end<=e.end)f.push(e),e=i,c.add(i.start,i.end,i.kind&&i.kind.value,f.length);else{if(i.start>e.end){do e=f.pop();while(e&&i.start>e.end);e&&f.push(e),e=i}c.add(i.start,i.end,i.kind&&i.kind.value,f.length)}}return c.toIndentRanges()}var ww="init",jI=function(){function d(a,b,c,e){this.editorModel=a,this.id=ww;if(b.length){var f=function(g){return{range:{startLineNumber:g.startLineNumber,startColumn:0,endLineNumber:g.endLineNumber,endColumn:a.getLineLength(g.endLineNumber)},options:{stickiness:1}}};this.decorationIds=a.deltaDecorations([],b.map(f)),this.timeout=setTimeout(c,e)}}return d.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout==="number"&&(clearTimeout(this.timeout),this.timeout=void 0)},d.prototype.compute=function(a){var b=[];if(this.decorationIds)for(var c=0,e=this.decorationIds;c<e.length;c++){var f=e[c],g=this.editorModel.getDecorationRange(f);g&&b.push({start:g.startLineNumber,end:g.endLineNumber,rank:1})}return Promise.resolve(yw(b,Number.MAX_VALUE))},d}();var Zd=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),xZ=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},yZ=function(d,a){return function(b,c){a(b,c,d)}},se=new ea("foldingEnabled",!1),xw=function(d){Zd(a,d);function a(b,c){var e=d.call(this)||this;e.contextKeyService=c,e.localToDispose=e._register(new P()),e.editor=b;var f=e.editor.getOptions();return e._isEnabled=f.get(30),e._useFoldingProviders=f.get(31)!=="indentation",e.foldingModel=null,e.hiddenRangeModel=null,e.rangeProvider=null,e.foldingRegionPromise=null,e.foldingStateMemento=null,e.foldingModelPromise=null,e.updateScheduler=null,e.cursorChangedScheduler=null,e.mouseDownInfo=null,e.foldingDecorationProvider=new fI(b),e.foldingDecorationProvider.autoHideFoldingControls=f.get(84)==="mouseover",e.foldingDecorationProvider.showFoldingHighlights=f.get(32),e.foldingEnabled=se.bindTo(e.contextKeyService),e.foldingEnabled.set(e._isEnabled),e._register(e.editor.onDidChangeModel(function(){return e.onModelChanged()})),e._register(e.editor.onDidChangeConfiguration(function(g){if(g.hasChanged(30)){var h=e.editor.getOptions();e._isEnabled=h.get(30),e.foldingEnabled.set(e._isEnabled),e.onModelChanged()}if(g.hasChanged(84)||g.hasChanged(32)){var i=e.editor.getOptions();e.foldingDecorationProvider.autoHideFoldingControls=i.get(84)==="mouseover",e.foldingDecorationProvider.showFoldingHighlights=i.get(32),e.onModelContentChanged()}if(g.hasChanged(31)){var j=e.editor.getOptions();e._useFoldingProviders=j.get(31)!=="indentation",e.onFoldingStrategyChanged()}})),e.onModelChanged(),e}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.saveViewState=function(){var b=this.editor.getModel();if(!b||!this._isEnabled||b.isTooLargeForTokenization())return{};if(this.foldingModel){var c=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),e=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:c,lineCount:b.getLineCount(),provider:e}}return},a.prototype.restoreViewState=function(b){var c=this.editor.getModel();if(!c||!this._isEnabled||c.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!b||!b.collapsedRegions||b.lineCount!==c.getLineCount())return;(b.provider===vw||b.provider===ww)&&(this.foldingStateMemento=b);var e=b.collapsedRegions;if(this.hiddenRangeModel.applyMemento(e)){var f=this.getFoldingModel();f&&f.then(function(g){g&&g.applyMemento(e)}).then(void 0,W)}},a.prototype.onModelChanged=function(){var b=this;this.localToDispose.clear();var c=this.editor.getModel();if(!this._isEnabled||!c||c.isTooLargeForTokenization())return;this.foldingModel=new bI(c,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new gI(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(function(e){return b.onHiddenRangesChanges(e)})),this.updateScheduler=new ee(200),this.cursorChangedScheduler=new Ka(function(){return b.revealCursor()},200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(xm.onDidChange(function(){return b.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function(){return b.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelContent(function(){return b.onModelContentChanged()})),this.localToDispose.add(this.editor.onDidChangeCursorPosition(function(){return b.onCursorPositionChanged()})),this.localToDispose.add(this.editor.onMouseDown(function(e){return b.onEditorMouseDown(e)})),this.localToDispose.add(this.editor.onMouseUp(function(e){return b.onEditorMouseUp(e)})),this.localToDispose.add({dispose:function(){b.foldingRegionPromise&&(b.foldingRegionPromise.cancel(),b.foldingRegionPromise=null),b.updateScheduler&&b.updateScheduler.cancel(),b.updateScheduler=null,b.foldingModel=null,b.foldingModelPromise=null,b.hiddenRangeModel=null,b.cursorChangedScheduler=null,b.foldingStateMemento=null,b.rangeProvider&&b.rangeProvider.dispose(),b.rangeProvider=null}}),this.onModelContentChanged()},a.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},a.prototype.getRangeProvider=function(b){var c=this;if(this.rangeProvider)return this.rangeProvider;this.rangeProvider=new hI(b);if(this._useFoldingProviders&&this.foldingModel){var e=xm.ordered(this.foldingModel.textModel);if(e.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){var f=this.rangeProvider=new jI(b,this.foldingStateMemento.collapsedRegions,function(){c.foldingStateMemento=null,c.onFoldingStrategyChanged()},3e4);return f}else e.length>0&&(this.rangeProvider=new iI(b,e))}return this.foldingStateMemento=null,this.rangeProvider},a.prototype.getFoldingModel=function(){return this.foldingModelPromise},a.prototype.onModelContentChanged=function(){var b=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(function(){var c=b.foldingModel;if(!c)return null;var e=b.foldingRegionPromise=bb(function(f){return b.getRangeProvider(c.textModel).compute(f)});return e.then(function(f){if(f&&e===b.foldingRegionPromise){var g=b.editor.getSelections(),h=g?g.map(function(i){return i.startLineNumber}):[];c.update(f,h)}return c})}).then(void 0,function(c){return W(c),null}))},a.prototype.onHiddenRangesChanges=function(b){if(this.hiddenRangeModel&&b.length){var c=this.editor.getSelections();c&&(this.hiddenRangeModel.adjustSelections(c)&&this.editor.setSelections(c))}this.editor.setHiddenAreas(b)},a.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},a.prototype.revealCursor=function(){var b=this,c=this.getFoldingModel();if(!c)return;c.then(function(e){if(e){var f=b.editor.getSelections();if(f&&f.length>0){for(var g=[],h=function(l){var m=l.selectionStartLineNumber;b.hiddenRangeModel&&b.hiddenRangeModel.isHidden(m)&&g.push.apply(g,e.getAllRegionsAtLine(m,function(n){return n.isCollapsed&&m>n.startLineNumber}))},i=0,j=f;i<j.length;i++){var k=j[i];h(k)}g.length&&(e.toggleCollapseState(g),b.reveal(f[0].getPosition()))}}}).then(void 0,W)},a.prototype.onEditorMouseDown=function(b){this.mouseDownInfo=null;if(!this.hiddenRangeModel||!b.target||!b.target.range)return;if(!b.event.leftButton&&!b.event.middleButton)return;var c=b.target.range,e=!1;switch(b.target.type){case 4:var f=b.target.detail,g=b.target.element.offsetLeft,h=f.offsetX-g;if(h<5)return;e=!0;break;case 6:{if(this.hiddenRangeModel.hasRanges()){var i=this.editor.getModel();if(i&&c.startColumn===i.getLineMaxColumn(c.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:c.startLineNumber,iconClicked:e}},a.prototype.onEditorMouseUp=function(b){var c=this,e=this.getFoldingModel();if(!e||!this.mouseDownInfo||!b.target)return;var f=this.mouseDownInfo.lineNumber,g=this.mouseDownInfo.iconClicked,h=b.target.range;if(!h||h.startLineNumber!==f)return;if(g){if(b.target.type!==4)return}else{var i=this.editor.getModel();if(!i||h.startColumn!==i.getLineMaxColumn(f))return}e.then(function(j){if(j){var k=j.getRegionAtLine(f);if(k&&k.startLineNumber===f){var l=k.isCollapsed;if(g||l){var m=[],n=b.event.middleButton||b.event.shiftKey;if(n)for(var o=0,p=j.getRegionsInside(k);o<p.length;o++){var q=p[o];q.isCollapsed===l&&m.push(q)}(l||!n||m.length===0)&&m.push(k),j.toggleCollapseState(m),c.reveal({lineNumber:f,column:1})}}}}).then(void 0,W)},a.prototype.reveal=function(b){this.editor.revealPositionInCenterIfOutsideViewport(b,0)},a.ID="editor.contrib.folding",a=xZ([yZ(1,ha)],a),a}(I),Ue=function(d){Zd(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.runEditorCommand=function(b,c,e){var f=this,g=xw.get(c);if(!g)return;var h=g.getFoldingModel();if(h)return this.reportTelemetry(b,c),h.then(function(i){if(i){f.invoke(g,i,c,e);var j=c.getSelection();j&&g.reveal(j.getStartPosition())}})},a.prototype.getSelectedLines=function(b){var c=b.getSelections();return c?c.map(function(e){return e.startLineNumber}):[]},a.prototype.getLineNumbers=function(b,c){return b&&b.selectionLines?b.selectionLines.map(function(e){return e+1}):this.getSelectedLines(c)},a.prototype.run=function(b,c){},a}(aa);function kI(d){if(!dc(d)){if(!Ab(d))return!1;var a=d;if(!dc(a.levels)&&!id(a.levels))return!1;if(!dc(a.direction)&&!od(a.direction))return!1;if(!dc(a.selectionLines)&&(!Ko(a.selectionLines)||!a.selectionLines.every(id)))return!1}return!0}var zZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.unfold",label:s("unfoldAction.label","Unfold"),alias:"Unfold",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:kI,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return a.prototype.invoke=function(b,c,e,f){var g=f&&f.levels||1,h=this.getLineNumbers(f,e);f&&f.direction==="up"?uw(c,!1,g,h):Hi(c,!1,g,h)},a}(Ue),AZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.unfoldRecursively",label:s("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|89),weight:100}})||this}return a.prototype.invoke=function(b,c,e,f){Hi(c,!1,Number.MAX_VALUE,this.getSelectedLines(e))},a}(Ue),BZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.fold",label:s("foldAction.label","Fold"),alias:"Fold",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:kI,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return a.prototype.invoke=function(b,c,e,f){var g=this.getLineNumbers(f,e),h=f&&f.levels,i=f&&f.direction;typeof h!=="number"&&typeof i!=="string"?eI(c,!0,g):i==="up"?uw(c,!0,h||1,g):Hi(c,!0,h||1,g)},a}(Ue),CZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.toggleFold",label:s("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|42),weight:100}})||this}return a.prototype.invoke=function(b,c,e){var f=this.getSelectedLines(e);dI(c,1,f)},a}(Ue),DZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.foldRecursively",label:s("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|87),weight:100}})||this}return a.prototype.invoke=function(b,c,e){var f=this.getSelectedLines(e);Hi(c,!0,Number.MAX_VALUE,f)},a}(Ue),EZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.foldAllBlockComments",label:s("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|85),weight:100}})||this}return a.prototype.invoke=function(b,c,e){if(c.regions.hasTypes())pr(c,gk.Comment.value,!0);else{var f=e.getModel();if(!f)return;var g=sa.getComments(f.getLanguageIdentifier().id);if(g&&g.blockCommentStartToken){var h=new RegExp("^\\s*"+Zc(g.blockCommentStartToken));or(c,h,!0)}}},a}(Ue),FZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.foldAllMarkerRegions",label:s("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|29),weight:100}})||this}return a.prototype.invoke=function(b,c,e){if(c.regions.hasTypes())pr(c,gk.Region.value,!0);else{var f=e.getModel();if(!f)return;var g=sa.getFoldingRules(f.getLanguageIdentifier().id);if(g&&g.markers&&g.markers.start){var h=new RegExp(g.markers.start);or(c,h,!0)}}},a}(Ue),GZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.unfoldAllMarkerRegions",label:s("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|30),weight:100}})||this}return a.prototype.invoke=function(b,c,e){if(c.regions.hasTypes())pr(c,gk.Region.value,!1);else{var f=e.getModel();if(!f)return;var g=sa.getFoldingRules(f.getLanguageIdentifier().id);if(g&&g.markers&&g.markers.start){var h=new RegExp(g.markers.start);or(c,h,!1)}}},a}(Ue),HZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.foldAll",label:s("foldAllAction.label","Fold All"),alias:"Fold All",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|21),weight:100}})||this}return a.prototype.invoke=function(b,c,e){Hi(c,!0)},a}(Ue),IZ=function(d){Zd(a,d);function a(){return d.call(this,{id:"editor.unfoldAll",label:s("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|40),weight:100}})||this}return a.prototype.invoke=function(b,c,e){Hi(c,!1)},a}(Ue),lI=function(d){Zd(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(a.ID_PREFIX.length))},a.prototype.invoke=function(b,c,e){cI(c,this.getFoldingLevel(),!0,this.getSelectedLines(e))},a.ID_PREFIX="editor.foldLevel",a.ID=function(b){return a.ID_PREFIX+b},a}(Ue);ra(xw.ID,xw);N(zZ);N(AZ);N(BZ);N(DZ);N(HZ);N(IZ);N(EZ);N(FZ);N(GZ);N(CZ);for(var Ak=1;Ak<=7;Ak++)eD(new lI({id:lI.ID(Ak),label:s("foldLevelAction.label","Fold Level {0}",Ak),alias:"Fold Level "+Ak,precondition:se,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|21+Ak),weight:100}}));var JZ=K("editor.foldBackground",{light:Te(sf,.3),dark:Te(sf,.3),hc:null},s("editorSelectionBackground","Color of the editor selection."));la(function(d,a){var b=d.getColor(JZ);b&&a.addRule(".monaco-editor .folded-background { background-color: "+b+"; }")});var zw=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),UZ=function(d){zw(a,d);function a(){return d.call(this,{id:"editor.action.fontZoomIn",label:s("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})||this}return a.prototype.run=function(b,c){Vd.setZoomLevel(Vd.getZoomLevel()+1)},a}(aa),VZ=function(d){zw(a,d);function a(){return d.call(this,{id:"editor.action.fontZoomOut",label:s("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})||this}return a.prototype.run=function(b,c){Vd.setZoomLevel(Vd.getZoomLevel()-1)},a}(aa),WZ=function(d){zw(a,d);function a(){return d.call(this,{id:"editor.action.fontZoomReset",label:s("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})||this}return a.prototype.run=function(b,c){Vd.setZoomLevel(0)},a}(aa);N(UZ);N(VZ);N(WZ);var _m=function(){function d(){}return d._handleEolEdits=function(a,b){for(var c=void 0,e=[],f=0,g=b;f<g.length;f++){var h=g[f];typeof h.eol==="number"&&(c=h.eol),h.range&&typeof h.text==="string"&&e.push(h)}return typeof c==="number"&&(a.hasModel()&&a.getModel().pushEOL(c)),e},d._isFullModelReplaceEdit=function(a,b){if(!a.hasModel())return!1;var c=a.getModel(),e=c.validateRange(b.range),f=c.getFullModelRange();return f.equalsRange(e)},d.execute=function(a,b){a.pushUndoStop();var c=d._handleEolEdits(a,b);c.length===1&&d._isFullModelReplaceEdit(a,c[0])?a.executeEdits("formatEditsCommand",c.map(function(e){return jb.replace(z.lift(e.range),e.text)})):a.executeEdits("formatEditsCommand",c.map(function(e){return jb.replaceMove(z.lift(e.range),e.text)})),a.pushUndoStop()},d}();var qr=function(){function d(a){this.value=a,this._lower=a.toLowerCase()}return d.toKey=function(a){return typeof a==="string"?a.toLowerCase():a._lower},d}();var Ii=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},Ji=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};function rr(d){d=d.filter(function(f){return f.range});if(!d.length)return;for(var a=d[0].range,b=1;b<d.length;b++)a=z.plusRange(a,d[b].range);var c=a.startLineNumber,e=a.endLineNumber;c===e?d.length===1?Gb(s("hint11","Made 1 formatting edit on line {0}",c)):Gb(s("hintn1","Made {0} formatting edits on line {1}",d.length,c)):d.length===1?Gb(s("hint1n","Made 1 formatting edit between lines {0} and {1}",c,e)):Gb(s("hintnn","Made {0} formatting edits between lines {1} and {2}",d.length,c,e))}function pI(d){for(var a=[],b=new Set(),c=gh.ordered(d),e=0,f=c;e<f.length;e++){var g=f[e];a.push(g),g.extensionId&&b.add(qr.toKey(g.extensionId))}for(var h=ud.ordered(d),i=function(l){if(l.extensionId){if(b.has(qr.toKey(l.extensionId)))return"continue";b.add(qr.toKey(l.extensionId))}a.push({displayName:l.displayName,extensionId:l.extensionId,provideDocumentFormattingEdits:function(m,n,o){return l.provideDocumentRangeFormattingEdits(m,m.getFullModelRange(),n,o)}})},j=0,k=h;j<k.length;j++){var g=k[j];i(g)}return a}var qI=function(){function d(){}return d.select=function(a,b,c){return Ii(this,void 0,void 0,function(){var e;return Ji(this,function(f){switch(f.label){case 0:return a.length===0?[2,void 0]:(e=d._selectors.iterator().next().value,e?[4,e(a,b,c)]:[3,2]);case 1:return[2,f.sent()];case 2:return[2,a[0]]}})})},d._selectors=new Yc(),d}();function Aw(d,a,b,c,e){return Ii(this,void 0,void 0,function(){var f,g,h,i;return Ji(this,function(j){switch(j.label){case 0:return f=d.get(Aa),g=Id(a)?a.getModel():a,h=ud.ordered(g),[4,qI.select(h,g,c)];case 1:return i=j.sent(),i?[4,f.invokeFunction(XZ,i,a,b,e)]:[3,3];case 2:j.sent(),j.label=3;case 3:return[2]}})})}function XZ(d,a,b,c,e){return Ii(this,void 0,void 0,function(){var f,g,h,i,j,k,l;return Ji(this,function(m){switch(m.label){case 0:f=d.get(pc),Id(b)?(g=b.getModel(),h=new ci(b,1|4,e)):(g=b,h=new Vl(b,e)),m.label=1;case 1:return m.trys.push([1,,4,5]),[4,a.provideDocumentRangeFormattingEdits(g,c,g.getFormattingOptions(),h.token)];case 2:return j=m.sent(),[4,f.computeMoreMinimalEdits(g.uri,j)];case 3:return i=m.sent(),h.token.isCancellationRequested?[2,!0]:[3,5];case 4:return h.dispose(),[7];case 5:return!i||i.length===0?[2,!1]:(Id(b)?(_m.execute(b,i),rr(i),b.pushUndoStop(),b.revealPositionInCenterIfOutsideViewport(b.getPosition(),1)):(k=i[0].range,l=new V(k.startLineNumber,k.startColumn,k.endLineNumber,k.endColumn),g.pushEditOperations([l],i.map(function(n){return{text:n.text,range:z.lift(n.range),forceMoveMarkers:!0}}),function(n){for(var o=0,p=n;o<p.length;o++){var q=p[o].range;if(z.areIntersectingOrTouching(q,l))return[new V(q.startLineNumber,q.startColumn,q.endLineNumber,q.endColumn)]}return null})),[2,!0])}})})}function rI(d,a,b,c){return Ii(this,void 0,void 0,function(){var e,f,g,h;return Ji(this,function(i){switch(i.label){case 0:return e=d.get(Aa),f=Id(a)?a.getModel():a,g=pI(f),[4,qI.select(g,f,b)];case 1:return h=i.sent(),h?[4,e.invokeFunction(YZ,h,a,b,c)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function YZ(d,a,b,c,e){return Ii(this,void 0,void 0,function(){var f,g,h,i,j,k,l;return Ji(this,function(m){switch(m.label){case 0:f=d.get(pc),Id(b)?(g=b.getModel(),h=new ci(b,1|4,e)):(g=b,h=new Vl(b,e)),m.label=1;case 1:return m.trys.push([1,,4,5]),[4,a.provideDocumentFormattingEdits(g,g.getFormattingOptions(),h.token)];case 2:return j=m.sent(),[4,f.computeMoreMinimalEdits(g.uri,j)];case 3:return i=m.sent(),h.token.isCancellationRequested?[2,!0]:[3,5];case 4:return h.dispose(),[7];case 5:return!i||i.length===0?[2,!1]:(Id(b)?(_m.execute(b,i),c!==2&&(rr(i),b.pushUndoStop(),b.revealPositionInCenterIfOutsideViewport(b.getPosition(),1))):(k=i[0].range,l=new V(k.startLineNumber,k.startColumn,k.endLineNumber,k.endColumn),g.pushEditOperations([l],i.map(function(n){return{text:n.text,range:z.lift(n.range),forceMoveMarkers:!0}}),function(n){for(var o=0,p=n;o<p.length;o++){var q=p[o].range;if(z.areIntersectingOrTouching(q,l))return[new V(q.startLineNumber,q.startColumn,q.endLineNumber,q.endColumn)]}return null})),[2,!0])}})})}function ZZ(d,a,b,c,e){return Ii(this,void 0,void 0,function(){var f,g,h,i,j;return Ji(this,function(k){switch(k.label){case 0:f=ud.ordered(a),g=0,h=f,k.label=1;case 1:return g<h.length?(i=h[g],[4,Promise.resolve(i.provideDocumentRangeFormattingEdits(a,b,c,e)).catch(tb)]):[3,5];case 2:return j=k.sent(),Ib(j)?[4,d.computeMoreMinimalEdits(a.uri,j)]:[3,4];case 3:return[2,k.sent()];case 4:return g++,[3,1];case 5:return[2,void 0]}})})}function _Z(d,a,b,c){return Ii(this,void 0,void 0,function(){var e,f,g,h,i;return Ji(this,function(j){switch(j.label){case 0:e=pI(a),f=0,g=e,j.label=1;case 1:return f<g.length?(h=g[f],[4,Promise.resolve(h.provideDocumentFormattingEdits(a,b,c)).catch(tb)]):[3,5];case 2:return i=j.sent(),Ib(i)?[4,d.computeMoreMinimalEdits(a.uri,i)]:[3,4];case 3:return[2,j.sent()];case 4:return f++,[3,1];case 5:return[2,void 0]}})})}function Bw(d,a,b,c,e){var f=wi.ordered(a);return f.length===0?Promise.resolve(void 0):f[0].autoFormatTriggerCharacters.indexOf(c)<0?Promise.resolve(void 0):Promise.resolve(f[0].provideOnTypeFormattingEdits(a,b,c,e,xa.None)).catch(tb).then(function(g){return d.computeMoreMinimalEdits(a.uri,g)})}Ca.registerCommand("_executeFormatRangeProvider",function(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];var c=a[0],e=a[1],f=a[2];Ub(ja.isUri(c)),Ub(z.isIRange(e));var g=d.get(ub).getModel(c);if(!g)throw Qb("resource");return ZZ(d.get(pc),g,z.lift(e),f,xa.None)});Ca.registerCommand("_executeFormatDocumentProvider",function(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];var c=a[0],e=a[1];Ub(ja.isUri(c));var f=d.get(ub).getModel(c);if(!f)throw Qb("resource");return _Z(d.get(pc),f,e,xa.None)});Ca.registerCommand("_executeFormatOnTypeProvider",function(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];var c=a[0],e=a[1],f=a[2],g=a[3];Ub(ja.isUri(c)),Ub(G.isIPosition(e)),Ub(typeof f==="string");var h=d.get(ub).getModel(c);if(!h)throw Qb("resource");return Bw(d.get(pc),h,G.lift(e),f,g)});var sI=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),tI=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},uI=function(d,a){return function(b,c){a(b,c,d)}},Cw=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},Dw=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},vI=function(){function d(a,b){var c=this;this._workerService=b,this._callOnDispose=new P(),this._callOnModel=new P(),this._editor=a,this._callOnDispose.add(a.onDidChangeConfiguration(function(){return c._update()})),this._callOnDispose.add(a.onDidChangeModel(function(){return c._update()})),this._callOnDispose.add(a.onDidChangeModelLanguage(function(){return c._update()})),this._callOnDispose.add(wi.onDidChange(this._update,this))}return d.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},d.prototype._update=function(){var a=this;this._callOnModel.clear();if(!this._editor.getOption(39))return;if(!this._editor.hasModel())return;var b=this._editor.getModel(),c=wi.ordered(b)[0];if(!c||!c.autoFormatTriggerCharacters)return;for(var e=new ig(),f=0,g=c.autoFormatTriggerCharacters;f<g.length;f++){var h=g[f];e.add(h.charCodeAt(0))}this._callOnModel.add(this._editor.onDidType(function(i){var j=i.charCodeAt(i.length-1);e.has(j)&&a._trigger(String.fromCharCode(j))}))},d.prototype._trigger=function(a){var b=this;if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1)return;var c=this._editor.getModel(),e=this._editor.getPosition(),f=!1,g=this._editor.onDidChangeModelContent(function(h){if(h.isFlush){f=!0,g.dispose();return}for(var i=0,j=h.changes.length;i<j;i++){var k=h.changes[i];if(k.range.endLineNumber<=e.lineNumber){f=!0,g.dispose();return}}});Bw(this._workerService,c,e,a,c.getFormattingOptions()).then(function(h){g.dispose();if(f)return;Ib(h)&&(_m.execute(b._editor,h),rr(h))},function(h){throw g.dispose(),h})},d.ID="editor.contrib.autoFormat",d=tI([uI(1,pc)],d),d}(),wI=function(){function d(a,b){var c=this;this.editor=a,this._instantiationService=b,this._callOnDispose=new P(),this._callOnModel=new P(),this._callOnDispose.add(a.onDidChangeConfiguration(function(){return c._update()})),this._callOnDispose.add(a.onDidChangeModel(function(){return c._update()})),this._callOnDispose.add(a.onDidChangeModelLanguage(function(){return c._update()})),this._callOnDispose.add(ud.onDidChange(this._update,this))}return d.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},d.prototype._update=function(){var a=this;this._callOnModel.clear();if(!this.editor.getOption(38))return;if(!this.editor.hasModel())return;if(!ud.has(this.editor.getModel()))return;this._callOnModel.add(this.editor.onDidPaste(function(b){var c=b.range;return a._trigger(c)}))},d.prototype._trigger=function(a){if(!this.editor.hasModel())return;if(this.editor.getSelections().length>1)return;this._instantiationService.invokeFunction(Aw,this.editor,a,2,xa.None).catch(W)},d.ID="editor.contrib.formatOnPaste",d=tI([uI(1,Aa)],d),d}(),$Z=function(d){sI(a,d);function a(){return d.call(this,{id:"editor.action.formatDocument",label:s("formatDocument.label","Format Document"),alias:"Format Document",precondition:Z.and(C.writable,C.hasDocumentFormattingProvider),kbOpts:{kbExpr:Z.and(C.editorTextFocus,C.hasDocumentFormattingProvider),primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{when:C.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}return a.prototype.run=function(b,c){return Cw(this,void 0,void 0,function(){var e;return Dw(this,function(f){switch(f.label){case 0:return c.hasModel()?(e=b.get(Aa),[4,e.invokeFunction(rI,c,1,xa.None)]):[3,2];case 1:f.sent(),f.label=2;case 2:return[2]}})})},a}(aa),a_=function(d){sI(a,d);function a(){return d.call(this,{id:"editor.action.formatSelection",label:s("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Z.and(C.writable,C.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Z.and(C.editorTextFocus,C.hasDocumentSelectionFormattingProvider),primary:Bb(2048|41,2048|36),weight:100},contextMenuOpts:{when:Z.and(C.hasDocumentSelectionFormattingProvider,C.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}return a.prototype.run=function(b,c){return Cw(this,void 0,void 0,function(){var e,f,g;return Dw(this,function(h){switch(h.label){case 0:return c.hasModel()?(e=b.get(Aa),f=c.getModel(),g=c.getSelection(),g.isEmpty()&&(g=new z(g.startLineNumber,1,g.startLineNumber,f.getLineMaxColumn(g.startLineNumber))),[4,e.invokeFunction(Aw,c,g,1,xa.None)]):[2];case 1:return h.sent(),[2]}})})},a}(aa);ra(vI.ID,vI);ra(wI.ID,wI);N($Z);N(a_);Ca.registerCommand("editor.action.format",function(d){return Cw(void 0,void 0,void 0,function(){var a,b;return Dw(this,function(c){switch(c.label){case 0:return a=d.get(ya).getFocusedCodeEditor(),!a||!a.hasModel()?[2]:(b=d.get(db),a.getSelection().isEmpty()?[4,b.executeCommand("editor.action.formatDocument")]:[3,2]);case 1:return c.sent(),[3,4];case 2:return[4,b.executeCommand("editor.action.formatSelection")];case 3:c.sent(),c.label=4;case 4:return[2]}})})});var zT=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),AT=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},mi=function(d,a){return function(b,c){a(b,c,d)}},ni=function(d){zT(a,d);function a(b,c,e,f,g,h,i,j,k,l){var m=d.call(this,b,e.getRawOptions(),{},f,g,h,i,j,k,l)||this;return m._parentEditor=e,m._overwriteOptions=c,d.prototype.updateOptions.call(m,m._overwriteOptions),m._register(e.onDidChangeConfiguration(function(n){return m._onParentConfigurationChanged(n)})),m}return a.prototype.getParentEditor=function(){return this._parentEditor},a.prototype._onParentConfigurationChanged=function(b){d.prototype.updateOptions.call(this,this._parentEditor.getRawOptions()),d.prototype.updateOptions.call(this,this._overwriteOptions)},a.prototype.updateOptions=function(b){Pb(this._overwriteOptions,b,!0),d.prototype.updateOptions.call(this,this._overwriteOptions)},a=AT([mi(3,Aa),mi(4,ya),mi(5,db),mi(6,ha),mi(7,Ia),mi(8,Ra),mi(9,Qc)],a),a}(Qj);var Tt=function(){function d(a){this._prefix=a,this._lastId=0}return d.prototype.nextId=function(){return this._prefix+ ++this._lastId},d}(),Rn=new Tt("id#");var IK=new M(new Ha(0,122,204)),P1={showArrow:!0,showFrame:!0,className:"",frameColor:IK,arrowColor:IK,keepEditorSelection:!1},Q1="vs.editor.contrib.zoneWidget",R1=function(){function d(a,b,c,e,f,g){this.id="",this.domNode=a,this.afterLineNumber=b,this.afterColumn=c,this.heightInLines=e,this._onDomNodeTop=f,this._onComputedHeight=g}return d.prototype.onDomNodeTop=function(a){this._onDomNodeTop(a)},d.prototype.onComputedHeight=function(a){this._onComputedHeight(a)},d}(),S1=function(){function d(a,b){this._id=a,this._domNode=b}return d.prototype.getId=function(){return this._id},d.prototype.getDomNode=function(){return this._domNode},d.prototype.getPosition=function(){return null},d}(),T1=function(){function d(a){this._editor=a,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}return d.prototype.dispose=function(){this.hide(),el(this._ruleName)},Object.defineProperty(d.prototype,"color",{set:function(a){this._color!==a&&(this._color=a,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"height",{set:function(a){this._height!==a&&(this._height=a,this._updateStyle())},enumerable:!0,configurable:!0}),d.prototype._updateStyle=function(){el(this._ruleName),Ly(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},d.prototype.show=function(a){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:z.fromPositions(a),options:{className:this._ruleName,stickiness:1}}])},d.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},d._IdGenerator=new Tt(".arrow-decoration-"),d}(),IJ=function(){function d(a,b){var c=this;b===void 0&&(b={}),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new P(),this.container=null,this._isShowing=!1,this.editor=a,this.options=jd(b),Pb(this.options,P1,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(function(e){var f=c._getWidth(e);c.domNode.style.width=f+"px",c.domNode.style.left=c._getLeft(e)+"px",c._onWidth(f)}))}return d.prototype.dispose=function(){var a=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(b){a._viewZone&&b.removeZone(a._viewZone.id),a._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()},d.prototype.create=function(){U(this.domNode,"zone-widget"),this.options.className&&U(this.domNode,this.options.className),this.container=document.createElement("div"),U(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new T1(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},d.prototype.style=function(a){a.frameColor&&(this.options.frameColor=a.frameColor),a.arrowColor&&(this.options.arrowColor=a.arrowColor),this._applyStyles()},d.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var a=this.options.frameColor.toString();this.container.style.borderTopColor=a,this.container.style.borderBottomColor=a}if(this._arrow&&this.options.arrowColor){var b=this.options.arrowColor.toString();this._arrow.color=b}},d.prototype._getWidth=function(a){return a.width-a.minimapWidth-a.verticalScrollbarWidth},d.prototype._getLeft=function(a){return a.minimapWidth>0&&a.minimapLeft===0?a.minimapWidth:0},d.prototype._onViewZoneTop=function(a){this.domNode.style.top=a+"px"},d.prototype._onViewZoneHeight=function(a){this.domNode.style.height=a+"px";if(this.container){var b=a-this._decoratingElementsHeight();this.container.style.height=b+"px";var c=this.editor.getLayoutInfo();this._doLayout(b,this._getWidth(c))}this._resizeSash&&this._resizeSash.layout()},Object.defineProperty(d.prototype,"position",{get:function(){var a=this._positionMarkerId[0];if(!a)return;var b=this.editor.getModel();if(!b)return;var c=b.getDecorationRange(a);return c?c.getStartPosition():void 0},enumerable:!0,configurable:!0}),d.prototype.show=function(a,b){var c=z.isIRange(a)?z.lift(a):z.fromPositions(a);this._isShowing=!0,this._showImpl(c,b),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:c,options:na.EMPTY}])},d.prototype.hide=function(){var a=this;this._viewZone&&(this.editor.changeViewZones(function(b){a._viewZone&&b.removeZone(a._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},d.prototype._decoratingElementsHeight=function(){var a=this.editor.getOption(49),b=0;if(this.options.showArrow){var c=Math.round(a/3);b+=2*c}if(this.options.showFrame){var e=Math.round(a/9);b+=2*e}return b},d.prototype._showImpl=function(a,b){var c=this,e=a.getStartPosition(),f=this.editor.getLayoutInfo(),g=this._getWidth(f);this.domNode.style.width=g+"px",this.domNode.style.left=this._getLeft(f)+"px";var h=document.createElement("div");h.style.overflow="hidden";var i=this.editor.getOption(49),j=this.editor.getLayoutInfo().height/i*.8;b>=j&&(b=j);var k=0,l=0;this._arrow&&this.options.showArrow&&(k=Math.round(i/3),this._arrow.height=k,this._arrow.show(e)),this.options.showFrame&&(l=Math.round(i/9)),this.editor.changeViewZones(function(q){c._viewZone&&q.removeZone(c._viewZone.id),c._overlayWidget&&(c.editor.removeOverlayWidget(c._overlayWidget),c._overlayWidget=null),c.domNode.style.top="-1000px",c._viewZone=new R1(h,e.lineNumber,e.column,b,function(r){return c._onViewZoneTop(r)},function(r){return c._onViewZoneHeight(r)}),c._viewZone.id=q.addZone(c._viewZone),c._overlayWidget=new S1(Q1+c._viewZone.id,c.domNode),c.editor.addOverlayWidget(c._overlayWidget)});if(this.container&&this.options.showFrame){var m=this.options.frameWidth?this.options.frameWidth:l;this.container.style.borderTopWidth=m+"px",this.container.style.borderBottomWidth=m+"px"}var n=b*i-this._decoratingElementsHeight();this.container&&(this.container.style.top=k+"px",this.container.style.height=n+"px",this.container.style.overflow="hidden"),this._doLayout(n,g),this.options.keepEditorSelection||this.editor.setSelection(a);var o=this.editor.getModel();if(o){var p=a.endLineNumber+1;p<=o.getLineCount()?this.revealLine(p,!1):this.revealLine(o.getLineCount(),!0)}},d.prototype.revealLine=function(a,b){b?this.editor.revealLineInCenter(a,0):this.editor.revealLine(a,0)},d.prototype.setCssClass=function(a,b){if(!this.container)return;b&&this.container.classList.remove(b),U(this.container,a)},d.prototype._onWidth=function(a){},d.prototype._doLayout=function(a,b){},d.prototype._relayout=function(a){var b=this;this._viewZone&&this._viewZone.heightInLines!==a&&this.editor.changeViewZones(function(c){b._viewZone&&(b._viewZone.heightInLines=a,c.layoutZone(b._viewZone.id))})},d.prototype._initSash=function(){var a=this;if(this._resizeSash)return;this._resizeSash=this._disposables.add(new Gg(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);var b;this._disposables.add(this._resizeSash.onDidStart(function(c){a._viewZone&&(b={startY:c.startY,heightInLines:a._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(function(){b=void 0})),this._disposables.add(this._resizeSash.onDidChange(function(c){if(b){var e=(c.currentY-b.startY)/a.editor.getOption(49),f=e<0?Math.ceil(e):Math.floor(e),g=b.heightInLines+f;g>5&&g<35&&a._relayout(g)}}))},d.prototype.getHorizontalSashLeft=function(){return 0},d.prototype.getHorizontalSashTop=function(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2},d.prototype.getHorizontalSashWidth=function(){var a=this.editor.getLayoutInfo();return a.width-a.minimapWidth},d}();var Y$=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Z$=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},_$=function(d,a){return function(b,c){a(b,c,d)}},Xw=ia("IPeekViewService");mf(Xw,function(){function d(){this._widgets=new Map()}return d.prototype.addExclusiveWidget=function(a,b){var c=this,e=this._widgets.get(a);e&&(e.listener.dispose(),e.widget.dispose());var f=function(){var g=c._widgets.get(a);g&&g.widget===b&&(g.listener.dispose(),c._widgets.delete(a))};this._widgets.set(a,{widget:b,listener:b.onDidClose(f)})},d}());var dd;(function(d){d.inPeekEditor=new ea("inReferenceSearchEditor",!0),d.notInPeekEditor=d.inPeekEditor.toNegated()})(dd||(dd={}));var JJ=function(){function d(a,b){a instanceof ni&&dd.inPeekEditor.bindTo(b)}return d.prototype.dispose=function(){},d.ID="editor.contrib.referenceController",d=Z$([_$(1,ha)],d),d}();ra(JJ.ID,JJ);function LI(d){var a=d.get(ya).getFocusedCodeEditor();return a instanceof ni?a.getParentEditor():a}var $$={headerBackgroundColor:M.white,primaryHeadingColor:M.fromHex("#333333"),secondaryHeadingColor:M.fromHex("#6c6c6cb3")},ur=function(d){Y$(a,d);function a(b,c){c===void 0&&(c={});var e=d.call(this,b,c)||this;return e._onDidClose=new E(),e.onDidClose=e._onDidClose.event,Pb(e.options,$$,!1),e}return a.prototype.dispose=function(){d.prototype.dispose.call(this),this._onDidClose.fire(this)},a.prototype.style=function(b){var c=this.options;b.headerBackgroundColor&&(c.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(c.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(c.secondaryHeadingColor=b.secondaryHeadingColor),d.prototype.style.call(this,b)},a.prototype._applyStyles=function(){d.prototype._applyStyles.call(this);var b=this.options;this._headElement&&b.headerBackgroundColor&&(this._headElement.style.backgroundColor=b.headerBackgroundColor.toString()),this._primaryHeading&&b.primaryHeadingColor&&(this._primaryHeading.style.color=b.primaryHeadingColor.toString()),this._secondaryHeading&&b.secondaryHeadingColor&&(this._secondaryHeading.style.color=b.secondaryHeadingColor.toString()),this._bodyElement&&b.frameColor&&(this._bodyElement.style.borderColor=b.frameColor.toString())},a.prototype._fillContainer=function(b){this.setCssClass("peekview-widget"),this._headElement=X(".head"),this._bodyElement=X(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),b.appendChild(this._headElement),b.appendChild(this._bodyElement)},a.prototype._fillHead=function(b){var c=this,e=X(".peekview-title");S(this._headElement,e),Ua(e,"click",function(h){return c._onTitleClick(h)}),this._fillTitleIcon(e),this._primaryHeading=X("span.filename"),this._secondaryHeading=X("span.dirname"),this._metaHeading=X("span.meta"),S(e,this._primaryHeading,this._secondaryHeading,this._metaHeading);var f=X(".peekview-actions");S(this._headElement,f);var g=this._getActionBarOptions();this._actionbarWidget=new bf(f,g),this._disposables.add(this._actionbarWidget),this._actionbarWidget.push(new ac("peekview.close",s("label.close","Close"),"codicon-close",!0,function(){return c.dispose(),Promise.resolve()}),{label:!1,icon:!0})},a.prototype._fillTitleIcon=function(b){},a.prototype._getActionBarOptions=function(){return{}},a.prototype._onTitleClick=function(b){},a.prototype.setTitle=function(b,c){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerHTML=Xb(b),this._primaryHeading.setAttribute("aria-label",b),c?this._secondaryHeading.innerHTML=Xb(c):$b(this._secondaryHeading))},a.prototype.setMetaTitle=function(b){this._metaHeading&&(b?(this._metaHeading.innerHTML=Xb(b),Ob(this._metaHeading)):zb(this._metaHeading))},a.prototype._doLayout=function(b,c){if(!this._isShowing&&b<0){this.dispose();return}var e=Math.ceil(this.editor.getOption(49)*1.2),f=Math.round(b-(e+2));this._doLayoutHead(e,c),this._doLayoutBody(f,c)},a.prototype._doLayoutHead=function(b,c){this._headElement&&(this._headElement.style.height=b+"px",this._headElement.style.lineHeight=this._headElement.style.height)},a.prototype._doLayoutBody=function(b,c){this._bodyElement&&(this._bodyElement.style.height=b+"px")},a}(IJ),VI=K("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},s("peekViewTitleBackground","Background color of the peek view title area.")),vr=K("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},s("peekViewTitleForeground","Color of the peek view title.")),wr=K("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},s("peekViewTitleInfoForeground","Color of the peek view title info.")),UI=K("peekView.border",{dark:"#007acc",light:"#007acc",hc:Fb},s("peekViewBorder","Color of the peek view borders and arrow.")),Ww=K("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:M.black},s("peekViewResultsBackground","Background color of the peek view result list.")),ZI=K("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:M.white},s("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),_I=K("peekViewResult.fileForeground",{dark:M.white,light:"#1E1E1E",hc:M.white},s("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),$I=K("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},s("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),aJ=K("peekViewResult.selectionForeground",{dark:M.white,light:"#6C6C6C",hc:M.white},s("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),hn=K("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:M.black},s("peekViewEditorBackground","Background color of the peek view editor.")),bJ=K("peekViewEditorGutter.background",{dark:hn,light:hn,hc:hn},s("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),WI=K("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},s("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),XI=K("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},s("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),YI=K("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Sb},s("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Gf=function(){function d(a,b,c,e){this.isProviderFirst=a,this.parent=b,this._range=c,this._rangeCallback=e,this.id=Rn.nextId()}return Object.defineProperty(d.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"range",{get:function(){return this._range},set:function(a){this._range=a,this._rangeCallback(this)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"ariaMessage",{get:function(){return s("aria.oneReference","symbol in {0} on line {1} at column {2}",ld(this.uri),this.range.startLineNumber,this.range.startColumn)},enumerable:!0,configurable:!0}),d}(),C_=function(){function d(a){this._modelReference=a}return d.prototype.dispose=function(){this._modelReference.dispose()},d.prototype.preview=function(a,b){b===void 0&&(b=8);var c=this._modelReference.object.textEditorModel;if(!c)return;var e=a.startLineNumber,f=a.startColumn,g=a.endLineNumber,h=a.endColumn,i=c.getWordUntilPosition({lineNumber:e,column:f-b}),j=new z(e,i.startColumn,e,f),k=new z(g,h,g,1073741824),l=c.getValueInRange(j).replace(/^\s+/,""),m=c.getValueInRange(a),n=c.getValueInRange(k).replace(/\s+$/,"");return{value:l+m+n,highlight:{start:l.length,end:l.length+m.length}}},d}(),Li=function(){function d(a,b){this.parent=a,this.uri=b,this.children=[]}return d.prototype.dispose=function(){ca(this._preview),this._preview=void 0},Object.defineProperty(d.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"ariaMessage",{get:function(){var a=this.children.length;return a===1?s("aria.fileReferences.1","1 symbol in {0}, full path {1}",ld(this.uri),this.uri.fsPath):s("aria.fileReferences.N","{0} symbols in {1}, full path {2}",a,ld(this.uri),this.uri.fsPath)},enumerable:!0,configurable:!0}),d.prototype.resolve=function(a){var b=this;return this._resolved?Promise.resolve(this):Promise.resolve(a.createModelReference(this.uri).then(function(c){var e=c.object;if(!e)throw c.dispose(),new Error();return b._preview=new C_(c),b._resolved=!0,b},function(c){return b.children.length=0,b._resolved=!0,b._loadFailure=c,b}))},d}(),Hc=function(){function d(a,b){var c=this;this._disposables=new P(),this.groups=[],this.references=[],this._onDidChangeReferenceRange=new E(),this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=a,this._title=b;var e=a[0];a.sort(d._compareReferences);for(var f,g=0,h=a;g<h.length;g++){var i=h[g];(!f||f.uri.toString()!==i.uri.toString())&&(f=new Li(this,i.uri),this.groups.push(f));if(f.children.length===0||!z.equalsRange(i.range,f.children[f.children.length-1].range)){var j=new Gf(e===i,f,i.targetSelectionRange||i.range,function(k){return c._onDidChangeReferenceRange.fire(k)});this.references.push(j),f.children.push(j)}}}return d.prototype.dispose=function(){ca(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0},d.prototype.clone=function(){return new d(this._links,this._title)},Object.defineProperty(d.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isEmpty",{get:function(){return this.groups.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"ariaMessage",{get:function(){return this.isEmpty?s("aria.result.0","No results found"):this.references.length===1?s("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?s("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):s("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},enumerable:!0,configurable:!0}),d.prototype.nextOrPreviousReference=function(a,b){var c=a.parent,e=c.children.indexOf(a),f=c.children.length,g=c.parent.groups.length;return g===1||b&&e+1<f||!b&&e>0?(b?e=(e+1)%f:e=(e+f-1)%f,c.children[e]):(e=c.parent.groups.indexOf(c),b?(e=(e+1)%g,c.parent.groups[e].children[0]):(e=(e+g-1)%g,c.parent.groups[e].children[c.parent.groups[e].children.length-1]))},d.prototype.nearestReference=function(a,b){var c=this.references.map(function(e,f){return{idx:f,prefixLen:xj(e.uri.toString(),a.toString()),offsetDist:Math.abs(e.range.startLineNumber-b.lineNumber)*100+Math.abs(e.range.startColumn-b.column)}}).sort(function(e,f){return e.prefixLen>f.prefixLen?-1:e.prefixLen<f.prefixLen?1:e.offsetDist<f.offsetDist?-1:e.offsetDist>f.offsetDist?1:0})[0];return c?this.references[c.idx]:void 0},d.prototype.referenceAt=function(a,b){for(var c=0,e=this.references;c<e.length;c++){var f=e[c];if(f.uri.toString()===a.toString()){if(z.containsPosition(f.range,b))return f}}return},d.prototype.firstReference=function(){for(var a=0,b=this.references;a<b.length;a++){var c=b[a];if(c.isProviderFirst)return c}return this.references[0]},d._compareReferences=function(a,b){return Il(a.uri.toString(),b.uri.toString())||z.compareRangesUsingStarts(a.range,b.range)},d}();var Nf=function(){function d(a,b){this.supportCodicons=b,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",a.appendChild(this.domNode)}return Object.defineProperty(d.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),d.prototype.set=function(a,b,c,e){b===void 0&&(b=[]),c===void 0&&(c=""),a||(a=""),e&&(a=d.escapeNewLines(a,b));if(this.didEverRender&&this.text===a&&this.title===c&&Be(this.highlights,b))return;Array.isArray(b)||(b=[]),this.text=a,this.title=c,this.highlights=b,this.render()},d.prototype.render=function(){for(var a="",b=0,c=0,e=this.highlights;c<e.length;c++){var f=e[c];if(f.end===f.start)continue;if(b<f.start){a+="<span>";var g=this.text.substring(b,f.start);a+=this.supportCodicons?Dg(Xb(g)):Xb(g),a+="</span>",b=f.end}f.extraClasses?a+='<span class="highlight '+f.extraClasses+'">':a+='<span class="highlight">';var h=this.text.substring(f.start,f.end);a+=this.supportCodicons?Dg(Xb(h)):Xb(h),a+="</span>",b=f.end}if(b<this.text.length){a+="<span>";var h=this.text.substring(b);a+=this.supportCodicons?Dg(Xb(h)):Xb(h),a+="</span>"}this.domNode.innerHTML=a,this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0},d.escapeNewLines=function(a,b){var c=0,e=0;return a.replace(/\r\n|\r|\n/g,function(f,g){e=f===`\r
`?-1:0,g+=c;for(var h=0,i=b;h<i.length;h++){var j=i[h];if(j.end<=g)continue;j.start>=g&&(j.start+=e),j.end>=g&&(j.end+=e)}return c+=e,"⏎"})},d}();var aO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Ys=function(){function d(a){this._element=a}return Object.defineProperty(d.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"textContent",{set:function(a){if(this.disposed||a===this._textContent)return;this._textContent=a,this._element.textContent=a},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"className",{set:function(a){if(this.disposed||a===this._className)return;this._className=a,this._element.className=a},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"title",{set:function(a){if(this.disposed||a===this._title)return;this._title=a,this._title?this._element.title=a:this._element.removeAttribute("title")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"empty",{set:function(a){if(this.disposed||a===this._empty)return;this._empty=a,this._element.style.marginLeft=a?"0":""},enumerable:!0,configurable:!0}),d.prototype.dispose=function(){this.disposed=!0},d}(),gj=function(d){aO(a,d);function a(b,c){var e=d.call(this)||this;e.domNode=e._register(new Ys(S(b,X(".monaco-icon-label"))));var f=S(e.domNode.element,X(".monaco-icon-label-container")),g=S(f,X("span.monaco-icon-name-container"));return e.descriptionContainer=e._register(new Ys(S(f,X("span.monaco-icon-description-container")))),(c===null||c===void 0?void 0:c.supportHighlights)?e.nameNode=new dO(g,!!c.supportCodicons):e.nameNode=new bO(g),(c===null||c===void 0?void 0:c.supportDescriptionHighlights)?e.descriptionNodeFactory=function(){return new Nf(S(e.descriptionContainer.element,X("span.label-description")),!!c.supportCodicons)}:e.descriptionNodeFactory=function(){return e._register(new Ys(S(e.descriptionContainer.element,X("span.label-description"))))},e}return a.prototype.setLabel=function(b,c,e){var f=["monaco-icon-label"];e&&(e.extraClasses&&f.push.apply(f,e.extraClasses),e.italic&&f.push("italic")),this.domNode.className=f.join(" "),this.domNode.title=(e===null||e===void 0?void 0:e.title)||"",this.nameNode.setLabel(b,e),(c||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Nf?(this.descriptionNode.set(c||"",e?e.descriptionMatches:void 0),(e===null||e===void 0?void 0:e.descriptionTitle)?this.descriptionNode.element.title=e.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=c||"",this.descriptionNode.title=(e===null||e===void 0?void 0:e.descriptionTitle)||"",this.descriptionNode.empty=!c))},a}(I),bO=function(){function d(a){this.container=a,this.label=void 0,this.singleLabel=void 0}return d.prototype.setLabel=function(a,b){if(this.label===a&&Be(this.options,b))return;this.label=a,this.options=b;if(typeof a==="string")this.singleLabel||(this.container.innerHTML="",fa(this.container,"multiple"),this.singleLabel=S(this.container,X("a.label-name",{id:b===null||b===void 0?void 0:b.domId}))),this.singleLabel.textContent=a;else{this.container.innerHTML="",U(this.container,"multiple"),this.singleLabel=void 0;for(var c=0;c<a.length;c++){var e=a[c],f=(b===null||b===void 0?void 0:b.domId)&&(b===null||b===void 0?void 0:b.domId)+"_"+c;S(this.container,X("a.label-name",{id:f,"data-icon-label-count":a.length,"data-icon-label-index":c},e)),c<a.length-1&&S(this.container,X("span.label-separator",void 0,(b===null||b===void 0?void 0:b.separator)||"/"))}}},d}();function cO(d,a,b){if(!b)return;var c=0;return d.map(function(e){var f={start:c,end:c+e.length},g=b.map(function(h){return bc.intersect(f,h)}).filter(function(h){return!bc.isEmpty(h)}).map(function(h){var i=h.start,j=h.end;return{start:i-c,end:j-c}});return c=f.end+a.length,g})}var dO=function(){function d(a,b){this.container=a,this.supportCodicons=b,this.label=void 0,this.singleLabel=void 0}return d.prototype.setLabel=function(a,b){if(this.label===a&&Be(this.options,b))return;this.label=a,this.options=b;if(typeof a==="string")this.singleLabel||(this.container.innerHTML="",fa(this.container,"multiple"),this.singleLabel=new Nf(S(this.container,X("a.label-name",{id:b===null||b===void 0?void 0:b.domId})),this.supportCodicons)),this.singleLabel.set(a,b===null||b===void 0?void 0:b.matches,b===null||b===void 0?void 0:b.title,b===null||b===void 0?void 0:b.labelEscapeNewLines);else{this.container.innerHTML="",U(this.container,"multiple"),this.singleLabel=void 0;for(var c=(b===null||b===void 0?void 0:b.separator)||"/",e=cO(a,c,b===null||b===void 0?void 0:b.matches),f=0;f<a.length;f++){var g=a[f],h=e?e[f]:void 0,i=(b===null||b===void 0?void 0:b.domId)&&(b===null||b===void 0?void 0:b.domId)+"_"+f,j=X("a.label-name",{id:i,"data-icon-label-count":a.length,"data-icon-label-index":f}),k=new Nf(S(this.container,j),this.supportCodicons);k.set(g,h,b===null||b===void 0?void 0:b.title,b===null||b===void 0?void 0:b.labelEscapeNewLines),f<a.length-1&&S(j,X("span.label-separator",void 0,c))}}},d}();var TN={badgeBackground:M.fromHex("#4D4D4D"),badgeForeground:M.fromHex("#FFFFFF")},fz=function(){function d(a,b){this.count=0,this.options=b||Object.create(null),Pb(this.options,TN,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=S(a,X(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return d.prototype.setCount=function(a){this.count=a,this.render()},d.prototype.setTitleFormat=function(a){this.titleFormat=a,this.render()},d.prototype.render=function(){this.element.textContent=Ba(this.countFormat,this.count),this.element.title=Ba(this.titleFormat,this.count),this.applyStyles()},d.prototype.style=function(a){this.badgeBackground=a.badgeBackground,this.badgeForeground=a.badgeForeground,this.badgeBorder=a.badgeBorder,this.applyStyles()},d.prototype.applyStyles=function(){if(this.element){var a=this.badgeBackground?this.badgeBackground.toString():"",b=this.badgeForeground?this.badgeForeground.toString():"",c=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=a,this.element.style.color=b,this.element.style.borderWidth=c?"1px":"",this.element.style.borderStyle=c?"solid":"",this.element.style.borderColor=c}},d}();function TA(d,a,b){typeof d==="string"&&(d=ja.file(d));if(b){var c=b.getWorkspaceFolder(d);if(c){var e=b.getWorkspace().folders.length>1,f=void 0;He(c.uri,d)?f="":f=SA(c.uri,d);if(e){var g=c.name?c.name:ld(c.uri);f=f?g+" • "+f:g}return f}}if(d.scheme!==wa.file&&d.scheme!==wa.untitled)return d.with({query:null,fragment:null}).toString(!0);if(au(d.fsPath))return tj(Al(d.fsPath));var h=tj(d.fsPath);return!sb&&a&&(h=yQ(h,a.userHome)),h}function Fo(d){if(!d)return;typeof d==="string"&&(d=ja.file(d));var a=ld(d)||(d.scheme===wa.file?d.fsPath:d.path);return au(a)?Al(a):a}function au(d){return!!(sb&&d&&d[1]===":")}function Al(d){return au(d)?d.charAt(0).toUpperCase()+d.slice(1):d}var bu=Object.create(null);function yQ(d,a){if(sb||!d||!a)return d;var b=bu.original===a?bu.normalized:void 0;return b||(b=""+$t(a,nb.sep)+nb.sep,bu={original:a,normalized:b}),(cc?Ug(d,b):Qg(d,b))&&(d="~/"+d.substr(b.length)),d}var u_=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Br=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},fn=function(d,a){return function(b,c){a(b,c,d)}},OI=function(){function d(a){this._resolverService=a}return d.prototype.hasChildren=function(a){return a instanceof Hc?!0:a instanceof Li&&!a.failure?!0:!1},d.prototype.getChildren=function(a){if(a instanceof Hc)return a.groups;if(a instanceof Li)return a.resolve(this._resolverService).then(function(b){return b.children});throw new Error("bad tree")},d=Br([fn(0,rd)],d),d}(),PI=function(){function d(){}return d.prototype.getHeight=function(){return 23},d.prototype.getTemplateId=function(a){return a instanceof Li?Uw.id:Vw.id},d}(),QI=function(){function d(a){this._keybindingService=a}return d.prototype.getKeyboardNavigationLabel=function(a){if(a instanceof Gf){var b=a.parent.preview,c=b&&b.preview(a.range);if(c)return c.value}return ld(a.uri)},d=Br([fn(0,Ja)],d),d}(),RI=function(){function d(){}return d.prototype.getId=function(a){return a instanceof Gf?a.id:a.uri},d}(),v_=function(d){u_(a,d);function a(b,c,e){var f=d.call(this)||this;f._uriLabel=c;var g=document.createElement("div");return U(g,"reference-file"),f.file=f._register(new gj(g,{supportHighlights:!0})),f.badge=new fz(S(g,X(".count"))),f._register(NI(f.badge,e)),b.appendChild(g),f}return a.prototype.set=function(b,c){var e=vj(b.uri);this.file.setLabel(Fo(b.uri),this._uriLabel.getUriLabel(e,{relative:!0}),{title:this._uriLabel.getUriLabel(b.uri),matches:c});var f=b.children.length;this.badge.setCount(f),b.failure?this.badge.setTitleFormat(s("referencesFailre","Failed to resolve file.")):f>1?this.badge.setTitleFormat(s("referencesCount","{0} references",f)):this.badge.setTitleFormat(s("referenceCount","{0} reference",f))},a=Br([fn(1,vh),fn(2,Ia)],a),a}(I),Uw=function(){function d(a){this._instantiationService=a,this.templateId=d.id}return d.prototype.renderTemplate=function(a){return this._instantiationService.createInstance(v_,a)},d.prototype.renderElement=function(a,b,c){c.set(a.element,yl(a.filterData))},d.prototype.disposeTemplate=function(a){a.dispose()},d.id="FileReferencesRenderer",d=Br([fn(0,Aa)],d),d}(),w_=function(){function d(a){this.label=new Nf(a,!1)}return d.prototype.set=function(a,b){var c=a.parent.preview,e=c&&c.preview(a.range);if(!e)this.label.set(ld(a.uri)+":"+(a.range.startLineNumber+1)+":"+(a.range.startColumn+1));else{var f=e.value,g=e.highlight;b&&!kd.isDefault(b)?(qa(this.label.element,"referenceMatch",!1),this.label.set(f,yl(b))):(qa(this.label.element,"referenceMatch",!0),this.label.set(f,[g]))}},d}(),Vw=function(){function d(){this.templateId=d.id}return d.prototype.renderTemplate=function(a){return new w_(a)},d.prototype.renderElement=function(a,b,c){c.set(a.element,a.filterData)},d.prototype.disposeTemplate=function(){},d.id="OneReferenceRenderer",d}(),SI=function(){function d(){}return d.prototype.getAriaLabel=function(a){return a.ariaMessage},d}();var lt=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Hz=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},WO={separatorBorder:M.transparent},Iz=function(){function d(a,b,c,e){this.container=a,this.view=b,this.disposable=e,this._cachedVisibleSize=void 0,typeof c==="number"?(this._size=c,this._cachedVisibleSize=void 0,U(a,"visible")):(this._size=0,this._cachedVisibleSize=c.cachedVisibleSize)}return Object.defineProperty(d.prototype,"size",{get:function(){return this._size},set:function(a){this._size=a},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"visible",{get:function(){return typeof this._cachedVisibleSize==="undefined"},enumerable:!0,configurable:!0}),d.prototype.setVisible=function(a,b){if(a===this.visible)return;a?(this.size=Fd(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof b==="number"?b:this.size,this.size=0),qa(this.container,"visible",a),this.view.setVisible&&this.view.setVisible(a)},Object.defineProperty(d.prototype,"minimumSize",{get:function(){return this.visible?this.view.minimumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"viewMinimumSize",{get:function(){return this.view.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"maximumSize",{get:function(){return this.visible?this.view.maximumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"viewMaximumSize",{get:function(){return this.view.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"priority",{get:function(){return this.view.priority},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"snap",{get:function(){return!!this.view.snap},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"enabled",{set:function(a){this.container.style.pointerEvents=a?null:"none"},enumerable:!0,configurable:!0}),d.prototype.layout=function(a,b){this.layoutContainer(a),this.view.layout(this.size,a,b)},d.prototype.dispose=function(){return this.disposable.dispose(),this.view},d}(),XO=function(d){lt(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.layoutContainer=function(b){this.container.style.top=b+"px",this.container.style.height=this.size+"px"},a}(Iz),YO=function(d){lt(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.layoutContainer=function(b){this.container.style.left=b+"px",this.container.style.width=this.size+"px"},a}(Iz),Rf;(function(d){d[d.Idle=0]="Idle",d[d.Busy=1]="Busy"})(Rf||(Rf={}));var rl;(function(d){d.Distribute={type:"distribute"};function a(c){return{type:"split",index:c}}d.Split=a;function b(c){return{type:"invisible",cachedVisibleSize:c}}d.Invisible=b})(rl||(rl={}));var Jz=function(d){lt(a,d);function a(b,c){c===void 0&&(c={});var e=d.call(this)||this;return e.size=0,e.contentSize=0,e.proportions=void 0,e.viewItems=[],e.sashItems=[],e.state=Rf.Idle,e._onDidSashChange=e._register(new E()),e.onDidSashChange=e._onDidSashChange.event,e._onDidSashReset=e._register(new E()),e._startSnappingEnabled=!0,e._endSnappingEnabled=!0,e.orientation=dc(c.orientation)?0:c.orientation,e.inverseAltBehavior=!!c.inverseAltBehavior,e.proportionalLayout=dc(c.proportionalLayout)?!0:!!c.proportionalLayout,e.el=document.createElement("div"),U(e.el,"monaco-split-view2"),U(e.el,e.orientation===0?"vertical":"horizontal"),b.appendChild(e.el),e.sashContainer=S(e.el,X(".sash-container")),e.viewContainer=S(e.el,X(".split-view-container")),e.style(c.styles||WO),c.descriptor&&(e.size=c.descriptor.size,c.descriptor.views.forEach(function(f,g){var h=dc(f.visible)||f.visible?f.size:{type:"invisible",cachedVisibleSize:f.size},i=f.view;e.doAddView(i,h,g,!0)}),e.contentSize=e.viewItems.reduce(function(f,g){return f+g.size},0),e.saveProportions()),e}return Object.defineProperty(a.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(b){for(var c=0,e=this.sashItems;c<e.length;c++){var f=e[c];f.sash.orthogonalStartSash=b}this._orthogonalStartSash=b},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(b){for(var c=0,e=this.sashItems;c<e.length;c++){var f=e[c];f.sash.orthogonalEndSash=b}this._orthogonalEndSash=b},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startSnappingEnabled",{get:function(){return this._startSnappingEnabled},set:function(b){if(this._startSnappingEnabled===b)return;this._startSnappingEnabled=b,this.updateSashEnablement()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"endSnappingEnabled",{get:function(){return this._endSnappingEnabled},set:function(b){if(this._endSnappingEnabled===b)return;this._endSnappingEnabled=b,this.updateSashEnablement()},enumerable:!0,configurable:!0}),a.prototype.style=function(b){b.separatorBorder.isTransparent()?(fa(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(U(this.el,"separator-border"),this.el.style.setProperty("--separator-border",b.separatorBorder.toString()))},a.prototype.addView=function(b,c,e){e===void 0&&(e=this.viewItems.length),this.doAddView(b,c,e,!1)},a.prototype.layout=function(b,c){var e=this,f=Math.max(this.size,this.contentSize);this.size=b,this.layoutContext=c;if(this.proportions)for(var j=0;j<this.viewItems.length;j++){var k=this.viewItems[j];k.size=Fd(Math.round(this.proportions[j]*b),k.minimumSize,k.maximumSize)}else{var g=Bc(this.viewItems.length),h=g.filter(function(l){return e.viewItems[l].priority===1}),i=g.filter(function(l){return e.viewItems[l].priority===2});this.resize(this.viewItems.length-1,b-f,void 0,h,i)}this.distributeEmptySpace(),this.layoutViews()},a.prototype.saveProportions=function(){var b=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(function(c){return c.size/b.contentSize}))},a.prototype.onSashStart=function(b){for(var c=this,e=b.sash,f=b.start,g=b.alt,h=0,i=this.viewItems;h<i.length;h++){var j=i[h];j.enabled=!1}var k=Ce(this.sashItems,function(n){return n.sash===e}),l=Mc(ua(document.body,"keydown")(function(n){return m(c.sashDragState.current,n.altKey)}),ua(document.body,"keyup")(function(){return m(c.sashDragState.current,!1)})),m=function(n,o){var p=c.viewItems.map(function($){return $.size}),q=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;c.inverseAltBehavior&&(o=!o);if(o){var t=k===c.sashItems.length-1;if(t){var v=c.viewItems[k];q=(v.minimumSize-v.size)/2,r=(v.maximumSize-v.size)/2}else{var v=c.viewItems[k+1];q=(v.size-v.maximumSize)/2,r=(v.size-v.minimumSize)/2}}var w,x;if(!o){var u=Bc(k,-1),y=Bc(k+1,c.viewItems.length),A=u.reduce(function($,_){return $+(c.viewItems[_].minimumSize-p[_])},0),F=u.reduce(function($,_){return $+(c.viewItems[_].viewMaximumSize-p[_])},0),B=y.length===0?Number.POSITIVE_INFINITY:y.reduce(function($,_){return $+(p[_]-c.viewItems[_].minimumSize)},0),D=y.length===0?Number.NEGATIVE_INFINITY:y.reduce(function($,_){return $+(p[_]-c.viewItems[_].viewMaximumSize)},0),H=Math.max(A,D),J=Math.min(B,F),L=c.findFirstSnapIndex(u),O=c.findFirstSnapIndex(y);if(typeof L==="number"){var v=c.viewItems[L],T=Math.floor(v.viewMinimumSize/2);w={index:L,limitDelta:v.visible?H-T:H+T,size:v.size}}if(typeof O==="number"){var v=c.viewItems[O],T=Math.floor(v.viewMinimumSize/2);x={index:O,limitDelta:v.visible?J+T:J-T,size:v.size}}}c.sashDragState={start:n,current:n,index:k,sizes:p,minDelta:q,maxDelta:r,alt:o,snapBefore:w,snapAfter:x,disposable:l}};m(f,g)},a.prototype.onSashChange=function(b){var c=b.current,e=this.sashDragState,f=e.index,g=e.start,h=e.sizes,i=e.alt,j=e.minDelta,k=e.maxDelta,l=e.snapBefore,m=e.snapAfter;this.sashDragState.current=c;var n=c-g,o=this.resize(f,n,h,void 0,void 0,j,k,l,m);if(i){var p=f===this.sashItems.length-1,q=this.viewItems.map(function(u){return u.size}),r=p?f:f+1,t=this.viewItems[r],v=t.size-t.maximumSize,w=t.size-t.minimumSize,x=p?f-1:f+1;this.resize(x,-o,q,void 0,void 0,v,w)}this.distributeEmptySpace(),this.layoutViews()},a.prototype.onSashEnd=function(b){this._onDidSashChange.fire(b),this.sashDragState.disposable.dispose(),this.saveProportions();for(var c=0,e=this.viewItems;c<e.length;c++){var f=e[c];f.enabled=!0}},a.prototype.onViewChange=function(b,c){var e=this.viewItems.indexOf(b);if(e<0||e>=this.viewItems.length)return;c=typeof c==="number"?c:b.size,c=Fd(c,b.minimumSize,b.maximumSize),this.inverseAltBehavior&&e>0?(this.resize(e-1,Math.floor((b.size-c)/2)),this.distributeEmptySpace(),this.layoutViews()):(b.size=c,this.relayout([e],void 0))},a.prototype.resizeView=function(b,c){var e=this;if(this.state!==Rf.Idle)throw new Error("Cant modify splitview");this.state=Rf.Busy;if(b<0||b>=this.viewItems.length)return;var f=Bc(this.viewItems.length).filter(function(j){return j!==b}),g=Hz(f.filter(function(j){return e.viewItems[j].priority===1}),[b]),h=f.filter(function(j){return e.viewItems[j].priority===2}),i=this.viewItems[b];c=Math.round(c),c=Fd(c,i.minimumSize,Math.min(i.maximumSize,this.size)),i.size=c,this.relayout(g,h),this.state=Rf.Idle},a.prototype.distributeViewSizes=function(){for(var b=this,c=[],e=0,f=0,g=this.viewItems;f<g.length;f++){var h=g[f];h.maximumSize-h.minimumSize>0&&(c.push(h),e+=h.size)}for(var i=Math.floor(e/c.length),j=0,k=c;j<k.length;j++){var h=k[j];h.size=Fd(i,h.minimumSize,h.maximumSize)}var l=Bc(this.viewItems.length),m=l.filter(function(o){return b.viewItems[o].priority===1}),n=l.filter(function(o){return b.viewItems[o].priority===2});this.relayout(m,n)},a.prototype.getViewSize=function(b){return b<0||b>=this.viewItems.length?-1:this.viewItems[b].size},a.prototype.doAddView=function(b,c,e,f){var g=this;e===void 0&&(e=this.viewItems.length);if(this.state!==Rf.Idle)throw new Error("Cant modify splitview");this.state=Rf.Busy;var h=X(".split-view-view");e===this.viewItems.length?this.viewContainer.appendChild(h):this.viewContainer.insertBefore(h,this.viewContainer.children.item(e));var i=b.onDidChange(function(D){return g.onViewChange(m,D)}),j=va(function(){return g.viewContainer.removeChild(h)}),k=Mc(i,j),l;typeof c==="number"?l=c:c.type==="split"?l=this.getViewSize(c.index)/2:c.type==="invisible"?l={cachedVisibleSize:c.cachedVisibleSize}:l=b.minimumSize;var m=this.orientation===0?new XO(h,b,l,k):new YO(h,b,l,k);this.viewItems.splice(e,0,m);if(this.viewItems.length>1){var n=this.orientation===0?1:0,o=this.orientation===0?{getHorizontalSashTop:function(D){return g.getSashPosition(D)}}:{getVerticalSashLeft:function(D){return g.getSashPosition(D)}},p=new Gg(this.sashContainer,o,{orientation:n,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),q=this.orientation===0?function(D){return{sash:p,start:D.startY,current:D.currentY,alt:D.altKey}}:function(D){return{sash:p,start:D.startX,current:D.currentX,alt:D.altKey}},r=da.map(p.onDidStart,q),t=r(this.onSashStart,this),v=da.map(p.onDidChange,q),w=v(this.onSashChange,this),x=da.map(p.onDidEnd,function(){return Ce(g.sashItems,function(D){return D.sash===p})}),u=x(this.onSashEnd,this),y=p.onDidReset(function(){var D=Ce(g.sashItems,function(T){return T.sash===p}),H=Bc(D,-1),J=Bc(D+1,g.viewItems.length),L=g.findFirstSnapIndex(H),O=g.findFirstSnapIndex(J);if(typeof L==="number"&&!g.viewItems[L].visible)return;if(typeof O==="number"&&!g.viewItems[O].visible)return;g._onDidSashReset.fire(D)}),A=Mc(t,w,u,y,p),F={sash:p,disposable:A};this.sashItems.splice(e-1,0,F)}h.appendChild(b.element);var B;typeof c!=="number"&&c.type==="split"&&(B=[c.index]),f||this.relayout([e],B),this.state=Rf.Idle,!f&&typeof c!=="number"&&c.type==="distribute"&&this.distributeViewSizes()},a.prototype.relayout=function(b,c){var e=this.viewItems.reduce(function(f,g){return f+g.size},0);this.resize(this.viewItems.length-1,this.size-e,void 0,b,c),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},a.prototype.resize=function(b,c,e,f,g,h,i,j,k){var l=this;e===void 0&&(e=this.viewItems.map(function(Oa){return Oa.size})),h===void 0&&(h=Number.NEGATIVE_INFINITY),i===void 0&&(i=Number.POSITIVE_INFINITY);if(b<0||b>=this.viewItems.length)return 0;var m=Bc(b,-1),n=Bc(b+1,this.viewItems.length);if(g)for(var o=0,p=g;o<p.length;o++){var q=p[o];jo(m,q),jo(n,q)}if(f)for(var r=0,t=f;r<t.length;r++){var v=t[r];ql(m,v),ql(n,v)}var w=m.map(function(Oa){return l.viewItems[Oa]}),x=m.map(function(Oa){return e[Oa]}),u=n.map(function(Oa){return l.viewItems[Oa]}),y=n.map(function(Oa){return e[Oa]}),A=m.reduce(function(Oa,Ac){return Oa+(l.viewItems[Ac].minimumSize-e[Ac])},0),F=m.reduce(function(Oa,Ac){return Oa+(l.viewItems[Ac].maximumSize-e[Ac])},0),B=n.length===0?Number.POSITIVE_INFINITY:n.reduce(function(Oa,Ac){return Oa+(e[Ac]-l.viewItems[Ac].minimumSize)},0),D=n.length===0?Number.NEGATIVE_INFINITY:n.reduce(function(Oa,Ac){return Oa+(e[Ac]-l.viewItems[Ac].maximumSize)},0),H=Math.max(A,D,h),J=Math.min(B,F,i),L=!1;if(j){var O=this.viewItems[j.index],T=c>=j.limitDelta;L=T!==O.visible,O.setVisible(T,j.size)}if(!L&&k){var O=this.viewItems[k.index],T=c<k.limitDelta;L=T!==O.visible,O.setVisible(T,k.size)}if(L)return this.resize(b,c,e,f,g,h,i);c=Fd(c,H,J);for(var $=0,_=c;$<w.length;$++){var $a=w[$],Na=Fd(x[$]+_,$a.minimumSize,$a.maximumSize),Nb=Na-x[$];_-=Nb,$a.size=Na}for(var $=0,zc=c;$<u.length;$++){var $a=u[$],Na=Fd(y[$]-zc,$a.minimumSize,$a.maximumSize),Nb=Na-y[$];zc+=Nb,$a.size=Na}return c},a.prototype.distributeEmptySpace=function(b){for(var c=this,e=this.viewItems.reduce(function(t,v){return t+v.size},0),f=this.size-e,g=Bc(this.viewItems.length-1,-1),h=g.filter(function(t){return c.viewItems[t].priority===1}),i=g.filter(function(t){return c.viewItems[t].priority===2}),j=0,k=i;j<k.length;j++){var l=k[j];jo(g,l)}for(var m=0,n=h;m<n.length;m++){var l=n[m];ql(g,l)}typeof b==="number"&&ql(g,b);for(var o=0;f!==0&&o<g.length;o++){var p=this.viewItems[g[o]],q=Fd(p.size+f,p.minimumSize,p.maximumSize),r=q-p.size;f-=r,p.size=q}},a.prototype.layoutViews=function(){this.contentSize=this.viewItems.reduce(function(g,h){return g+h.size},0);for(var b=0,c=0,e=this.viewItems;c<e.length;c++){var f=e[c];f.layout(b,this.layoutContext),b+=f.size}this.sashItems.forEach(function(g){return g.sash.layout()}),this.updateSashEnablement()},a.prototype.updateSashEnablement=function(){var b=!1,c=this.viewItems.map(function(w){return b=w.size-w.minimumSize>0||b});b=!1;var e=this.viewItems.map(function(w){return b=w.maximumSize-w.size>0||b}),f=Hz(this.viewItems).reverse();b=!1;var g=f.map(function(w){return b=w.size-w.minimumSize>0||b}).reverse();b=!1;for(var h=f.map(function(w){return b=w.maximumSize-w.size>0||b}).reverse(),i=0,j=0;j<this.sashItems.length;j++){var k=this.sashItems[j].sash,l=this.viewItems[j];i+=l.size;var m=!(c[j]&&h[j+1]),n=!(e[j]&&g[j+1]);if(m&&n){var o=Bc(j,-1),p=Bc(j+1,this.viewItems.length),q=this.findFirstSnapIndex(o),r=this.findFirstSnapIndex(p),t=typeof q==="number"&&!this.viewItems[q].visible,v=typeof r==="number"&&!this.viewItems[r].visible;t&&g[j]&&(i>0||this.startSnappingEnabled)?k.state=1:v&&c[j]&&(i<this.contentSize||this.endSnappingEnabled)?k.state=2:k.state=0}else m&&!n?k.state=1:!m&&n?k.state=2:k.state=3}},a.prototype.getSashPosition=function(b){for(var c=0,e=0;e<this.sashItems.length;e++){c+=this.viewItems[e].size;if(this.sashItems[e].sash===b)return Math.min(c,this.contentSize-2)}return 0},a.prototype.findFirstSnapIndex=function(b){for(var c=0,e=b;c<e.length;c++){var f=e[c],g=this.viewItems[f];if(!g.visible)continue;if(g.snap)return f}for(var h=0,i=b;h<i.length;h++){var f=i[h],g=this.viewItems[f];if(g.visible&&g.maximumSize-g.minimumSize>0)return;if(!g.visible&&g.snap)return f}return},a.prototype.dispose=function(){d.prototype.dispose.call(this),this.viewItems.forEach(function(b){return b.dispose()}),this.viewItems=[],this.sashItems.forEach(function(b){return b.disposable.dispose()}),this.sashItems=[]},a}(I);var x_=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),y_=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},gn=function(d,a){return function(b,c){a(b,c,d)}},z_=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},A_=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},B_=function(){function d(a,b){var c=this;this._editor=a,this._model=b,this._decorations=new Map(),this._decorationIgnoreSet=new Set(),this._callOnDispose=new P(),this._callOnModelChange=new P(),this._callOnDispose.add(this._editor.onDidChangeModel(function(){return c._onModelChanged()})),this._onModelChanged()}return d.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},d.prototype._onModelChanged=function(){this._callOnModelChange.clear();var a=this._editor.getModel();if(a)for(var b=0,c=this._model.groups;b<c.length;b++){var e=c[b];if(He(e.uri,a.uri)){this._addDecorations(e);return}}},d.prototype._addDecorations=function(a){var b=this;if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function(j){return b._onDecorationChanged()}));for(var c=[],e=[],f=0,g=a.children.length;f<g;f++){var h=a.children[f];if(this._decorationIgnoreSet.has(h.id))continue;c.push({range:h.range,options:d.DecorationOptions}),e.push(f)}for(var i=this._editor.deltaDecorations([],c),f=0;f<i.length;f++)this._decorations.set(i[f],a.children[e[f]])},d.prototype._onDecorationChanged=function(){var a=this,b=[],c=this._editor.getModel();if(!c)return;this._decorations.forEach(function(g,h){var i=c.getDecorationRange(h);if(!i)return;var j=!1;if(z.equalsRange(i,g.range))return;if(z.spansMultipleLines(i))j=!0;else{var k=g.range.endColumn-g.range.startColumn,l=i.endColumn-i.startColumn;k!==l&&(j=!0)}j?(a._decorationIgnoreSet.add(g.id),b.push(h)):g.range=i});for(var e=0,f=b.length;e<f;e++)this._decorations.delete(b[e]);this._editor.deltaDecorations(b,[])},d.prototype.removeDecorations=function(){var a=[];this._decorations.forEach(function(b,c){a.push(c)}),this._editor.deltaDecorations(a,[]),this._decorations.clear()},d.DecorationOptions=na.register({stickiness:1,className:"reference-decoration"}),d}(),KI=function(){function d(){this.ratio=.7,this.heightInLines=18}return d.fromJSON=function(a){var b,c;try{var e=JSON.parse(a);b=e.ratio,c=e.heightInLines}catch(f){}return{ratio:b||.7,heightInLines:c||18}},d}(),JI=function(d){x_(a,d);function a(b,c,e,f,g,h,i,j){var k=d.call(this,b,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return k._defaultTreeKeyboardSupport=c,k.layoutData=e,k._textModelResolverService=g,k._instantiationService=h,k._peekViewService=i,k._uriLabel=j,k._disposeOnNewModel=new P(),k._callOnDispose=new P(),k._onDidSelectReference=new E(),k.onDidSelectReference=k._onDidSelectReference.event,k._dim={height:0,width:0},k._applyTheme(f.getTheme()),k._callOnDispose.add(f.onThemeChange(k._applyTheme.bind(k))),k._peekViewService.addExclusiveWidget(b,k),k.create(),k}return a.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),ca(this._preview),ca(this._previewNotAvailableMessage),ca(this._tree),ca(this._previewModelReference),this._splitView.dispose(),d.prototype.dispose.call(this)},a.prototype._applyTheme=function(b){var c=b.getColor(UI)||M.transparent;this.style({arrowColor:c,frameColor:c,headerBackgroundColor:b.getColor(VI)||M.transparent,primaryHeadingColor:b.getColor(vr),secondaryHeadingColor:b.getColor(wr)})},a.prototype.show=function(b){this.editor.revealRangeInCenterIfOutsideViewport(b,0),d.prototype.show.call(this,b,this.layoutData.heightInLines||18)},a.prototype.focusOnReferenceTree=function(){this._tree.domFocus()},a.prototype.focusOnPreviewEditor=function(){this._preview.focus()},a.prototype.isPreviewEditorFocused=function(){return this._preview.hasTextFocus()},a.prototype._onTitleClick=function(b){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:b.ctrlKey||b.metaKey||b.altKey?"side":"open",source:"title"})},a.prototype._fillBody=function(b){var c=this;this.setCssClass("reference-zone-widget"),this._messageContainer=S(b,X("div.messages")),zb(this._messageContainer),this._splitView=new Jz(b,{orientation:1}),this._previewContainer=S(b,X("div.preview.inline"));var e={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(ni,this._previewContainer,e,this.editor),zb(this._previewContainer),this._previewNotAvailableMessage=Qe.createFromString(s("missingPreviewMessage","no preview available")),this._treeContainer=S(b,X("div.ref-tree.inline"));var f={ariaLabel:s("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new SI(),keyboardNavigationLabelProvider:this._instantiationService.createInstance(QI),identityProvider:new RI(),overrideStyles:{listBackground:Ww}};this._tree=this._instantiationService.createInstance(TI,"ReferencesWidget",this._treeContainer,new PI(),[this._instantiationService.createInstance(Uw),this._instantiationService.createInstance(Vw)],this._instantiationService.createInstance(OI),f),this._splitView.addView({onDidChange:da.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(h){c._preview.layout({height:c._dim.height,width:h})}},rl.Distribute),this._splitView.addView({onDidChange:da.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(h){c._treeContainer.style.height=c._dim.height+"px",c._treeContainer.style.width=h+"px",c._tree.layout(c._dim.height,h)}},rl.Distribute),this._disposables.add(this._splitView.onDidSashChange(function(){c._dim.width&&(c.layoutData.ratio=c._splitView.getViewSize(0)/c._dim.width)},void 0));var g=function(h,i){h instanceof Gf&&(i==="show"&&c._revealReference(h,!1),c._onDidSelectReference.fire({element:h,kind:i,source:"tree"}))};this._tree.onDidChangeFocus(function(h){g(h.elements[0],"show")}),this._tree.onDidOpen(function(h){h.browserEvent instanceof MouseEvent&&(h.browserEvent.ctrlKey||h.browserEvent.metaKey||h.browserEvent.altKey)?g(h.elements[0],"side"):h.browserEvent instanceof KeyboardEvent||h.browserEvent instanceof MouseEvent&&h.browserEvent.detail===2||h.browserEvent.tapCount===2?g(h.elements[0],"goto"):g(h.elements[0],"show")}),zb(this._treeContainer)},a.prototype._onWidth=function(b){this._dim&&this._doLayoutBody(this._dim.height,b)},a.prototype._doLayoutBody=function(b,c){d.prototype._doLayoutBody.call(this,b,c),this._dim={height:b,width:c},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(c),this._splitView.resizeView(0,c*this.layoutData.ratio)},a.prototype.setSelection=function(b){var c=this;return this._revealReference(b,!0).then(function(){if(!c._model)return;c._tree.setSelection([b]),c._tree.setFocus([b])})},a.prototype.setModel=function(b){return this._disposeOnNewModel.clear(),this._model=b,this._model?this._onNewModel():Promise.resolve()},a.prototype._onNewModel=function(){var b=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerHTML=s("noResults","No results"),Ob(this._messageContainer),Promise.resolve(void 0)):(zb(this._messageContainer),this._decorationsManager=new B_(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function(c){return b._tree.rerender(c)})),this._disposeOnNewModel.add(this._preview.onMouseDown(function(c){var e=c.event,f=c.target;if(e.detail!==2)return;var g=b._getFocusedReference();if(!g)return;b._onDidSelectReference.fire({element:{uri:g.uri,range:f.range},kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"editor"})})),U(this.container,"results-loaded"),Ob(this._treeContainer),Ob(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)},a.prototype._getFocusedReference=function(){var b=this._tree.getFocus()[0];if(b instanceof Gf)return b;if(b instanceof Li){if(b.children.length>0)return b.children[0]}return},a.prototype._revealReference=function(b,c){return z_(this,void 0,void 0,function(){var e,f,g,h,i;return A_(this,function(j){switch(j.label){case 0:return this._revealedReference===b?[2]:(this._revealedReference=b,b.uri.scheme!==wa.inMemory?this.setTitle(Qo(b.uri),this._uriLabel.getUriLabel(vj(b.uri))):this.setTitle(s("peekView.alternateTitle","References")),e=this._textModelResolverService.createModelReference(b.uri),this._tree.getInput()===b.parent?(this._tree.reveal(b),[3,3]):[3,1]);case 1:return c&&this._tree.reveal(b.parent),[4,this._tree.expand(b.parent)];case 2:j.sent(),this._tree.reveal(b),j.label=3;case 3:return[4,e];case 4:return f=j.sent(),this._model?(ca(this._previewModelReference),g=f.object,g?(h=this._preview.getModel()===g.textEditorModel?0:1,i=z.lift(b.range).collapseToStart(),this._previewModelReference=f,this._preview.setModel(g.textEditorModel),this._preview.setSelection(i),this._preview.revealRangeInCenter(i,h)):(this._preview.setModel(this._previewNotAvailableMessage),f.dispose()),[2]):(f.dispose(),[2])}})})},a=y_([gn(3,Ia),gn(4,rd),gn(5,Aa),gn(6,Xw),gn(7,vh)],a),a}(ur);la(function(d,a){var b=d.getColor(WI);b&&a.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+b+"; }");var c=d.getColor(XI);c&&a.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+c+"; }");var e=d.getColor(YI);e&&a.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+e+"; box-sizing: border-box; }");var f=d.getColor(Sb);f&&a.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+f+"; box-sizing: border-box; }");var g=d.getColor(Ww);g&&a.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+g+"; }");var h=d.getColor(ZI);h&&a.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+h+"; }");var i=d.getColor(_I);i&&a.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+i+"; }");var j=d.getColor($I);j&&a.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+j+"; }");var k=d.getColor(aJ);k&&a.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+k+" !important; }");var l=d.getColor(hn);l&&a.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {"+("	background-color: "+l+";")+"}");var m=d.getColor(bJ);m&&a.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {"+("	background-color: "+m+";")+"}")});var r_=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Gk=function(d,a){return function(b,c){a(b,c,d)}},s_=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},t_=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},Hk=new ea("referenceSearchVisible",!1),Ki=function(){function d(a,b,c,e,f,g,h,i){this._defaultTreeKeyboardSupport=a,this._editor=b,this._editorService=e,this._notificationService=f,this._instantiationService=g,this._storageService=h,this._configurationService=i,this._disposables=new P(),this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Hk.bindTo(c)}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.dispose=function(){this._referenceSearchVisible.reset(),this._disposables.dispose(),ca(this._widget),ca(this._model),this._widget=void 0,this._model=void 0},d.prototype.toggleWidget=function(a,b,c){var e=this,f;this._widget&&(f=this._widget.position),this.closeWidget();if(!!f&&a.containsPosition(f))return;this._peekMode=c,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(function(){e.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(function(){e._ignoreModelChangeEvent||e.closeWidget()}));var g="peekViewLayout",h=KI.fromJSON(this._storageService.get(g,0,"{}"));this._widget=this._instantiationService.createInstance(JI,this._editor,this._defaultTreeKeyboardSupport,h),this._widget.setTitle(s("labelLoading","Loading...")),this._widget.show(a),this._disposables.add(this._widget.onDidClose(function(){b.cancel(),e._widget&&(e._storageService.store(g,JSON.stringify(e._widget.layoutData),0),e._widget=void 0),e.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(function(j){var k=j.element,l=j.kind;if(!k)return;switch(l){case"open":(j.source!=="editor"||!e._configurationService.getValue("editor.stablePeek"))&&e.openReference(k,!1);break;case"side":e.openReference(k,!0);break;case"goto":c?e._gotoReference(k):e.openReference(k,!1);break}}));var i=++this._requestIdPool;b.then(function(j){return i!==e._requestIdPool||!e._widget?void 0:(e._model&&e._model.dispose(),e._model=j,e._widget.setModel(e._model).then(function(){if(e._widget&&e._model&&e._editor.hasModel()){e._model.isEmpty?e._widget.setMetaTitle(""):e._widget.setMetaTitle(s("metaTitle.N","{0} ({1})",e._model.title,e._model.references.length));var k=e._editor.getModel().uri,l=new G(a.startLineNumber,a.startColumn),m=e._model.nearestReference(k,l);if(m)return e._widget.setSelection(m).then(function(){e._widget&&e._editor.getOption(65)==="editor"&&e._widget.focusOnPreviewEditor()})}return}))},function(j){e._notificationService.error(j)})},d.prototype.changeFocusBetweenPreviewAndReferences=function(){if(!this._widget)return;this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor()},d.prototype.goToNextOrPreviousReference=function(a){return s_(this,void 0,void 0,function(){var b,c,e,f,g;return t_(this,function(h){switch(h.label){case 0:return!this._editor.hasModel()||!this._model||!this._widget?[2]:(b=this._widget.position,b?(c=this._model.nearestReference(this._editor.getModel().uri,b),c?(e=this._model.nextOrPreviousReference(c,a),f=this._editor.hasTextFocus(),g=this._widget.isPreviewEditorFocused(),[4,this._widget.setSelection(e)]):[2]):[2]);case 1:return h.sent(),[4,this._gotoReference(e)];case 2:return h.sent(),f?this._editor.focus():this._widget&&g&&this._widget.focusOnPreviewEditor(),[2]}})})},d.prototype.closeWidget=function(a){a===void 0&&(a=!0),this._referenceSearchVisible.reset(),this._disposables.clear(),ca(this._widget),ca(this._model),this._widget=void 0,this._model=void 0,a&&this._editor.focus(),this._requestIdPool+=1},d.prototype._gotoReference=function(a){var b=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var c=z.lift(a.range).collapseToStart();return this._editorService.openCodeEditor({resource:a.uri,options:{selection:c}},this._editor).then(function(e){var f;b._ignoreModelChangeEvent=!1;if(!e||!b._widget){b.closeWidget();return}if(b._editor===e)b._widget.show(c),b._widget.focusOnReferenceTree();else{var g=d.get(e),h=b._model.clone();b.closeWidget(),e.focus(),g.toggleWidget(c,bb(function(i){return Promise.resolve(h)}),(f=b._peekMode)!==null&&f!==void 0?f:!1)}},function(e){b._ignoreModelChangeEvent=!1,W(e)})},d.prototype.openReference=function(a,b){b||this.closeWidget();var c=a.uri,e=a.range;this._editorService.openCodeEditor({resource:c,options:{selection:e}},this._editor,b)},d.ID="editor.contrib.referencesController",d=r_([Gk(2,ha),Gk(3,ya),Gk(4,Ra),Gk(5,Aa),Gk(6,zd),Gk(7,gb)],d),d}();function Ik(d,a){var b=LI(d);if(!b)return;var c=Ki.get(b);c&&a(c)}nc.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Bb(2048|41,60),when:Z.or(Hk,dd.inPeekEditor),handler:function(d){Ik(d,function(a){a.changeFocusBetweenPreviewAndReferences()})}});nc.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Z.or(Hk,dd.inPeekEditor),handler:function(d){Ik(d,function(a){a.goToNextOrPreviousReference(!0)})}});nc.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:Z.or(Hk,dd.inPeekEditor),handler:function(d){Ik(d,function(a){a.goToNextOrPreviousReference(!1)})}});Ca.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");Ca.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");Ca.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");Ca.registerCommand("closeReferenceSearch",function(d){return Ik(d,function(a){return a.closeWidget()})});nc.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:Z.and(dd.inPeekEditor,Z.not("config.editor.stablePeek"))});nc.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:Z.and(Hk,Z.not("config.editor.stablePeek"))});nc.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:Z.and(Hk,MI),handler:function(d){var a,b=d.get(Hf),c=(a=b.lastFocusedList)===null||a===void 0?void 0:a.getFocus();Array.isArray(c)&&c[0]instanceof Gf&&Ik(d,function(e){return e.openReference(c[0],!0)})}});Ca.registerCommand("openReference",function(d){var a,b=d.get(Hf),c=(a=b.lastFocusedList)===null||a===void 0?void 0:a.getFocus();Array.isArray(c)&&c[0]instanceof Gf&&Ik(d,function(e){return e.openReference(c[0],!1)})});var n_=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},o_=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};function en(d,a,b,c){var e=b.ordered(d),f=e.map(function(g){return Promise.resolve(c(g,d,a)).then(void 0,function(h){tb(h);return})});return Promise.all(f).then(Ng).then(Cd)}function an(d,a,b){return en(d,a,eg,function(c,e,f){return c.provideDefinition(e,f,b)})}function Rw(d,a,b){return en(d,a,hi,function(c,e,f){return c.provideDeclaration(e,f,b)})}function Pw(d,a,b){return en(d,a,ii,function(c,e,f){return c.provideImplementation(e,f,b)})}function Qw(d,a,b){return en(d,a,ji,function(c,e,f){return c.provideTypeDefinition(e,f,b)})}function bn(d,a,b,c){var e=this;return en(d,a,ki,function(f,g,h){return n_(e,void 0,void 0,function(){var i,j;return o_(this,function(k){switch(k.label){case 0:return[4,f.provideReferences(g,h,{includeDeclaration:!0},c)];case 1:return i=k.sent(),!b||!i||i.length!==2?[2,i]:[4,f.provideReferences(g,h,{includeDeclaration:!1},c)];case 2:return j=k.sent(),j&&j.length===1?[2,j]:[2,i]}})})})}nf("_executeDefinitionProvider",function(d,a){return an(d,a,xa.None)});nf("_executeDeclarationProvider",function(d,a){return Rw(d,a,xa.None)});nf("_executeImplementationProvider",function(d,a){return Pw(d,a,xa.None)});nf("_executeTypeDefinitionProvider",function(d,a){return Qw(d,a,xa.None)});nf("_executeReferenceProvider",function(d,a){return bn(d,a,!1,xa.None)});var D_=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),cJ=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},jn=function(d,a){return function(b,c){a(b,c,d)}},Yw=new ea("hasSymbols",!1),cn=ia("ISymbolNavigationService"),E_=function(){function d(a,b,c,e){this._editorService=b,this._notificationService=c,this._keybindingService=e,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Yw.bindTo(a)}return d.prototype.reset=function(){this._ctxHasSymbols.reset(),ca(this._currentState),ca(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},d.prototype.put=function(a){var b=this,c=a.parent.parent;if(c.references.length<=1){this.reset();return}this._currentModel=c,this._currentIdx=c.references.indexOf(a),this._ctxHasSymbols.set(!0),this._showMessage();var e=new F_(this._editorService),f=e.onDidChange(function(g){if(b._ignoreEditorChange)return;var h=b._editorService.getActiveCodeEditor();if(!h)return;var i=h.getModel(),j=h.getPosition();if(!i||!j)return;for(var k=!1,l=!1,m=0,n=c.references;m<n.length;m++){var o=n[m];if(He(o.uri,i.uri))k=!0,l=l||z.containsPosition(o.range,j);else if(k)break}(!k||!l)&&b.reset()});this._currentState=Mc(e,f)},d.prototype.revealNext=function(a){var b=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var c=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:c.uri,options:{selection:z.collapseToStart(c.range),revealInCenterIfOutsideViewport:!0}},a).finally(function(){b._ignoreEditorChange=!1})},d.prototype._showMessage=function(){ca(this._currentMessage);var a=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),b=a?s("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,a.getLabel()):s("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(b)},d=cJ([jn(0,ha),jn(1,ya),jn(2,Ra),jn(3,Ja)],d),d}();mf(cn,E_,!0);Q(new(function(d){D_(a,d);function a(){return d.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:Yw,kbOpts:{weight:100,primary:70}})||this}return a.prototype.runEditorCommand=function(b,c){return b.get(cn).revealNext(c)},a}(ob))());nc.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Yw,primary:9,handler:function(d){d.get(cn).reset()}});var F_=function(){function d(a){this._listener=new Map(),this._disposables=new P(),this._onDidChange=new E(),this.onDidChange=this._onDidChange.event,this._disposables.add(a.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(a.onCodeEditorAdd(this._onDidAddEditor,this)),a.listCodeEditors().forEach(this._onDidAddEditor,this)}return d.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(ca)},d.prototype._onDidAddEditor=function(a){var b=this;this._listener.set(a,Mc(a.onDidChangeCursorPosition(function(c){return b._onDidChange.fire({editor:a})}),a.onDidChangeModelContent(function(c){return b._onDidChange.fire({editor:a})})))},d.prototype._onDidRemoveEditor=function(a){ca(this._listener.get(a)),this._listener.delete(a)},d=cJ([jn(0,ya)],d),d}();var Gc=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),te=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},ue=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},Hw,Iw,Jw,Kw,Lw,Mw,Nw,Ow;Jd.appendMenuItem(7,{submenu:8,title:s("peek.submenu","Peek"),group:"navigation",order:100});var Fk=function(d){Gc(a,d);function a(b,c){var e=d.call(this,c)||this;return e._configuration=b,e}return a.prototype.run=function(b,c){var e=this;if(!c.hasModel())return Promise.resolve(void 0);var f=b.get(Ra),g=b.get(ya),h=b.get(Kd),i=b.get(cn),j=c.getModel(),k=c.getPosition(),l=new ci(c,1|4),m=vo(this._getLocationModel(j,k,l.token),l.token).then(function(n){return te(e,void 0,void 0,function(){var o,p,q,r;return ue(this,function(t){if(!n||l.token.isCancellationRequested)return[2];Gb(n.ariaMessage),n.referenceAt(j.uri,k)&&(p=this._getAlternativeCommand(c),p!==this.id&&(o=c.getAction(p))),q=n.references.length;if(q===0)this._configuration.muteMessage||(r=j.getWordAtPosition(k),Nd.get(c).showMessage(this._getNoResultFoundMessage(r),k));else if(q===1&&o)o.run();else return[2,this._onResult(g,i,c,n)];return[2]})})},function(n){f.error(n)}).finally(function(){l.dispose()});return h.showWhile(m,250),m},a.prototype._onResult=function(b,c,e,f){return te(this,void 0,void 0,function(){var g,h,i,j;return ue(this,function(k){switch(k.label){case 0:return g=this._getGoToPreference(e),!(e instanceof ni)&&(this._configuration.openInPeek||g==="peek"&&f.references.length>1)?(this._openInPeek(e,f),[3,3]):[3,1];case 1:return h=f.firstReference(),i=f.references.length>1&&g==="gotoAndPeek",[4,this._openReference(e,b,h,this._configuration.openToSide,!i)];case 2:j=k.sent(),i&&j?this._openInPeek(j,f):f.dispose(),g==="goto"&&c.put(h),k.label=3;case 3:return[2]}})})},a.prototype._openReference=function(b,c,e,f,g){return te(this,void 0,void 0,function(){var h,i,j,k;return ue(this,function(l){switch(l.label){case 0:return h=void 0,MF(e)&&(h=e.targetSelectionRange),h||(h=e.range),[4,c.openCodeEditor({resource:e.uri,options:{selection:z.collapseToStart(h),revealInCenterIfOutsideViewport:!0}},b,f)];case 1:return i=l.sent(),i?(g&&(j=i.getModel(),k=i.deltaDecorations([],[{range:h,options:{className:"symbolHighlight"}}]),setTimeout(function(){i.getModel()===j&&i.deltaDecorations(k,[])},350)),[2,i]):[2,void 0]}})})},a.prototype._openInPeek=function(b,c){var e=Ki.get(b);e&&b.hasModel()?e.toggleWidget(b.getSelection(),bb(function(f){return Promise.resolve(c)}),this._configuration.openInPeek):c.dispose()},a}(aa),dn=function(d){Gc(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._getLocationModel=function(b,c,e){return te(this,void 0,void 0,function(){var f;return ue(this,function(g){switch(g.label){case 0:return f=Hc.bind,[4,an(b,c,e)];case 1:return[2,new(f.apply(Hc,[void 0,g.sent(),s("def.title","Definitions")]))()]}})})},a.prototype._getNoResultFoundMessage=function(b){return b&&b.word?s("noResultWord","No definition found for '{0}'",b.word):s("generic.noResults","No definition found")},a.prototype._getAlternativeCommand=function(b){return b.getOption(41).alternativeDefinitionCommand},a.prototype._getGoToPreference=function(b){return b.getOption(41).multipleDefinitions},a}(Fk),BI=$f&&!Ui?2048|70:70;N((Hw=function(d){Gc(a,d);function a(){var b=d.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:a.id,label:s("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Z.and(C.hasDefinitionProvider,C.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.editorTextFocus,primary:BI,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:19,group:"4_symbol_nav",order:2,title:s({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}})||this;return Ca.registerCommandAlias("editor.action.goToDeclaration",a.id),b}return a}(dn),Hw.id="editor.action.revealDefinition",Hw));N((Iw=function(d){Gc(a,d);function a(){var b=d.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:a.id,label:s("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Z.and(C.hasDefinitionProvider,C.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,BI),weight:100}})||this;return Ca.registerCommandAlias("editor.action.openDeclarationToTheSide",a.id),b}return a}(dn),Iw.id="editor.action.revealDefinitionAside",Iw));N((Jw=function(d){Gc(a,d);function a(){var b=d.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:a.id,label:s("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Z.and(C.hasDefinitionProvider,dd.notInPeekEditor,C.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:8,group:"peek",order:2}})||this;return Ca.registerCommandAlias("editor.action.previewDeclaration",a.id),b}return a}(dn),Jw.id="editor.action.peekDefinition",Jw));var CI=function(d){Gc(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._getLocationModel=function(b,c,e){return te(this,void 0,void 0,function(){var f;return ue(this,function(g){switch(g.label){case 0:return f=Hc.bind,[4,Rw(b,c,e)];case 1:return[2,new(f.apply(Hc,[void 0,g.sent(),s("decl.title","Declarations")]))()]}})})},a.prototype._getNoResultFoundMessage=function(b){return b&&b.word?s("decl.noResultWord","No declaration found for '{0}'",b.word):s("decl.generic.noResults","No declaration found")},a.prototype._getAlternativeCommand=function(b){return b.getOption(41).alternativeDeclarationCommand},a.prototype._getGoToPreference=function(b){return b.getOption(41).multipleDeclarations},a}(Fk);N((Kw=function(d){Gc(a,d);function a(){return d.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:a.id,label:s("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Z.and(C.hasDeclarationProvider,C.isInEmbeddedEditor.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:19,group:"4_symbol_nav",order:3,title:s({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})||this}return a.prototype._getNoResultFoundMessage=function(b){return b&&b.word?s("decl.noResultWord","No declaration found for '{0}'",b.word):s("decl.generic.noResults","No declaration found")},a}(CI),Kw.id="editor.action.revealDeclaration",Kw));N(function(d){Gc(a,d);function a(){return d.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:s("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Z.and(C.hasDeclarationProvider,dd.notInPeekEditor,C.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:3}})||this}return a}(CI));var DI=function(d){Gc(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._getLocationModel=function(b,c,e){return te(this,void 0,void 0,function(){var f;return ue(this,function(g){switch(g.label){case 0:return f=Hc.bind,[4,Qw(b,c,e)];case 1:return[2,new(f.apply(Hc,[void 0,g.sent(),s("typedef.title","Type Definitions")]))()]}})})},a.prototype._getNoResultFoundMessage=function(b){return b&&b.word?s("goToTypeDefinition.noResultWord","No type definition found for '{0}'",b.word):s("goToTypeDefinition.generic.noResults","No type definition found")},a.prototype._getAlternativeCommand=function(b){return b.getOption(41).alternativeTypeDefinitionCommand},a.prototype._getGoToPreference=function(b){return b.getOption(41).multipleTypeDefinitions},a}(Fk);N((Lw=function(d){Gc(a,d);function a(){return d.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:a.ID,label:s("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Z.and(C.hasTypeDefinitionProvider,C.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:19,group:"4_symbol_nav",order:3,title:s({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})||this}return a}(DI),Lw.ID="editor.action.goToTypeDefinition",Lw));N((Mw=function(d){Gc(a,d);function a(){return d.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:a.ID,label:s("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Z.and(C.hasTypeDefinitionProvider,dd.notInPeekEditor,C.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:4}})||this}return a}(DI),Mw.ID="editor.action.peekTypeDefinition",Mw));var EI=function(d){Gc(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._getLocationModel=function(b,c,e){return te(this,void 0,void 0,function(){var f;return ue(this,function(g){switch(g.label){case 0:return f=Hc.bind,[4,Pw(b,c,e)];case 1:return[2,new(f.apply(Hc,[void 0,g.sent(),s("impl.title","Implementations")]))()]}})})},a.prototype._getNoResultFoundMessage=function(b){return b&&b.word?s("goToImplementation.noResultWord","No implementation found for '{0}'",b.word):s("goToImplementation.generic.noResults","No implementation found")},a.prototype._getAlternativeCommand=function(b){return b.getOption(41).alternativeImplementationCommand},a.prototype._getGoToPreference=function(b){return b.getOption(41).multipleImplementations},a}(Fk);N((Nw=function(d){Gc(a,d);function a(){return d.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:a.ID,label:s("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Z.and(C.hasImplementationProvider,C.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.editorTextFocus,primary:2048|70,weight:100},menuOpts:{menuId:19,group:"4_symbol_nav",order:4,title:s({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})||this}return a}(EI),Nw.ID="editor.action.goToImplementation",Nw));N((Ow=function(d){Gc(a,d);function a(){return d.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:a.ID,label:s("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Z.and(C.hasImplementationProvider,dd.notInPeekEditor,C.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:8,group:"peek",order:5}})||this}return a}(EI),Ow.ID="editor.action.peekImplementation",Ow));var FI=function(d){Gc(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._getNoResultFoundMessage=function(b){return b?s("references.no","No references found for '{0}'",b.word):s("references.noGeneric","No references found")},a.prototype._getAlternativeCommand=function(b){return b.getOption(41).alternativeReferenceCommand},a.prototype._getGoToPreference=function(b){return b.getOption(41).multipleReferences},a}(Fk);N(function(d){Gc(a,d);function a(){return d.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:s("goToReferences.label","Go to References"),alias:"Go to References",precondition:Z.and(C.hasReferenceProvider,dd.notInPeekEditor,C.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:19,group:"4_symbol_nav",order:5,title:s({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})||this}return a.prototype._getLocationModel=function(b,c,e){return te(this,void 0,void 0,function(){var f;return ue(this,function(g){switch(g.label){case 0:return f=Hc.bind,[4,bn(b,c,!0,e)];case 1:return[2,new(f.apply(Hc,[void 0,g.sent(),s("ref.title","References")]))()]}})})},a}(FI));N(function(d){Gc(a,d);function a(){return d.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:s("references.action.label","Peek References"),alias:"Peek References",precondition:Z.and(C.hasReferenceProvider,dd.notInPeekEditor,C.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:6}})||this}return a.prototype._getLocationModel=function(b,c,e){return te(this,void 0,void 0,function(){var f;return ue(this,function(g){switch(g.label){case 0:return f=Hc.bind,[4,bn(b,c,!1,e)];case 1:return[2,new(f.apply(Hc,[void 0,g.sent(),s("ref.title","References")]))()]}})})},a}(FI));var m_=function(d){Gc(a,d);function a(b,c,e){var f=d.call(this,b,{id:"editor.action.goToLocation",label:s("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:Z.and(dd.notInPeekEditor,C.isInEmbeddedEditor.toNegated())})||this;return f._references=c,f._gotoMultipleBehaviour=e,f}return a.prototype._getLocationModel=function(b,c,e){return te(this,void 0,void 0,function(){return ue(this,function(f){return[2,new Hc(this._references,s("generic.title","Locations"))]})})},a.prototype._getNoResultFoundMessage=function(b){return b&&s("generic.noResult","No results for '{0}'",b.word)||""},a.prototype._getGoToPreference=function(b){var c;return(c=this._gotoMultipleBehaviour)!==null&&c!==void 0?c:b.getOption(41).multipleReferences},a.prototype._getAlternativeCommand=function(){return""},a}(Fk);Ca.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ja},{name:"position",description:"The position at which to start",constraint:G.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(d,a,b,c,e,f){return te(void 0,void 0,void 0,function(){var g,h;return ue(this,function(i){switch(i.label){case 0:return Ub(ja.isUri(a)),Ub(G.isIPosition(b)),Ub(Array.isArray(c)),Ub(typeof e==="undefined"||typeof e==="string"),Ub(typeof f==="undefined"||typeof f==="boolean"),g=d.get(ya),[4,g.openCodeEditor({resource:a},g.getFocusedCodeEditor())];case 1:return h=i.sent(),Id(h)?(h.setPosition(b),h.revealPositionInCenterIfOutsideViewport(b,0),[2,h.invokeWithinContext(function(j){var k=new m_({muteMessage:!0,openInPeek:Boolean(f),openToSide:!1},c,e);j.get(Aa).invokeFunction(k.run.bind(k),h)})]):[2]}})})}});Ca.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ja},{name:"position",description:"The position at which to start",constraint:G.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(d,a,b,c,e){return te(void 0,void 0,void 0,function(){return ue(this,function(f){return d.get(db).executeCommand("editor.action.goToLocations",a,b,c,e,!0),[2]})})}});Ca.registerCommand({id:"editor.action.findReferences",handler:function(d,a,b){Ub(ja.isUri(a)),Ub(G.isIPosition(b));var c=d.get(ya);return c.openCodeEditor({resource:a},c.getFocusedCodeEditor()).then(function(e){if(!Id(e)||!e.hasModel())return;var f=Ki.get(e);if(!f)return;var g=bb(function(i){return bn(e.getModel(),G.lift(b),!1,i).then(function(j){return new Hc(j,s("ref.title","References"))})}),h=new z(b.lineNumber,b.column,b.lineNumber,b.column);return Promise.resolve(f.toggleWidget(h,g,!1))})}});Ca.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var Fe=function(){function d(a,b){a===void 0&&(a=""),b===void 0&&(b=!1);var c,e;this._value=a,typeof b==="boolean"?(this._isTrusted=b,this._supportThemeIcons=!1):(this._isTrusted=(c=b.isTrusted)!==null&&c!==void 0?c:!1,this._supportThemeIcons=(e=b.supportThemeIcons)!==null&&e!==void 0?e:!1)}return Object.defineProperty(d.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"supportThemeIcons",{get:function(){return this._supportThemeIcons},enumerable:!0,configurable:!0}),d.prototype.appendText=function(a){return this._value+=(this._supportThemeIcons?cA(a):a).replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&").replace(`
`,`

`),this},d.prototype.appendMarkdown=function(a){return this._value+=a,this},d.prototype.appendCodeblock=function(a,b){return this._value+="\n```",this._value+=a,this._value+=`
`,this._value+=b,this._value+="\n```\n",this},d}();function sj(d){return St(d)?!d.value:Array.isArray(d)?d.every(sj):!0}function St(d){return d instanceof Fe?!0:d&&typeof d==="object"?typeof d.value==="string"&&(typeof d.isTrusted==="boolean"||d.isTrusted===void 0)&&(typeof d.supportThemeIcons==="boolean"||d.supportThemeIcons===void 0):!1}function LA(d,a){return!d&&!a?!0:!d||!a?!1:Array.isArray(d)&&Array.isArray(a)?xc(d,a,MA):St(d)&&St(a)?MA(d,a):!1}function MA(d,a){return d===a?!0:!d||!a?!1:d.value===a.value&&d.isTrusted===a.isTrusted&&d.supportThemeIcons===a.supportThemeIcons}function Qn(d){return d?d.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):d}function Uy(d){var a=[],b=d.split("|").map(function(k){return k.trim()});d=b[0];var c=b[1];if(c){var e=/height=(\d+)/.exec(c),f=/width=(\d+)/.exec(c),g=e?e[1]:"",h=f?f[1]:"",i=isFinite(parseInt(h)),j=isFinite(parseInt(g));i&&a.push('width="'+h+'"'),j&&a.push('height="'+g+'"')}return{href:d,dimensions:a}}var p_=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function Sw(d,a){return!!d[a]}var Tw=function(){function d(a,b){this.target=a.target,this.hasTriggerModifier=Sw(a.event,b.triggerModifier),this.hasSideBySideModifier=Sw(a.event,b.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=xb||a.event.detail<=1}return d}(),GI=function(){function d(a,b){this.keyCodeIsTriggerKey=a.keyCode===b.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===b.triggerSideBySideKey,this.hasTriggerModifier=Sw(a,b.triggerModifier)}return d}(),yr=function(){function d(a,b,c,e){this.triggerKey=a,this.triggerModifier=b,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=e}return d.prototype.equals=function(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier},d}();function HI(d){return d==="altKey"?ka?new yr(57,"metaKey",6,"altKey"):new yr(5,"ctrlKey",6,"altKey"):ka?new yr(6,"altKey",57,"metaKey"):new yr(6,"altKey",5,"ctrlKey")}var zr=function(d){p_(a,d);function a(b){var c=d.call(this)||this;return c._onMouseMoveOrRelevantKeyDown=c._register(new E()),c.onMouseMoveOrRelevantKeyDown=c._onMouseMoveOrRelevantKeyDown.event,c._onExecute=c._register(new E()),c.onExecute=c._onExecute.event,c._onCancel=c._register(new E()),c.onCancel=c._onCancel.event,c._editor=b,c._opts=HI(c._editor.getOption(59)),c.lastMouseMoveEvent=null,c.hasTriggerKeyOnMouseDown=!1,c._register(c._editor.onDidChangeConfiguration(function(e){if(e.hasChanged(59)){var f=HI(c._editor.getOption(59));if(c._opts.equals(f))return;c._opts=f,c.lastMouseMoveEvent=null,c.hasTriggerKeyOnMouseDown=!1,c._onCancel.fire()}})),c._register(c._editor.onMouseMove(function(e){return c.onEditorMouseMove(new Tw(e,c._opts))})),c._register(c._editor.onMouseDown(function(e){return c.onEditorMouseDown(new Tw(e,c._opts))})),c._register(c._editor.onMouseUp(function(e){return c.onEditorMouseUp(new Tw(e,c._opts))})),c._register(c._editor.onKeyDown(function(e){return c.onEditorKeyDown(new GI(e,c._opts))})),c._register(c._editor.onKeyUp(function(e){return c.onEditorKeyUp(new GI(e,c._opts))})),c._register(c._editor.onMouseDrag(function(){return c.resetHandler()})),c._register(c._editor.onDidChangeCursorSelection(function(e){return c.onDidChangeCursorSelection(e)})),c._register(c._editor.onDidChangeModel(function(e){return c.resetHandler()})),c._register(c._editor.onDidChangeModelContent(function(){return c.resetHandler()})),c._register(c._editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&c.resetHandler()})),c}return a.prototype.onDidChangeCursorSelection=function(b){b.selection&&b.selection.startColumn!==b.selection.endColumn&&this.resetHandler()},a.prototype.onEditorMouseMove=function(b){this.lastMouseMoveEvent=b,this._onMouseMoveOrRelevantKeyDown.fire([b,null])},a.prototype.onEditorMouseDown=function(b){this.hasTriggerKeyOnMouseDown=b.hasTriggerModifier},a.prototype.onEditorMouseUp=function(b){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(b)},a.prototype.onEditorKeyDown=function(b){this.lastMouseMoveEvent&&(b.keyCodeIsTriggerKey||b.keyCodeIsSideBySideKey&&b.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,b]):b.hasTriggerModifier&&this._onCancel.fire()},a.prototype.onEditorKeyUp=function(b){b.keyCodeIsTriggerKey&&this._onCancel.fire()},a.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},a}(I);var q_=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},II=function(d,a){return function(b,c){a(b,c,d)}},Ar=function(){function d(a,b,c){var e=this;this.textModelResolverService=b,this.modeService=c,this.toUnhook=new P(),this.toUnhookForKeyboard=new P(),this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=a;var f=new zr(a);this.toUnhook.add(f),this.toUnhook.add(f.onMouseMoveOrRelevantKeyDown(function(g){var h=g[0],i=g[1];e.startFindDefinitionFromMouse(h,$g(i))})),this.toUnhook.add(f.onExecute(function(g){e.isEnabled(g)&&e.gotoDefinition(g.target.position,g.hasSideBySideModifier).then(function(){e.removeLinkDecorations()},function(h){e.removeLinkDecorations(),W(h)})})),this.toUnhook.add(f.onCancel(function(){e.removeLinkDecorations(),e.currentWordAtPosition=null}))}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.startFindDefinitionFromCursor=function(a){var b=this;return this.startFindDefinition(a).then(function(){b.toUnhookForKeyboard.add(b.editor.onDidChangeCursorPosition(function(){b.currentWordAtPosition=null,b.removeLinkDecorations(),b.toUnhookForKeyboard.clear()})),b.toUnhookForKeyboard.add(b.editor.onKeyDown(function(c){c&&(b.currentWordAtPosition=null,b.removeLinkDecorations(),b.toUnhookForKeyboard.clear())}))})},d.prototype.startFindDefinitionFromMouse=function(a,b){if(a.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(a,b)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}var c=a.target.position;this.startFindDefinition(c)},d.prototype.startFindDefinition=function(a){var b=this,c;this.toUnhookForKeyboard.clear();var e=a?(c=this.editor.getModel())===null||c===void 0?void 0:c.getWordAtPosition(a):null;if(!e)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===e.startColumn&&this.currentWordAtPosition.endColumn===e.endColumn&&this.currentWordAtPosition.word===e.word)return Promise.resolve(0);this.currentWordAtPosition=e;var f=new lp(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=bb(function(g){return b.findDefinition(a,g)}),this.previousPromise.then(function(g){if(!g||!g.length||!f.validate(b.editor)){b.removeLinkDecorations();return}if(g.length>1)b.addDecoration(new z(a.lineNumber,e.startColumn,a.lineNumber,e.endColumn),new Fe().appendText(s("multipleResults","Click to show {0} definitions.",g.length)));else{var h=g[0];if(!h.uri)return;b.textModelResolverService.createModelReference(h.uri).then(function(i){if(!i.object||!i.object.textEditorModel){i.dispose();return}var j=i.object.textEditorModel,k=h.range.startLineNumber;if(k<1||k>j.getLineCount()){i.dispose();return}var l=b.getPreviewValue(j,k,h),m;h.originSelectionRange?m=z.lift(h.originSelectionRange):m=new z(a.lineNumber,e.startColumn,a.lineNumber,e.endColumn);var n=b.modeService.getModeIdByFilepathOrFirstLine(j.uri);b.addDecoration(m,new Fe().appendCodeblock(n?n:"",l)),i.dispose()})}}).then(void 0,W)},d.prototype.getPreviewValue=function(a,b,c){var e=c.targetSelectionRange?c.range:this.getPreviewRangeBasedOnBrackets(a,b),f=e.endLineNumber-e.startLineNumber;f>=d.MAX_SOURCE_PREVIEW_LINES&&(e=this.getPreviewRangeBasedOnIndentation(a,b));var g=this.stripIndentationFromPreviewRange(a,b,e);return g},d.prototype.stripIndentationFromPreviewRange=function(a,b,c){for(var e=a.getLineFirstNonWhitespaceColumn(b),f=e,g=b+1;g<c.endLineNumber;g++){var h=a.getLineFirstNonWhitespaceColumn(g);f=Math.min(f,h)}var i=a.getValueInRange(c).replace(new RegExp("^\\s{"+(f-1)+"}","gm"),"").trim();return i},d.prototype.getPreviewRangeBasedOnIndentation=function(a,b){for(var c=a.getLineFirstNonWhitespaceColumn(b),e=Math.min(a.getLineCount(),b+d.MAX_SOURCE_PREVIEW_LINES),f=b+1;f<e;f++){var g=a.getLineFirstNonWhitespaceColumn(f);if(c===g)break}return new z(b,1,f+1,1)},d.prototype.getPreviewRangeBasedOnBrackets=function(a,b){for(var c=Math.min(a.getLineCount(),b+d.MAX_SOURCE_PREVIEW_LINES),e=[],f=!0,g=a.findNextBracket(new G(b,1));g!==null;){if(e.length===0)e.push(g);else{var h=e[e.length-1];h.open[0]===g.open[0]&&h.isOpen&&!g.isOpen?e.pop():e.push(g);if(e.length===0)if(f)f=!1;else return new z(b,1,g.range.endLineNumber+1,1)}var i=a.getLineMaxColumn(b),j=g.range.endLineNumber,k=g.range.endColumn;i===g.range.endColumn&&(j++,k=1);if(j>c)return new z(b,1,c+1,1);g=a.findNextBracket(new G(j,k))}return new z(b,1,c+1,1)},d.prototype.addDecoration=function(a,b){var c={range:a,options:{inlineClassName:"goto-definition-link",hoverMessage:b}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[c])},d.prototype.removeLinkDecorations=function(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))},d.prototype.isEnabled=function(a,b){return this.editor.hasModel()&&a.isNoneOrSingleMouseDown&&a.target.type===6&&(a.hasTriggerModifier||(b?b.keyCodeIsTriggerKey:!1))&&eg.has(this.editor.getModel())},d.prototype.findDefinition=function(a,b){var c=this.editor.getModel();return c?an(c,a,b):Promise.resolve(null)},d.prototype.gotoDefinition=function(a,b){var c=this;this.editor.setPosition(a);var e=new dn({openToSide:b,openInPeek:!1,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext(function(f){return e.run(f,c.editor)})},d.prototype.dispose=function(){this.toUnhook.dispose()},d.ID="editor.contrib.gotodefinitionatposition",d.MAX_SOURCE_PREVIEW_LINES=8,d=q_([II(1,rd),II(2,xd)],d),d}();ra(Ar.ID,Ar);la(function(d,a){var b=d.getColor(pk);b&&a.addRule(".monaco-editor .goto-definition-link { color: "+b+" !important; }")});var xr;(function(d){function a(b){switch(b){case Zb.Ignore:return"severity-ignore codicon-info";case Zb.Info:return"codicon-info";case Zb.Warning:return"codicon-warning";case Zb.Error:return"codicon-error"}return""}d.className=a})(xr||(xr={}));la(function(d,a){var b=d.getColor(LM);b&&a.addRule(`
			.monaco-editor .zone-widget .codicon-error,
			.markers-panel .marker-icon.codicon-error,
			.extensions-viewlet > .extensions .codicon-error,
			.monaco-dialog-box .dialog-message-row .codicon-error {
				color: `+b+`;
			}
		`);var c=d.getColor(NM);b&&a.addRule(`
			.monaco-editor .zone-widget .codicon-warning,
			.markers-panel .marker-icon.codicon-warning,
			.extensions-viewlet > .extensions .codicon-warning,
			.extension-editor .codicon-warning,
			.monaco-dialog-box .dialog-message-row .codicon-warning {
				color: `+c+`;
			}
		`);var e=d.getColor(MM);b&&a.addRule(`
			.monaco-editor .zone-widget .codicon-info,
			.markers-panel .marker-icon.codicon-info,
			.extensions-viewlet > .extensions .codicon-info,
			.extension-editor .codicon-info,
			.monaco-dialog-box .dialog-message-row .codicon-info {
				color: `+e+`;
			}
		`)});var g_=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),h_=function(){function d(a,b,c,e){var f=this;this._openerService=e,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap(),this._disposables=new P(),this._editor=b;var g=document.createElement("div");g.className="descriptioncontainer",g.setAttribute("aria-live","assertive"),g.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),U(this._messageBlock,"message"),g.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),g.appendChild(this._relatedBlock),this._disposables.add(Ua(this._relatedBlock,"click",function(h){h.preventDefault();var i=f._relatedDiagnostics.get(h.target);i&&c(i)})),this._scrollable=new Of(g,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),a.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(function(h){g.style.left="-"+h.scrollLeft+"px",g.style.top="-"+h.scrollTop+"px"})),this._disposables.add(this._scrollable)}return d.prototype.dispose=function(){ca(this._disposables)},d.prototype.update=function(a){var b=this,c=a.source,e=a.message,f=a.relatedInformation,g=a.code,h=((c===null||c===void 0?void 0:c.length)||0)+"()".length;g&&(typeof g==="string"?h+=g.length:h+=g.value.length);var i=e.split(/\r\n|\r|\n/g);this._lines=i.length,this._longestLineLength=0;for(var j=0,k=i;j<k.length;j++){var l=k[j];this._longestLineLength=Math.max(l.length+h,this._longestLineLength)}$b(this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var m=this._messageBlock,n=0,o=i;n<o.length;n++){var l=o[n];m=document.createElement("div"),m.innerText=l,l===""&&(m.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(m)}if(c||g){var p=document.createElement("span");U(p,"details"),m.appendChild(p);if(c){var q=document.createElement("span");q.innerText=c,U(q,"source"),p.appendChild(q)}if(g)if(typeof g==="string"){var r=document.createElement("span");r.innerText="("+g+")",U(r,"code"),p.appendChild(r)}else{this._codeLink=X("a.code-link"),this._codeLink.setAttribute("href",""+g.link.toString()),this._codeLink.onclick=function(H){b._openerService.open(g.link),H.preventDefault(),H.stopPropagation()};var r=S(this._codeLink,X("span"));r.innerText=g.value,p.appendChild(this._codeLink)}}$b(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock);if(Ib(f)){var t=this._relatedBlock.appendChild(document.createElement("div"));t.style.paddingTop=Math.floor(this._editor.getOption(49)*.66)+"px",this._lines+=1;for(var v=0,w=f;v<w.length;v++){var x=w[v],u=document.createElement("div"),y=document.createElement("a");U(y,"filename"),y.innerHTML=Fo(x.resource)+"("+x.startLineNumber+", "+x.startColumn+"): ",y.title=TA(x.resource,void 0),this._relatedDiagnostics.set(y,x);var A=document.createElement("span");A.innerText=x.message,u.appendChild(y),u.appendChild(A),this._lines+=1,t.appendChild(u)}}var F=this._editor.getOption(34),B=Math.ceil(F.typicalFullwidthCharacterWidth*this._longestLineLength*.75),D=F.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:B,scrollHeight:D})},d.prototype.layout=function(a,b){this._scrollable.getDomNode().style.height=a+"px",this._scrollable.getDomNode().style.width=b+"px",this._scrollable.setScrollDimensions({width:b,height:a})},d.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},d}(),zI=function(d){g_(a,d);function a(b,c,e,f){var g=d.call(this,b,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return g.actions=c,g._themeService=e,g._openerService=f,g._callOnDispose=new P(),g._onDidSelectRelatedInformation=new E(),g.onDidSelectRelatedInformation=g._onDidSelectRelatedInformation.event,g._severity=_a.Warning,g._backgroundColor=M.white,g._applyTheme(e.getTheme()),g._callOnDispose.add(e.onThemeChange(g._applyTheme.bind(g))),g.create(),g}return a.prototype._applyTheme=function(b){this._backgroundColor=b.getColor(l_);var c=i_;this._severity===_a.Warning?c=j_:this._severity===_a.Info&&(c=k_);var e=b.getColor(c);this.style({arrowColor:e,frameColor:e,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:b.getColor(vr),secondaryHeadingColor:b.getColor(wr)})},a.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),d.prototype._applyStyles.call(this)},a.prototype.dispose=function(){this._callOnDispose.dispose(),d.prototype.dispose.call(this)},a.prototype._fillHead=function(b){d.prototype._fillHead.call(this,b),this._actionbarWidget.push(this.actions,{label:!1,icon:!0,index:0})},a.prototype._fillTitleIcon=function(b){this._icon=S(b,X(""))},a.prototype._getActionBarOptions=function(){return{orientation:0}},a.prototype._fillBody=function(b){var c=this;this._parentContainer=b,U(b,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),b.appendChild(this._container),this._message=new h_(this._container,this.editor,function(e){return c._onDidSelectRelatedInformation.fire(e)},this._openerService),this._disposables.add(this._message)},a.prototype.show=function(b,c){throw new Error("call showAtMarker")},a.prototype.showAtMarker=function(b,c,e){this._container.classList.remove("stale"),this._message.update(b),this._severity=b.severity,this._applyTheme(this._themeService.getTheme());var f=z.lift(b),g=this.editor.getPosition(),h=g&&f.containsPosition(g)?g:f.getStartPosition();d.prototype.show.call(this,h,this.computeRequiredHeight());var i=this.editor.getModel();if(i){var j=e>1?s("problems","{0} of {1} problems",c,e):s("change","{0} of {1} problem",c,e);this.setTitle(ld(i.uri),j)}this._icon.className="codicon "+xr.className(_a.toSeverity(this._severity)),this.editor.revealPositionInCenter(h,0),this.editor.focus()},a.prototype.updateMarker=function(b){this._container.classList.remove("stale"),this._message.update(b)},a.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},a.prototype._doLayoutBody=function(b,c){d.prototype._doLayoutBody.call(this,b,c),this._heightInPixel=b,this._message.layout(b,c),this._container.style.height=b+"px"},a.prototype._onWidth=function(b){this._message.layout(this._heightInPixel,b)},a.prototype._relayout=function(){d.prototype._relayout.call(this,this.computeRequiredHeight())},a.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},a}(ur),Ew=tr(fi,xp),Fw=tr(ie,gi),Gw=tr(tf,Pj),i_=K("editorMarkerNavigationError.background",{dark:Ew,light:Ew,hc:Ew},s("editorMarkerNavigationError","Editor marker navigation widget error color.")),j_=K("editorMarkerNavigationWarning.background",{dark:Fw,light:Fw,hc:Fw},s("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),k_=K("editorMarkerNavigationInfo.background",{dark:Gw,light:Gw,hc:Gw},s("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),l_=K("editorMarkerNavigation.background",{dark:"#2D2D30",light:M.white,hc:"#0C141F"},s("editorMarkerNavigationBackground","Editor marker navigation widget background."));la(function(d,a){var b=d.getColor(Ff);b&&(a.addRule(".monaco-editor .marker-widget a { color: "+b+"; }"),a.addRule(".monaco-editor .marker-widget a.code-link span:hover { color: "+b+"; }"))});var $m=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),b_=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Bk=function(d,a){return function(b,c){a(b,c,d)}},xI=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},yI=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},c_=function(){function d(a,b){var c=this;this._toUnbind=new P(),this._editor=a,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new E(),this._onMarkerSetChanged=new E(),this.setMarkers(b),this._toUnbind.add(this._editor.onDidDispose(function(){return c.dispose()})),this._toUnbind.add(this._editor.onDidChangeCursorPosition(function(){if(c._ignoreSelectionChange)return;if(c.currentMarker&&c._editor.getPosition()&&z.containsPosition(c.currentMarker,c._editor.getPosition()))return;c._nextIdx=-1}))}return Object.defineProperty(d.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),d.prototype.setMarkers=function(a){var b=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=a||[],this._markers.sort(Dk.compareMarker),b?this._nextIdx=Math.max(-1,Ph(this._markers,b,Dk.compareMarker)):this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},d.prototype.withoutWatchingEditorPosition=function(a){this._ignoreSelectionChange=!0;try{a()}finally{this._ignoreSelectionChange=!1}},d.prototype._initIdx=function(a){for(var b=!1,c=this._editor.getPosition(),e=0;e<this._markers.length;e++){var f=z.lift(this._markers[e]);if(f.isEmpty()&&this._editor.getModel()){var g=this._editor.getModel().getWordAtPosition(f.getStartPosition());g&&(f=new z(f.startLineNumber,g.startColumn,f.startLineNumber,g.endColumn))}if(c&&(f.containsPosition(c)||c.isBeforeOrEqual(f.getStartPosition()))){this._nextIdx=e,b=!0;break}}b||(this._nextIdx=a?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(d.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(a){var b=this._nextIdx;this._nextIdx=-1,a&&(this._nextIdx=this.indexOf(a)),this._nextIdx!==b&&this._onCurrentMarkerChanged.fire(a)},enumerable:!0,configurable:!0}),d.prototype.move=function(a,b){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!b;var c=this._nextIdx,e=!1;this._nextIdx===-1?this._initIdx(a):a?b||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:e=!0:a||(b||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:e=!0);if(c!==this._nextIdx){var f=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(f)}return e},d.prototype.canNavigate=function(){return this._markers.length>0},d.prototype.findMarkerAtPosition=function(a){return to(this._markers,function(b){return z.containsPosition(b,a)})},Object.defineProperty(d.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),d.prototype.indexOf=function(a){return 1+this._markers.indexOf(a)},d.prototype.dispose=function(){this._toUnbind.dispose()},d}(),Ck=function(){function d(a,b,c,e,f,g,h){this._markerService=b,this._contextKeyService=c,this._themeService=e,this._editorService=f,this._keybindingService=g,this._openerService=h,this._model=null,this._widget=null,this._disposeOnClose=new P(),this._editor=a,this._widgetVisible=AI.bindTo(this._contextKeyService)}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},d.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},d.prototype.getOrCreateModel=function(){var a=this;if(this._model)return this._model;var b=this._getMarkers();this._model=new c_(this._editor,b),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var c=this._keybindingService.lookupKeybinding(sr.ID),e=this._keybindingService.lookupKeybinding(Ek.ID),f=[new ac(Ek.ID,Ek.LABEL+(e?" ("+e.getLabel()+")":""),"show-next-problem codicon-chevron-down",this._model.canNavigate(),function(){return xI(a,void 0,void 0,function(){return yI(this,function(j){return this._model&&this._model.move(!0,!0),[2]})})}),new ac(sr.ID,sr.LABEL+(c?" ("+c.getLabel()+")":""),"show-previous-problem codicon-chevron-up",this._model.canNavigate(),function(){return xI(a,void 0,void 0,function(){return yI(this,function(j){return this._model&&this._model.move(!1,!0),[2]})})})];this._widget=new zI(this._editor,f,this._themeService,this._openerService),this._widgetVisible.set(!0),this._widget.onDidClose(function(){return a.closeMarkersNavigation()},this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var g=0,h=f;g<h.length;g++){var i=h[g];this._disposeOnClose.add(i)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation(function(j){a._editorService.openCodeEditor({resource:j.resource,options:{pinned:!0,revealIfOpened:!0,selection:z.lift(j).collapseToStart()}},a._editor).then(void 0,W),a.closeMarkersNavigation(!1)})),this._disposeOnClose.add(this._editor.onDidChangeModel(function(){return a._cleanUp()})),this._disposeOnClose.add(this._model.onCurrentMarkerChanged(function(j){!j||!a._model?a._cleanUp():a._model.withoutWatchingEditorPosition(function(){if(!a._widget||!a._model)return;a._widget.showAtMarker(j,a._model.indexOf(j),a._model.total)})})),this._disposeOnClose.add(this._model.onMarkerSetChanged(function(){if(!a._widget||!a._widget.position||!a._model)return;var j=a._model.findMarkerAtPosition(a._widget.position);j?a._widget.updateMarker(j):a._widget.showStale()})),this._model},d.prototype.closeMarkersNavigation=function(a){a===void 0&&(a=!0),this._cleanUp(),a&&this._editor.focus()},d.prototype.show=function(a){var b=this.getOrCreateModel();b.currentMarker=a},d.prototype._onMarkerChanged=function(a){var b=this._editor.getModel();if(!b)return;if(!this._model)return;if(!a.some(function(c){return He(b.uri,c)}))return;this._model.setMarkers(this._getMarkers())},d.prototype._getMarkers=function(){var a=this._editor.getModel();return a?this._markerService.read({resource:a.uri,severities:_a.Error|_a.Warning|_a.Info}):[]},d.ID="editor.contrib.markerController",d=b_([Bk(1,rg),Bk(2,ha),Bk(3,Ia),Bk(4,ya),Bk(5,Ja),Bk(6,Uc)],d),d}(),Dk=function(d){$m(a,d);function a(b,c,e){var f=d.call(this,e)||this;return f._isNext=b,f._multiFile=c,f}return a.prototype.run=function(b,c){var e=this,f=b.get(rg),g=b.get(ya),h=Ck.get(c);if(!h)return Promise.resolve(void 0);var i=h.getOrCreateModel(),j=i.move(this._isNext,!this._multiFile);if(!j||!this._multiFile)return Promise.resolve(void 0);var k=f.read({severities:_a.Error|_a.Warning|_a.Info}).sort(a.compareMarker);if(k.length===0)return Promise.resolve(void 0);var l=c.getModel();if(!l)return Promise.resolve(void 0);var m=i.currentMarker||{resource:l.uri,severity:_a.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},n=Ph(k,m,a.compareMarker);n<0?(n=~n,n%=k.length):this._isNext?n=(n+1)%k.length:n=(n+k.length-1)%k.length;var o=k[n];return He(o.resource,l.uri)?(i.move(this._isNext,!0),Promise.resolve(void 0)):(h.closeMarkersNavigation(),g.openCodeEditor({resource:o.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:o}},c).then(function(p){return p?p.getAction(e.id).run():void 0}))},a.compareMarker=function(b,c){var e=Il(b.resource.toString(),c.resource.toString());return e===0&&(e=_a.compare(b.severity,c.severity)),e===0&&(e=z.compareRangesUsingStarts(b,c)),e},a}(aa),Ek=function(d){$m(a,d);function a(){return d.call(this,!0,!1,{id:a.ID,label:a.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:C.writable,kbOpts:{kbExpr:C.focus,primary:512|66,weight:100}})||this}return a.ID="editor.action.marker.next",a.LABEL=s("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),a}(Dk),sr=function(d){$m(a,d);function a(){return d.call(this,!1,!1,{id:a.ID,label:a.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:C.writable,kbOpts:{kbExpr:C.focus,primary:1024|512|66,weight:100}})||this}return a.ID="editor.action.marker.prev",a.LABEL=s("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),a}(Dk),d_=function(d){$m(a,d);function a(){return d.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:s("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:C.writable,kbOpts:{kbExpr:C.focus,primary:66,weight:100}})||this}return a}(Dk),e_=function(d){$m(a,d);function a(){return d.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:s("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:C.writable,kbOpts:{kbExpr:C.focus,primary:1024|66,weight:100}})||this}return a}(Dk);ra(Ck.ID,Ck);N(Ek);N(sr);N(d_);N(e_);var AI=new ea("markersNavigationVisible",!1),f_=ob.bindToContribution(Ck.get);Q(new f_({id:"closeMarkersNavigation",precondition:AI,handler:function(d){return d.closeMarkersNavigation()},kbOpts:{weight:100+50,kbExpr:C.focus,primary:9,secondary:[1024|9]}}));Jd.appendMenuItem(19,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:s({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1});Jd.appendMenuItem(19,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:s({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2});var wH=function(){function d(a,b,c){this.presentationIndex=c,this._onColorFlushed=new E(),this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new E(),this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new E(),this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=a,this._color=a,this._colorPresentations=b}return Object.defineProperty(d.prototype,"color",{get:function(){return this._color},set:function(a){if(this._color.equals(a))return;this._color=a,this._onDidChangeColor.fire(a)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(a){this._colorPresentations=a,this.presentationIndex>a.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:!0,configurable:!0}),d.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)},d.prototype.guessColorPresentation=function(a,b){for(var c=0;c<this.colorPresentations.length;c++)if(b===this.colorPresentations[c].label){this.presentationIndex=c,this._onDidChangePresentation.fire(this.presentation);break}},d.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)},d}();var Ei=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Bf=X,XX=function(d){Ei(a,d);function a(b,c,e){var f=d.call(this)||this;f.model=c,f.domNode=Bf(".colorpicker-header"),S(b,f.domNode),f.pickedColorNode=S(f.domNode,Bf(".picked-color"));var g=S(f.domNode,Bf(".original-color"));return g.style.backgroundColor=M.Format.CSS.format(f.model.originalColor)||"",f.backgroundColor=e.getTheme().getColor(Se)||M.white,f._register(la(function(h,i){f.backgroundColor=h.getColor(Se)||M.white})),f._register(R(f.pickedColorNode,pa.CLICK,function(){return f.model.selectNextColorPresentation()})),f._register(R(g,pa.CLICK,function(){f.model.color=f.model.originalColor,f.model.flushColor()})),f._register(c.onDidChangeColor(f.onDidChangeColor,f)),f._register(c.onDidChangePresentation(f.onDidChangePresentation,f)),f.pickedColorNode.style.backgroundColor=M.Format.CSS.format(c.color)||"",qa(f.pickedColorNode,"light",c.color.rgba.a<.5?f.backgroundColor.isLighter():c.color.isLighter()),f}return a.prototype.onDidChangeColor=function(b){this.pickedColorNode.style.backgroundColor=M.Format.CSS.format(b)||"",qa(this.pickedColorNode,"light",b.rgba.a<.5?this.backgroundColor.isLighter():b.isLighter()),this.onDidChangePresentation()},a.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""},a}(I),YX=function(d){Ei(a,d);function a(b,c,e){var f=d.call(this)||this;return f.model=c,f.pixelRatio=e,f.domNode=Bf(".colorpicker-body"),S(b,f.domNode),f.saturationBox=new ZX(f.domNode,f.model,f.pixelRatio),f._register(f.saturationBox),f._register(f.saturationBox.onDidChange(f.onDidSaturationValueChange,f)),f._register(f.saturationBox.onColorFlushed(f.flushColor,f)),f.opacityStrip=new _X(f.domNode,f.model),f._register(f.opacityStrip),f._register(f.opacityStrip.onDidChange(f.onDidOpacityChange,f)),f._register(f.opacityStrip.onColorFlushed(f.flushColor,f)),f.hueStrip=new $X(f.domNode,f.model),f._register(f.hueStrip),f._register(f.hueStrip.onDidChange(f.onDidHueChange,f)),f._register(f.hueStrip.onColorFlushed(f.flushColor,f)),f}return a.prototype.flushColor=function(){this.model.flushColor()},a.prototype.onDidSaturationValueChange=function(b){var c=b.s,e=b.v,f=this.model.color.hsva;this.model.color=new M(new Vf(f.h,c,e,f.a))},a.prototype.onDidOpacityChange=function(b){var c=this.model.color.hsva;this.model.color=new M(new Vf(c.h,c.s,c.v,b))},a.prototype.onDidHueChange=function(b){var c=this.model.color.hsva,e=(1-b)*360;this.model.color=new M(new Vf(e===360?0:e,c.s,c.v,c.a))},a.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},a}(I),ZX=function(d){Ei(a,d);function a(b,c,e){var f=d.call(this)||this;return f.model=c,f.pixelRatio=e,f._onDidChange=new E(),f.onDidChange=f._onDidChange.event,f._onColorFlushed=new E(),f.onColorFlushed=f._onColorFlushed.event,f.domNode=Bf(".saturation-wrap"),S(b,f.domNode),f.canvas=document.createElement("canvas"),f.canvas.className="saturation-box",S(f.domNode,f.canvas),f.selection=Bf(".saturation-selection"),S(f.domNode,f.selection),f.layout(),f._register(Kn(f.domNode,function(g){return f.onMouseDown(g)})),f._register(f.model.onDidChangeColor(f.onDidChangeColor,f)),f.monitor=null,f}return a.prototype.onMouseDown=function(b){var c=this;this.monitor=this._register(new Rd());var e=ab(this.domNode);b.target!==this.selection&&this.onDidChangePosition(b.offsetX,b.offsetY),this.monitor.startMonitoring(b.target,b.buttons,Ae,function(g){return c.onDidChangePosition(g.posx-e.left,g.posy-e.top)},function(){return null});var f=Is(document,function(){c._onColorFlushed.fire(),f.dispose(),c.monitor&&(c.monitor.stopMonitoring(!0),c.monitor=null)},!0)},a.prototype.onDidChangePosition=function(b,c){var e=Math.max(0,Math.min(1,b/this.width)),f=Math.max(0,Math.min(1,1-c/this.height));this.paintSelection(e,f),this._onDidChange.fire({s:e,v:f})},a.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var b=this.model.color.hsva;this.paintSelection(b.s,b.v)},a.prototype.paint=function(){var b=this.model.color.hsva,c=new M(new Vf(b.h,1,1,1)),e=this.canvas.getContext("2d"),f=e.createLinearGradient(0,0,this.canvas.width,0);f.addColorStop(0,"rgba(255, 255, 255, 1)"),f.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),f.addColorStop(1,"rgba(255, 255, 255, 0)");var g=e.createLinearGradient(0,0,0,this.canvas.height);g.addColorStop(0,"rgba(0, 0, 0, 0)"),g.addColorStop(1,"rgba(0, 0, 0, 1)"),e.rect(0,0,this.canvas.width,this.canvas.height),e.fillStyle=M.Format.CSS.format(c),e.fill(),e.fillStyle=f,e.fill(),e.fillStyle=g,e.fill()},a.prototype.paintSelection=function(b,c){this.selection.style.left=b*this.width+"px",this.selection.style.top=this.height-c*this.height+"px"},a.prototype.onDidChangeColor=function(){if(this.monitor&&this.monitor.isMonitoring())return;this.paint()},a}(I),xH=function(d){Ei(a,d);function a(b,c){var e=d.call(this)||this;return e.model=c,e._onDidChange=new E(),e.onDidChange=e._onDidChange.event,e._onColorFlushed=new E(),e.onColorFlushed=e._onColorFlushed.event,e.domNode=S(b,Bf(".strip")),e.overlay=S(e.domNode,Bf(".overlay")),e.slider=S(e.domNode,Bf(".slider")),e.slider.style.top="0px",e._register(Kn(e.domNode,function(f){return e.onMouseDown(f)})),e.layout(),e}return a.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var b=this.getValue(this.model.color);this.updateSliderPosition(b)},a.prototype.onMouseDown=function(b){var c=this,e=this._register(new Rd()),f=ab(this.domNode);U(this.domNode,"grabbing"),b.target!==this.slider&&this.onDidChangeTop(b.offsetY),e.startMonitoring(b.target,b.buttons,Ae,function(h){return c.onDidChangeTop(h.posy-f.top)},function(){return null});var g=Is(document,function(){c._onColorFlushed.fire(),g.dispose(),e.stopMonitoring(!0),fa(c.domNode,"grabbing")},!0)},a.prototype.onDidChangeTop=function(b){var c=Math.max(0,Math.min(1,1-b/this.height));this.updateSliderPosition(c),this._onDidChange.fire(c)},a.prototype.updateSliderPosition=function(b){this.slider.style.top=(1-b)*this.height+"px"},a}(I),_X=function(d){Ei(a,d);function a(b,c){var e=d.call(this,b,c)||this;return U(e.domNode,"opacity-strip"),e._register(c.onDidChangeColor(e.onDidChangeColor,e)),e.onDidChangeColor(e.model.color),e}return a.prototype.onDidChangeColor=function(b){var c=b.rgba,e=c.r,f=c.g,g=c.b,h=new M(new Ha(e,f,g,1)),i=new M(new Ha(e,f,g,0));this.overlay.style.background="linear-gradient(to bottom, "+h+" 0%, "+i+" 100%)"},a.prototype.getValue=function(b){return b.hsva.a},a}(xH),$X=function(d){Ei(a,d);function a(b,c){var e=d.call(this,b,c)||this;return U(e.domNode,"hue-strip"),e}return a.prototype.getValue=function(b){return 1-b.hsva.h/360},a}(xH),yH=function(d){Ei(a,d);function a(b,c,e,f){var g=d.call(this)||this;g.model=c,g.pixelRatio=e,g._register(Jn(function(){return g.layout()}));var h=Bf(".colorpicker-widget");b.appendChild(h);var i=new XX(h,g.model,f);return g.body=new YX(h,g.model,g.pixelRatio),g._register(i),g._register(g.body),g}return a.prototype.layout=function(){this.body.layout()},a}(Hb);function Zw(d,a,b){var c=fg.ordered(d),e=c.map(function(f){return Promise.resolve(f.provideHover(d,a,b)).then(function(g){return g&&G_(g)?g:void 0},function(g){tb(g);return})});return Promise.all(e).then(Cd)}nf("_executeHoverProvider",function(d,a){return Zw(d,a,xa.None)});function G_(d){var a=typeof d.range!=="undefined",b=typeof d.contents!=="undefined"&&d.contents&&d.contents.length>0;return a&&b}var Er=function(){function d(a,b,c,e,f){var g=this;this._computer=a,this._state=0,this._hoverTime=f,this._firstWaitScheduler=new Ka(function(){return g._triggerAsyncComputation()},0),this._secondWaitScheduler=new Ka(function(){return g._triggerSyncComputation()},0),this._loadingMessageScheduler=new Ka(function(){return g._showLoadingMessage()},0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=b,this._errorCallback=c,this._progressCallback=e}return d.prototype.setHoverTime=function(a){this._hoverTime=a},d.prototype._firstWaitTime=function(){return this._hoverTime/2},d.prototype._secondWaitTime=function(){return this._hoverTime/2},d.prototype._loadingMessageTime=function(){return 3*this._hoverTime},d.prototype._triggerAsyncComputation=function(){var a=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=bb(function(b){return a._computer.computeAsync(b)}),this._asyncComputationPromise.then(function(b){a._asyncComputationPromiseDone=!0,a._withAsyncResult(b)},function(b){return a._onError(b)})):this._asyncComputationPromiseDone=!0},d.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},d.prototype._showLoadingMessage=function(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())},d.prototype._withAsyncResult=function(a){a&&this._computer.onResult(a,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))},d.prototype._onComplete=function(a){this._completeCallback&&this._completeCallback(a)},d.prototype._onError=function(a){this._errorCallback?this._errorCallback(a):W(a)},d.prototype._onProgress=function(a){this._progressCallback&&this._progressCallback(a)},d.prototype.start=function(a){if(a===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}},d.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&(this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state=0},d}();var gJ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),K_=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},hJ=function(d){gJ(a,d);function a(b,c){var e=d.call(this)||this;return e.allowEditorOverflow=!0,e._id=b,e._editor=c,e._isVisible=!1,e._stoleFocus=!1,e._containerDomNode=document.createElement("div"),e._containerDomNode.className="monaco-editor-hover hidden",e._containerDomNode.tabIndex=0,e._domNode=document.createElement("div"),e._domNode.className="monaco-editor-hover-content",e.scrollbar=new df(e._domNode,{}),e._register(e.scrollbar),e._containerDomNode.appendChild(e.scrollbar.getDomNode()),e.onkeydown(e._containerDomNode,function(f){f.equals(9)&&e.hide()}),e._register(e._editor.onDidChangeConfiguration(function(f){f.hasChanged(34)&&e.updateFont()})),e._editor.onDidLayoutChange(function(f){return e.layout()}),e.layout(),e._editor.addContentWidget(e),e._showAtPosition=null,e._showAtRange=null,e._stoleFocus=!1,e}return Object.defineProperty(a.prototype,"isVisible",{get:function(){return this._isVisible},set:function(b){this._isVisible=b,qa(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),a.prototype.getId=function(){return this._id},a.prototype.getDomNode=function(){return this._containerDomNode},a.prototype.showAt=function(b,c,e){this._showAtPosition=b,this._showAtRange=c,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=e,e&&this._containerDomNode.focus()},a.prototype.hide=function(){if(!this.isVisible)return;this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()},a.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},a.prototype.dispose=function(){this._editor.removeContentWidget(this),d.prototype.dispose.call(this)},a.prototype.updateFont=function(){var b=this,c=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));c.forEach(function(e){return b._editor.applyFontInfo(e)})},a.prototype.updateContents=function(b){this._domNode.textContent="",this._domNode.appendChild(b),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},a.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},a.prototype.layout=function(){var b=Math.max(this._editor.getLayoutInfo().height/4,250),c=this._editor.getOption(34),e=c.fontSize,f=c.lineHeight;this._domNode.style.fontSize=e+"px",this._domNode.style.lineHeight=f+"px",this._domNode.style.maxHeight=b+"px",this._domNode.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px"},a}(Hb),iJ=function(d){gJ(a,d);function a(b,c){var e=d.call(this)||this;return e._id=b,e._editor=c,e._isVisible=!1,e._domNode=document.createElement("div"),e._domNode.className="monaco-editor-hover hidden",e._domNode.setAttribute("aria-hidden","true"),e._domNode.setAttribute("role","presentation"),e._showAtLineNumber=-1,e._register(e._editor.onDidChangeConfiguration(function(f){f.hasChanged(34)&&e.updateFont()})),e._editor.addOverlayWidget(e),e}return Object.defineProperty(a.prototype,"isVisible",{get:function(){return this._isVisible},set:function(b){this._isVisible=b,qa(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),a.prototype.getId=function(){return this._id},a.prototype.getDomNode=function(){return this._domNode},a.prototype.showAt=function(b){this._showAtLineNumber=b,this.isVisible||(this.isVisible=!0);var c=this._editor.getLayoutInfo(),e=this._editor.getTopForLineNumber(this._showAtLineNumber),f=this._editor.getScrollTop(),g=this._editor.getOption(49),h=this._domNode.clientHeight,i=e-f-(h-g)/2;this._domNode.style.left=c.glyphMarginLeft+c.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(i),0)+"px"},a.prototype.hide=function(){if(!this.isVisible)return;this.isVisible=!1},a.prototype.getPosition=function(){return null},a.prototype.dispose=function(){this._editor.removeOverlayWidget(this),d.prototype.dispose.call(this)},a.prototype.updateFont=function(){var b=this,c=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),e=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));K_(c,e).forEach(function(f){return b._editor.applyFontInfo(f)})},a.prototype.updateContents=function(b){this._domNode.textContent="",this._domNode.appendChild(b),this.updateFont()},a}(Hb);var gf;(function(d){"use strict";var a={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:q,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:q,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:q,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};a._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,a._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,a.def=l(a.def).replace("label",a._label).replace("title",a._title).getRegex(),a.bullet=/(?:[*+-]|\d{1,9}\.)/,a.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,a.item=l(a.item,"gm").replace(/bull/g,a.bullet).getRegex(),a.list=l(a.list).replace(/bull/g,a.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+a.def.source+")").getRegex(),a._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",a._comment=/<!--(?!-?>)[\s\S]*?-->/,a.html=l(a.html,"i").replace("comment",a._comment).replace("tag",a._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),a.paragraph=l(a.paragraph).replace("hr",a.hr).replace("heading",a.heading).replace("lheading",a.lheading).replace("tag",a._tag).getRegex(),a.blockquote=l(a.blockquote).replace("paragraph",a.paragraph).getRegex(),a.normal=r({},a),a.gfm=r({},a.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),a.gfm.paragraph=l(a.paragraph).replace("(?!","(?!"+a.gfm.fences.source.replace("\\1","\\2")+"|"+a.list.source.replace("\\1","\\3")+"|").getRegex(),a.tables=r({},a.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),a.pedantic=r({},a.normal,{html:l(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",a._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/});function b(u){this.tokens=[],this.tokens.links=Object.create(null),this.options=u||x.defaults,this.rules=a.normal,this.options.pedantic?this.rules=a.pedantic:this.options.gfm&&(this.options.tables?this.rules=a.tables:this.rules=a.gfm)}b.rules=a,b.lex=function(u,y){var A=new b(y);return A.lex(u)},b.prototype.lex=function(u){return u=u.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(u,!0)},b.prototype.token=function(u,y){u=u.replace(/^ +$/gm,"");for(var A,F,B,D,H,J,L,O,T,$,_,$a,Na,Nb,zc,Oa;u;){(B=this.rules.newline.exec(u))&&(u=u.substring(B[0].length),B[0].length>1&&this.tokens.push({type:"space"}));if(B=this.rules.code.exec(u)){u=u.substring(B[0].length),B=B[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?B:v(B,`
`)});continue}if(B=this.rules.fences.exec(u)){u=u.substring(B[0].length),this.tokens.push({type:"code",lang:B[2]?B[2].trim():B[2],text:B[3]||""});continue}if(B=this.rules.heading.exec(u)){u=u.substring(B[0].length),this.tokens.push({type:"heading",depth:B[1].length,text:B[2]});continue}if(B=this.rules.nptable.exec(u)){J={type:"table",header:t(B[1].replace(/^ *| *\| *$/g,"")),align:B[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:B[3]?B[3].replace(/\n$/,"").split(`
`):[]};if(J.header.length===J.align.length){for(u=u.substring(B[0].length),_=0;_<J.align.length;_++)/^ *-+: *$/.test(J.align[_])?J.align[_]="right":/^ *:-+: *$/.test(J.align[_])?J.align[_]="center":/^ *:-+ *$/.test(J.align[_])?J.align[_]="left":J.align[_]=null;for(_=0;_<J.cells.length;_++)J.cells[_]=t(J.cells[_],J.header.length);this.tokens.push(J);continue}}if(B=this.rules.hr.exec(u)){u=u.substring(B[0].length),this.tokens.push({type:"hr"});continue}if(B=this.rules.blockquote.exec(u)){u=u.substring(B[0].length),this.tokens.push({type:"blockquote_start"}),B=B[0].replace(/^ *> ?/gm,""),this.token(B,y),this.tokens.push({type:"blockquote_end"});continue}if(B=this.rules.list.exec(u)){for(u=u.substring(B[0].length),D=B[2],Nb=D.length>1,L={type:"list_start",ordered:Nb,start:Nb?+D:"",loose:!1},this.tokens.push(L),B=B[0].match(this.rules.item),O=[],A=!1,Na=B.length,_=0;_<Na;_++)J=B[_],$=J.length,J=J.replace(/^ *([*+-]|\d+\.) */,""),~J.indexOf(`
 `)&&($-=J.length,J=this.options.pedantic?J.replace(/^ {1,4}/gm,""):J.replace(new RegExp("^ {1,"+$+"}","gm"),"")),_!==Na-1&&(H=a.bullet.exec(B[_+1])[0],(D.length>1?H.length===1:H.length>1||this.options.smartLists&&H!==D)&&(u=B.slice(_+1).join(`
`)+u,_=Na-1)),F=A||/\n\n(?!\s*$)/.test(J),_!==Na-1&&(A=J.charAt(J.length-1)===`
`,F||(F=A)),F&&(L.loose=!0),zc=/^\[[ xX]\] /.test(J),Oa=void 0,zc&&(Oa=J[1]!==" ",J=J.replace(/^\[[ xX]\] +/,"")),T={type:"list_item_start",task:zc,checked:Oa,loose:F},O.push(T),this.tokens.push(T),this.token(J,!1),this.tokens.push({type:"list_item_end"});if(L.loose)for(Na=O.length,_=0;_<Na;_++)O[_].loose=!0;this.tokens.push({type:"list_end"});continue}if(B=this.rules.html.exec(u)){u=u.substring(B[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(B[1]==="pre"||B[1]==="script"||B[1]==="style"),text:B[0]});continue}if(y&&(B=this.rules.def.exec(u))){u=u.substring(B[0].length),B[3]&&(B[3]=B[3].substring(1,B[3].length-1)),$a=B[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[$a]||(this.tokens.links[$a]={href:B[2],title:B[3]});continue}if(B=this.rules.table.exec(u)){J={type:"table",header:t(B[1].replace(/^ *| *\| *$/g,"")),align:B[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:B[3]?B[3].replace(/\n$/,"").split(`
`):[]};if(J.header.length===J.align.length){for(u=u.substring(B[0].length),_=0;_<J.align.length;_++)/^ *-+: *$/.test(J.align[_])?J.align[_]="right":/^ *:-+: *$/.test(J.align[_])?J.align[_]="center":/^ *:-+ *$/.test(J.align[_])?J.align[_]="left":J.align[_]=null;for(_=0;_<J.cells.length;_++)J.cells[_]=t(J.cells[_].replace(/^ *\| *| *\| *$/g,""),J.header.length);this.tokens.push(J);continue}}if(B=this.rules.lheading.exec(u)){u=u.substring(B[0].length),this.tokens.push({type:"heading",depth:B[2]==="="?1:2,text:B[1]});continue}if(y&&(B=this.rules.paragraph.exec(u))){u=u.substring(B[0].length),this.tokens.push({type:"paragraph",text:B[1].charAt(B[1].length-1)===`
`?B[1].slice(0,-1):B[1]});continue}if(B=this.rules.text.exec(u)){u=u.substring(B[0].length),this.tokens.push({type:"text",text:B[0]});continue}if(u)throw new Error("Infinite loop on byte: "+u.charCodeAt(0))}return this.tokens};var c={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:q,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:q,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};c._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`,c.em=l(c.em).replace(/punctuation/g,c._punctuation).getRegex(),c._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,c._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,c._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,c.autolink=l(c.autolink).replace("scheme",c._scheme).replace("email",c._email).getRegex(),c._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,c.tag=l(c.tag).replace("comment",a._comment).replace("attribute",c._attribute).getRegex(),c._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,c._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,c._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,c.link=l(c.link).replace("label",c._label).replace("href",c._href).replace("title",c._title).getRegex(),c.reflink=l(c.reflink).replace("label",c._label).getRegex(),c.normal=r({},c),c.pedantic=r({},c.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:l(/^!?\[(label)\]\((.*?)\)/).replace("label",c._label).getRegex(),reflink:l(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",c._label).getRegex()}),c.gfm=r({},c.normal,{escape:l(c.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),c.gfm.url=l(c.gfm.url,"i").replace("email",c.gfm._extended_email).getRegex(),c.breaks=r({},c.gfm,{br:l(c.br).replace("{2,}","*").getRegex(),text:l(c.gfm.text).replace(/\{2,\}/g,"*").getRegex()});function e(u,y){this.options=y||x.defaults,this.links=u,this.rules=c.normal,this.renderer=this.options.renderer||new f(),this.renderer.options=this.options;if(!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=c.pedantic:this.options.gfm&&(this.options.breaks?this.rules=c.breaks:this.rules=c.gfm)}e.rules=c,e.output=function(u,y,A){var F=new e(y,A);return F.output(u)},e.prototype.output=function(u){for(var y="",A,F,B,D,H,J;u;){if(H=this.rules.escape.exec(u)){u=u.substring(H[0].length),y+=j(H[1]);continue}if(H=this.rules.tag.exec(u)){!this.inLink&&/^<a /i.test(H[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(H[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(H[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(H[0])&&(this.inRawBlock=!1),u=u.substring(H[0].length),y+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(H[0]):j(H[0]):H[0];continue}if(H=this.rules.link.exec(u)){var L=w(H[2],"()");if(L>-1){var O=H[0].length-(H[2].length-L)-(H[3]||"").length;H[2]=H[2].substring(0,L),H[0]=H[0].substring(0,O).trim(),H[3]=""}u=u.substring(H[0].length),this.inLink=!0,B=H[2],this.options.pedantic?(A=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(B),A?(B=A[1],D=A[3]):D=""):D=H[3]?H[3].slice(1,-1):"",B=B.trim().replace(/^<([\s\S]*)>$/,"$1"),y+=this.outputLink(H,{href:e.escapes(B),title:e.escapes(D)}),this.inLink=!1;continue}if((H=this.rules.reflink.exec(u))||(H=this.rules.nolink.exec(u))){u=u.substring(H[0].length),A=(H[2]||H[1]).replace(/\s+/g," "),A=this.links[A.toLowerCase()];if(!A||!A.href){y+=H[0].charAt(0),u=H[0].substring(1)+u;continue}this.inLink=!0,y+=this.outputLink(H,A),this.inLink=!1;continue}if(H=this.rules.strong.exec(u)){u=u.substring(H[0].length),y+=this.renderer.strong(this.output(H[4]||H[3]||H[2]||H[1]));continue}if(H=this.rules.em.exec(u)){u=u.substring(H[0].length),y+=this.renderer.em(this.output(H[6]||H[5]||H[4]||H[3]||H[2]||H[1]));continue}if(H=this.rules.code.exec(u)){u=u.substring(H[0].length),y+=this.renderer.codespan(j(H[2].trim(),!0));continue}if(H=this.rules.br.exec(u)){u=u.substring(H[0].length),y+=this.renderer.br();continue}if(H=this.rules.del.exec(u)){u=u.substring(H[0].length),y+=this.renderer.del(this.output(H[1]));continue}if(H=this.rules.autolink.exec(u)){u=u.substring(H[0].length),H[2]==="@"?(F=j(this.mangle(H[1])),B="mailto:"+F):(F=j(H[1]),B=F),y+=this.renderer.link(B,null,F);continue}if(!this.inLink&&(H=this.rules.url.exec(u))){if(H[2]==="@")F=j(H[0]),B="mailto:"+F;else{do J=H[0],H[0]=this.rules._backpedal.exec(H[0])[0];while(J!==H[0]);F=j(H[0]),H[1]==="www."?B="http://"+F:B=F}u=u.substring(H[0].length),y+=this.renderer.link(B,null,F);continue}if(H=this.rules.text.exec(u)){u=u.substring(H[0].length),this.inRawBlock?y+=this.renderer.text(H[0]):y+=this.renderer.text(j(this.smartypants(H[0])));continue}if(u)throw new Error("Infinite loop on byte: "+u.charCodeAt(0))}return y},e.escapes=function(u){return u?u.replace(e.rules._escapes,"$1"):u},e.prototype.outputLink=function(u,y){var A=y.href,F=y.title?j(y.title):null;return u[0].charAt(0)!=="!"?this.renderer.link(A,F,this.output(u[1])):this.renderer.image(A,F,j(u[1]))},e.prototype.smartypants=function(u){return this.options.smartypants?u.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):u},e.prototype.mangle=function(u){if(!this.options.mangle)return u;for(var y="",A=u.length,F=0,B;F<A;F++)B=u.charCodeAt(F),Math.random()>.5&&(B="x"+B.toString(16)),y+="&#"+B+";";return y};function f(u){this.options=u||x.defaults}f.prototype.code=function(u,y,A){var F=(y||"").match(/\S*/)[0];if(this.options.highlight){var B=this.options.highlight(u,F);B!=null&&B!==u&&(A=!0,u=B)}return F?'<pre><code class="'+this.options.langPrefix+j(F,!0)+'">'+(A?u:j(u,!0))+`</code></pre>
`:"<pre><code>"+(A?u:j(u,!0))+"</code></pre>"},f.prototype.blockquote=function(u){return`<blockquote>
`+u+`</blockquote>
`},f.prototype.html=function(u){return u},f.prototype.heading=function(u,y,A,F){return this.options.headerIds?"<h"+y+' id="'+this.options.headerPrefix+F.slug(A)+'">'+u+"</h"+y+`>
`:"<h"+y+">"+u+"</h"+y+`>
`},f.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},f.prototype.list=function(u,y,A){var F=y?"ol":"ul",B=y&&A!==1?' start="'+A+'"':"";return"<"+F+B+`>
`+u+"</"+F+`>
`},f.prototype.listitem=function(u){return"<li>"+u+`</li>
`},f.prototype.checkbox=function(u){return"<input "+(u?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},f.prototype.paragraph=function(u){return"<p>"+u+`</p>
`},f.prototype.table=function(u,y){return y&&(y="<tbody>"+y+"</tbody>"),`<table>
<thead>
`+u+`</thead>
`+y+`</table>
`},f.prototype.tablerow=function(u){return`<tr>
`+u+`</tr>
`},f.prototype.tablecell=function(u,y){var A=y.header?"th":"td",F=y.align?"<"+A+' align="'+y.align+'">':"<"+A+">";return F+u+"</"+A+`>
`},f.prototype.strong=function(u){return"<strong>"+u+"</strong>"},f.prototype.em=function(u){return"<em>"+u+"</em>"},f.prototype.codespan=function(u){return"<code>"+u+"</code>"},f.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},f.prototype.del=function(u){return"<del>"+u+"</del>"},f.prototype.link=function(u,y,A){u=m(this.options.sanitize,this.options.baseUrl,u);if(u===null)return A;var F='<a href="'+j(u)+'"';return y&&(F+=' title="'+y+'"'),F+=">"+A+"</a>",F},f.prototype.image=function(u,y,A){u=m(this.options.sanitize,this.options.baseUrl,u);if(u===null)return A;var F='<img src="'+u+'" alt="'+A+'"';return y&&(F+=' title="'+y+'"'),F+=this.options.xhtml?"/>":">",F},f.prototype.text=function(u){return u};function g(){}g.prototype.strong=g.prototype.em=g.prototype.codespan=g.prototype.del=g.prototype.text=function(u){return u},g.prototype.link=g.prototype.image=function(u,y,A){return""+A},g.prototype.br=function(){return""};function h(u){this.tokens=[],this.token=null,this.options=u||x.defaults,this.options.renderer=this.options.renderer||new f(),this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new i()}h.parse=function(u,y){var A=new h(y);return A.parse(u)},h.prototype.parse=function(u){this.inline=new e(u.links,this.options),this.inlineText=new e(u.links,r({},this.options,{renderer:new g()})),this.tokens=u.reverse();for(var y="";this.next();)y+=this.tok();return y},h.prototype.next=function(){return this.token=this.tokens.pop()},h.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},h.prototype.parseText=function(){for(var u=this.token.text;this.peek().type==="text";)u+=`
`+this.next().text;return this.inline.output(u)},h.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,k(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{var u="",y="",A,F,B,D;for(B="",A=0;A<this.token.header.length;A++)B+=this.renderer.tablecell(this.inline.output(this.token.header[A]),{header:!0,align:this.token.align[A]});for(u+=this.renderer.tablerow(B),A=0;A<this.token.cells.length;A++){for(F=this.token.cells[A],B="",D=0;D<F.length;D++)B+=this.renderer.tablecell(this.inline.output(F[D]),{header:!1,align:this.token.align[D]});y+=this.renderer.tablerow(B)}return this.renderer.table(u,y)}case"blockquote_start":{for(y="";this.next().type!=="blockquote_end";)y+=this.tok();return this.renderer.blockquote(y)}case"list_start":{y="";for(var H=this.token.ordered,J=this.token.start;this.next().type!=="list_end";)y+=this.tok();return this.renderer.list(y,H,J)}case"list_item_start":{y="";var L=this.token.loose,O=this.token.checked,T=this.token.task;for(this.token.task&&(y+=this.renderer.checkbox(O));this.next().type!=="list_item_end";)y+=!L&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(y,T,O)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{var $='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log($);else throw new Error($)}}};function i(){this.seen={}}i.prototype.slug=function(u){var y=u.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(y)){var A=y;do this.seen[A]++,y=A+"-"+this.seen[A];while(this.seen.hasOwnProperty(y))}return this.seen[y]=0,y};function j(u,y){if(y){if(j.escapeTest.test(u))return u.replace(j.escapeReplace,function(A){return j.replacements[A]})}else if(j.escapeTestNoEncode.test(u))return u.replace(j.escapeReplaceNoEncode,function(A){return j.replacements[A]});return u}j.escapeTest=/[&<>"']/,j.escapeReplace=/[&<>"']/g,j.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},j.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,j.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;function k(u){return u.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(y,A){return A=A.toLowerCase(),A==="colon"?":":A.charAt(0)==="#"?A.charAt(1)==="x"?String.fromCharCode(parseInt(A.substring(2),16)):String.fromCharCode(+A.substring(1)):""})}function l(u,y){return u=u.source||u,y=y||"",{replace:function(A,F){return F=F.source||F,F=F.replace(/(^|[^\[])\^/g,"$1"),u=u.replace(A,F),this},getRegex:function(){return new RegExp(u,y)}}}function m(u,y,A){if(u){try{var F=decodeURIComponent(k(A)).replace(/[^\w:]/g,"").toLowerCase()}catch(B){return null}if(F.indexOf("javascript:")===0||F.indexOf("vbscript:")===0||F.indexOf("data:")===0)return null}y&&!p.test(A)&&(A=n(y,A));try{A=encodeURI(A).replace(/%25/g,"%")}catch(B){return null}return A}function n(u,y){return o[" "+u]||(/^[^:]+:\/*[^/]*$/.test(u)?o[" "+u]=u+"/":o[" "+u]=v(u,"/",!0)),u=o[" "+u],y.slice(0,2)==="//"?u.replace(/:[\s\S]*/,":")+y:y.charAt(0)==="/"?u.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+y:u+y}var o={},p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function q(){}q.exec=q;function r(u){for(var y=1,A,F;y<arguments.length;y++){A=arguments[y];for(F in A)Object.prototype.hasOwnProperty.call(A,F)&&(u[F]=A[F])}return u}function t(u,y){var A=u.replace(/\|/g,function(D,H,J){for(var L=!1,O=H;--O>=0&&J[O]==="\\";)L=!L;return L?"|":" |"}),F=A.split(/ \|/),B=0;if(F.length>y)F.splice(y);else for(;F.length<y;)F.push("");for(;B<F.length;B++)F[B]=F[B].trim().replace(/\\\|/g,"|");return F}function v(u,y,A){if(u.length===0)return"";for(var F=0;F<u.length;){var B=u.charAt(u.length-F-1);if(B===y&&!A)F++;else if(B!==y&&A)F++;else break}return u.substr(0,u.length-F)}function w(u,y){if(u.indexOf(y[1])===-1)return-1;for(var A=0,F=0;F<u.length;F++)if(u[F]==="\\")F++;else if(u[F]===y[0])A++;else if(u[F]===y[1]){A--;if(A<0)return F}return-1}function x(u,y,A){if(typeof u==="undefined"||u===null)throw new Error("marked(): input parameter is undefined or null");if(typeof u!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(u)+", string expected");if(A||typeof y==="function"){A||(A=y,y=null),y=r({},x.defaults,y||{});var F=y.highlight,B,D,H=0;try{B=b.lex(u,y)}catch(L){return A(L)}D=B.length;var J=function(L){if(L)return y.highlight=F,A(L);var O;try{O=h.parse(B,y)}catch(T){L=T}return y.highlight=F,L?A(L):A(null,O)};if(!F||F.length<3)return J();delete y.highlight;if(!D)return J();for(;H<B.length;H++)(function(L){return L.type!=="code"?--D||J():F(L.text,L.lang,function(O,T){if(O)return J(O);if(T==null||T===L.text)return--D||J();L.text=T,L.escaped=!0,--D||J()})})(B[H]);return}try{return y&&(y=r({},x.defaults,y)),h.parse(b.lex(u,y),y)}catch(L){L.message+=`
Please report this to https://github.com/markedjs/marked.`;if((y||x.defaults).silent)return"<p>An error occurred:</p><pre>"+j(L.message+"",!0)+"</pre>";throw L}}x.options=x.setOptions=function(u){return r(x.defaults,u),x},x.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new f(),sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},x.defaults=x.getDefaults(),x.Parser=h,x.parser=h.parse,x.Renderer=f,x.TextRenderer=g,x.Lexer=b,x.lexer=b.lex,x.InlineLexer=e,x.inlineLexer=e.output,x.Slugger=i,x.parse=x,gf=x}).call(void 0);var dca=gf.Parser,eca=gf.parser,Zy=gf.Renderer,fca=gf.TextRenderer,gca=gf.Lexer,hca=gf.lexer,ica=gf.InlineLexer,jca=gf.inlineLexer,_y=gf.parse;let NA;(function(){function d(a,b,c){function e(h,i){if(!b[h]){if(!a[h]){var j=!1;if(!i&&j)return j(h,!0);if(f)return f(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=b[h]={exports:{}};a[h][0].call(l.exports,function(m){var n=a[h][1][m];return e(n||m)},l,l.exports,d,a,b,c)}return b[h].exports}for(var f=!1,g=0;g<c.length;g++)e(c[g]);return e}return d})()({1:[function(d,a,b){"use strict";var c=d("./toMap"),e=["background","base","cite","href","longdesc","src","usemap"];a.exports={uris:c(e)}},{"./toMap":10}],2:[function(d,a,b){"use strict";var c={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};a.exports=c},{}],3:[function(d,a,b){"use strict";var c=d("./toMap"),e=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];a.exports={voids:c(e)}},{"./toMap":10}],4:[function(d,a,b){"use strict";var c=d("he"),e=d("assignment"),f=d("./parser"),g=d("./sanitizer"),h=d("./defaults");function i(j,k,l){var m=[],n=l===!0?k:e({},h,k),o=g(m,n);return f(j,o),m.join("")}i.defaults=h,a.exports=i,NA=i},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(d,a,b){"use strict";a.exports=function c(e){return typeof e==="string"?e.toLowerCase():e}},{}],6:[function(d,a,b){"use strict";function c(e){for(var f=Array.prototype.slice.call(arguments,1),g,h;f.length;){g=f.shift();for(h in g)g.hasOwnProperty(h)&&(Object.prototype.toString.call(e[h])==="[object Object]"?e[h]=c(e[h],g[h]):e[h]=g[h])}return e}a.exports=c},{}],7:[function(d,a,b){"use strict";var c=d("he"),e=d("./lowercase"),f=d("./attributes"),g=d("./elements"),h=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,i=/^<\s*\/\s*([\w:-]+)[^>]*>/,j=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,k=/^</,l=/^<\s*\//;function m(){var o=[];return o.lastItem=function p(){return o[o.length-1]},o}function n(o,p){for(var q=m(),r=o,t;o;)v();F();function v(){t=!0,w();var B=o===r;r=o,B&&(o="")}function w(){o.substr(0,4)==="<!--"?u():l.test(o)?x(i,F):k.test(o)&&x(h,A),y()}function x(B,D){var H=o.match(B);H&&(o=o.substring(H[0].length),H[0].replace(B,D),t=!1)}function u(){var B=o.indexOf("-->");B>=0&&(p.comment&&p.comment(o.substring(4,B)),o=o.substring(B+3),t=!1)}function y(){if(!t)return;var B,D=o.indexOf("<");D>=0?(B=o.substring(0,D),o=o.substring(D)):(B=o,o=""),p.chars&&p.chars(B)}function A(B,D,H,J){var L={},O=e(D),T=g.voids[O]||!!J;H.replace(j,$),T||q.push(O),p.start&&p.start(O,L,T);function $(_,$a,Na,Nb,zc){Na===void 0&&Nb===void 0&&zc===void 0?L[$a]=void 0:L[$a]=c.decode(Na||Nb||zc||"")}}function F(B,D){var H,J=0,L=e(D);if(L){for(J=q.length-1;J>=0;J--)if(q[J]===L)break}if(J>=0){for(H=q.length-1;H>=J;H--)p.end&&p.end(q[H]);q.length=J}}}a.exports=n},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(d,a,b){"use strict";var c=d("he"),e=d("./lowercase"),f=d("./attributes"),g=d("./elements");function h(i,j){var k,l,m=j||{};return w(),{start:o,end:p,chars:r};function n(x){i.push(x)}function o(x,u,y){var A=e(x);if(l.ignoring){t(A);return}if((m.allowedTags||[]).indexOf(A)===-1){t(A);return}if(m.filter&&!m.filter({tag:A,attrs:u})){t(A);return}n("<"),n(A),Object.keys(u).forEach(F),n(y?"/>":">");function F(B){var D=u[B],H=(m.allowedClasses||{})[A]||[],J=(m.allowedAttributes||{})[A]||[];J=J.concat((m.allowedAttributes||{})["*"]||[]);var L,O=e(B);O==="class"&&J.indexOf(O)===-1?(D=D.split(" ").filter(T).join(" ").trim(),L=D.length):L=J.indexOf(O)!==-1&&(f.uris[O]!==!0||q(D)),L&&(n(" "),n(B),typeof D==="string"&&(n('="'),n(c.encode(D)),n('"')));function T($){return H&&H.indexOf($)!==-1}}}function p(x){var u=e(x),y=(m.allowedTags||[]).indexOf(u)!==-1;y?l.ignoring===!1?(n("</"),n(u),n(">")):v(u):v(u)}function q(x){var u=x[0];if(u==="#"||u==="/")return!0;var y=x.indexOf(":");if(y===-1)return!0;var A=x.indexOf("?");if(A!==-1&&y>A)return!0;var F=x.indexOf("#");if(F!==-1&&y>F)return!0;return m.allowedSchemes.some(B);function B(D){return x.indexOf(D+":")===0}}function r(x){l.ignoring===!1&&n(m.transformText?m.transformText(x):x)}function t(x){if(g.voids[x])return;l.ignoring===!1?l={ignoring:x,depth:1}:l.ignoring===x&&l.depth++}function v(x){l.ignoring===x&&(--l.depth<=0&&w())}function w(){l={ignoring:!1,depth:0}}}a.exports=h},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(d,a,b){"use strict";var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,g=/[&<>"']/g;function h(l){return c[l]}function i(l){return e[l]}function j(l){return l==null?"":String(l).replace(g,h)}function k(l){return l==null?"":String(l).replace(f,i)}j.options=k.options={},a.exports={encode:j,escape:j,decode:k,unescape:k,version:"1.0.0-browser"}},{}],10:[function(d,a,b){"use strict";function c(f){return f.reduce(e,{})}function e(f,g){return f[g]=!0,f}a.exports=c},{}]},{},[4]);var Vy=NA;function Yy(d,a){a===void 0&&(a={});var b=Pn(a),c=function(m){var n;try{n=hl(decodeURIComponent(m))}catch(o){}return n?(n=Wy(n,function(o){return d.uris&&d.uris[o]?ja.revive(d.uris[o]):void 0}),encodeURIComponent(JSON.stringify(n))):m},e=function(m,n){var o=d.uris&&d.uris[m];if(!o)return m;var p=ja.revive(o);return ja.parse(m).toString()===p.toString()?m:(n&&(p=Ps(p)),p.query&&(p=p.with({query:c(p.query)})),p.toString(!0))},f,g=new Promise(function(m){return f=m}),h=new Zy();h.image=function(m,n,o){var p,q=[],r=[];return m&&(p=Uy(m),m=p.href,q=p.dimensions,m=e(m,!0),r.push('src="'+m+'"')),o&&r.push('alt="'+o+'"'),n&&r.push('title="'+n+'"'),q.length&&(r=r.concat(q)),"<img "+r.join(" ")+">"},h.link=function(m,n,o){return m===o&&(o=Qn(o)),m=e(m,!1),n=Qn(n),m=Qn(m),!m||m.match(/^data:|javascript:/i)||m.match(/^command:/i)&&!d.isTrusted||m.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?o:(m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="#" data-href="'+m+'" title="'+(n||m)+'">'+o+"</a>")},h.paragraph=function(m){return"<p>"+(d.supportThemeIcons?Dg(m):m)+"</p>"},a.codeBlockRenderer&&(h.code=function(m,n){var o=a.codeBlockRenderer(n,m),p=Rn.nextId(),q=Promise.all([o,g]).then(function(r){var t=r[0],v=b.querySelector('div[data-code="'+p+'"]');v&&(v.innerHTML=t)}).catch(function(r){});return a.codeBlockRenderCallback&&q.then(a.codeBlockRenderCallback),'<div class="code" data-code="'+p+'">'+Xb(m)+"</div>"});var i=a.actionHandler;i&&i.disposeables.add(Ua(b,"click",function(m){var n=m.target;if(n.tagName!=="A"){n=n.parentElement;if(!n||n.tagName!=="A")return}try{var o=n.dataset.href;o&&i.callback(o,m)}catch(p){W(p)}finally{m.preventDefault()}}));var j={sanitize:!0,renderer:h},k=[wa.http,wa.https,wa.mailto,wa.data,wa.file,wa.vscodeRemote,wa.vscodeRemoteResource];d.isTrusted&&k.push(wa.command);var l=_y(d.supportThemeIcons?Xy(d.value):d.value,j);return b.innerHTML=Vy(l,{allowedSchemes:k,allowedAttributes:{a:["href","name","target","data-href"],iframe:["allowfullscreen","frameborder","src"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class"]}}),f(),b}var w$=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),x$=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},yJ=function(d,a){return function(b,c){a(b,c,d)}},wh=function(d){w$(a,d);function a(b,c,e){e===void 0&&(e=Mk);var f=d.call(this)||this;return f._editor=b,f._modeService=c,f._openerService=e,f._onDidRenderCodeBlock=f._register(new E()),f.onDidRenderCodeBlock=f._onDidRenderCodeBlock.event,f}return a.prototype.getOptions=function(b){var c=this;return{codeBlockRenderer:function(e,f){var g=null;if(e)g=c._modeService.getModeIdForLanguageName(e);else{var h=c._editor.getModel();h&&(g=h.getLanguageIdentifier().language)}return c._modeService.triggerMode(g||""),Promise.resolve(!0).then(function(i){var j=Ga.getPromise(g||"");return j?j.then(function(k){return Lv(f,k)}):Lv(f,void 0)}).then(function(i){return'<span style="font-family: '+c._editor.getOption(34).fontFamily+'">'+i+"</span>"})},codeBlockRenderCallback:function(){return c._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(e){c._openerService.open(e,{fromUserGesture:!0}).catch(W)},disposeables:b}}},a.prototype.render=function(b){var c=new P(),e;return b?e=Yy(b,this.getOptions(c)):e=document.createElement("span"),{element:e,dispose:function(){return c.dispose()}}},a=x$([yJ(1,xd),yJ(2,pe(Uc))],a),a}(I);var L_=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),M_=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},tc=X,Nk=function(){function d(a,b,c){this.range=a,this.color=b,this.provider=c}return d}(),Ok=function(){function d(a,b){this.range=a,this.marker=b}return d}(),N_=function(){function d(a,b){this._markerDecorationsService=b,this._editor=a,this._result=[]}return d.prototype.setRange=function(a){this._range=a,this._result=[]},d.prototype.clearResult=function(){this._result=[]},d.prototype.computeAsync=function(a){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);var b=this._editor.getModel();return fg.has(b)?Zw(b,new G(this._range.startLineNumber,this._range.startColumn),a):Promise.resolve([])},d.prototype.computeSync=function(){var a=this;if(!this._editor.hasModel()||!this._range)return[];var b=this._editor.getModel(),c=this._range.startLineNumber;if(c>this._editor.getModel().getLineCount())return[];var e=$q.get(this._editor),f=b.getLineMaxColumn(c),g=this._editor.getLineDecorations(c),h=!1,i=this._range,j=g.map(function(k){var l=k.range.startLineNumber===c?k.range.startColumn:1,m=k.range.endLineNumber===c?k.range.endColumn:f;if(l>i.startColumn||i.endColumn>m)return null;var n=new z(i.startLineNumber,l,i.startLineNumber,m),o=a._markerDecorationsService.getMarker(b,k);if(o)return new Ok(n,o);var p=e.getColorData(k.range.getStartPosition());if(!h&&p){h=!0;var q=p.colorInfo,r=q.color,t=q.range;return new Nk(t,r,p.provider)}else{if(sj(k.options.hoverMessage))return null;var v=k.options.hoverMessage?uo(k.options.hoverMessage):[];return{contents:v,range:n}}});return Cd(j)},d.prototype.onResult=function(a,b){b?this._result=a.concat(this._result.sort(function(c,e){return c instanceof Nk?-1:e instanceof Nk?1:0})):this._result=this._result.concat(a)},d.prototype.getResult=function(){return this._result.slice(0)},d.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},d.prototype._getLoadingMessage=function(){return{range:this._range,contents:[new Fe().appendText(s("modesContentHover.loading","Loading..."))]}},d}(),jJ={type:2,filter:{include:eb.QuickFix}},Cr=function(d){L_(a,d);function a(b,c,e,f,g,h){h===void 0&&(h=Mk);var i=d.call(this,a.ID,b)||this;return i._themeService=e,i._keybindingService=f,i._modeService=g,i._openerService=h,i.renderDisposable=i._register(new Pc()),i._messages=[],i._lastRange=null,i._computer=new N_(i._editor,c),i._highlightDecorations=[],i._isChangingDecorations=!1,i._shouldFocus=!1,i._colorPicker=null,i._hoverOperation=new Er(i._computer,function(j){return i._withResult(j,!0)},null,function(j){return i._withResult(j,!1)},i._editor.getOption(44).delay),i._register(Ua(i.getDomNode(),pa.FOCUS,function(){i._colorPicker&&U(i.getDomNode(),"colorpicker-hover")})),i._register(Ua(i.getDomNode(),pa.BLUR,function(){fa(i.getDomNode(),"colorpicker-hover")})),i._register(b.onDidChangeConfiguration(function(j){i._hoverOperation.setHoverTime(i._editor.getOption(44).delay)})),i._register(Ga.onDidChange(function(j){i.isVisible&&i._lastRange&&i._messages.length>0&&(i._domNode.textContent="",i._renderMessages(i._lastRange,i._messages))})),i}return a.prototype.dispose=function(){this._hoverOperation.cancel(),d.prototype.dispose.call(this)},a.prototype.onModelDecorationsChanged=function(){if(this._isChangingDecorations)return;this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},a.prototype.startShowingAt=function(b,c,e){if(this._lastRange&&this._lastRange.equalsRange(b))return;this._hoverOperation.cancel();if(this.isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==b.startLineNumber)this.hide();else{for(var f=[],g=0,h=this._messages.length;g<h;g++){var i=this._messages[g],j=i.range;j&&j.startColumn<=b.startColumn&&j.endColumn>=b.endColumn&&f.push(i)}if(f.length>0){if(O_(f,this._messages))return;this._renderMessages(b,f)}else this.hide()}this._lastRange=b,this._computer.setRange(b),this._shouldFocus=e,this._hoverOperation.start(c)},a.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),d.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null},a.prototype.isColorPickerVisible=function(){return this._colorPicker?!0:!1},a.prototype._withResult=function(b,c){this._messages=b,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):c&&this.hide()},a.prototype._renderMessages=function(b,c){var e=this;this.renderDisposable.dispose(),this._colorPicker=null;var f=1073741824,g=c[0].range?z.lift(c[0].range):null,h=document.createDocumentFragment(),i=!0,j=!1,k=new P(),l=[];c.forEach(function(n){if(!n.range)return;f=Math.min(f,n.range.startColumn),g=g?z.plusRange(g,n.range):z.lift(n.range);if(n instanceof Nk){j=!0;var o=n.color,p=o.red,q=o.green,r=o.blue,t=o.alpha,v=new Ha(Math.round(p*255),Math.round(q*255),Math.round(r*255),t),w=new M(v);if(!e._editor.hasModel())return;var x=e._editor.getModel(),u=new z(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn),y={range:n.range,color:n.color},A=new wH(w,[],0),F=new yH(h,A,e._editor.getOption(105),e._themeService);kw(x,y,n.provider,xa.None).then(function(B){A.colorPresentations=B||[];if(!e._editor.hasModel())return;var D=e._editor.getModel().getValueInRange(n.range);A.guessColorPresentation(w,D);var H=function(){var T,$;A.presentation.textEdit?(T=[A.presentation.textEdit],$=new z(A.presentation.textEdit.range.startLineNumber,A.presentation.textEdit.range.startColumn,A.presentation.textEdit.range.endLineNumber,A.presentation.textEdit.range.endColumn),$=$.setEndPosition($.endLineNumber,$.startColumn+A.presentation.textEdit.text.length)):(T=[{identifier:null,range:u,text:A.presentation.label,forceMoveMarkers:!1}],$=u.setEndPosition(u.endLineNumber,u.startColumn+A.presentation.label.length)),e._editor.pushUndoStop(),e._editor.executeEdits("colorpicker",T),A.presentation.additionalTextEdits&&(T=M_(A.presentation.additionalTextEdits),e._editor.executeEdits("colorpicker",T),e.hide()),e._editor.pushUndoStop(),u=$},J=function(T){return kw(x,{range:u,color:{red:T.rgba.r/255,green:T.rgba.g/255,blue:T.rgba.b/255,alpha:T.rgba.a}},n.provider,xa.None).then(function($){A.colorPresentations=$||[]})},L=A.onColorFlushed(function(T){J(T).then(H)}),O=A.onDidChangeColor(J);e._colorPicker=F,e.showAt(u.getStartPosition(),u,e._shouldFocus),e.updateContents(h),e._colorPicker.layout(),e.renderDisposable.value=Mc(L,O,F,k)})}else n instanceof Ok?(l.push(n),i=!1):n.contents.filter(function(B){return!sj(B)}).forEach(function(B){var D=tc("div.hover-row.markdown-hover"),H=S(D,tc("div.hover-contents")),J=k.add(new wh(e._editor,e._modeService,e._openerService));k.add(J.onDidRenderCodeBlock(function(){H.className="hover-contents code-hover-contents",e.onContentsChange()}));var L=k.add(J.render(B));H.appendChild(L.element),h.appendChild(D),i=!1})});if(l.length){l.forEach(function(n){return h.appendChild(e.renderMarkerHover(n))});var m=l.length===1?l[0]:l.sort(function(n,o){return _a.compare(n.marker.severity,o.marker.severity)})[0];h.appendChild(this.renderMarkerStatusbar(m))}!j&&!i&&(this.showAt(new G(b.startLineNumber,f),g,this._shouldFocus),this.updateContents(h)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,g?[{range:g,options:a._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1},a.prototype.renderMarkerHover=function(b){var c=this,e=tc("div.hover-row"),f=S(e,tc("div.marker.hover-contents")),g=b.marker,h=g.source,i=g.message,j=g.code,k=g.relatedInformation;this._editor.applyFontInfo(f);var l=S(f,tc("span"));l.style.whiteSpace="pre-wrap",l.innerText=i;if(h||j){if(typeof j==="string"){var m=S(f,tc("span"));m.style.opacity="0.6",m.style.paddingLeft="6px",m.innerText=h&&j?h+"("+j+")":h?h:"("+j+")"}else if(j){var n=tc("span");if(h){var o=S(n,tc("span"));o.innerText=h}this._codeLink=S(n,tc("a.code-link")),this._codeLink.setAttribute("href",j.link.toString()),this._codeLink.onclick=function(F){c._openerService.open(j.link),F.preventDefault(),F.stopPropagation()};var p=S(this._codeLink,tc("span"));p.innerText=j.value;var m=S(f,n);m.style.opacity="0.6",m.style.paddingLeft="6px"}}if(Ib(k))for(var q=function(F,B,D,H){var J=S(f,tc("div"));J.style.marginTop="8px";var L=S(J,tc("a"));L.innerText=ld(B)+"("+D+", "+H+"): ",L.style.cursor="pointer",L.onclick=function(T){T.stopPropagation(),T.preventDefault(),c._openerService&&c._openerService.open(B.with({fragment:D+","+H}),{fromUserGesture:!0}).catch(W)};var O=S(J,tc("span"));O.innerText=F,r._editor.applyFontInfo(O)},r=this,t=0,v=k;t<v.length;t++){var w=v[t],x=w.message,u=w.resource,y=w.startLineNumber,A=w.startColumn;q(x,u,y,A)}return e},a.prototype.renderMarkerStatusbar=function(b){var c=this,e=tc("div.hover-row.status-bar"),f=new P(),g=S(e,tc("div.actions"));(b.marker.severity===_a.Error||b.marker.severity===_a.Warning||b.marker.severity===_a.Info)&&f.add(this.renderAction(g,{label:s("peek problem","Peek Problem"),commandId:Ek.ID,run:function(){c.hide(),Ck.get(c._editor).show(b.marker),c._editor.focus()}}));var h=S(g,tc("div"));h.style.opacity="0",h.style.transition="opacity 0.2s",setTimeout(function(){return h.style.opacity="1"},200),h.textContent=s("checkingForQuickFixes","Checking for quick fixes..."),f.add(va(function(){return h.remove()}));var i=this.getCodeActions(b.marker);return f.add(va(function(){return i.cancel()})),i.then(function(j){h.style.transition="",h.style.opacity="1";if(!j.validActions.length){j.dispose(),h.textContent=s("noQuickFixes","No quick fixes available");return}h.remove();var k=!1;f.add(va(function(){k||j.dispose()})),f.add(c.renderAction(g,{label:s("quick fixes","Quick Fix..."),commandId:Om.Id,run:function(l){k=!0;var m=nk.get(c._editor),n=ab(l);m.showCodeActions(jJ,j,{x:n.left+6,y:n.top+n.height+6})}}))}),this.renderDisposable.value=f,e},a.prototype.getCodeActions=function(b){var c=this;return bb(function(e){return Mm(c._editor.getModel(),new z(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn),jJ,e)})},a.prototype.renderAction=function(b,c){var e=S(b,tc("div.action-container")),f=S(e,tc("a.action"));c.iconClass&&S(f,tc("span.icon."+c.iconClass));var g=S(f,tc("span"));g.textContent=c.label;var h=this._keybindingService.lookupKeybinding(c.commandId);return h&&(g.title=c.label+" ("+h.getLabel()+")"),R(e,pa.CLICK,function(i){i.stopPropagation(),i.preventDefault(),c.run(e)})},a.ID="editor.contrib.modesContentHoverWidget",a._DECORATION_OPTIONS=na.register({className:"hoverHighlight"}),a}(hJ);function O_(d,a){if(!d&&a||d&&!a||d.length!==a.length)return!1;for(var b=0;b<d.length;b++){var c=d[b],e=a[b];if(c instanceof Ok&&e instanceof Ok)return mn.makeKey(c.marker)===mn.makeKey(e.marker);if(c instanceof Nk||e instanceof Nk)return!1;if(c instanceof Ok||e instanceof Ok)return!1;if(!LA(c.contents,e.contents))return!1}return!0}la(function(d,a){var b=d.getColor(Ff);b&&a.addRule(".monaco-editor-hover .hover-contents a.code-link span:hover { color: "+b+"; }")});var P_=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Q_=function(){function d(a){this._editor=a,this._lineNumber=-1,this._result=[]}return d.prototype.setLineNumber=function(a){this._lineNumber=a,this._result=[]},d.prototype.clearResult=function(){this._result=[]},d.prototype.computeSync=function(){var a=function(i){return{value:i}},b=this._editor.getLineDecorations(this._lineNumber),c=[];if(!b)return c;for(var e=0,f=b;e<f.length;e++){var g=f[e];if(!g.options.glyphMarginClassName)continue;var h=g.options.glyphMarginHoverMessage;if(!h||sj(h))continue;c.push.apply(c,uo(h).map(a))}return c},d.prototype.onResult=function(a,b){this._result=this._result.concat(a)},d.prototype.getResult=function(){return this._result},d.prototype.getResultWithLoadingMessage=function(){return this.getResult()},d}(),ln=function(d){P_(a,d);function a(b,c,e){e===void 0&&(e=Mk);var f=d.call(this,a.ID,b)||this;return f._renderDisposeables=f._register(new P()),f._messages=[],f._lastLineNumber=-1,f._markdownRenderer=f._register(new wh(f._editor,c,e)),f._computer=new Q_(f._editor),f._hoverOperation=new Er(f._computer,function(g){return f._withResult(g)},void 0,function(g){return f._withResult(g)},300),f}return a.prototype.dispose=function(){this._hoverOperation.cancel(),d.prototype.dispose.call(this)},a.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},a.prototype.startShowingAt=function(b){if(this._lastLineNumber===b)return;this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=b,this._computer.setLineNumber(b),this._hoverOperation.start(0)},a.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),d.prototype.hide.call(this)},a.prototype._withResult=function(b){this._messages=b,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},a.prototype._renderMessages=function(b,c){this._renderDisposeables.clear();for(var e=document.createDocumentFragment(),f=0,g=c;f<g.length;f++){var h=g[f],i=this._markdownRenderer.render(h.value);this._renderDisposeables.add(i),e.appendChild(X("div.hover-row",void 0,i.element))}this.updateContents(e),this.showAt(b)},a.ID="editor.contrib.modesGlyphHoverWidget",a}(iJ);var dJ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),H_=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},kn=function(d,a){return function(b,c){a(b,c,d)}},Dr=function(){function d(a,b,c,e,f,g){var h=this;this._editor=a,this._openerService=b,this._modeService=c,this._markerDecorationsService=e,this._keybindingService=f,this._themeService=g,this._toUnhook=new P(),this._contentWidget=new Pc(),this._glyphWidget=new Pc(),this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(i){i.hasChanged(44)&&(h._hideWidgets(),h._unhookEvents(),h._hookEvents())})}return Object.defineProperty(d.prototype,"contentWidget",{get:function(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"glyphWidget",{get:function(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value},enumerable:!0,configurable:!0}),d.get=function(a){return a.getContribution(d.ID)},d.prototype._hookEvents=function(){var a=this,b=function(){return a._hideWidgets()},c=this._editor.getOption(44);this._isHoverEnabled=c.enabled,this._isHoverSticky=c.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(function(e){return a._onEditorMouseDown(e)})),this._toUnhook.add(this._editor.onMouseUp(function(e){return a._onEditorMouseUp(e)})),this._toUnhook.add(this._editor.onMouseMove(function(e){return a._onEditorMouseMove(e)})),this._toUnhook.add(this._editor.onKeyDown(function(e){return a._onKeyDown(e)})),this._toUnhook.add(this._editor.onDidChangeModelDecorations(function(){return a._onModelDecorationsChanged()}))):this._toUnhook.add(this._editor.onMouseMove(b)),this._toUnhook.add(this._editor.onMouseLeave(b)),this._toUnhook.add(this._editor.onDidChangeModel(b)),this._toUnhook.add(this._editor.onDidScrollChange(function(e){return a._onEditorScrollChanged(e)}))},d.prototype._unhookEvents=function(){this._toUnhook.clear()},d.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},d.prototype._onEditorScrollChanged=function(a){(a.scrollTopChanged||a.scrollLeftChanged)&&this._hideWidgets()},d.prototype._onEditorMouseDown=function(a){this._isMouseDown=!0;var b=a.target.type;if(b===9&&a.target.detail===Cr.ID){this._hoverClicked=!0;return}if(b===12&&a.target.detail===ln.ID)return;b!==12&&a.target.detail!==ln.ID&&(this._hoverClicked=!1),this._hideWidgets()},d.prototype._onEditorMouseUp=function(a){this._isMouseDown=!1},d.prototype._onEditorMouseMove=function(a){var b=a.target.type;if(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())return;if(this._isHoverSticky&&b===9&&a.target.detail===Cr.ID)return;if(this._isHoverSticky&&b===12&&a.target.detail===ln.ID)return;if(b===7){var c=this._editor.getOption(34).typicalHalfwidthCharacterWidth/2,e=a.target.detail;e&&!e.isAfterLines&&typeof e.horizontalDistanceToText==="number"&&e.horizontalDistanceToText<c&&(b=6)}b===6?(this.glyphWidget.hide(),this._isHoverEnabled&&a.target.range&&this.contentWidget.startShowingAt(a.target.range,0,!1)):b===2?(this.contentWidget.hide(),this._isHoverEnabled&&a.target.position&&this.glyphWidget.startShowingAt(a.target.position.lineNumber)):this._hideWidgets()},d.prototype._onKeyDown=function(a){a.keyCode!==5&&a.keyCode!==6&&a.keyCode!==57&&a.keyCode!==4&&this._hideWidgets()},d.prototype._hideWidgets=function(){if(!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible())return;this._glyphWidget.value.hide(),this._contentWidget.value.hide()},d.prototype._createHoverWidgets=function(){this._contentWidget.value=new Cr(this._editor,this._markerDecorationsService,this._themeService,this._keybindingService,this._modeService,this._openerService),this._glyphWidget.value=new ln(this._editor,this._modeService,this._openerService)},d.prototype.showContentHover=function(a,b,c){this.contentWidget.startShowingAt(a,b,c)},d.prototype.dispose=function(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()},d.ID="editor.contrib.hover",d=H_([kn(1,Uc),kn(2,xd),kn(3,$p),kn(4,Ja),kn(5,Ia)],d),d}(),I_=function(d){dJ(a,d);function a(){return d.call(this,{id:"editor.action.showHover",label:s({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|39),weight:100}})||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;var e=Dr.get(c);if(!e)return;var f=c.getPosition(),g=new z(f.lineNumber,f.column,f.lineNumber,f.column),h=c.getOption(2)===2;e.showContentHover(g,1,h)},a}(aa),J_=function(d){dJ(a,d);function a(){return d.call(this,{id:"editor.action.showDefinitionPreviewHover",label:s({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})||this}return a.prototype.run=function(b,c){var e=Dr.get(c);if(!e)return;var f=c.getPosition();if(!f)return;var g=new z(f.lineNumber,f.column,f.lineNumber,f.column),h=Ar.get(c),i=h.startFindDefinitionFromCursor(f);i?i.then(function(){e.showContentHover(g,1,!0)}):e.showContentHover(g,1,!0)},a}(aa);ra(Dr.ID,Dr);N(I_);N(J_);la(function(d,a){var b=d.getColor(eJ);b&&a.addRule(".monaco-editor .hoverHighlight { background-color: "+b+"; }");var c=d.getColor(Se);c&&a.addRule(".monaco-editor .monaco-editor-hover { background-color: "+c+"; }");var e=d.getColor(Jk);e&&(a.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+e+"; }"),a.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+e.transparent(.5)+"; }"),a.addRule(".monaco-editor .monaco-editor-hover hr { border-top: 1px solid "+e.transparent(.5)+"; }"),a.addRule(".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid "+e.transparent(.5)+"; }"));var f=d.getColor(Ff);f&&a.addRule(".monaco-editor .monaco-editor-hover a { color: "+f+"; }");var g=d.getColor(Lk);g&&a.addRule(".monaco-editor .monaco-editor-hover { color: "+g+"; }");var h=d.getColor(fJ);h&&a.addRule(".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: "+h+"; }");var i=d.getColor(Kk);i&&a.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+i+"; }")});var lJ=function(){function d(a,b,c){this._editRange=a,this._originalSelection=b,this._text=c}return d.prototype.getEditOperations=function(a,b){b.addTrackedEditOperation(this._editRange,this._text)},d.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),e=c[0].range;return this._originalSelection.isEmpty()?new V(e.endLineNumber,Math.min(this._originalSelection.positionColumn,e.endColumn),e.endLineNumber,Math.min(this._originalSelection.positionColumn,e.endColumn)):new V(e.endLineNumber,e.endColumn-this._text.length,e.endLineNumber,e.endColumn)},d}();var kJ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),R_=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},S_=function(d,a){return function(b,c){a(b,c,d)}},Fr=function(){function d(a,b){this.decorationIds=[],this.editor=a,this.editorWorkerService=b}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.dispose=function(){},d.prototype.run=function(a,b){var c=this;this.currentRequest&&this.currentRequest.cancel();var e=this.editor.getSelection(),f=this.editor.getModel();if(!f||!e)return;var g=e;if(g.startLineNumber!==g.endLineNumber)return;var h=new lp(this.editor,1|4),i=f.uri;return this.editorWorkerService.canNavigateValueSet(i)?(this.currentRequest=bb(function(j){return c.editorWorkerService.navigateValueSet(i,g,b)}),this.currentRequest.then(function(j){if(!j||!j.range||!j.value)return;if(!h.validate(c.editor))return;var k=z.lift(j.range),l=j.range,m=j.value.length-(g.endColumn-g.startColumn);l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.startColumn+j.value.length},m>1&&(g=new V(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn+m-1));var n=new lJ(k,g,j.value);c.editor.pushUndoStop(),c.editor.executeCommand(a,n),c.editor.pushUndoStop(),c.decorationIds=c.editor.deltaDecorations(c.decorationIds,[{range:l,options:d.DECORATION}]),c.decorationRemover&&c.decorationRemover.cancel(),c.decorationRemover=Sf(350),c.decorationRemover.then(function(){return c.decorationIds=c.editor.deltaDecorations(c.decorationIds,[])}).catch(W)}).catch(W)):Promise.resolve(void 0)},d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=na.register({className:"valueSetReplacement"}),d=R_([S_(1,pc)],d),d}(),T_=function(d){kJ(a,d);function a(){return d.call(this,{id:"editor.action.inPlaceReplace.up",label:s("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|82,weight:100}})||this}return a.prototype.run=function(b,c){var e=Fr.get(c);return e?e.run(this.id,!0):Promise.resolve(void 0)},a}(aa),U_=function(d){kJ(a,d);function a(){return d.call(this,{id:"editor.action.inPlaceReplace.down",label:s("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|84,weight:100}})||this}return a.prototype.run=function(b,c){var e=Fr.get(c);return e?e.run(this.id,!1):Promise.resolve(void 0)},a}(aa);ra(Fr.ID,Fr);N(T_);N(U_);la(function(d,a){var b=d.getColor(Oq);b&&a.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+b+"; }")});var ME=function(){function d(a,b){this._selection=a,this._cursors=b,this._selectionId=null}return d.prototype.getEditOperations=function(a,b){for(var c=CT(a,this._cursors),e=0,f=c.length;e<f;e++){var g=c[e];b.addEditOperation(g.range,g.text)}this._selectionId=b.trackSelection(this._selection)},d.prototype.computeCursorState=function(a,b){return b.getTrackedSelection(this._selectionId)},d}();function CT(d,a){a.sort(function(o,p){return o.lineNumber===p.lineNumber?o.column-p.column:o.lineNumber-p.lineNumber});for(var b=a.length-2;b>=0;b--)a[b].lineNumber===a[b+1].lineNumber&&a.splice(b,1);for(var c=[],e=0,f=0,g=a.length,h=1,i=d.getLineCount();h<=i;h++){var j=d.getLineContent(h),k=j.length+1,l=0;if(f<g&&a[f].lineNumber===h){l=a[f].column,f++;if(l===k)continue}if(j.length===0)continue;var m=_c(j),n=0;if(m===-1)n=1;else if(m!==j.length-1)n=m+2;else continue;n=Math.max(l,n),c[e++]=jb.delete(new z(h,n,h,k))}return c}var _w=function(){function d(a,b){this._selection=a,this._isCopyingDown=b,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return d.prototype.getEditOperations=function(a,b){var c=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._endLineNumberDelta=1,c=c.setEndPosition(c.endLineNumber-1,a.getLineMaxColumn(c.endLineNumber-1)));for(var e=[],f=c.startLineNumber;f<=c.endLineNumber;f++)e.push(a.getLineContent(f));var g=e.join(`
`);g===""&&(this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++)),this._isCopyingDown?b.addEditOperation(new z(c.startLineNumber,1,c.startLineNumber,1),g+`
`):b.addEditOperation(new z(c.endLineNumber,a.getLineMaxColumn(c.endLineNumber),c.endLineNumber,a.getLineMaxColumn(c.endLineNumber)),`
`+g),this._selectionId=b.trackSelection(c),this._selectionDirection=this._selection.getDirection()},d.prototype.computeCursorState=function(a,b){var c=b.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var e=c.startLineNumber,f=c.startColumn,g=c.endLineNumber,h=c.endColumn;this._startLineNumberDelta!==0&&(e=e+this._startLineNumberDelta,f=1),this._endLineNumberDelta!==0&&(g=g+this._endLineNumberDelta,h=1),c=V.createWithDirection(e,f,g,h,this._selectionDirection)}return c},d}();function We(d,a){for(var b=0,c=0;c<d.length;c++)d.charAt(c)==="	"?b+=a:b++;return b}function Gr(d,a,b){d=d<0?0:d;var c="";if(!b){var e=Math.floor(d/a);d=d%a;for(var f=0;f<e;f++)c+="	"}for(var f=0;f<d;f++)c+=" ";return c}var mJ=function(){function d(a,b,c){this._selection=a,this._isMovingDown=b,this._autoIndent=c,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return d.prototype.getEditOperations=function(a,b){var c=a.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===c){this._selectionId=b.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=b.trackSelection(this._selection);return}this._moveEndPositionDown=!1;var e=this._selection;e.startLineNumber<e.endLineNumber&&e.endColumn===1&&(this._moveEndPositionDown=!0,e=e.setEndPosition(e.endLineNumber-1,a.getLineMaxColumn(e.endLineNumber-1)));var f=a.getOptions(),g=f.tabSize,h=f.indentSize,i=f.insertSpaces,j=this.buildIndentConverter(g,h,i),k={getLineTokens:function(D){return a.getLineTokens(D)},getLanguageIdentifier:function(){return a.getLanguageIdentifier()},getLanguageIdAtPosition:function(D,H){return a.getLanguageIdAtPosition(D,H)},getLineContent:null};if(e.startLineNumber===e.endLineNumber&&a.getLineMaxColumn(e.startLineNumber)===1){var l=e.startLineNumber,m=this._isMovingDown?l+1:l-1;a.getLineMaxColumn(m)===1?b.addEditOperation(new z(1,1,1,1),null):(b.addEditOperation(new z(l,1,l,1),a.getLineContent(m)),b.addEditOperation(new z(m,1,m,a.getLineMaxColumn(m)),null)),e=new V(m,1,m,1)}else{var n,o=void 0;if(this._isMovingDown){n=e.endLineNumber+1,o=a.getLineContent(n),b.addEditOperation(new z(n-1,a.getLineMaxColumn(n-1),n,a.getLineMaxColumn(n)),null);var p=o;if(this.shouldAutoIndent(a,e)){var q=this.matchEnterRule(a,j,g,n,e.startLineNumber-1);if(q!==null){var r=cb(a.getLineContent(n)),t=q+We(r,g),v=Gr(t,g,i);p=v+this.trimLeft(o)}else{k.getLineContent=function(D){return D===e.startLineNumber?a.getLineContent(n):a.getLineContent(D)};var w=sa.getGoodIndentForLine(this._autoIndent,k,a.getLanguageIdAtPosition(n,1),e.startLineNumber,j);if(w!==null){var r=cb(a.getLineContent(n)),t=We(w,g),x=We(r,g);if(t!==x){var v=Gr(t,g,i);p=v+this.trimLeft(o)}}}b.addEditOperation(new z(e.startLineNumber,1,e.startLineNumber,1),p+`
`);var u=this.matchEnterRule(a,j,g,e.startLineNumber,e.startLineNumber,p);if(u!==null)u!==0&&this.getIndentEditsOfMovingBlock(a,b,e,g,i,u);else{k.getLineContent=function(D){return D===e.startLineNumber?p:D>=e.startLineNumber+1&&D<=e.endLineNumber+1?a.getLineContent(D-1):a.getLineContent(D)};var y=sa.getGoodIndentForLine(this._autoIndent,k,a.getLanguageIdAtPosition(n,1),e.startLineNumber+1,j);if(y!==null){var r=cb(a.getLineContent(e.startLineNumber)),t=We(y,g),x=We(r,g);if(t!==x){var A=t-x;this.getIndentEditsOfMovingBlock(a,b,e,g,i,A)}}}}else b.addEditOperation(new z(e.startLineNumber,1,e.startLineNumber,1),p+`
`)}else{n=e.startLineNumber-1,o=a.getLineContent(n),b.addEditOperation(new z(n,1,n+1,1),null),b.addEditOperation(new z(e.endLineNumber,a.getLineMaxColumn(e.endLineNumber),e.endLineNumber,a.getLineMaxColumn(e.endLineNumber)),`
`+o);if(this.shouldAutoIndent(a,e)){k.getLineContent=function(D){return D===n?a.getLineContent(e.startLineNumber):a.getLineContent(D)};var u=this.matchEnterRule(a,j,g,e.startLineNumber,e.startLineNumber-2);if(u!==null)u!==0&&this.getIndentEditsOfMovingBlock(a,b,e,g,i,u);else{var F=sa.getGoodIndentForLine(this._autoIndent,k,a.getLanguageIdAtPosition(e.startLineNumber,1),n,j);if(F!==null){var B=cb(a.getLineContent(e.startLineNumber)),t=We(F,g),x=We(B,g);if(t!==x){var A=t-x;this.getIndentEditsOfMovingBlock(a,b,e,g,i,A)}}}}}}this._selectionId=b.trackSelection(e)},d.prototype.buildIndentConverter=function(a,b,c){return{shiftIndent:function(e){return hg.shiftIndent(e,e.length+1,a,b,c)},unshiftIndent:function(e){return hg.unshiftIndent(e,e.length+1,a,b,c)}}},d.prototype.matchEnterRule=function(a,b,c,e,f,g){for(var h=f;h>=1;){var i=void 0;h===f&&g!==void 0?i=g:i=a.getLineContent(h);var j=_c(i);if(j>=0)break;h--}if(h<1||e>a.getLineCount())return null;var k=a.getLineMaxColumn(h),l=sa.getEnterAction(this._autoIndent,a,new z(h,k,h,k));if(l){var m=l.indentation;l.indentAction===qb.None?m=l.indentation+l.appendText:l.indentAction===qb.Indent?m=l.indentation+l.appendText:l.indentAction===qb.IndentOutdent?m=l.indentation:l.indentAction===qb.Outdent&&(m=b.unshiftIndent(l.indentation)+l.appendText);var n=a.getLineContent(e);if(this.trimLeft(n).indexOf(this.trimLeft(m))>=0){var o=cb(a.getLineContent(e)),p=cb(m),q=sa.getIndentMetadata(a,e);q!==null&&q&2&&(p=b.unshiftIndent(p));var r=We(p,c),t=We(o,c);return r-t}}return null},d.prototype.trimLeft=function(a){return a.replace(/^\s+/,"")},d.prototype.shouldAutoIndent=function(a,b){if(this._autoIndent<4)return!1;if(!a.isCheapToTokenize(b.startLineNumber))return!1;var c=a.getLanguageIdAtPosition(b.startLineNumber,1),e=a.getLanguageIdAtPosition(b.endLineNumber,1);return c!==e?!1:sa.getIndentRulesSupport(c)===null?!1:!0},d.prototype.getIndentEditsOfMovingBlock=function(a,b,c,e,f,g){for(var h=c.startLineNumber;h<=c.endLineNumber;h++){var i=a.getLineContent(h),j=cb(i),k=We(j,e),l=k+g,m=Gr(l,e,f);m!==j&&(b.addEditOperation(new z(h,1,h,j.length+1),m),h===c.endLineNumber&&c.endColumn<=j.length+1&&m===""&&(this._moveEndLineSelectionShrink=!0))}},d.prototype.computeCursorState=function(a,b){var c=b.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(c=c.setEndPosition(c.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&c.startLineNumber<c.endLineNumber&&(c=c.setEndPosition(c.endLineNumber,2)),c},d}();var Hr=function(){function d(a,b){this.selection=a,this.descending=b,this.selectionId=null}return d.getCollator=function(){return d._COLLATOR||(d._COLLATOR=new Intl.Collator()),d._COLLATOR},d.prototype.getEditOperations=function(a,b){var c=n$(a,this.selection,this.descending);c&&b.addEditOperation(c.range,c.text),this.selectionId=b.trackSelection(this.selection)},d.prototype.computeCursorState=function(a,b){return b.getTrackedSelection(this.selectionId)},d.canRun=function(a,b,c){if(a===null)return!1;var e=rJ(a,b,c);if(!e)return!1;for(var f=0,g=e.before.length;f<g;f++)if(e.before[f]!==e.after[f])return!0;return!1},d._COLLATOR=null,d}();function rJ(d,a,b){var c=a.startLineNumber,e=a.endLineNumber;a.endColumn===1&&e--;if(c>=e)return null;for(var f=[],g=c;g<=e;g++)f.push(d.getLineContent(g));var h=f.slice(0);return h.sort(Hr.getCollator().compare),b===!0&&(h=h.reverse()),{startLineNumber:c,endLineNumber:e,before:f,after:h}}function n$(d,a,b){var c=rJ(d,a,b);return c?jb.replace(new z(c.startLineNumber,1,c.endLineNumber,d.getLineMaxColumn(c.endLineNumber)),c.after.join(`
`)):null}var Tb=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),nJ=function(d){Tb(a,d);function a(b,c){var e=d.call(this,c)||this;return e.down=b,e}return a.prototype.run=function(b,c){for(var e=[],f=c.getSelections()||[],g=0,h=f;g<h.length;g++){var i=h[g];e.push(new _w(i,this.down))}c.pushUndoStop(),c.executeCommands(this.id,e),c.pushUndoStop()},a}(aa),V_=function(d){Tb(a,d);function a(){return d.call(this,!1,{id:"editor.action.copyLinesUpAction",label:s("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:25,group:"2_line",title:s({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}return a}(nJ),W_=function(d){Tb(a,d);function a(){return d.call(this,!0,{id:"editor.action.copyLinesDownAction",label:s("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:25,group:"2_line",title:s({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}return a}(nJ),X_=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.duplicateSelection",label:s("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:C.writable,menuOpts:{menuId:25,group:"2_line",title:s({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})||this}return a.prototype.run=function(b,c,e){if(!c.hasModel())return;for(var f=[],g=c.getSelections(),h=c.getModel(),i=0,j=g;i<j.length;i++){var k=j[i];if(k.isEmpty())f.push(new _w(k,!0));else{var l=new V(k.endLineNumber,k.endColumn,k.endLineNumber,k.endColumn);f.push(new KE(l,h.getValueInRange(k)))}}c.pushUndoStop(),c.executeCommands(this.id,f),c.pushUndoStop()},a}(aa),oJ=function(d){Tb(a,d);function a(b,c){var e=d.call(this,c)||this;return e.down=b,e}return a.prototype.run=function(b,c){for(var e=[],f=c.getSelections()||[],g=c.getOption(8),h=0,i=f;h<i.length;h++){var j=i[h];e.push(new mJ(j,this.down,g))}c.pushUndoStop(),c.executeCommands(this.id,e),c.pushUndoStop()},a}(aa),Y_=function(d){Tb(a,d);function a(){return d.call(this,!1,{id:"editor.action.moveLinesUpAction",label:s("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:25,group:"2_line",title:s({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}return a}(oJ),Z_=function(d){Tb(a,d);function a(){return d.call(this,!0,{id:"editor.action.moveLinesDownAction",label:s("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:25,group:"2_line",title:s({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}return a}(oJ),pJ=function(d){Tb(a,d);function a(b,c){var e=d.call(this,c)||this;return e.descending=b,e}return a.prototype.run=function(b,c){for(var e=c.getSelections()||[],f=0,g=e;f<g.length;f++){var h=g[f];if(!Hr.canRun(c.getModel(),h,this.descending))return}for(var i=[],j=0,k=e.length;j<k;j++)i[j]=new Hr(e[j],this.descending);c.pushUndoStop(),c.executeCommands(this.id,i),c.pushUndoStop()},a}(aa),__=function(d){Tb(a,d);function a(){return d.call(this,!1,{id:"editor.action.sortLinesAscending",label:s("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:C.writable})||this}return a}(pJ),$_=function(d){Tb(a,d);function a(){return d.call(this,!0,{id:"editor.action.sortLinesDescending",label:s("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:C.writable})||this}return a}(pJ),a$=function(d){Tb(a,d);function a(){return d.call(this,{id:a.ID,label:s("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:Bb(2048|41,2048|54),weight:100}})||this}return a.prototype.run=function(b,c,e){var f=[];e.reason==="auto-save"&&(f=(c.getSelections()||[]).map(function(i){return new G(i.positionLineNumber,i.positionColumn)}));var g=c.getSelection();if(g===null)return;var h=new ME(g,f);c.pushUndoStop(),c.executeCommands(this.id,[h]),c.pushUndoStop()},a.ID="editor.action.trimTrailingWhitespace",a}(aa),b$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.deleteLines",label:s("lines.delete","Delete Line"),alias:"Delete Line",precondition:C.writable,kbOpts:{kbExpr:C.textInputFocus,primary:2048|1024|41,weight:100}})||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;var e=this._getLinesToRemove(c),f=c.getModel();if(f.getLineCount()===1&&f.getLineMaxColumn(1)===1)return;for(var g=0,h=[],i=[],j=0,k=e.length;j<k;j++){var l=e[j],m=l.startLineNumber,n=l.endLineNumber,o=1,p=f.getLineMaxColumn(n);n<f.getLineCount()?(n+=1,p=1):m>1&&(m-=1,o=f.getLineMaxColumn(m)),h.push(jb.replace(new V(m,o,n,p),"")),i.push(new V(m-g,l.positionColumn,m-g,l.positionColumn)),g+=l.endLineNumber-l.startLineNumber+1}c.pushUndoStop(),c.executeEdits(this.id,h,i),c.pushUndoStop()},a.prototype._getLinesToRemove=function(b){var c=b.getSelections().map(function(h){var i=h.endLineNumber;return h.startLineNumber<h.endLineNumber&&h.endColumn===1&&(i-=1),{startLineNumber:h.startLineNumber,selectionStartColumn:h.selectionStartColumn,endLineNumber:i,positionColumn:h.positionColumn}});c.sort(function(h,i){return h.startLineNumber===i.startLineNumber?h.endLineNumber-i.endLineNumber:h.startLineNumber-i.startLineNumber});for(var e=[],f=c[0],g=1;g<c.length;g++)f.endLineNumber+1>=c[g].startLineNumber?f.endLineNumber=c[g].endLineNumber:(e.push(f),f=c[g]);return e.push(f),e},a}(aa),c$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.indentLines",label:s("lines.indent","Indent Line"),alias:"Indent Line",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|89,weight:100}})||this}return a.prototype.run=function(b,c){var e=c._getCursors();if(!e)return;c.pushUndoStop(),c.executeCommands(this.id,Hd.indent(e.context.config,c.getModel(),c.getSelections())),c.pushUndoStop()},a}(aa),d$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.outdentLines",label:s("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|87,weight:100}})||this}return a.prototype.run=function(b,c){ep.Outdent.runEditorCommand(b,c,null)},a}(aa),e$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.insertLineBefore",label:s("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|3,weight:100}})||this}return a.prototype.run=function(b,c){var e=c._getCursors();if(!e)return;c.pushUndoStop(),c.executeCommands(this.id,Hd.lineInsertBefore(e.context.config,c.getModel(),c.getSelections()))},a}(aa),f$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.insertLineAfter",label:s("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|3,weight:100}})||this}return a.prototype.run=function(b,c){var e=c._getCursors();if(!e)return;c.pushUndoStop(),c.executeCommands(this.id,Hd.lineInsertAfter(e.context.config,c.getModel(),c.getSelections()))},a}(aa),qJ=function(d){Tb(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;for(var e=c.getSelection(),f=this._getRangesToDelete(c),g=[],h=0,i=f.length-1;h<i;h++){var j=f[h],k=f[h+1];z.intersectRanges(j,k)===null?g.push(j):f[h+1]=z.plusRange(j,k)}g.push(f[f.length-1]);var l=this._getEndCursorState(e,g),m=g.map(function(n){return jb.replace(n,"")});c.pushUndoStop(),c.executeEdits(this.id,m,l),c.pushUndoStop()},a}(aa),g$=function(d){Tb(a,d);function a(){return d.call(this,{id:"deleteAllLeft",label:s("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:C.writable,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})||this}return a.prototype._getEndCursorState=function(b,c){var e=null,f=[],g=0;return c.forEach(function(h){var i;if(h.endColumn===1&&g>0){var j=h.startLineNumber-g;i=new V(j,h.startColumn,j,h.startColumn)}else i=new V(h.startLineNumber,h.startColumn,h.startLineNumber,h.startColumn);g+=h.endLineNumber-h.startLineNumber,h.intersectRanges(b)?e=i:f.push(i)}),e&&f.unshift(e),f},a.prototype._getRangesToDelete=function(b){var c=b.getSelections();if(c===null)return[];var e=c,f=b.getModel();return f===null?[]:(e.sort(z.compareRangesUsingStarts),e=e.map(function(g){if(g.isEmpty())if(g.startColumn===1){var h=Math.max(1,g.startLineNumber-1),i=g.startLineNumber===1?1:f.getLineContent(h).length+1;return new z(h,i,g.startLineNumber,1)}else return new z(g.startLineNumber,1,g.startLineNumber,g.startColumn);else return new z(g.startLineNumber,1,g.endLineNumber,g.endColumn)}),e)},a}(qJ),h$=function(d){Tb(a,d);function a(){return d.call(this,{id:"deleteAllRight",label:s("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:C.writable,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})||this}return a.prototype._getEndCursorState=function(b,c){for(var e=null,f=[],g=0,h=c.length,i=0;g<h;g++){var j=c[g],k=new V(j.startLineNumber-i,j.startColumn,j.startLineNumber-i,j.startColumn);j.intersectRanges(b)?e=k:f.push(k)}return e&&f.unshift(e),f},a.prototype._getRangesToDelete=function(b){var c=b.getModel();if(c===null)return[];var e=b.getSelections();if(e===null)return[];var f=e.map(function(g){if(g.isEmpty()){var h=c.getLineMaxColumn(g.startLineNumber);return g.startColumn===h?new z(g.startLineNumber,g.startColumn,g.startLineNumber+1,1):new z(g.startLineNumber,g.startColumn,g.startLineNumber,h)}return g});return f.sort(z.compareRangesUsingStarts),f},a}(qJ),i$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.joinLines",label:s("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:C.writable,kbOpts:{kbExpr:C.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})||this}return a.prototype.run=function(b,c){var e=c.getSelections();if(e===null)return;var f=c.getSelection();if(f===null)return;e.sort(z.compareRangesUsingStarts);var g=[],h=e.reduce(function(O,T){return O.isEmpty()?O.endLineNumber===T.startLineNumber?(f.equalsSelection(O)&&(f=T),T):T.startLineNumber>O.endLineNumber+1?(g.push(O),T):new V(O.startLineNumber,O.startColumn,T.endLineNumber,T.endColumn):T.startLineNumber>O.endLineNumber?(g.push(O),T):new V(O.startLineNumber,O.startColumn,T.endLineNumber,T.endColumn)});g.push(h);var i=c.getModel();if(i===null)return;for(var j=[],k=[],l=f,m=0,n=0,o=g.length;n<o;n++){var p=g[n],q=p.startLineNumber,r=1,t=0,v=void 0,w=void 0,x=i.getLineContent(p.endLineNumber).length-p.endColumn;if(p.isEmpty()||p.startLineNumber===p.endLineNumber){var u=p.getStartPosition();u.lineNumber<i.getLineCount()?(v=q+1,w=i.getLineMaxColumn(v)):(v=u.lineNumber,w=i.getLineMaxColumn(u.lineNumber))}else v=p.endLineNumber,w=i.getLineMaxColumn(v);for(var y=i.getLineContent(q),A=q+1;A<=v;A++){var F=i.getLineContent(A),B=i.getLineFirstNonWhitespaceColumn(A);if(B>=1){var D=!0;y===""&&(D=!1),D&&(y.charAt(y.length-1)===" "||y.charAt(y.length-1)==="	")&&(D=!1,y=y.replace(/[\s\uFEFF\xA0]+$/g," "));var H=F.substr(B-1);y+=(D?" ":"")+H,D?t=H.length+1:t=H.length}else t=0}var J=new z(q,r,v,w);if(!J.isEmpty()){var L=void 0;p.isEmpty()?(j.push(jb.replace(J,y)),L=new V(J.startLineNumber-m,y.length-t+1,q-m,y.length-t+1)):p.startLineNumber===p.endLineNumber?(j.push(jb.replace(J,y)),L=new V(p.startLineNumber-m,p.startColumn,p.endLineNumber-m,p.endColumn)):(j.push(jb.replace(J,y)),L=new V(p.startLineNumber-m,p.startColumn,p.startLineNumber-m,y.length-x)),z.intersectRanges(J,f)!==null?l=L:k.push(L)}m+=J.endLineNumber-J.startLineNumber}k.unshift(l),c.pushUndoStop(),c.executeEdits(this.id,j,k),c.pushUndoStop()},a}(aa),j$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.transpose",label:s("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:C.writable})||this}return a.prototype.run=function(b,c){var e=c.getSelections();if(e===null)return;var f=c.getModel();if(f===null)return;for(var g=[],h=0,i=e.length;h<i;h++){var j=e[h];if(!j.isEmpty())continue;var k=j.getStartPosition(),l=f.getLineMaxColumn(k.lineNumber);if(k.column>=l){if(k.lineNumber===f.getLineCount())continue;var m=new z(k.lineNumber,Math.max(1,k.column-1),k.lineNumber+1,1),n=f.getValueInRange(m).split("").reverse().join("");g.push(new Lb(new V(k.lineNumber,Math.max(1,k.column-1),k.lineNumber+1,1),n))}else{var m=new z(k.lineNumber,Math.max(1,k.column-1),k.lineNumber,k.column+1),n=f.getValueInRange(m).split("").reverse().join("");g.push(new ih(m,n,new V(k.lineNumber,k.column+1,k.lineNumber,k.column+1)))}}c.pushUndoStop(),c.executeCommands(this.id,g),c.pushUndoStop()},a}(aa),$w=function(d){Tb(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.run=function(b,c){var e=c.getSelections();if(e===null)return;var f=c.getModel();if(f===null)return;for(var g=c.getOption(96),h=[],i=0,j=e.length;i<j;i++){var k=e[i];if(k.isEmpty()){var l=k.getStartPosition(),m=f.getWordAtPosition(l);if(!m)continue;var n=new z(l.lineNumber,m.startColumn,l.lineNumber,m.endColumn),o=f.getValueInRange(n);h.push(new ih(n,this._modifyText(o,g),new V(l.lineNumber,l.column,l.lineNumber,l.column)))}else{var o=f.getValueInRange(k);h.push(new ih(k,this._modifyText(o,g),k))}}c.pushUndoStop(),c.executeCommands(this.id,h),c.pushUndoStop()},a}(aa),k$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.transformToUppercase",label:s("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:C.writable})||this}return a.prototype._modifyText=function(b,c){return b.toLocaleUpperCase()},a}($w),l$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.transformToLowercase",label:s("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:C.writable})||this}return a.prototype._modifyText=function(b,c){return b.toLocaleLowerCase()},a}($w),m$=function(d){Tb(a,d);function a(){return d.call(this,{id:"editor.action.transformToTitlecase",label:s("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:C.writable})||this}return a.prototype._modifyText=function(b,c){for(var e=`\r
	 `+c,f=e.split(""),g="",h=!0,i=0;i<b.length;i++){var j=b[i];f.indexOf(j)>=0?(h=!0,g+=j):h?(h=!1,g+=j.toLocaleUpperCase()):g+=j.toLocaleLowerCase()}return g},a}($w);N(V_);N(W_);N(X_);N(Y_);N(Z_);N(__);N($_);N(a$);N(b$);N(c$);N(d$);N(e$);N(f$);N(g$);N(h$);N(i$);N(j$);N(k$);N(l$);N(m$);var o$=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),sJ=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},tJ=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},p$=function(){function d(a,b){this._link=a,this._provider=b}return d.prototype.toJSON=function(){return{range:this.range,url:this.url,tooltip:this.tooltip}},Object.defineProperty(d.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"tooltip",{get:function(){return this._link.tooltip},enumerable:!0,configurable:!0}),d.prototype.resolve=function(a){return sJ(this,void 0,void 0,function(){var b=this;return tJ(this,function(c){return this._link.url?[2,this._link.url]:typeof this._provider.resolveLink==="function"?[2,Promise.resolve(this._provider.resolveLink(this._link,a)).then(function(e){return b._link=e||b._link,b._link.url?b.resolve(a):Promise.reject(new Error("missing"))})]:[2,Promise.reject(new Error("missing"))]})})},d}(),uJ=function(d){o$(a,d);function a(b){for(var c=d.call(this)||this,e=[],f=function(m,n){var o=m.links.map(function(p){return new p$(p,n)});e=a._union(e,o),Xh(n)&&g._register(n)},g=this,h=0,i=b;h<i.length;h++){var j=i[h],k=j[0],l=j[1];f(k,l)}return c.links=e,c}return a._union=function(b,c){var e=[],f,g,h,i;for(f=0,h=0,g=b.length,i=c.length;f<g&&h<i;){var j=b[f],k=c[h];if(z.areIntersectingOrTouching(j.range,k.range)){f++;continue}var l=z.compareRangesUsingStarts(j.range,k.range);l<0?(e.push(j),f++):(e.push(k),h++)}for(;f<g;f++)e.push(b[f]);for(;h<i;h++)e.push(c[h]);return e},a}(I);function ax(d,a){var b=[],c=ng.ordered(d).reverse().map(function(e,f){return Promise.resolve(e.provideLinks(d,a)).then(function(g){g&&(b[f]=[g,e])},tb)});return Promise.all(c).then(function(){var e=new uJ(Cd(b));return a.isCancellationRequested?(e.dispose(),new uJ([])):e})}Ca.registerCommand("_executeLinkProvider",function(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];return sJ(void 0,void 0,void 0,function(){var c,e,f,g;return tJ(this,function(h){switch(h.label){case 0:return c=a[0],c instanceof ja?(e=d.get(ub).getModel(c),e?[4,ax(e,xa.None)]:[2,[]]):[2,[]];case 1:return f=h.sent(),f?(g=f.links.slice(0),f.dispose(),[2,g]):[2,[]]}})})});var q$=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),bx=function(){return bx=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},bx.apply(this,arguments)},r$=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},vJ=function(d,a){return function(b,c){a(b,c,d)}},s$=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},t$=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};function u$(d,a){var b=d.url&&/^command:/i.test(d.url.toString()),c=d.tooltip?d.tooltip:b?s("links.navigate.executeCmd","Execute command"):s("links.navigate.follow","Follow link"),e=a?ka?s("links.navigate.kb.meta.mac","cmd + click"):s("links.navigate.kb.meta","ctrl + click"):ka?s("links.navigate.kb.alt.mac","option + click"):s("links.navigate.kb.alt","alt + click");if(d.url){var f=new Fe("",!0).appendMarkdown("["+c+"]("+d.url.toString()+") ("+e+")");return f}else return new Fe().appendText(c+" ("+e+")")}var wJ={general:na.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:na.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},xJ=function(){function d(a,b){this.link=a,this.decorationId=b}return d.decoration=function(a,b){return{range:a.range,options:d._getOptions(a,b,!1)}},d._getOptions=function(a,b,c){var e=bx({},c?wJ.active:wJ.general);return e.hoverMessage=u$(a,b),e},d.prototype.activate=function(a,b){a.changeDecorationOptions(this.decorationId,d._getOptions(this.link,b,!0))},d.prototype.deactivate=function(a,b){a.changeDecorationOptions(this.decorationId,d._getOptions(this.link,b,!1))},d}(),cx=function(){function d(a,b,c){var e=this;this.listenersToRemove=new P(),this.editor=a,this.openerService=b,this.notificationService=c;var f=new zr(a);this.listenersToRemove.add(f),this.listenersToRemove.add(f.onMouseMoveOrRelevantKeyDown(function(g){var h=g[0],i=g[1];e._onEditorMouseMove(h,i)})),this.listenersToRemove.add(f.onExecute(function(g){e.onEditorMouseUp(g)})),this.listenersToRemove.add(f.onCancel(function(g){e.cleanUpActiveLinkDecoration()})),this.enabled=a.getOption(52),this.listenersToRemove.add(a.onDidChangeConfiguration(function(g){var h=a.getOption(52);if(e.enabled===h)return;e.enabled=h,e.updateDecorations([]),e.stop(),e.beginCompute()})),this.listenersToRemove.add(a.onDidChangeModelContent(function(g){return e.onChange()})),this.listenersToRemove.add(a.onDidChangeModel(function(g){return e.onModelChanged()})),this.listenersToRemove.add(a.onDidChangeModelLanguage(function(g){return e.onModelModeChanged()})),this.listenersToRemove.add(ng.onDidChange(function(g){return e.onModelModeChanged()})),this.timeout=new rb(),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},d.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},d.prototype.onChange=function(){var a=this;this.timeout.setIfNotSet(function(){return a.beginCompute()},d.RECOMPUTE_TIME)},d.prototype.beginCompute=function(){return s$(this,void 0,void 0,function(){var a,b,c;return t$(this,function(e){switch(e.label){case 0:if(!this.editor.hasModel()||!this.enabled)return[2];a=this.editor.getModel();if(!ng.has(a))return[2];this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=bb(function(f){return ax(a,f)}),e.label=1;case 1:return e.trys.push([1,3,4,5]),b=this,[4,this.computePromise];case 2:return b.activeLinksList=e.sent(),this.updateDecorations(this.activeLinksList.links),[3,5];case 3:return c=e.sent(),W(c),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}})})},d.prototype.updateDecorations=function(a){for(var b=this.editor.getOption(59)==="altKey",c=[],e=Object.keys(this.currentOccurrences),f=0,g=e.length;f<g;f++){var h=e[f],i=this.currentOccurrences[h];c.push(i.decorationId)}var j=[];if(a)for(var k=0,l=a;k<l.length;k++){var m=l[k];j.push(xJ.decoration(m,b))}var n=this.editor.deltaDecorations(c,j);this.currentOccurrences={},this.activeLinkDecorationId=null;for(var f=0,g=n.length;f<g;f++){var i=new xJ(a[f],n[f]);this.currentOccurrences[i.decorationId]=i}},d.prototype._onEditorMouseMove=function(a,b){var c=this,e=this.editor.getOption(59)==="altKey";if(this.isEnabled(a,b)){this.cleanUpActiveLinkDecoration();var f=this.getLinkOccurrence(a.target.position);f&&this.editor.changeDecorations(function(g){f.activate(g,e),c.activeLinkDecorationId=f.decorationId})}else this.cleanUpActiveLinkDecoration()},d.prototype.cleanUpActiveLinkDecoration=function(){var a=this.editor.getOption(59)==="altKey";if(this.activeLinkDecorationId){var b=this.currentOccurrences[this.activeLinkDecorationId];b&&this.editor.changeDecorations(function(c){b.deactivate(c,a)}),this.activeLinkDecorationId=null}},d.prototype.onEditorMouseUp=function(a){if(!this.isEnabled(a))return;var b=this.getLinkOccurrence(a.target.position);if(!b)return;this.openLinkOccurrence(b,a.hasSideBySideModifier,!0)},d.prototype.openLinkOccurrence=function(a,b,c){var e=this;c===void 0&&(c=!1);if(!this.openerService)return;var f=a.link;f.resolve(xa.None).then(function(g){return e.openerService.open(g,{openToSide:b,fromUserGesture:c})},function(g){var h=g instanceof Error?g.message:g;h==="invalid"?e.notificationService.warn(s("invalid.url","Failed to open this link because it is not well-formed: {0}",f.url.toString())):h==="missing"?e.notificationService.warn(s("missing.url","Failed to open this link because its target is missing.")):W(g)})},d.prototype.getLinkOccurrence=function(a){if(!this.editor.hasModel()||!a)return null;for(var b=this.editor.getModel().getDecorationsInRange({startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:a.lineNumber,endColumn:a.column},0,!0),c=0,e=b;c<e.length;c++){var f=e[c],g=this.currentOccurrences[f.id];if(g)return g}return null},d.prototype.isEnabled=function(a,b){return Boolean(a.target.type===6&&(a.hasTriggerModifier||b&&b.keyCodeIsTriggerKey))},d.prototype.stop=function(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},d.prototype.dispose=function(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()},d.ID="editor.linkDetector",d.RECOMPUTE_TIME=1e3,d=r$([vJ(1,Uc),vJ(2,Ra)],d),d}(),v$=function(d){q$(a,d);function a(){return d.call(this,{id:"editor.action.openLink",label:s("label","Open Link"),alias:"Open Link",precondition:void 0})||this}return a.prototype.run=function(b,c){var e=cx.get(c);if(!e)return;if(!c.hasModel())return;for(var f=c.getSelections(),g=0,h=f;g<h.length;g++){var i=h[g],j=e.getLinkOccurrence(i.getEndPosition());j&&e.openLinkOccurrence(j,!1)}},a}(aa);ra(cx.ID,cx);N(v$);la(function(d,a){var b=d.getColor(pk);b&&a.addRule(".monaco-editor .detected-link-active { color: "+b+" !important; }")});var Pd=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),C$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.insertCursorAbove",label:s("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:25,group:"3_multi",title:s({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})||this}return a.prototype.run=function(b,c,e){if(!c.hasModel())return;var f=e&&e.logicalLine===!0,g=c._getCursors(),h=g.context;if(h.config.readOnly)return;h.model.pushStackElement(),g.setStates(e.source,3,jc.addCursorUp(h,g.getAll(),f)),g.reveal(e.source,!0,1,0)},a}(aa),D$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.insertCursorBelow",label:s("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:25,group:"3_multi",title:s({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})||this}return a.prototype.run=function(b,c,e){if(!c.hasModel())return;var f=e&&e.logicalLine===!0,g=c._getCursors(),h=g.context;if(h.config.readOnly)return;h.model.pushStackElement(),g.setStates(e.source,3,jc.addCursorDown(h,g.getAll(),f)),g.reveal(e.source,!0,2,0)},a}(aa),E$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:s("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:C.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:25,group:"3_multi",title:s({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})||this}return a.prototype.getCursorsForSelection=function(b,c,e){if(b.isEmpty())return;for(var f=b.startLineNumber;f<b.endLineNumber;f++){var g=c.getLineMaxColumn(f);e.push(new V(f,g,f,g))}b.endColumn>1&&e.push(new V(b.endLineNumber,b.endColumn,b.endLineNumber,b.endColumn))},a.prototype.run=function(b,c){var e=this;if(!c.hasModel())return;var f=c.getModel(),g=c.getSelections(),h=[];g.forEach(function(i){return e.getCursorsForSelection(i,f,h)}),h.length>0&&c.setSelections(h)},a}(aa),F$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.addCursorsToBottom",label:s("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;for(var e=c.getSelections(),f=c.getModel().getLineCount(),g=[],h=e[0].startLineNumber;h<=f;h++)g.push(new V(h,e[0].startColumn,h,e[0].endColumn));g.length>0&&c.setSelections(g)},a}(aa),G$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.addCursorsToTop",label:s("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;for(var e=c.getSelections(),f=[],g=e[0].startLineNumber;g>=1;g--)f.push(new V(g,e[0].startColumn,g,e[0].endColumn));f.length>0&&c.setSelections(f)},a}(aa),Jr=function(){function d(a,b,c){this.selections=a,this.revealRange=b,this.revealScrollType=c}return d}(),AJ=function(){function d(a,b,c,e,f,g,h){this._editor=a,this.findController=b,this.isDisconnectedFromFindController=c,this.searchText=e,this.wholeWord=f,this.matchCase=g,this.currentMatch=h}return d.create=function(a,b){if(!a.hasModel())return null;var c=b.getState();if(!a.hasTextFocus()&&c.isRevealed&&c.searchString.length>0)return new d(a,b,!1,c.searchString,c.wholeWord,c.matchCase,null);var e=!1,f,g,h=a.getSelections();h.length===1&&h[0].isEmpty()?(e=!0,f=!0,g=!0):(f=c.wholeWord,g=c.matchCase);var i=a.getSelection(),j,k=null;if(i.isEmpty()){var l=a.getModel().getWordAtPosition(i.getStartPosition());if(!l)return null;j=l.word,k=new V(i.startLineNumber,l.startColumn,i.startLineNumber,l.endColumn)}else j=a.getModel().getValueInRange(i).replace(/\r\n/g,`
`);return new d(a,b,e,j,f,g,k)},d.prototype.addSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var a=this._getNextMatch();if(!a)return null;var b=this._editor.getSelections();return new Jr(b.concat(a),a,0)},d.prototype.moveSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var a=this._getNextMatch();if(!a)return null;var b=this._editor.getSelections();return new Jr(b.slice(0,b.length-1).concat(a),a,0)},d.prototype._getNextMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var a=this.currentMatch;return this.currentMatch=null,a}this.findController.highlightFindOptions();var b=this._editor.getSelections(),c=b[b.length-1],e=this._editor.getModel().findNextMatch(this.searchText,c.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1);return e?new V(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn):null},d.prototype.addSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var a=this._getPreviousMatch();if(!a)return null;var b=this._editor.getSelections();return new Jr(b.concat(a),a,0)},d.prototype.moveSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var a=this._getPreviousMatch();if(!a)return null;var b=this._editor.getSelections();return new Jr(b.slice(0,b.length-1).concat(a),a,0)},d.prototype._getPreviousMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var a=this.currentMatch;return this.currentMatch=null,a}this.findController.highlightFindOptions();var b=this._editor.getSelections(),c=b[b.length-1],e=this._editor.getModel().findPreviousMatch(this.searchText,c.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1);return e?new V(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn):null},d.prototype.selectAll=function(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1,1073741824)):[]},d}(),Kr=function(d){Pd(a,d);function a(b){var c=d.call(this)||this;return c._sessionDispose=c._register(new P()),c._editor=b,c._ignoreSelectionChange=!1,c._session=null,c}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.dispose=function(){this._endSession(),d.prototype.dispose.call(this)},a.prototype._beginSessionIfNeeded=function(b){var c=this;if(!this._session){var e=AJ.create(this._editor,b);if(!e)return;this._session=e;var f={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(f.wholeWordOverride=1,f.matchCaseOverride=1,f.isRegexOverride=2),b.getState().change(f,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(function(g){if(c._ignoreSelectionChange)return;c._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(function(){c._endSession()})),this._sessionDispose.add(b.getState().onFindReplaceStateChange(function(g){(g.matchCase||g.wholeWord)&&c._endSession()}))}},a.prototype._endSession=function(){this._sessionDispose.clear();if(this._session&&this._session.isDisconnectedFromFindController){var b={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(b,!1)}this._session=null},a.prototype._setSelections=function(b){this._ignoreSelectionChange=!0,this._editor.setSelections(b),this._ignoreSelectionChange=!1},a.prototype._expandEmptyToWord=function(b,c){if(!c.isEmpty())return c;var e=b.getWordAtPosition(c.getStartPosition());return e?new V(c.startLineNumber,e.startColumn,c.startLineNumber,e.endColumn):c},a.prototype._applySessionResult=function(b){if(!b)return;this._setSelections(b.selections),b.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(b.revealRange,b.revealScrollType)},a.prototype.getSession=function(b){return this._session},a.prototype.addSelectionToNextFindMatch=function(b){if(!this._editor.hasModel())return;if(!this._session){var c=this._editor.getSelections();if(c.length>1){var e=b.getState(),f=e.matchCase,g=DJ(this._editor.getModel(),c,f);if(!g){for(var h=this._editor.getModel(),i=[],j=0,k=c.length;j<k;j++)i[j]=this._expandEmptyToWord(h,c[j]);this._editor.setSelections(i);return}}}this._beginSessionIfNeeded(b),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())},a.prototype.addSelectionToPreviousFindMatch=function(b){this._beginSessionIfNeeded(b),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())},a.prototype.moveSelectionToNextFindMatch=function(b){this._beginSessionIfNeeded(b),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())},a.prototype.moveSelectionToPreviousFindMatch=function(b){this._beginSessionIfNeeded(b),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())},a.prototype.selectAll=function(b){if(!this._editor.hasModel())return;var c=null,e=b.getState();if(e.isRevealed&&e.searchString.length>0&&e.isRegex)c=this._editor.getModel().findMatches(e.searchString,!0,e.isRegex,e.matchCase,e.wholeWord?this._editor.getOption(96):null,!1,1073741824);else{this._beginSessionIfNeeded(b);if(!this._session)return;c=this._session.selectAll()}if(e.searchScope){for(var f=e.searchScope,g=[],h=0;h<c.length;h++)c[h].range.endLineNumber<=f.endLineNumber&&c[h].range.startLineNumber>=f.startLineNumber&&g.push(c[h]);c=g}if(c.length>0){for(var i=this._editor.getSelection(),h=0,j=c.length;h<j;h++){var k=c[h],l=k.range.intersectRanges(i);if(l){c[h]=c[0],c[0]=k;break}}this._setSelections(c.map(function(m){return new V(m.range.startLineNumber,m.range.startColumn,m.range.endLineNumber,m.range.endColumn)}))}},a.ID="editor.contrib.multiCursorController",a}(I),Pk=function(d){Pd(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.run=function(b,c){var e=Kr.get(c);if(!e)return;var f=qe.get(c);if(!f)return;this._run(e,f)},a}(aa),H$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:s("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:2048|34,weight:100},menuOpts:{menuId:25,group:"3_multi",title:s({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})||this}return a.prototype._run=function(b,c){b.addSelectionToNextFindMatch(c)},a}(Pk),I$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:s("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:25,group:"3_multi",title:s({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})||this}return a.prototype._run=function(b,c){b.addSelectionToPreviousFindMatch(c)},a}(Pk),J$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:s("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:Bb(2048|41,2048|34),weight:100}})||this}return a.prototype._run=function(b,c){b.moveSelectionToNextFindMatch(c)},a}(Pk),K$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:s("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})||this}return a.prototype._run=function(b,c){b.moveSelectionToPreviousFindMatch(c)},a}(Pk),L$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.selectHighlights",label:s("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:25,group:"3_multi",title:s({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})||this}return a.prototype._run=function(b,c){b.selectAll(c)},a}(Pk),M$=function(d){Pd(a,d);function a(){return d.call(this,{id:"editor.action.changeAll",label:s("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Z.and(C.writable,C.editorTextFocus),kbOpts:{kbExpr:C.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})||this}return a.prototype._run=function(b,c){b.selectAll(c)},a}(Pk),BJ=function(){function d(a,b,c){this.searchText=a,this.matchCase=b,this.wordSeparators=c}return d.softEquals=function(a,b){return!a&&!b?!0:!a||!b?!1:a.searchText===b.searchText&&a.matchCase===b.matchCase&&a.wordSeparators===b.wordSeparators},d}(),CJ=function(d){Pd(a,d);function a(b){var c=d.call(this)||this;return c.editor=b,c._isEnabled=b.getOption(82),c.decorations=[],c.updateSoon=c._register(new Ka(function(){return c._update()},300)),c.state=null,c._register(b.onDidChangeConfiguration(function(e){c._isEnabled=b.getOption(82)})),c._register(b.onDidChangeCursorSelection(function(e){if(!c._isEnabled)return;e.selection.isEmpty()?e.reason===3?(c.state&&c._setState(null),c.updateSoon.schedule()):c._setState(null):c._update()})),c._register(b.onDidChangeModel(function(e){c._setState(null)})),c._register(qe.get(b).getState().onFindReplaceStateChange(function(e){c._update()})),c}return a.prototype._update=function(){this._setState(a._createState(this._isEnabled,this.editor))},a._createState=function(b,c){if(!b)return null;if(!c.hasModel())return null;var e=c.getSelection();if(e.startLineNumber!==e.endLineNumber)return null;var f=Kr.get(c);if(!f)return null;var g=qe.get(c);if(!g)return null;var h=f.getSession(g);if(!h){var i=c.getSelections();if(i.length>1){var j=g.getState(),k=j.matchCase,l=DJ(c.getModel(),i,k);if(!l)return null}h=AJ.create(c,g)}if(!h)return null;if(h.currentMatch)return null;if(/^[ \t]+$/.test(h.searchText))return null;if(h.searchText.length>200)return null;var m=g.getState(),n=m.matchCase;if(m.isRevealed){var o=m.searchString;n||(o=o.toLowerCase());var p=h.searchText;n||(p=p.toLowerCase());if(o===p&&h.matchCase===m.matchCase&&h.wholeWord===m.wholeWord&&!m.isRegex)return null}return new BJ(h.searchText,h.matchCase,h.wholeWord?c.getOption(96):null)},a.prototype._setState=function(b){if(BJ.softEquals(this.state,b)){this.state=b;return}this.state=b;if(!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;var c=this.editor.getModel();if(c.isTooLargeForTokenization())return;var e=vf.has(c),f=c.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(function(p){return p.range});f.sort(z.compareRangesUsingStarts);var g=this.editor.getSelections();g.sort(z.compareRangesUsingStarts);for(var h=[],i=0,j=0,k=f.length,l=g.length;i<k;){var m=f[i];if(j>=l)h.push(m),i++;else{var n=z.compareRangesUsingStarts(m,g[j]);n<0?((g[j].isEmpty()||!z.areIntersecting(m,g[j]))&&h.push(m),i++):n>0?j++:(i++,j++)}}var o=h.map(function(p){return{range:p,options:e?a._SELECTION_HIGHLIGHT:a._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,o)},a.prototype.dispose=function(){this._setState(null),d.prototype.dispose.call(this)},a.ID="editor.contrib.selectionHighlighter",a._SELECTION_HIGHLIGHT_OVERVIEW=na.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:sc(Ir),position:oc.Center}}),a._SELECTION_HIGHLIGHT=na.register({stickiness:1,className:"selectionHighlight"}),a}(I);function DJ(d,a,b){for(var c=EJ(d,a[0],!b),e=1,f=a.length;e<f;e++){var g=a[e];if(g.isEmpty())return!1;var h=EJ(d,g,!b);if(c!==h)return!1}return!0}function EJ(d,a,b){var c=d.getValueInRange(a);return b?c.toLowerCase():c}ra(Kr.ID,Kr);ra(CJ.ID,CJ);N(C$);N(D$);N(E$);N(H$);N(I$);N(J$);N(K$);N(L$);N(M$);N(F$);N(G$);var W$=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},X$=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},ug={Visible:new ea("parameterHintsVisible",!1),MultipleSignatures:new ea("parameterHintsMultipleSignatures",!1)};function fx(d,a,b,c){var e=Pe.ordered(d);return mj(e.map(function(f){return function(){return Promise.resolve(f.provideSignatureHelp(d,a,c,b)).catch(function(g){return tb(g)})}}))}Hj("_executeSignatureHelpProvider",function(d,a,b){return W$(void 0,void 0,void 0,function(){var c;return X$(this,function(e){switch(e.label){case 0:return[4,fx(d,a,{triggerKind:Wd.Invoke,isRetrigger:!1,triggerCharacter:b.triggerCharacter},xa.None)];case 1:return c=e.sent(),c?(setTimeout(function(){return c.dispose()},0),[2,c.value]):[2,void 0]}})})});var Q$=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Mr=function(){return Mr=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},Mr.apply(this,arguments)},R$=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},S$=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},xh;(function(d){d.Default={type:0};var a=function(){function c(e){this.request=e,this.type=2}return c}();d.Pending=a;var b=function(){function c(e){this.hints=e,this.type=1}return c}();d.Active=b})(xh||(xh={}));var HJ=function(d){Q$(a,d);function a(b,c){c===void 0&&(c=a.DEFAULT_DELAY);var e=d.call(this)||this;return e._onChangedHints=e._register(new E()),e.onChangedHints=e._onChangedHints.event,e.triggerOnType=!1,e._state=xh.Default,e._pendingTriggers=[],e._lastSignatureHelpResult=e._register(new Pc()),e.triggerChars=new ig(),e.retriggerChars=new ig(),e.triggerId=0,e.editor=b,e.throttledDelayer=new ee(c),e._register(e.editor.onDidChangeConfiguration(function(){return e.onEditorConfigurationChange()})),e._register(e.editor.onDidChangeModel(function(f){return e.onModelChanged()})),e._register(e.editor.onDidChangeModelLanguage(function(f){return e.onModelChanged()})),e._register(e.editor.onDidChangeCursorSelection(function(f){return e.onCursorChange(f)})),e._register(e.editor.onDidChangeModelContent(function(f){return e.onModelContentChange()})),e._register(Pe.onDidChange(e.onModelChanged,e)),e._register(e.editor.onDidType(function(f){return e.onDidType(f)})),e.onEditorConfigurationChange(),e.onModelChanged(),e}return Object.defineProperty(a.prototype,"state",{get:function(){return this._state},set:function(b){this._state.type===2&&this._state.request.cancel(),this._state=b},enumerable:!0,configurable:!0}),a.prototype.cancel=function(b){b===void 0&&(b=!1),this.state=xh.Default,this.throttledDelayer.cancel(),b||this._onChangedHints.fire(void 0)},a.prototype.trigger=function(b,c){var e=this,f=this.editor.getModel();if(!f||!Pe.has(f))return;var g=++this.triggerId;this._pendingTriggers.push(b),this.throttledDelayer.trigger(function(){return e.doTrigger(g)},c).catch(W)},a.prototype.next=function(){if(this.state.type!==1)return;var b=this.state.hints.signatures.length,c=this.state.hints.activeSignature,e=c%b===b-1,f=this.editor.getOption(64).cycle;if((b<2||e)&&!f){this.cancel();return}this.updateActiveSignature(e&&f?0:c+1)},a.prototype.previous=function(){if(this.state.type!==1)return;var b=this.state.hints.signatures.length,c=this.state.hints.activeSignature,e=c===0,f=this.editor.getOption(64).cycle;if((b<2||e)&&!f){this.cancel();return}this.updateActiveSignature(e&&f?b-1:c-1)},a.prototype.updateActiveSignature=function(b){if(this.state.type!==1)return;this.state=new xh.Active(Mr(Mr({},this.state.hints),{activeSignature:b})),this._onChangedHints.fire(this.state.hints)},a.prototype.doTrigger=function(b){return R$(this,void 0,void 0,function(){var c,e,f,g,h,i,j,k;return S$(this,function(l){switch(l.label){case 0:c=this.state.type===1||this.state.type===2,e=this.state.type===1?this.state.hints:void 0,this.cancel(!0);if(this._pendingTriggers.length===0)return[2,!1];f=this._pendingTriggers.reduce(T$),this._pendingTriggers=[],g={triggerKind:f.triggerKind,triggerCharacter:f.triggerCharacter,isRetrigger:c,activeSignatureHelp:e};if(!this.editor.hasModel())return[2,!1];h=this.editor.getModel(),i=this.editor.getPosition(),this.state=new xh.Pending(bb(function(m){return fx(h,i,g,m)})),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.state.request];case 2:j=l.sent();if(b!==this.triggerId)return j===null||j===void 0||j.dispose(),[2,!1];if(!j||!j.value.signatures||j.value.signatures.length===0)return j===null||j===void 0||j.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),[2,!1];return this.state=new xh.Active(j.value),this._lastSignatureHelpResult.value=j,this._onChangedHints.fire(this.state.hints),[2,!0];return[3,4];case 3:return k=l.sent(),b===this.triggerId&&(this.state=xh.Default),W(k),[2,!1];case 4:return[2]}})})},Object.defineProperty(a.prototype,"isTriggered",{get:function(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()},enumerable:!0,configurable:!0}),a.prototype.onModelChanged=function(){this.cancel(),this.triggerChars=new ig(),this.retriggerChars=new ig();var b=this.editor.getModel();if(!b)return;for(var c=0,e=Pe.ordered(b);c<e.length;c++){for(var f=e[c],g=0,h=f.signatureHelpTriggerCharacters||[];g<h.length;g++){var i=h[g];this.triggerChars.add(i.charCodeAt(0)),this.retriggerChars.add(i.charCodeAt(0))}for(var j=0,k=f.signatureHelpRetriggerCharacters||[];j<k.length;j++){var i=k[j];this.retriggerChars.add(i.charCodeAt(0))}}},a.prototype.onDidType=function(b){if(!this.triggerOnType)return;var c=b.length-1,e=b.charCodeAt(c);(this.triggerChars.has(e)||this.isTriggered&&this.retriggerChars.has(e))&&this.trigger({triggerKind:Wd.TriggerCharacter,triggerCharacter:b.charAt(c)})},a.prototype.onCursorChange=function(b){b.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Wd.ContentChange})},a.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerKind:Wd.ContentChange})},a.prototype.onEditorConfigurationChange=function(){this.triggerOnType=this.editor.getOption(64).enabled,this.triggerOnType||this.cancel()},a.prototype.dispose=function(){this.cancel(!0),d.prototype.dispose.call(this)},a.DEFAULT_DELAY=120,a}(I);function T$(d,a){switch(a.triggerKind){case Wd.Invoke:return a;case Wd.ContentChange:return d;case Wd.TriggerCharacter:default:return a}}var U$=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),V$=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},gx=function(d,a){return function(b,c){a(b,c,d)}},Qd=X,GJ=function(d){U$(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g.editor=b,g.renderDisposeables=g._register(new P()),g.visible=!1,g.announcedLabel=null,g.allowEditorOverflow=!0,g.markdownRenderer=g._register(new wh(b,f,e)),g.model=g._register(new HJ(b)),g.keyVisible=ug.Visible.bindTo(c),g.keyMultipleSignatures=ug.MultipleSignatures.bindTo(c),g._register(g.model.onChangedHints(function(h){h?(g.show(),g.render(h)):g.hide()})),g}return a.prototype.createParamaterHintDOMNodes=function(){var b=this,c=Qd(".editor-widget.parameter-hints-widget"),e=S(c,Qd(".wrapper"));e.tabIndex=-1;var f=S(e,Qd(".controls")),g=S(f,Qd(".button.codicon.codicon-chevron-up")),h=S(f,Qd(".overloads")),i=S(f,Qd(".button.codicon.codicon-chevron-down")),j=Rs(ua(g,"click"));this._register(j(this.previous,this));var k=Rs(ua(i,"click"));this._register(k(this.next,this));var l=Qd(".body"),m=new df(l,{});this._register(m),e.appendChild(m.getDomNode());var n=S(l,Qd(".signature")),o=S(l,Qd(".docs"));c.style.userSelect="text",this.domNodes={element:c,signature:n,overloads:h,docs:o,scrollbar:m},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(function(q){b.visible&&b.editor.layoutContentWidget(b)}));var p=function(){if(!b.domNodes)return;var q=b.editor.getOption(34);b.domNodes.element.style.fontSize=q.fontSize+"px"};p(),this._register(da.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(q){return q.hasChanged(34)}).on(p,null)),this._register(this.editor.onDidLayoutChange(function(q){return b.updateMaxHeight()})),this.updateMaxHeight()},a.prototype.show=function(){var b=this;if(this.visible)return;this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(function(){b.domNodes&&U(b.domNodes.element,"visible")},100),this.editor.layoutContentWidget(this)},a.prototype.hide=function(){if(!this.visible)return;this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&fa(this.domNodes.element,"visible"),this.editor.layoutContentWidget(this)},a.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null},a.prototype.render=function(b){if(!this.domNodes)return;var c=b.signatures.length>1;qa(this.domNodes.element,"multiple",c),this.keyMultipleSignatures.set(c),this.domNodes.signature.innerHTML="",this.domNodes.docs.innerHTML="";var e=b.signatures[b.activeSignature];if(!e)return;var f=S(this.domNodes.signature,Qd(".code")),g=e.parameters.length>0,h=this.editor.getOption(34);f.style.fontSize=h.fontSize+"px",f.style.fontFamily=h.fontFamily;if(g)this.renderParameters(f,e,b.activeParameter);else{var i=S(f,Qd("span"));i.textContent=e.label}this.renderDisposeables.clear();var j=e.parameters[b.activeParameter];if(j&&j.documentation){var k=Qd("span.documentation");if(typeof j.documentation==="string")k.textContent=j.documentation;else{var l=this.markdownRenderer.render(j.documentation);U(l.element,"markdown-docs"),this.renderDisposeables.add(l),k.appendChild(l.element)}S(this.domNodes.docs,Qd("p",{},k))}if(!(e.documentation===void 0))if(typeof e.documentation==="string")S(this.domNodes.docs,Qd("p",{},e.documentation));else{var l=this.markdownRenderer.render(e.documentation);U(l.element,"markdown-docs"),this.renderDisposeables.add(l),S(this.domNodes.docs,l.element)}var m=this.hasDocs(e,j);qa(this.domNodes.signature,"has-docs",m),qa(this.domNodes.docs,"empty",!m),this.domNodes.overloads.textContent=Zg(b.activeSignature+1,b.signatures.length.toString().length)+"/"+b.signatures.length;if(j){var n=this.getParameterLabel(e,b.activeParameter);this.announcedLabel!==n&&(Gb(s("hint","{0}, hint",n)),this.announcedLabel=n)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()},a.prototype.hasDocs=function(b,c){return c&&typeof c.documentation==="string"&&c.documentation.length>0?!0:c&&typeof c.documentation==="object"&&c.documentation.value.length>0?!0:typeof b.documentation==="string"&&b.documentation.length>0?!0:typeof b.documentation==="object"&&b.documentation.value.length>0?!0:!1},a.prototype.renderParameters=function(b,c,e){var f=this.getParameterLabelOffsets(c,e),g=f[0],h=f[1],i=document.createElement("span");i.textContent=c.label.substring(0,g);var j=document.createElement("span");j.textContent=c.label.substring(g,h),j.className="parameter active";var k=document.createElement("span");k.textContent=c.label.substring(h),S(b,i,j,k)},a.prototype.getParameterLabel=function(b,c){var e=b.parameters[c];return typeof e.label==="string"?e.label:b.label.substring(e.label[0],e.label[1])},a.prototype.getParameterLabelOffsets=function(b,c){var e=b.parameters[c];if(e){if(Array.isArray(e.label))return e.label;{var f=b.label.lastIndexOf(e.label);return f>=0?[f,f+e.label.length]:[0,0]}}else return[0,0]},a.prototype.next=function(){this.editor.focus(),this.model.next()},a.prototype.previous=function(){this.editor.focus(),this.model.previous()},a.prototype.cancel=function(){this.model.cancel()},a.prototype.getDomNode=function(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element},a.prototype.getId=function(){return a.ID},a.prototype.trigger=function(b){this.model.trigger(b,0)},a.prototype.updateMaxHeight=function(){if(!this.domNodes)return;var b=Math.max(this.editor.getLayoutInfo().height/4,250),c=b+"px";this.domNodes.element.style.maxHeight=c;var e=this.domNodes.element.getElementsByClassName("wrapper");e.length&&(e[0].style.maxHeight=c)},a.ID="editor.widget.parameterHintsWidget",a=V$([gx(1,ha),gx(2,Uc),gx(3,xd)],a),a}(I);la(function(d,a){var b=d.getColor(Jk);if(b){var c=d.type===rf?2:1;a.addRule(".monaco-editor .parameter-hints-widget { border: "+c+"px solid "+b+"; }"),a.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+b.transparent(.5)+"; }"),a.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+b.transparent(.5)+"; }")}var e=d.getColor(Se);e&&a.addRule(".monaco-editor .parameter-hints-widget { background-color: "+e+"; }");var f=d.getColor(Ff);f&&a.addRule(".monaco-editor .parameter-hints-widget a { color: "+f+"; }");var g=d.getColor(Lk);g&&a.addRule(".monaco-editor .parameter-hints-widget { color: "+g+"; }");var h=d.getColor(Kk);h&&a.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+h+"; }")});var FJ=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),N$=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},O$=function(d,a){return function(b,c){a(b,c,d)}},Lr=function(d){FJ(a,d);function a(b,c){var e=d.call(this)||this;return e.editor=b,e.widget=e._register(c.createInstance(GJ,e.editor)),e}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.cancel=function(){this.widget.cancel()},a.prototype.previous=function(){this.widget.previous()},a.prototype.next=function(){this.widget.next()},a.prototype.trigger=function(b){this.widget.trigger(b)},a.ID="editor.controller.parameterHints",a=N$([O$(1,Aa)],a),a}(I),P$=function(d){FJ(a,d);function a(){return d.call(this,{id:"editor.action.triggerParameterHints",label:s("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:C.hasSignatureHelpProvider,kbOpts:{kbExpr:C.editorTextFocus,primary:2048|1024|10,weight:100}})||this}return a.prototype.run=function(b,c){var e=Lr.get(c);e&&e.trigger({triggerKind:Wd.Invoke})},a}(aa);ra(Lr.ID,Lr);N(P$);var dx=100+75,ex=ob.bindToContribution(Lr.get);Q(new ex({id:"closeParameterHints",precondition:ug.Visible,handler:function(d){return d.cancel()},kbOpts:{weight:dx,kbExpr:C.focus,primary:9,secondary:[1024|9]}}));Q(new ex({id:"showPrevParameterHint",precondition:Z.and(ug.Visible,ug.MultipleSignatures),handler:function(d){return d.previous()},kbOpts:{weight:dx,kbExpr:C.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}}));Q(new ex({id:"showNextParameterHint",precondition:Z.and(ug.Visible,ug.MultipleSignatures),handler:function(d){return d.next()},kbOpts:{weight:dx,kbExpr:C.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}));var f0=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},ix=function(d,a){return function(b,c){a(b,c,d)}},pn=new ea("renameInputVisible",!1),NJ=function(){function d(a,b,c,e,f){var g=this;this._editor=a,this._acceptKeybindings=b,this._themeService=c,this._keybindingService=e,this._disposables=new P(),this.allowEditorOverflow=!0,this._visibleContextKey=pn.bindTo(f),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(function(h){h.hasChanged(34)&&g._updateFont()})),this._disposables.add(c.onThemeChange(this._updateStyles,this))}return d.prototype.dispose=function(){this._disposables.dispose(),this._editor.removeContentWidget(this)},d.prototype.getId=function(){return"__renameInputWidget"},d.prototype.getDomNode=function(){var a=this;if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",s("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);var b=function(){var c,e,f=a._acceptKeybindings,g=f[0],h=f[1];a._keybindingService.lookupKeybinding(g),a._label.innerText=s("label","{0} to Rename, {1} to Preview",(c=a._keybindingService.lookupKeybinding(g))===null||c===void 0?void 0:c.getLabel(),(e=a._keybindingService.lookupKeybinding(h))===null||e===void 0?void 0:e.getLabel())};b(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(b)),this._updateFont(),this._updateStyles(this._themeService.getTheme())}return this._domNode},d.prototype._updateStyles=function(a){var b,c,e,f;if(!this._input||!this._domNode)return;var g=a.getColor(re);this._domNode.style.backgroundColor=String((b=a.getColor(cd))!==null&&b!==void 0?b:""),this._domNode.style.boxShadow=g?" 0 2px 8px "+g:"",this._domNode.style.color=String((c=a.getColor(vk))!==null&&c!==void 0?c:""),this._input.style.backgroundColor=String((e=a.getColor(tk))!==null&&e!==void 0?e:"");var h=a.getColor(uk);this._input.style.borderWidth=h?"1px":"0px",this._input.style.borderStyle=h?"solid":"none",this._input.style.borderColor=(f=h===null||h===void 0?void 0:h.toString())!==null&&f!==void 0?f:"none"},d.prototype._updateFont=function(){if(!this._input||!this._label)return;var a=this._editor.getOption(34);this._input.style.fontFamily=a.fontFamily,this._input.style.fontWeight=a.fontWeight,this._input.style.fontSize=a.fontSize+"px",this._label.style.fontSize=a.fontSize*.8+"px"},d.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[2,1]}:null},d.prototype.acceptInput=function(a){this._currentAcceptInput&&this._currentAcceptInput(a)},d.prototype.cancelInput=function(a){this._currentCancelInput&&this._currentCancelInput(a)},d.prototype.getInput=function(a,b,c,e,f){var g=this;qa(this._domNode,"preview",f),this._position=new G(a.startLineNumber,a.startColumn),this._input.value=b,this._input.setAttribute("selectionStart",c.toString()),this._input.setAttribute("selectionEnd",e.toString()),this._input.size=Math.max((a.endColumn-a.startColumn)*1.1,20);var h=new P();return new Promise(function(i){g._currentCancelInput=function(k){return g._currentAcceptInput=void 0,g._currentCancelInput=void 0,i(k),!0},g._currentAcceptInput=function(k){if(g._input.value.trim().length===0||g._input.value===b){g.cancelInput(!0);return}g._currentAcceptInput=void 0,g._currentCancelInput=void 0,i({newName:g._input.value,wantsPreview:f&&k})};var j=function(){var k=g._editor.getPosition();(!k||!z.containsPosition(a,k))&&g.cancelInput(!0)};h.add(g._editor.onDidChangeCursorSelection(j)),h.add(g._editor.onDidBlurEditorWidget(function(){return g.cancelInput(!1)})),g._show()}).finally(function(){h.dispose(),g._hide()})},d.prototype._show=function(){var a=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(function(){a._input.focus(),a._input.setSelectionRange(parseInt(a._input.getAttribute("selectionStart")),parseInt(a._input.getAttribute("selectionEnd")))},100)},d.prototype._hide=function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)},d=f0([ix(2,Ia),ix(3,Ja),ix(4,ha)],d),d}();var b0=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),c0=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Qk=function(d,a){return function(b,c){a(b,c,d)}},nn=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},on=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},OJ=function(){function d(a,b){this.model=a,this.position=b,this._providers=li.ordered(a)}return d.prototype.hasProvider=function(){return this._providers.length>0},d.prototype.resolveRenameLocation=function(a){return nn(this,void 0,void 0,function(){var b,c,e,f;return on(this,function(g){switch(g.label){case 0:return b=this._providers[0],b?b.resolveRenameLocation?(e=$g,[4,b.resolveRenameLocation(this.model,this.position,a)]):[3,2]:[2,void 0];case 1:c=e.apply(void 0,[g.sent()]),g.label=2;case 2:if(!c){f=this.model.getWordAtPosition(this.position);if(f)return[2,{range:new z(this.position.lineNumber,f.startColumn,this.position.lineNumber,f.endColumn),text:f.word}]}return[2,c]}})})},d.prototype.provideRenameEdits=function(a,b,c,e){return nn(this,void 0,void 0,function(){var f,g;return on(this,function(h){switch(h.label){case 0:return f=this._providers[b],f?[4,f.provideRenameEdits(this.model,this.position,a,e)]:[2,{edits:[],rejectReason:c.join(`
`)}];case 1:g=h.sent();if(g){if(g.rejectReason)return[2,this.provideRenameEdits(a,b+1,c.concat(g.rejectReason),e)]}else return[2,this.provideRenameEdits(a,b+1,c.concat(s("no result","No result.")),e)];return[2,g]}})})},d}();function d0(d,a,b){return nn(this,void 0,void 0,function(){return on(this,function(c){return[2,new OJ(d,a).provideRenameEdits(b,0,[],xa.None)]})})}var Or=function(){function d(a,b,c,e,f,g,h){var i=this;this.editor=a,this._instaService=b,this._notificationService=c,this._bulkEditService=e,this._progressService=f,this._logService=g,this._configService=h,this._dispoableStore=new P(),this._cts=new Oc(),this._renameInputField=this._dispoableStore.add(new Th(function(){return i._dispoableStore.add(i._instaService.createInstance(NJ,i.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}))}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.dispose=function(){this._dispoableStore.dispose(),this._cts.dispose(!0)},d.prototype.run=function(){return nn(this,void 0,void 0,function(){var a,b,c,e,f,g,h,i,j,k,l,m=this;return on(this,function(n){switch(n.label){case 0:this._cts.dispose(!0);if(!this.editor.hasModel())return[2,void 0];a=this.editor.getPosition(),b=new OJ(this.editor.getModel(),a);if(!b.hasProvider())return[2,void 0];this._cts=new ci(this.editor,4|1),n.label=1;case 1:return n.trys.push([1,3,,4]),e=b.resolveRenameLocation(this._cts.token),this._progressService.showWhile(e,250),[4,e];case 2:return c=n.sent(),[3,4];case 3:return f=n.sent(),Nd.get(this.editor).showMessage(f||s("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),a),[2,void 0];case 4:return c?c.rejectReason?(Nd.get(this.editor).showMessage(c.rejectReason,a),[2,void 0]):this._cts.token.isCancellationRequested?[2,void 0]:(g=this.editor.getSelection(),h=0,i=c.text.length,!z.isEmpty(g)&&!z.spansMultipleLines(g)&&z.containsRange(c.range,g)&&(h=Math.max(0,g.startColumn-c.range.startColumn),i=Math.min(c.range.endColumn,g.endColumn)-c.range.startColumn),j=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),[4,this._renameInputField.getValue().getInput(c.range,c.text,h,i,j)]):[2,void 0];case 5:return k=n.sent(),typeof k==="boolean"?(k&&this.editor.focus(),[2,void 0]):(this.editor.focus(),l=vo(b.provideRenameEdits(k.newName,0,[],this._cts.token),this._cts.token).then(function(o){return nn(m,void 0,void 0,function(){var p=this;return on(this,function(q){return!o||!this.editor.hasModel()?[2]:o.rejectReason?(this._notificationService.info(o.rejectReason),[2]):(this._bulkEditService.apply(o,{editor:this.editor,showPreview:k.wantsPreview,label:s("label","Renaming '{0}'",c===null||c===void 0?void 0:c.text)}).then(function(r){r.ariaSummary&&Gb(s("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",c.text,k.newName,r.ariaSummary))}).catch(function(r){p._notificationService.error(s("rename.failedApply","Rename failed to apply edits")),p._logService.error(r)}),[2])})})},function(o){m._notificationService.error(s("rename.failed","Rename failed to compute edits")),m._logService.error(o)}),this._progressService.showWhile(l,250),[2,l])}})})},d.prototype.acceptRenameInput=function(a){this._renameInputField.getValue().acceptInput(a)},d.prototype.cancelRenameInput=function(){this._renameInputField.getValue().cancelInput(!0)},d.ID="editor.contrib.renameController",d=c0([Qk(1,Aa),Qk(2,Ra),Qk(3,Ij),Qk(4,Kd),Qk(5,zf),Qk(6,kk)],d),d}(),e0=function(d){b0(a,d);function a(){return d.call(this,{id:"editor.action.rename",label:s("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Z.and(C.writable,C.hasRenameProvider),kbOpts:{kbExpr:C.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})||this}return a.prototype.runCommand=function(b,c){var e=this,f=b.get(ya),g=Array.isArray(c)&&c||[void 0,void 0],h=g[0],i=g[1];return ja.isUri(h)&&G.isIPosition(i)?f.openCodeEditor({resource:h},f.getActiveCodeEditor()).then(function(j){if(!j)return;j.setPosition(i),j.invokeWithinContext(function(k){return e.reportTelemetry(k,j),e.run(k,j)})},W):d.prototype.runCommand.call(this,b,c)},a.prototype.run=function(b,c){var e=Or.get(c);return e?e.run():Promise.resolve()},a}(aa);ra(Or.ID,Or);N(e0);var hx=ob.bindToContribution(Or.get);Q(new hx({id:"acceptRenameInput",precondition:pn,handler:function(d){return d.acceptRenameInput(!1)},kbOpts:{weight:100+99,kbExpr:C.focus,primary:3}}));Q(new hx({id:"acceptRenameInputWithPreview",precondition:Z.and(pn,Z.has("config.editor.rename.enablePreview")),handler:function(d){return d.acceptRenameInput(!0)},kbOpts:{weight:100+99,kbExpr:C.focus,primary:1024+3}}));Q(new hx({id:"cancelRenameInput",precondition:pn,handler:function(d){return d.cancelRenameInput()},kbOpts:{weight:100+99,kbExpr:C.focus,primary:9,secondary:[1024|9]}}));Hj("_executeDocumentRenameProvider",function(d,a,b){var c=b.newName;if(typeof c!=="string")throw Qb("newName");return d0(d,a,c)});ib.as(me.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:s("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var QJ=function(){function d(){}return d.prototype.provideSelectionRanges=function(a,b){for(var c=[],e=0,f=b;e<f.length;e++){var g=f[e],h=[];c.push(h),this._addInWordRanges(h,a,g),this._addWordRanges(h,a,g),this._addWhitespaceLine(h,a,g),h.push({range:a.getFullModelRange()})}return c},d.prototype._addInWordRanges=function(a,b,c){var e=b.getWordAtPosition(c);if(!e)return;for(var f=e.word,g=e.startColumn,h=c.column-g,i=h,j=h,k=0;i>=0;i--){var l=f.charCodeAt(i);if(l===95||l===45)break;if(Ie(l)&&Ud(k))break;k=l}for(i+=1;j<f.length;j++){var l=f.charCodeAt(j);if(Ud(l)&&Ie(k))break;if(l===95||l===45)break;k=l}i<j&&a.push({range:new z(c.lineNumber,g+i,c.lineNumber,g+j)})},d.prototype._addWordRanges=function(a,b,c){var e=b.getWordAtPosition(c);e&&a.push({range:new z(c.lineNumber,e.startColumn,c.lineNumber,e.endColumn)})},d.prototype._addWhitespaceLine=function(a,b,c){b.getLineLength(c.lineNumber)>0&&b.getLineFirstNonWhitespaceColumn(c.lineNumber)===0&&b.getLineLastNonWhitespaceColumn(c.lineNumber)===0&&a.push({range:new z(c.lineNumber,1,c.lineNumber,b.getLineMaxColumn(c.lineNumber))})},d}();var g0=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},PJ=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},Pr=function(){function d(){}return d.prototype.provideSelectionRanges=function(a,b){return g0(this,void 0,void 0,function(){var c,e,f,g,h;return PJ(this,function(i){switch(i.label){case 0:c=[],e=function(j){var k,l;return PJ(this,function(m){switch(m.label){case 0:return k=[],c.push(k),l=new Map(),[4,new Promise(function(n){return d._bracketsRightYield(n,0,a,j,l)})];case 1:return m.sent(),[4,new Promise(function(n){return d._bracketsLeftYield(n,0,a,j,l,k)})];case 2:return m.sent(),[2]}})},f=0,g=b,i.label=1;case 1:return f<g.length?(h=g[f],[5,e(h)]):[3,4];case 2:i.sent(),i.label=3;case 3:return f++,[3,1];case 4:return[2,c]}})})},d._bracketsRightYield=function(a,b,c,e,f){for(var g=new Map(),h=Date.now();;){if(b>=d._maxRounds){a();break}if(!e){a();break}var i=c.findNextBracket(e);if(!i){a();break}var j=Date.now()-h;if(j>d._maxDuration){setTimeout(function(){return d._bracketsRightYield(a,b+1,c,e,f)});break}var k=i.close[0];if(i.isOpen){var l=g.has(k)?g.get(k):0;g.set(k,l+1)}else{var l=g.has(k)?g.get(k):0;l-=1,g.set(k,Math.max(0,l));if(l<0){var m=f.get(k);m||(m=new Yc(),f.set(k,m)),m.push(i.range)}}e=i.range.getEndPosition()}},d._bracketsLeftYield=function(a,b,c,e,f,g){for(var h=new Map(),i=Date.now();;){if(b>=d._maxRounds&&f.size===0){a();break}if(!e){a();break}var j=c.findPrevBracket(e);if(!j){a();break}var k=Date.now()-i;if(k>d._maxDuration){setTimeout(function(){return d._bracketsLeftYield(a,b+1,c,e,f,g)});break}var l=j.close[0];if(j.isOpen){var m=h.has(l)?h.get(l):0;m-=1,h.set(l,Math.max(0,m));if(m<0){var n=f.get(l);if(n){var o=n.shift();n.size===0&&f.delete(l);var p=z.fromPositions(j.range.getEndPosition(),o.getStartPosition()),q=z.fromPositions(j.range.getStartPosition(),o.getEndPosition());g.push({range:p}),g.push({range:q}),d._addBracketLeading(c,q,g)}}}else{var m=h.has(l)?h.get(l):0;h.set(l,m+1)}e=j.range.getStartPosition()}},d._addBracketLeading=function(a,b,c){if(b.startLineNumber===b.endLineNumber)return;var e=b.startLineNumber,f=a.getLineFirstNonWhitespaceColumn(e);f!==0&&f!==b.startColumn&&(c.push({range:z.fromPositions(new G(e,f),b.getEndPosition())}),c.push({range:z.fromPositions(new G(e,1),b.getEndPosition())}));var g=e-1;if(g>0){var h=a.getLineFirstNonWhitespaceColumn(g);h===b.startColumn&&h!==a.getLineLastNonWhitespaceColumn(g)&&(c.push({range:z.fromPositions(new G(g,h),b.getEndPosition())}),c.push({range:z.fromPositions(new G(g,1),b.getEndPosition())}))}},d._maxDuration=30,d._maxRounds=2,d}();var jx=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),h0=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},i0=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},j0=function(){function d(a,b){this.index=a,this.ranges=b}return d.prototype.mov=function(a){var b=this.index+(a?1:-1);if(b<0||b>=this.ranges.length)return this;var c=new d(b,this.ranges);return c.ranges[b].equalsRange(this.ranges[this.index])?c.mov(a):c},d}(),kx=function(){function d(a){this._ignoreSelection=!1,this._editor=a}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.dispose=function(){ca(this._selectionListener)},d.prototype.run=function(a){var b=this;if(!this._editor.hasModel())return;var c=this._editor.getSelections(),e=this._editor.getModel();if(!hk.has(e))return;var f=Promise.resolve(void 0);return this._state||(f=SJ(e,c.map(function(g){return g.getPosition()}),xa.None).then(function(g){if(!Ib(g)||g.length!==c.length)return;if(!b._editor.hasModel()||!xc(b._editor.getSelections(),c,function(j,k){return j.equalsSelection(k)}))return;for(var h=function(j){g[j]=g[j].filter(function(k){return k.containsPosition(c[j].getStartPosition())&&k.containsPosition(c[j].getEndPosition())}),g[j].unshift(c[j])},i=0;i<g.length;i++)h(i);b._state=g.map(function(j){return new j0(0,j)}),ca(b._selectionListener),b._selectionListener=b._editor.onDidChangeCursorPosition(function(){b._ignoreSelection||(ca(b._selectionListener),b._state=void 0)})})),f.then(function(){if(!b._state)return;b._state=b._state.map(function(h){return h.mov(a)});var g=b._state.map(function(h){return V.fromPositions(h.ranges[h.index].getStartPosition(),h.ranges[h.index].getEndPosition())});b._ignoreSelection=!0;try{b._editor.setSelections(g)}finally{b._ignoreSelection=!1}})},d.ID="editor.contrib.smartSelectController",d}(),RJ=function(d){jx(a,d);function a(b,c){var e=d.call(this,c)||this;return e._forward=b,e}return a.prototype.run=function(b,c){return h0(this,void 0,void 0,function(){var e;return i0(this,function(f){switch(f.label){case 0:return e=kx.get(c),e?[4,e.run(this._forward)]:[3,2];case 1:f.sent(),f.label=2;case 2:return[2]}})})},a}(aa),k0=function(d){jx(a,d);function a(){return d.call(this,!0,{id:"editor.action.smartSelect.expand",label:s("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:C.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:25,group:"1_basic",title:s({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}return a}(RJ);Ca.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var l0=function(d){jx(a,d);function a(){return d.call(this,!1,{id:"editor.action.smartSelect.shrink",label:s("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:C.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:25,group:"1_basic",title:s({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}return a}(RJ);ra(kx.ID,kx);N(k0);N(l0);hk.register("*",new QJ());function SJ(d,a,b){var c=hk.all(d);c.length===1&&c.unshift(new Pr());for(var e=[],f=[],g=0,h=c;g<h.length;g++){var i=h[g];e.push(Promise.resolve(i.provideSelectionRanges(d,a,b)).then(function(j){if(Ib(j)&&j.length===a.length)for(var k=0;k<a.length;k++){f[k]||(f[k]=[]);for(var l=0,m=j[k];l<m.length;l++){var n=m[l];z.isIRange(n.range)&&z.containsPosition(n.range,a[k])&&f[k].push(z.lift(n.range))}}},tb))}return Promise.all(e).then(function(){return f.map(function(j){if(j.length===0)return[];j.sort(function(x,u){return G.isBefore(x.getStartPosition(),u.getStartPosition())?1:G.isBefore(u.getStartPosition(),x.getStartPosition())?-1:G.isBefore(x.getEndPosition(),u.getEndPosition())?-1:G.isBefore(u.getEndPosition(),x.getEndPosition())?1:0});for(var k=[],l,m=0,n=j;m<n.length;m++){var o=n[m];(!l||z.containsRange(o,l)&&!z.equalsRange(o,l))&&(k.push(o),l=o)}for(var p=[k[0]],q=1;q<k.length;q++){var r=k[q-1],t=k[q];if(t.startLineNumber!==r.startLineNumber||t.endLineNumber!==r.endLineNumber){var v=new z(r.startLineNumber,d.getLineFirstNonWhitespaceColumn(r.startLineNumber),r.endLineNumber,d.getLineLastNonWhitespaceColumn(r.endLineNumber));v.containsRange(r)&&!v.equalsRange(r)&&t.containsRange(v)&&!t.equalsRange(v)&&p.push(v);var w=new z(r.startLineNumber,1,r.endLineNumber,d.getLineMaxColumn(r.endLineNumber));w.containsRange(r)&&!w.equalsRange(v)&&t.containsRange(w)&&!t.equalsRange(w)&&p.push(w)}p.push(t)}return p})})}dD("_executeSelectionRangeProvider",function(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];var c=a[0];return SJ(d,c,xa.None)});var q0=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},r0=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},hb={Visible:new ea("suggestWidgetVisible",!1),MultipleSuggestions:new ea("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new ea("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new ea("acceptSuggestionOnEnter",!0)},s0=function(){function d(a,b,c,e,f){var g=this;this.position=a,this.completion=b,this.container=c,this.provider=e,this.isResolved=!1,this.score=kd.Default,this.distance=0,this.textLabel=typeof b.label==="string"?b.label:b.label.name,this.labelLow=this.textLabel.toLowerCase(),this.sortTextLow=b.sortText&&b.sortText.toLowerCase(),this.filterTextLow=b.filterText&&b.filterText.toLowerCase(),z.isIRange(b.range)?(this.editStart=new G(b.range.startLineNumber,b.range.startColumn),this.editInsertEnd=new G(b.range.endLineNumber,b.range.endColumn),this.editReplaceEnd=new G(b.range.endLineNumber,b.range.endColumn)):(this.editStart=new G(b.range.insert.startLineNumber,b.range.insert.startColumn),this.editInsertEnd=new G(b.range.insert.endLineNumber,b.range.insert.endColumn),this.editReplaceEnd=new G(b.range.replace.endLineNumber,b.range.replace.endColumn));var h=e.resolveCompletionItem;if(typeof h!=="function")this.resolve=function(){return Promise.resolve()},this.isResolved=!0;else{var i;this.resolve=function(j){return i||(i=Promise.resolve(h.call(e,f,a,b,j)).then(function(k){dB(b,k),g.isResolved=!0},function(k){Lg(k)&&(i=void 0)}),j.onCancellationRequested(function(){g.isResolved||(i=void 0)})),i}}}return d}(),ox=function(){function d(a,b,c){a===void 0&&(a=2),b===void 0&&(b=new Set()),c===void 0&&(c=new Set()),this.snippetSortOrder=a,this.kindFilter=b,this.providerFilter=c}return d.default=new d(),d}(),Vr;function oK(){return Vr}function px(d,a,b,c,e){b===void 0&&(b=ox.default),c===void 0&&(c={triggerKind:0}),e===void 0&&(e=xa.None);var f=d.getWordAtPosition(a),g=f?new z(a.lineNumber,f.startColumn,a.lineNumber,f.endColumn):z.fromPositions(a),h=g.setEndPosition(a.lineNumber,a.column);a=a.clone();var i=sd.orderedGroups(d);!b.kindFilter.has(25)&&Vr&&i.unshift([Vr]);var j=[],k=new P(),l=!1,m=i.map(function(o){return function(){return Promise.all(o.map(function(p){return b.providerFilter.size>0&&!b.providerFilter.has(p)?void 0:Promise.resolve(p.provideCompletionItems(d,a,c,e)).then(function(q){var r=j.length;if(q){for(var t=0,v=q.suggestions||[];t<v.length;t++){var w=v[t];b.kindFilter.has(w.kind)||(w.range||(w.range={insert:h,replace:g}),w.sortText||(w.sortText=typeof w.label==="string"?w.label:w.label.name),j.push(new s0(a,w,q,p,d)))}Xh(q)&&k.add(q)}r!==j.length&&p!==Vr&&(l=!0)},tb)}))}}),n=mj(m,function(){return l||e.isCancellationRequested}).then(function(){return e.isCancellationRequested?(k.dispose(),Promise.reject(Og())):j.sort(rx(b.snippetSortOrder))});return n}function qx(d,a){if(d.sortTextLow&&a.sortTextLow){if(d.sortTextLow<a.sortTextLow)return-1;if(d.sortTextLow>a.sortTextLow)return 1}return d.completion.label<a.completion.label?-1:d.completion.label>a.completion.label?1:d.completion.kind-a.completion.kind}function t0(d,a){if(d.completion.kind!==a.completion.kind){if(d.completion.kind===25)return-1;if(a.completion.kind===25)return 1}return qx(d,a)}function u0(d,a){if(d.completion.kind!==a.completion.kind){if(d.completion.kind===25)return 1;if(a.completion.kind===25)return-1}return qx(d,a)}var Wr=new Map();Wr.set(0,t0);Wr.set(2,u0);Wr.set(1,qx);function rx(d){return Wr.get(d)}Hj("_executeCompletionItemProvider",function(d,a,b){return q0(void 0,void 0,void 0,function(){var c,e,f,g,h,i,j,k;return r0(this,function(l){switch(l.label){case 0:return c={incomplete:!1,suggestions:[]},e=new P(),f=[],g=b.maxItemsToResolve||0,[4,px(d,a)];case 1:for(h=l.sent(),i=0,j=h;i<j.length;i++)k=j[i],f.length<g&&f.push(k.resolve(xa.None)),c.incomplete=c.incomplete||k.container.incomplete,c.suggestions.push(k.completion),Xh(k.container)&&e.add(k.container);l.label=2;case 2:return l.trys.push([2,,4,5]),[4,Promise.all(f)];case 3:return l.sent(),[2,c];case 4:return setTimeout(function(){return e.dispose()},100),[7];case 5:return[2]}})})});var sx=new(function(){function d(){this.onlyOnceSuggestions=[]}return d.prototype.provideCompletionItems=function(){var a=this.onlyOnceSuggestions.slice(0),b={suggestions:a};return this.onlyOnceSuggestions.length=0,b},d}())();sd.register("*",sx);function UJ(d,a){setTimeout(function(){var b;(b=sx.onlyOnceSuggestions).push.apply(b,a),d.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(sx))},0)}var yh=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),XJ=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},_d,n0=function(){function d(){this.value="",this.pos=0}return d.isDigitCharacter=function(a){return a>=48&&a<=57},d.isVariableCharacter=function(a){return a===95||a>=97&&a<=122||a>=65&&a<=90},d.prototype.text=function(a){this.value=a,this.pos=0},d.prototype.tokenText=function(a){return this.value.substr(a.pos,a.len)},d.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var a=this.pos,b=0,c=this.value.charCodeAt(a),e;e=d._table[c];if(typeof e==="number")return this.pos+=1,{type:e,pos:a,len:1};if(d.isDigitCharacter(c)){e=8;do b+=1,c=this.value.charCodeAt(a+b);while(d.isDigitCharacter(c));return this.pos+=b,{type:e,pos:a,len:b}}if(d.isVariableCharacter(c)){e=9;do c=this.value.charCodeAt(a+ ++b);while(d.isVariableCharacter(c)||d.isDigitCharacter(c));return this.pos+=b,{type:e,pos:a,len:b}}e=10;do b+=1,c=this.value.charCodeAt(a+b);while(!isNaN(c)&&typeof d._table[c]==="undefined"&&!d.isDigitCharacter(c)&&!d.isVariableCharacter(c));return this.pos+=b,{type:e,pos:a,len:b}},d._table=(_d={},_d[36]=0,_d[58]=1,_d[44]=2,_d[123]=3,_d[125]=4,_d[92]=5,_d[47]=6,_d[124]=7,_d[43]=11,_d[45]=12,_d[63]=13,_d),d}(),Rk=function(){function d(){this._children=[]}return d.prototype.appendChild=function(a){return a instanceof Ad&&this._children[this._children.length-1]instanceof Ad?this._children[this._children.length-1].value+=a.value:(a.parent=this,this._children.push(a)),this},d.prototype.replace=function(a,b){var c=a.parent,e=c.children.indexOf(a),f=c.children.slice(0);f.splice.apply(f,XJ([e,1],b)),c._children=f,function g(h,i){for(var j=0,k=h;j<k.length;j++){var l=k[j];l.parent=i,g(l.children,l)}}(b,c)},Object.defineProperty(d.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"snippet",{get:function(){for(var a=this;;){if(!a)return;if(a instanceof _J)return a;a=a.parent}},enumerable:!0,configurable:!0}),d.prototype.toString=function(){return this.children.reduce(function(a,b){return a+b.toString()},"")},d.prototype.len=function(){return 0},d}(),Ad=function(d){yh(a,d);function a(b){var c=d.call(this)||this;return c.value=b,c}return a.prototype.toString=function(){return this.value},a.prototype.len=function(){return this.value.length},a.prototype.clone=function(){return new a(this.value)},a}(Rk),YJ=function(d){yh(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a}(Rk),Xe=function(d){yh(a,d);function a(b){var c=d.call(this)||this;return c.index=b,c}return a.compareByIndex=function(b,c){return b.index===c.index?0:b.isFinalTabstop?1:c.isFinalTabstop?-1:b.index<c.index?-1:b.index>c.index?1:0},Object.defineProperty(a.prototype,"isFinalTabstop",{get:function(){return this.index===0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"choice",{get:function(){return this._children.length===1&&this._children[0]instanceof Sr?this._children[0]:void 0},enumerable:!0,configurable:!0}),a.prototype.clone=function(){var b=new a(this.index);return this.transform&&(b.transform=this.transform.clone()),b._children=this.children.map(function(c){return c.clone()}),b},a}(YJ),Sr=function(d){yh(a,d);function a(){var b=d!==null&&d.apply(this,arguments)||this;return b.options=[],b}return a.prototype.appendChild=function(b){return b instanceof Ad&&(b.parent=this,this.options.push(b)),this},a.prototype.toString=function(){return this.options[0].value},a.prototype.len=function(){return this.options[0].len()},a.prototype.clone=function(){var b=new a();return this.options.forEach(b.appendChild,b),b},a}(Rk),o0=function(d){yh(a,d);function a(){var b=d!==null&&d.apply(this,arguments)||this;return b.regexp=new RegExp(""),b}return a.prototype.resolve=function(b){var c=this,e=!1,f=b.replace(this.regexp,function(){return e=!0,c._replace(Array.prototype.slice.call(arguments,0,-2))});return!e&&this._children.some(function(g){return g instanceof vg&&Boolean(g.elseValue)})&&(f=this._replace([])),f},a.prototype._replace=function(b){for(var c="",e=0,f=this._children;e<f.length;e++){var g=f[e];if(g instanceof vg){var h=b[g.index]||"";h=g.resolve(h),c+=h}else c+=g.toString()}return c},a.prototype.toString=function(){return""},a.prototype.clone=function(){var b=new a();return b.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),b._children=this.children.map(function(c){return c.clone()}),b},a}(Rk),vg=function(d){yh(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g.index=b,g.shorthandName=c,g.ifValue=e,g.elseValue=f,g}return a.prototype.resolve=function(b){return this.shorthandName==="upcase"?b?b.toLocaleUpperCase():"":this.shorthandName==="downcase"?b?b.toLocaleLowerCase():"":this.shorthandName==="capitalize"?b?b[0].toLocaleUpperCase()+b.substr(1):"":this.shorthandName==="pascalcase"?b?this._toPascalCase(b):"":Boolean(b)&&typeof this.ifValue==="string"?this.ifValue:!Boolean(b)&&typeof this.elseValue==="string"?this.elseValue:b||""},a.prototype._toPascalCase=function(b){var c=b.match(/[a-z]+/gi);return c?c.map(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}).join(""):b},a.prototype.clone=function(){var b=new a(this.index,this.shorthandName,this.ifValue,this.elseValue);return b},a}(Rk),lx=function(d){yh(a,d);function a(b){var c=d.call(this)||this;return c.name=b,c}return a.prototype.resolve=function(b){var c=b.resolve(this);return this.transform&&(c=this.transform.resolve(c||"")),c!==void 0?(this._children=[new Ad(c)],!0):!1},a.prototype.clone=function(){var b=new a(this.name);return this.transform&&(b.transform=this.transform.clone()),b._children=this.children.map(function(c){return c.clone()}),b},a}(YJ);function ZJ(d,a){for(var b=XJ(d);b.length>0;){var c=b.shift(),e=a(c);if(!e)break;b.unshift.apply(b,c.children)}}var _J=function(d){yh(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var b=[],c;this.walk(function(e){return e instanceof Xe&&(b.push(e),c=!c||c.index<e.index?e:c),!0}),this._placeholders={all:b,last:c}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"placeholders",{get:function(){var b=this.placeholderInfo.all;return b},enumerable:!0,configurable:!0}),a.prototype.offset=function(b){var c=0,e=!1;return this.walk(function(f){return f===b?(e=!0,!1):(c+=f.len(),!0)}),e?c:-1},a.prototype.fullLen=function(b){var c=0;return ZJ([b],function(e){return c+=e.len(),!0}),c},a.prototype.enclosingPlaceholders=function(b){for(var c=[],e=b.parent;e;)e instanceof Xe&&c.push(e),e=e.parent;return c},a.prototype.resolveVariables=function(b){var c=this;return this.walk(function(e){return e instanceof lx&&(e.resolve(b)&&(c._placeholders=void 0)),!0}),this},a.prototype.appendChild=function(b){return this._placeholders=void 0,d.prototype.appendChild.call(this,b)},a.prototype.replace=function(b,c){return this._placeholders=void 0,d.prototype.replace.call(this,b,c)},a.prototype.clone=function(){var b=new a();return this._children=this.children.map(function(c){return c.clone()}),b},a.prototype.walk=function(b){ZJ(this.children,b)},a}(Rk),Tr=function(){function d(){this._scanner=new n0(),this._token={type:14,pos:0,len:0}}return d.escape=function(a){return a.replace(/\$|}|\\/g,"\\$&")},d.prototype.parse=function(a,b,c){this._scanner.text(a),this._token=this._scanner.next();for(var e=new _J();this._parse(e););var f=new Map(),g=[],h=0;e.walk(function(q){return q instanceof Xe&&(h+=1,q.isFinalTabstop?f.set(0,void 0):!f.has(q.index)&&q.children.length>0?f.set(q.index,q.children):g.push(q)),!0});for(var i=0,j=g;i<j.length;i++){var k=j[i],l=f.get(k.index);if(l){var m=new Xe(k.index);m.transform=k.transform;for(var n=0,o=l;n<o.length;n++){var p=o[n];m.appendChild(p.clone())}e.replace(k,[m])}}return c||(c=h>0&&b),!f.has(0)&&c&&e.appendChild(new Xe(0)),e},d.prototype._accept=function(a,b){if(a===void 0||this._token.type===a){var c=b?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),c}return!1},d.prototype._backTo=function(a){return this._scanner.pos=a.pos+a.len,this._token=a,!1},d.prototype._until=function(a){for(var b=this._token;this._token.type!==a;){if(this._token.type===14)return!1;if(this._token.type===5){var c=this._scanner.next();if(c.type!==0&&c.type!==4&&c.type!==5)return!1}this._token=this._scanner.next()}var e=this._scanner.value.substring(b.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),e},d.prototype._parse=function(a){return this._parseEscaped(a)||this._parseTabstopOrVariableName(a)||this._parseComplexPlaceholder(a)||this._parseComplexVariable(a)||this._parseAnything(a)},d.prototype._parseEscaped=function(a){var b;return(b=this._accept(5,!0))?(b=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||b,a.appendChild(new Ad(b)),!0):!1},d.prototype._parseTabstopOrVariableName=function(a){var b,c=this._token,e=this._accept(0)&&(b=this._accept(9,!0)||this._accept(8,!0));return e?(a.appendChild(/^\d+$/.test(b)?new Xe(Number(b)):new lx(b)),!0):this._backTo(c)},d.prototype._parseComplexPlaceholder=function(a){var b,c=this._token,e=this._accept(0)&&this._accept(3)&&(b=this._accept(8,!0));if(!e)return this._backTo(c);var f=new Xe(Number(b));if(this._accept(1))for(;;){if(this._accept(4))return a.appendChild(f),!0;if(this._parse(f))continue;return a.appendChild(new Ad("${"+b+":")),f.children.forEach(a.appendChild,a),!0}else if(f.index>0&&this._accept(7))for(var g=new Sr();;){if(this._parseChoiceElement(g)){if(this._accept(2))continue;if(this._accept(7)){f.appendChild(g);if(this._accept(4))return a.appendChild(f),!0}}return this._backTo(c),!1}else return this._accept(6)?this._parseTransform(f)?(a.appendChild(f),!0):(this._backTo(c),!1):this._accept(4)?(a.appendChild(f),!0):this._backTo(c)},d.prototype._parseChoiceElement=function(a){for(var b=this._token,c=[];;){if(this._token.type===2||this._token.type===7)break;var e=void 0;(e=this._accept(5,!0))?e=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:e=this._accept(void 0,!0);if(!e)return this._backTo(b),!1;c.push(e)}return c.length===0?(this._backTo(b),!1):(a.appendChild(new Ad(c.join(""))),!0)},d.prototype._parseComplexVariable=function(a){var b,c=this._token,e=this._accept(0)&&this._accept(3)&&(b=this._accept(9,!0));if(!e)return this._backTo(c);var f=new lx(b);if(this._accept(1))for(;;){if(this._accept(4))return a.appendChild(f),!0;if(this._parse(f))continue;return a.appendChild(new Ad("${"+b+":")),f.children.forEach(a.appendChild,a),!0}else return this._accept(6)?this._parseTransform(f)?(a.appendChild(f),!0):(this._backTo(c),!1):this._accept(4)?(a.appendChild(f),!0):this._backTo(c)},d.prototype._parseTransform=function(a){for(var b=new o0(),c="",e="";;){if(this._accept(6))break;var f=void 0;if(f=this._accept(5,!0)){f=this._accept(6,!0)||f,c+=f;continue}if(this._token.type!==14){c+=this._accept(void 0,!0);continue}return!1}for(;;){if(this._accept(6))break;var f=void 0;if(f=this._accept(5,!0)){f=this._accept(5,!0)||this._accept(6,!0)||f,b.appendChild(new Ad(f));continue}if(this._parseFormatString(b)||this._parseAnything(b))continue;return!1}for(;;){if(this._accept(4))break;if(this._token.type!==14){e+=this._accept(void 0,!0);continue}return!1}try{b.regexp=new RegExp(c,e)}catch(g){return!1}return a.transform=b,!0},d.prototype._parseFormatString=function(a){var b=this._token;if(!this._accept(0))return!1;var c=!1;this._accept(3)&&(c=!0);var e=this._accept(8,!0);if(e)if(c){if(this._accept(4))return a.appendChild(new vg(Number(e))),!0;if(!this._accept(1))return this._backTo(b),!1}else return a.appendChild(new vg(Number(e))),!0;else return this._backTo(b),!1;if(this._accept(6)){var f=this._accept(9,!0);return!f||!this._accept(4)?(this._backTo(b),!1):(a.appendChild(new vg(Number(e),f)),!0)}else if(this._accept(11)){var g=this._until(4);if(g)return a.appendChild(new vg(Number(e),void 0,g,void 0)),!0}else if(this._accept(12)){var h=this._until(4);if(h)return a.appendChild(new vg(Number(e),void 0,void 0,h)),!0}else if(this._accept(13)){var g=this._until(1);if(g){var h=this._until(4);if(h)return a.appendChild(new vg(Number(e),void 0,g,h)),!0}}else{var h=this._until(4);if(h)return a.appendChild(new vg(Number(e),void 0,void 0,h)),!0}return this._backTo(b),!1},d.prototype._parseAnything=function(a){return this._token.type!==14?(a.appendChild(new Ad(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1},d}();var nx="code-workspace";function mx(d){return d instanceof ja}function mK(d){return d.configuration?{configPath:d.configuration,id:d.id}:d.folders.length===1?d.folders[0].uri:void 0}var aK=function(){function d(a){this._delegates=a}return d.prototype.resolve=function(a){for(var b=0,c=this._delegates;b<c.length;b++){var e=c[b],f=e.resolve(a);if(f!==void 0)return f}return},d}(),cK=function(){function d(a,b){this._model=a,this._selection=b}return d.prototype.resolve=function(a){var b=a.name;if(b==="SELECTION"||b==="TM_SELECTED_TEXT"){var c=this._model.getValueInRange(this._selection)||void 0;if(c&&this._selection.startLineNumber!==this._selection.endLineNumber&&a.snippet){var e=this._model.getLineContent(this._selection.startLineNumber),f=cb(e,0,this._selection.startColumn-1),g=f;a.snippet.walk(function(j){return j===a?!1:(j instanceof Ad&&(g=cb(j.value.split(/\r\n|\r|\n/).pop())),!0)});var h=xj(g,f);c=c.replace(/(\r\n|\r|\n)(.*)/g,function(j,k,l){return""+k+g.substr(h)+l})}return c}else{if(b==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(b==="TM_CURRENT_WORD"){var i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(b==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(b==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}return},d}(),bK=function(){function d(a,b){this._labelService=a,this._model=b}return d.prototype.resolve=function(a){var b=a.name;if(b==="TM_FILENAME")return Ee(this._model.uri.fsPath);if(b==="TM_FILENAME_BASE"){var c=Ee(this._model.uri.fsPath),e=c.lastIndexOf(".");return e<=0?c:c.slice(0,e)}else{if(b==="TM_DIRECTORY"&&this._labelService)return Dl(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(vj(this._model.uri));if(b==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri)}return},d}(),$J=function(){function d(a,b,c,e){this._readClipboardText=a,this._selectionIdx=b,this._selectionCount=c,this._spread=e}return d.prototype.resolve=function(a){if(a.name!=="CLIPBOARD")return;var b=this._readClipboardText();if(!b)return;if(this._spread){var c=b.split(/\r\n|\n|\r/).filter(function(e){return!Ro(e)});if(c.length===this._selectionCount)return c[this._selectionIdx]}return b},d}(),eK=function(){function d(a){this._model=a}return d.prototype.resolve=function(a){var b=a.name,c=this._model.getLanguageIdentifier(),e=sa.getComments(c.id);if(!e)return;if(b==="LINE_COMMENT")return e.lineCommentToken||void 0;{if(b==="BLOCK_COMMENT_START")return e.blockCommentStartToken||void 0;if(b==="BLOCK_COMMENT_END")return e.blockCommentEndToken||void 0}return},d}(),dK=function(){function d(){}return d.prototype.resolve=function(a){var b=a.name;if(b==="CURRENT_YEAR")return String(new Date().getFullYear());{if(b==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);{if(b==="CURRENT_MONTH")return Zg(new Date().getMonth().valueOf()+1,2);{if(b==="CURRENT_DATE")return Zg(new Date().getDate().valueOf(),2);{if(b==="CURRENT_HOUR")return Zg(new Date().getHours().valueOf(),2);{if(b==="CURRENT_MINUTE")return Zg(new Date().getMinutes().valueOf(),2);{if(b==="CURRENT_SECOND")return Zg(new Date().getSeconds().valueOf(),2);{if(b==="CURRENT_DAY_NAME")return d.dayNames[new Date().getDay()];{if(b==="CURRENT_DAY_NAME_SHORT")return d.dayNamesShort[new Date().getDay()];{if(b==="CURRENT_MONTH_NAME")return d.monthNames[new Date().getMonth()];{if(b==="CURRENT_MONTH_NAME_SHORT")return d.monthNamesShort[new Date().getMonth()];if(b==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}}}}}}}}}}return},d.dayNames=[s("Sunday","Sunday"),s("Monday","Monday"),s("Tuesday","Tuesday"),s("Wednesday","Wednesday"),s("Thursday","Thursday"),s("Friday","Friday"),s("Saturday","Saturday")],d.dayNamesShort=[s("SundayShort","Sun"),s("MondayShort","Mon"),s("TuesdayShort","Tue"),s("WednesdayShort","Wed"),s("ThursdayShort","Thu"),s("FridayShort","Fri"),s("SaturdayShort","Sat")],d.monthNames=[s("January","January"),s("February","February"),s("March","March"),s("April","April"),s("May","May"),s("June","June"),s("July","July"),s("August","August"),s("September","September"),s("October","October"),s("November","November"),s("December","December")],d.monthNamesShort=[s("JanuaryShort","Jan"),s("FebruaryShort","Feb"),s("MarchShort","Mar"),s("AprilShort","Apr"),s("MayShort","May"),s("JuneShort","Jun"),s("JulyShort","Jul"),s("AugustShort","Aug"),s("SeptemberShort","Sep"),s("OctoberShort","Oct"),s("NovemberShort","Nov"),s("DecemberShort","Dec")],d}(),fK=function(){function d(a){this._workspaceService=a}return d.prototype.resolve=function(a){if(!this._workspaceService)return;var b=mK(this._workspaceService.getWorkspace());return b?a.name==="WORKSPACE_NAME"?this._resolveWorkspaceName(b):a.name==="WORKSPACE_FOLDER"?this._resoveWorkspacePath(b):void 0:void 0},d.prototype._resolveWorkspaceName=function(a){if(mx(a))return Ee(a.path);var b=Ee(a.configPath.path);return Sd(b,nx)&&(b=b.substr(0,b.length-nx.length-1)),b},d.prototype._resoveWorkspacePath=function(a){if(mx(a))return Al(a.fsPath);var b=Ee(a.configPath.path),c=a.configPath.fsPath;return Sd(c,b)&&(c=c.substr(0,c.length-b.length-1)),c?Al(c):"/"},d}(),gK=function(){function d(){}return d.prototype.resolve=function(a){var b=a.name;return b==="RANDOM"?Math.random().toString().slice(-6):b==="RANDOM_HEX"?Math.random().toString(16).slice(-6):void 0},d}();la(function(d,a){function b(c){var e=d.getColor(c);return e?e.toString():"transparent"}a.addRule(".monaco-editor .snippet-placeholder { background-color: "+b(iK)+"; outline-color: "+b(jK)+"; }"),a.addRule(".monaco-editor .finish-snippet-placeholder { background-color: "+b(kK)+"; outline-color: "+b(lK)+"; }")});var p0=function(){function d(a,b,c){this._nestingLevel=1,this._editor=a,this._snippet=b,this._offset=c,this._placeholderGroups=zt(b.placeholders,Xe.compareByIndex),this._placeholderGroupsIdx=-1}return d.prototype.dispose=function(){if(this._placeholderDecorations){var a=[];this._placeholderDecorations.forEach(function(b){return a.push(b)}),this._editor.deltaDecorations(a,[])}this._placeholderGroups.length=0},d.prototype._initDecorations=function(){var a=this;if(this._placeholderDecorations)return;this._placeholderDecorations=new Map();var b=this._editor.getModel();this._editor.changeDecorations(function(c){for(var e=0,f=a._snippet.placeholders;e<f.length;e++){var g=f[e],h=a._snippet.offset(g),i=a._snippet.fullLen(g),j=z.fromPositions(b.getPositionAt(a._offset+h),b.getPositionAt(a._offset+h+i)),k=g.isFinalTabstop?d._decor.inactiveFinal:d._decor.inactive,l=c.addDecoration(j,k);a._placeholderDecorations.set(g,l)}})},d.prototype.move=function(a){var b=this;if(!this._editor.hasModel())return[];this._initDecorations();if(this._placeholderGroupsIdx>=0){for(var c=[],e=0,f=this._placeholderGroups[this._placeholderGroupsIdx];e<f.length;e++){var g=f[e];if(g.transform){var h=this._placeholderDecorations.get(g),i=this._editor.getModel().getDecorationRange(h),j=this._editor.getModel().getValueInRange(i);c.push(jb.replaceMove(i,g.transform.resolve(j)))}}c.length>0&&this._editor.executeEdits("snippet.placeholderTransform",c)}var k=!1;a===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,k=!0):a===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,k=!0);var l=this._editor.getModel().changeDecorations(function(m){for(var n=new Set(),o=[],p=0,q=b._placeholderGroups[b._placeholderGroupsIdx];p<q.length;p++){var r=q[p],t=b._placeholderDecorations.get(r),v=b._editor.getModel().getDecorationRange(t);o.push(new V(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn)),k=k&&b._hasPlaceholderBeenCollapsed(r),m.changeDecorationOptions(t,r.isFinalTabstop?d._decor.activeFinal:d._decor.active),n.add(r);for(var w=0,x=b._snippet.enclosingPlaceholders(r);w<x.length;w++){var u=x[w],y=b._placeholderDecorations.get(u);m.changeDecorationOptions(y,u.isFinalTabstop?d._decor.activeFinal:d._decor.active),n.add(u)}}return b._placeholderDecorations.forEach(function(A,F){n.has(F)||m.changeDecorationOptions(A,F.isFinalTabstop?d._decor.inactiveFinal:d._decor.inactive)}),o});return k?this.move(a):l},d.prototype._hasPlaceholderBeenCollapsed=function(a){for(var b=a;b;){if(b instanceof Xe){var c=this._placeholderDecorations.get(b),e=this._editor.getModel().getDecorationRange(c);if(e.isEmpty()&&b.toString().length>0)return!0}b=b.parent}return!1},Object.defineProperty(d.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),d.prototype.computePossibleSelections=function(){for(var a=new Map(),b=0,c=this._placeholderGroups;b<c.length;b++)for(var e=c[b],f=void 0,g=0,h=e;g<h.length;g++){var i=h[g];if(i.isFinalTabstop)break;f||(f=[],a.set(i.index,f));var j=this._placeholderDecorations.get(i),k=this._editor.getModel().getDecorationRange(j);if(!k){a.delete(i.index);break}f.push(k)}return a},Object.defineProperty(d.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),d.prototype.merge=function(a){var b=this,c=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(e){for(var f=0,g=b._placeholderGroups[b._placeholderGroupsIdx];f<g.length;f++){var h=g[f],i=a.shift();console.assert(!i._placeholderDecorations);for(var j=i._snippet.placeholderInfo.last.index,k=0,l=i._snippet.placeholderInfo.all;k<l.length;k++){var m=l[k];m.isFinalTabstop?m.index=h.index+(j+1)/b._nestingLevel:m.index=h.index+m.index/b._nestingLevel}b._snippet.replace(h,i._snippet.children);var n=b._placeholderDecorations.get(h);e.removeDecoration(n),b._placeholderDecorations.delete(h);for(var o=0,p=i._snippet.placeholders;o<p.length;o++){var q=p[o],r=i._snippet.offset(q),t=i._snippet.fullLen(q),v=z.fromPositions(c.getPositionAt(i._offset+r),c.getPositionAt(i._offset+r+t)),w=e.addDecoration(v,d._decor.inactive);b._placeholderDecorations.set(q,w)}}b._placeholderGroups=zt(b._snippet.placeholders,Xe.compareByIndex)})},d._decor={active:na.register({stickiness:0,className:"snippet-placeholder"}),inactive:na.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:na.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:na.register({stickiness:1,className:"finish-snippet-placeholder"})},d}(),hK={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0},VJ=function(){function d(a,b,c){c===void 0&&(c=hK),this._templateMerges=[],this._snippets=[],this._editor=a,this._template=b,this._options=c}return d.adjustWhitespace=function(a,b,c,e,f){var g=a.getLineContent(b.lineNumber),h=cb(g,0,b.column-1);c.walk(function(i){if(i instanceof Ad&&!(i.parent instanceof Sr)){var j=i.value.split(/\r\n|\r|\n/);if(e)for(var k=1;k<j.length;k++){var l=cb(j[k]);j[k]=a.normalizeIndentation(h+l)+j[k].substr(l.length)}if(f){var m=j.join(a.getEOL());m!==i.value&&i.parent.replace(i,[new Ad(m)])}}return!0})},d.adjustSelection=function(a,b,c,e){if(c!==0||e!==0){var f=b.positionLineNumber,g=b.positionColumn,h=g-c,i=g+e,j=a.validateRange({startLineNumber:f,startColumn:h,endLineNumber:f,endColumn:i});b=V.createWithDirection(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn,b.getDirection())}return b},d.createEditsAndSnippets=function(a,b,c,e,f,g,h){var i=[],j=[];if(!a.hasModel())return{edits:i,snippets:j};for(var k=a.getModel(),l=a.invokeWithinContext(function(O){return O.get(Ur,pe)}),m=a.invokeWithinContext(function(O){return new bK(O.get(vh,pe),k)}),n=a.invokeWithinContext(function(O){return O.get(Gi,pe)}),o=function(){return h||n&&n.readTextSync()},p=0,q=k.getValueInRange(d.adjustSelection(k,a.getSelection(),c,0)),r=k.getValueInRange(d.adjustSelection(k,a.getSelection(),0,e)),t=k.getLineFirstNonWhitespaceColumn(a.getSelection().positionLineNumber),v=a.getSelections().map(function(O,T){return{selection:O,idx:T}}).sort(function(O,T){return z.compareRangesUsingStarts(O.selection,T.selection)}),w=0,x=v;w<x.length;w++){var u=x[w],y=u.selection,A=u.idx,F=d.adjustSelection(k,y,c,0),B=d.adjustSelection(k,y,0,e);q!==k.getValueInRange(F)&&(F=y),r!==k.getValueInRange(B)&&(B=y);var D=y.setStartPosition(F.startLineNumber,F.startColumn).setEndPosition(B.endLineNumber,B.endColumn),H=new Tr().parse(b,!0,f),J=D.getStartPosition();d.adjustWhitespace(k,J,H,g||A>0&&t!==k.getLineFirstNonWhitespaceColumn(y.positionLineNumber),!0),H.resolveVariables(new aK([m,new $J(o,A,v.length,a.getOption(60)==="spread"),new cK(k,y),new eK(k),new dK(),new fK(l),new gK()]));var L=k.getOffsetAt(J)+p;p+=H.toString().length-k.getValueLengthInRange(D),i[A]=jb.replace(D,H.toString()),j[A]=new p0(a,H,L)}return{edits:i,snippets:j}},d.prototype.dispose=function(){ca(this._snippets)},d.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},d.prototype.insert=function(){var a=this;if(!this._editor.hasModel())return;var b=d.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText),c=b.edits,e=b.snippets;this._snippets=e,this._editor.executeEdits("snippet",c,function(f){return a._snippets[0].hasPlaceholder?a._move(!0):f.map(function(g){return V.fromPositions(g.range.getEndPosition())})}),this._editor.revealRange(this._editor.getSelections()[0])},d.prototype.merge=function(a,b){var c=this;b===void 0&&(b=hK);if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,a]);var e=d.createEditsAndSnippets(this._editor,a,b.overwriteBefore,b.overwriteAfter,!0,b.adjustWhitespace,b.clipboardText),f=e.edits,g=e.snippets;this._editor.executeEdits("snippet",f,function(h){for(var i=0,j=c._snippets;i<j.length;i++){var k=j[i];k.merge(g)}return console.assert(g.length===0),c._snippets[0].hasPlaceholder?c._move(void 0):h.map(function(l){return V.fromPositions(l.range.getEndPosition())})})},d.prototype.next=function(){var a=this._move(!0);this._editor.setSelections(a),this._editor.revealPositionInCenterIfOutsideViewport(a[0].getPosition())},d.prototype.prev=function(){var a=this._move(!1);this._editor.setSelections(a),this._editor.revealPositionInCenterIfOutsideViewport(a[0].getPosition())},d.prototype._move=function(a){for(var b=[],c=0,e=this._snippets;c<e.length;c++){var f=e[c],g=f.move(a);b.push.apply(b,g)}return b},Object.defineProperty(d.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),d.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var a=this._editor.getSelections();if(a.length<this._snippets.length)return!1;for(var b=new Map(),c=function(i){var j=i.computePossibleSelections();b.size===0&&j.forEach(function(k,l){k.sort(z.compareRangesUsingStarts);for(var m=0,n=a;m<n.length;m++){var o=n[m];if(k[0].containsRange(o)){b.set(l,[]);break}}});if(b.size===0)return{value:!1};b.forEach(function(k,l){k.push.apply(k,j.get(l))})},e=0,f=this._snippets;e<f.length;e++){var g=f[e],h=c(g);if(typeof h==="object")return h.value}return a.sort(z.compareRangesUsingStarts),b.forEach(function(i,j){if(i.length!==a.length){b.delete(j);return}i.sort(z.compareRangesUsingStarts);for(var k=0;k<i.length;k++)if(!i[k].containsRange(a[k])){b.delete(j);return}}),b.size>0},d}();var Qr=function(){return Qr=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},Qr.apply(this,arguments)},m0=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},TJ=function(d,a){return function(b,c){a(b,c,d)}},WJ={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0},ed=function(){function d(a,b,c){this._editor=a,this._logService=b,this._snippetListener=new P(),this._modelVersionId=-1,this._inSnippet=d.InSnippetMode.bindTo(c),this._hasNextTabstop=d.HasNextTabstop.bindTo(c),this._hasPrevTabstop=d.HasPrevTabstop.bindTo(c)}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),ca(this._session),this._snippetListener.dispose()},d.prototype.insert=function(a,b){try{this._doInsert(a,typeof b==="undefined"?WJ:Qr(Qr({},WJ),b))}catch(c){this.cancel(),this._logService.error(c),this._logService.error("snippet_error"),this._logService.error("insert_template=",a),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},d.prototype._doInsert=function(a,b){var c=this;if(!this._editor.hasModel())return;this._snippetListener.clear(),b.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(a,b):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new VJ(this._editor,a,b),this._session.insert()),b.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(function(e){return e.isFlush&&c.cancel()})),this._snippetListener.add(this._editor.onDidChangeModel(function(){return c.cancel()})),this._snippetListener.add(this._editor.onDidChangeCursorSelection(function(){return c._updateState()}))},d.prototype._updateState=function(){if(!this._session||!this._editor.hasModel())return;if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()},d.prototype._handleChoice=function(){var a=this;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}var b=this._session.choice;if(!b){this._currentChoice=void 0;return}if(this._currentChoice!==b){this._currentChoice=b,this._editor.setSelections(this._editor.getSelections().map(function(e){return V.fromPositions(e.getStartPosition())}));var c=b.options[0];UJ(this._editor,b.options.map(function(e,f){return{kind:13,label:e.value,insertText:e.value,sortText:GB("a",f+1),range:z.fromPositions(a._editor.getPosition(),a._editor.getPosition().delta(0,c.value.length))}}))}},d.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},d.prototype.cancel=function(a){a===void 0&&(a=!1),this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),ca(this._session),this._session=void 0,this._modelVersionId=-1,a&&this._editor.setSelections([this._editor.getSelection()])},d.prototype.prev=function(){this._session&&this._session.prev(),this._updateState()},d.prototype.next=function(){this._session&&this._session.next(),this._updateState()},d.prototype.isInSnippet=function(){return Boolean(this._inSnippet.get())},d.ID="snippetController2",d.InSnippetMode=new ea("inSnippetMode",!1),d.HasNextTabstop=new ea("hasNextTabstop",!1),d.HasPrevTabstop=new ea("hasPrevTabstop",!1),d=m0([TJ(1,zf),TJ(2,ha)],d),d}();ra(ed.ID,ed);var Rr=ob.bindToContribution(ed.get);Q(new Rr({id:"jumpToNextSnippetPlaceholder",precondition:Z.and(ed.InSnippetMode,ed.HasNextTabstop),handler:function(d){return d.next()},kbOpts:{weight:100+30,kbExpr:C.editorTextFocus,primary:2}}));Q(new Rr({id:"jumpToPrevSnippetPlaceholder",precondition:Z.and(ed.InSnippetMode,ed.HasPrevTabstop),handler:function(d){return d.prev()},kbOpts:{weight:100+30,kbExpr:C.editorTextFocus,primary:1024|2}}));Q(new Rr({id:"leaveSnippet",precondition:ed.InSnippetMode,handler:function(d){return d.cancel(!0)},kbOpts:{weight:100+30,kbExpr:C.editorTextFocus,primary:9,secondary:[1024|9]}}));Q(new Rr({id:"acceptSnippet",precondition:ed.InSnippetMode,handler:function(d){return d.finish()}}));var Yr=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),B0=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},vK=function(d,a){return function(b,c){a(b,c,d)}},wx=function(){function d(){}return d.prototype.select=function(a,b,c){if(c.length===0)return 0;for(var e=c[0].score[0],f=1;f<c.length;f++){var g=c[f],h=g.score,i=g.completion;if(h[0]!==e)break;if(i.preselect)return f}return 0},d}(),C0=function(d){Yr(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.memorize=function(b,c,e){},a.prototype.toJSON=function(){return},a.prototype.fromJSON=function(){},a}(wx),D0=function(d){Yr(a,d);function a(){var b=d!==null&&d.apply(this,arguments)||this;return b._cache=new De(300,.66),b._seq=0,b}return a.prototype.memorize=function(b,c,e){var f=e.completion.label,g=b.getLanguageIdentifier().language+"/"+f;this._cache.set(g,{touch:this._seq++,type:e.completion.kind,insertText:e.completion.insertText})},a.prototype.select=function(b,c,e){if(e.length===0)return 0;var f=b.getLineContent(c.lineNumber).substr(c.column-10,c.column-1);if(/\s$/.test(f))return d.prototype.select.call(this,b,c,e);for(var g=e[0].score[0],h=-1,i=-1,j=-1,k=0;k<e.length;k++){if(e[k].score[0]!==g)break;var l=b.getLanguageIdentifier().language+"/"+e[k].completion.label,m=this._cache.peek(l);m&&m.touch>j&&m.type===e[k].completion.kind&&m.insertText===e[k].completion.insertText&&(j=m.touch,i=k);if(e[k].completion.preselect&&h===-1)return h=k}return i!==-1?i:h!==-1?h:0},a.prototype.toJSON=function(){var b=[];return this._cache.forEach(function(c,e){b.push([e,c])}),b},a.prototype.fromJSON=function(b){this._cache.clear();for(var c=0,e=0,f=b;e<f.length;e++){var g=f[e],h=g[0],i=g[1];i.touch=c,i.type=typeof i.type==="number"?i.type:Fv(i.type),this._cache.set(h,i)}this._seq=this._cache.size},a}(wx),E0=function(d){Yr(a,d);function a(){var b=d!==null&&d.apply(this,arguments)||this;return b._trie=Bl.forStrings(),b._seq=0,b}return a.prototype.memorize=function(b,c,e){var f=b.getWordUntilPosition(c).word,g=b.getLanguageIdentifier().language+"/"+f;this._trie.set(g,{type:e.completion.kind,insertText:e.completion.insertText,touch:this._seq++})},a.prototype.select=function(b,c,e){var f=b.getWordUntilPosition(c).word;if(!f)return d.prototype.select.call(this,b,c,e);var g=b.getLanguageIdentifier().language+"/"+f,h=this._trie.get(g);h||(h=this._trie.findSubstr(g));if(h)for(var i=0;i<e.length;i++){var j=e[i].completion,k=j.kind,l=j.insertText;if(k===h.type&&l===h.insertText)return i}return d.prototype.select.call(this,b,c,e)},a.prototype.toJSON=function(){var b=[];return this._trie.forEach(function(c,e){return b.push([e,c])}),b.sort(function(c,e){return-(c[1].touch-e[1].touch)}).forEach(function(c,e){return c[1].touch=e}),b.slice(0,200)},a.prototype.fromJSON=function(b){this._trie.clear();if(b.length>0){this._seq=b[0][1].touch+1;for(var c=0,e=b;c<e.length;c++){var f=e[c],g=f[0],h=f[1];h.type=typeof h.type==="number"?h.type:Fv(h.type),this._trie.set(g,h)}}},a}(wx),F0=function(d){Yr(a,d);function a(b,c){var e=d.call(this)||this;e._storageService=b,e._configService=c,e._storagePrefix="suggest/memories";var f=function(){var g=e._configService.getValue("editor.suggestSelection"),h=e._configService.getValue("editor.suggest.shareSuggestSelections");e._update(g,h,!1)};return e._persistSoon=e._register(new Ka(function(){return e._saveState()},500)),e._register(b.onWillSaveState(function(g){g.reason===ok.SHUTDOWN&&e._saveState()})),e._register(e._configService.onDidChangeConfiguration(function(g){(g.affectsConfiguration("editor.suggestSelection")||g.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&f()})),e._register(e._storageService.onDidChangeStorage(function(g){g.scope===0&&g.key.indexOf(e._storagePrefix)===0&&(document.hasFocus()||e._update(e._mode,e._shareMem,!0))})),f(),e}return a.prototype._update=function(b,c,e){if(!e&&this._mode===b&&this._shareMem===c)return;this._shareMem=c,this._mode=b,this._strategy=b==="recentlyUsedByPrefix"?new E0():b==="recentlyUsed"?new D0():new C0();try{var f=c?0:1,g=this._storageService.get(this._storagePrefix+"/"+this._mode,f);g&&this._strategy.fromJSON(JSON.parse(g))}catch(h){}},a.prototype.memorize=function(b,c,e){this._strategy.memorize(b,c,e),this._persistSoon.schedule()},a.prototype.select=function(b,c,e){return this._strategy.select(b,c,e)},a.prototype._saveState=function(){var b=JSON.stringify(this._strategy),c=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,b,c)},a=B0([vK(0,zd),vK(1,gb)],a),a}(I),ux=ia("ISuggestMemories");mf(ux,F0,!0);var v0=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},w0=function(d,a){return function(b,c){a(b,c,d)}},qn=function(){function d(a,b){this._editor=a,this._index=0,this._ckOtherSuggestions=d.OtherSuggestions.bindTo(b)}return d.prototype.dispose=function(){this.reset()},d.prototype.reset=function(){this._ckOtherSuggestions.reset(),ca(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},d.prototype.set=function(a,b){var c=this,e=a.model,f=a.index;if(e.items.length===0){this.reset();return}var g=d._moveIndex(!0,e,f);if(g===f){this.reset();return}this._acceptNext=b,this._model=e,this._index=f,this._listener=this._editor.onDidChangeCursorPosition(function(){c._ignore||c.reset()}),this._ckOtherSuggestions.set(!0)},d._moveIndex=function(a,b,c){for(var e=c;;){e=(e+b.items.length+(a?1:-1))%b.items.length;if(e===c)break;if(!b.items[e].completion.additionalTextEdits)break}return e},d.prototype.next=function(){this._move(!0)},d.prototype.prev=function(){this._move(!1)},d.prototype._move=function(a){if(!this._model)return;try{this._ignore=!0,this._index=d._moveIndex(a,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},d.OtherSuggestions=new ea("hasOtherSuggestions",!1),d=v0([w0(1,ha)],d),d}();var cNa=function(){function d(a,b){this.leadingLineContent=a,this.characterCountDelta=b}return d}(),nK=function(){function d(a,b,c,e,f,g){this._snippetCompareFn=d._compareCompletionItems,this._items=a,this._column=b,this._wordDistance=e,this._options=f,this._refilterKind=1,this._lineContext=c,g==="top"?this._snippetCompareFn=d._compareCompletionItemsSnippetsUp:g==="bottom"&&(this._snippetCompareFn=d._compareCompletionItemsSnippetsDown)}return Object.defineProperty(d.prototype,"lineContext",{get:function(){return this._lineContext},set:function(a){(this._lineContext.leadingLineContent!==a.leadingLineContent||this._lineContext.characterCountDelta!==a.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<a.characterCountDelta&&this._filteredItems?2:1,this._lineContext=a)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),d.prototype.adopt=function(a){for(var b=new Array(),c=0;c<this._items.length;)a.has(this._items[c].provider)?c++:(b.push(this._items[c]),this._items[c]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,b},Object.defineProperty(d.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),d.prototype._ensureCachedState=function(){this._refilterKind!==0&&this._createCachedState()},d.prototype._createCachedState=function(){this._isIncomplete=new Set(),this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var a=this._lineContext,b=a.leadingLineContent,c=a.characterCountDelta,e="",f="",g=this._refilterKind===1?this._items:this._filteredItems,h=[],i=!this._options.filterGraceful||g.length>2e3?Qh:zA,j=0;j<g.length;j++){var k=g[j];k.container.incomplete&&this._isIncomplete.add(k.provider);var l=k.position.column-k.editStart.column,m=l+c-(k.position.column-this._column);e.length!==m&&(e=m===0?"":b.slice(-m),f=e.toLowerCase()),k.word=e;if(m===0)k.score=kd.Default;else{for(var n=0;n<l;){var o=e.charCodeAt(n);if(o===32||o===9)n+=1;else break}var p=typeof k.completion.label==="string"?k.completion.label:k.completion.label.name;if(n>=m)k.score=kd.Default;else if(typeof k.completion.filterText==="string"){var q=i(e,f,n,k.completion.filterText,k.filterTextLow,0,!1);if(!q)continue;xB(k.completion.filterText,p)===0?k.score=q:(k.score=tA(e,f,n,p,k.labelLow,0),k.score[0]=q[0])}else{var q=i(e,f,n,p,k.labelLow,0,!1);if(!q)continue;k.score=q}}k.idx=j,k.distance=this._wordDistance.distance(k.position,k.completion),h.push(k),this._stats.suggestionCount++;switch(k.completion.kind){case 25:this._stats.snippetCount++;break;case 18:this._stats.textCount++;break}}this._filteredItems=h.sort(this._snippetCompareFn),this._refilterKind=0},d._compareCompletionItems=function(a,b){return a.score[0]>b.score[0]?-1:a.score[0]<b.score[0]?1:a.distance<b.distance?-1:a.distance>b.distance?1:a.idx<b.idx?-1:a.idx>b.idx?1:0},d._compareCompletionItemsSnippetsDown=function(a,b){if(a.completion.kind!==b.completion.kind){if(a.completion.kind===25)return 1;if(b.completion.kind===25)return-1}return d._compareCompletionItems(a,b)},d._compareCompletionItemsSnippetsUp=function(a,b){if(a.completion.kind!==b.completion.kind){if(a.completion.kind===25)return-1;if(b.completion.kind===25)return 1}return d._compareCompletionItems(a,b)},d}();var BK=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),V0=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},W0=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},wK=function(){function d(){}return d.create=function(a,b){return V0(this,void 0,void 0,function(){var c,e,f,g;return W0(this,function(h){switch(h.label){case 0:return b.getOption(89).localityBonus?b.hasModel()?(c=b.getModel(),e=b.getPosition(),a.canComputeWordRanges(c.uri)?[4,new Pr().provideSelectionRanges(c,[e])]:[2,d.None]):[2,d.None]:[2,d.None];case 1:return f=h.sent(),!f||f.length===0||f[0].length===0?[2,d.None]:[4,a.computeWordRanges(c.uri,f[0][0].range)];case 2:return g=h.sent(),[2,new(function(i){BK(j,i);function j(){return i!==null&&i.apply(this,arguments)||this}return j.prototype.distance=function(k,l){if(!g||!e.equals(b.getPosition()))return 0;if(l.kind===17)return 2<<20;var m=typeof l.label==="string"?l.label:l.label.name,n=g[m];if(ro(n))return 2<<20;for(var o=Ph(n,z.fromPositions(k),z.compareRangesUsingStarts),p=o>=0?n[o]:n[Math.max(0,~o-1)],q=f.length,r=0,t=f[0];r<t.length;r++){var v=t[r];if(!z.containsRange(v.range,p))break;q-=1}return q},j}(d))()]}})})},d.None=new(function(a){BK(b,a);function b(){return a!==null&&a.apply(this,arguments)||this}return b.prototype.distance=function(){return 0},b}(d))(),d}();var sn=function(){function d(a,b,c,e){this.leadingLineContent=a.getLineContent(b.lineNumber).substr(0,b.column-1),this.leadingWord=a.getWordUntilPosition(b),this.lineNumber=b.lineNumber,this.column=b.column,this.auto=c,this.shy=e}return d.shouldAutoTrigger=function(a){if(!a.hasModel())return!1;var b=a.getModel(),c=a.getPosition();b.tokenizeIfCheap(c.lineNumber);var e=b.getWordAtPosition(c);return e?e.endColumn!==c.column?!1:isNaN(Number(e.word))?!0:!1:!1},d}(),rK=function(){function d(a,b){var c=this;this._editor=a,this._editorWorker=b,this._toDispose=new P(),this._quickSuggestDelay=10,this._triggerCharacterListener=new P(),this._triggerQuickSuggest=new rb(),this._state=0,this._completionDisposables=new P(),this._onDidCancel=new E(),this._onDidTrigger=new E(),this._onDidSuggest=new E(),this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new V(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(function(){c._updateTriggerCharacters(),c.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(function(){c._updateTriggerCharacters(),c.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(function(){c._updateTriggerCharacters(),c._updateQuickSuggest()})),this._toDispose.add(sd.onDidChange(function(){c._updateTriggerCharacters(),c._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(function(f){c._onCursorChange(f)}));var e=!1;this._toDispose.add(this._editor.onDidCompositionStart(function(){e=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(function(){e=!1,c._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(function(){e||c._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}return d.prototype.dispose=function(){ca(this._triggerCharacterListener),ca([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()},d.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getOption(67),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},d.prototype._updateTriggerCharacters=function(){var a=this;this._triggerCharacterListener.clear();if(this._editor.getOption(68)||!this._editor.hasModel()||!this._editor.getOption(92))return;for(var b=new Map(),c=0,e=sd.all(this._editor.getModel());c<e.length;c++)for(var f=e[c],g=0,h=f.triggerCharacters||[];g<h.length;g++){var i=h[g],j=b.get(i);j||(j=new Set(),j.add(oK()),b.set(i,j)),j.add(f)}var k=function(l){if(!l){var m=a._editor.getPosition(),n=a._editor.getModel();l=n.getLineContent(m.lineNumber).substr(0,m.column-1)}var o="";yj(l.charCodeAt(l.length-1))?Cb(l.charCodeAt(l.length-2))&&(o=l.substr(l.length-2)):o=l.charAt(l.length-1);var p=b.get(o);if(p){var q=a._completionModel?a._completionModel.adopt(p):void 0;a.trigger({auto:!0,shy:!1,triggerCharacter:o},Boolean(a._completionModel),p,q)}};this._triggerCharacterListener.add(this._editor.onDidType(k)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(k))},Object.defineProperty(d.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),d.prototype.cancel=function(a){a===void 0&&(a=!1),this._state!==0&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:a}))},d.prototype.clear=function(){this._completionDisposables.clear()},d.prototype._updateActiveSuggestSession=function(){this._state!==0&&(!this._editor.hasModel()||!sd.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))},d.prototype._onCursorChange=function(a){var b=this;if(!this._editor.hasModel())return;var c=this._editor.getModel(),e=this._currentSelection;this._currentSelection=this._editor.getSelection();if(!a.selection.isEmpty()||a.reason!==0||a.source!=="keyboard"&&a.source!=="deleteLeft"){this.cancel();return}if(!sd.has(c))return;if(this._state===0){if(this._editor.getOption(66)===!1)return;if(!e.containsRange(this._currentSelection)&&!e.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(89).snippetsPreventQuickSuggestions&&ed.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(function(){if(b._state!==0)return;if(!sn.shouldAutoTrigger(b._editor))return;if(!b._editor.hasModel())return;var f=b._editor.getModel(),g=b._editor.getPosition(),h=b._editor.getOption(66);if(h===!1)return;if(!(h===!0)){f.tokenizeIfCheap(g.lineNumber);var i=f.getLineTokens(g.lineNumber),j=i.getStandardTokenType(i.findTokenIndexAtOffset(Math.max(g.column-1-1,0))),k=h.other&&j===0||h.comments&&j===1||h.strings&&j===2;if(!k)return}b.trigger({auto:!0,shy:!1})},this._quickSuggestDelay)}},d.prototype._refilterCompletionItems=function(){var a=this;Promise.resolve().then(function(){if(a._state===0)return;if(!a._editor.hasModel())return;var b=a._editor.getModel(),c=a._editor.getPosition(),e=new sn(b,c,a._state===2,!1);a._onNewContext(e)})},d.prototype.trigger=function(a,b,c,e){var f=this;b===void 0&&(b=!1);if(!this._editor.hasModel())return;var g=this._editor.getModel(),h=a.auto,i=new sn(g,this._editor.getPosition(),h,a.shy);this.cancel(b),this._state=h?2:1,this._onDidTrigger.fire({auto:h,shy:a.shy,position:this._editor.getPosition()}),this._context=i;var j;a.triggerCharacter?j={triggerKind:1,triggerCharacter:a.triggerCharacter}:c&&c.size>0?j={triggerKind:2}:j={triggerKind:0},this._requestToken=new Oc();var k=this._editor.getOption(86),l=1;switch(k){case"top":l=0;break;case"bottom":l=2;break}var m=d._createItemKindFilter(this._editor),n=wK.create(this._editorWorker,this._editor),o=px(g,this._editor.getPosition(),new ox(l,m,c),j,this._requestToken.token);Promise.all([o,n]).then(function(p){var q=p[0],r=p[1];ca(f._requestToken);if(f._state===0)return;if(!f._editor.hasModel())return;var t=f._editor.getModel();if(Ib(e)){var v=rx(l);q=q.concat(e).sort(v)}var w=new sn(t,f._editor.getPosition(),h,a.shy);f._completionModel=new nK(q,f._context.column,{leadingLineContent:w.leadingLineContent,characterCountDelta:w.column-f._context.column},r,f._editor.getOption(89),f._editor.getOption(86));for(var x=0,u=q;x<u.length;x++){var y=u[x];Xh(y.container)&&f._completionDisposables.add(y.container)}f._onNewContext(w)}).catch(W)},d._createItemKindFilter=function(a){var b=new Set(),c=a.getOption(86);c==="none"&&b.add(25);var e=a.getOption(89);return e.showMethods||b.add(0),e.showFunctions||b.add(1),e.showConstructors||b.add(2),e.showFields||b.add(3),e.showVariables||b.add(4),e.showClasses||b.add(5),e.showStructs||b.add(6),e.showInterfaces||b.add(7),e.showModules||b.add(8),e.showProperties||b.add(9),e.showEvents||b.add(10),e.showOperators||b.add(11),e.showUnits||b.add(12),e.showValues||b.add(13),e.showConstants||b.add(14),e.showEnums||b.add(15),e.showEnumMembers||b.add(16),e.showKeywords||b.add(17),e.showWords||b.add(18),e.showColors||b.add(19),e.showFiles||b.add(20),e.showReferences||b.add(21),e.showColors||b.add(22),e.showFolders||b.add(23),e.showTypeParameters||b.add(24),e.showSnippets||b.add(25),b},d.prototype._onNewContext=function(a){if(!this._context)return;if(a.lineNumber!==this._context.lineNumber){this.cancel();return}if(a.leadingWord.startColumn<this._context.leadingWord.startColumn){this.cancel();return}if(a.column<this._context.column){a.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!this._completionModel)return;if(a.column>this._context.column&&this._completionModel.incomplete.size>0&&a.leadingWord.word.length!==0){var b=this._completionModel.incomplete,c=this._completionModel.adopt(b);this.trigger({auto:this._state===2,shy:!1},!0,b,c)}else{var e=this._completionModel.lineContext,f=!1;this._completionModel.lineContext={leadingLineContent:a.leadingLineContent,characterCountDelta:a.column-this._context.column};if(this._completionModel.items.length===0){if(sn.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<a.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else{this._completionModel.lineContext=e,f=this._completionModel.items.length>0;if(f&&a.leadingWord.word.length===0){this.cancel();return}}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:f})}},d}();var mY=K("symbolIcon.arrayForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nY=K("symbolIcon.booleanForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oY=K("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},s("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pY=K("symbolIcon.colorForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qY=K("symbolIcon.constantForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rY=K("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},s("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sY=K("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},s("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tY=K("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},s("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uY=K("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},s("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vY=K("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},s("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wY=K("symbolIcon.fileForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xY=K("symbolIcon.folderForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yY=K("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},s("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zY=K("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},s("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),AY=K("symbolIcon.keyForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),BY=K("symbolIcon.keywordForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),CY=K("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},s("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),DY=K("symbolIcon.moduleForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),EY=K("symbolIcon.namespaceForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),FY=K("symbolIcon.nullForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),GY=K("symbolIcon.numberForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),HY=K("symbolIcon.objectForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),IY=K("symbolIcon.operatorForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),JY=K("symbolIcon.packageForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),KY=K("symbolIcon.propertyForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),LY=K("symbolIcon.referenceForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),MY=K("symbolIcon.snippetForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),NY=K("symbolIcon.stringForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),OY=K("symbolIcon.structForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),PY=K("symbolIcon.textForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),QY=K("symbolIcon.typeParameterForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),RY=K("symbolIcon.unitForeground",{dark:ga,light:ga,hc:ga},s("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SY=K("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},s("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));la(function(d,a){var b=d.getColor(mY);b&&a.addRule(".codicon-symbol-array { color: "+b+" !important; }");var c=d.getColor(nY);c&&a.addRule(".codicon-symbol-boolean { color: "+c+" !important; }");var e=d.getColor(oY);e&&a.addRule(".codicon-symbol-class { color: "+e+" !important; }");var f=d.getColor(CY);f&&a.addRule(".codicon-symbol-method { color: "+f+" !important; }");var g=d.getColor(pY);g&&a.addRule(".codicon-symbol-color { color: "+g+" !important; }");var h=d.getColor(qY);h&&a.addRule(".codicon-symbol-constant { color: "+h+" !important; }");var i=d.getColor(rY);i&&a.addRule(".codicon-symbol-constructor { color: "+i+" !important; }");var j=d.getColor(sY);j&&a.addRule(`
			.codicon-symbol-value,.codicon-symbol-enum { color: `+j+" !important; }");var k=d.getColor(tY);k&&a.addRule(".codicon-symbol-enum-member { color: "+k+" !important; }");var l=d.getColor(uY);l&&a.addRule(".codicon-symbol-event { color: "+l+" !important; }");var m=d.getColor(vY);m&&a.addRule(".codicon-symbol-field { color: "+m+" !important; }");var n=d.getColor(wY);n&&a.addRule(".codicon-symbol-file { color: "+n+" !important; }");var o=d.getColor(xY);o&&a.addRule(".codicon-symbol-folder { color: "+o+" !important; }");var p=d.getColor(yY);p&&a.addRule(".codicon-symbol-function { color: "+p+" !important; }");var q=d.getColor(zY);q&&a.addRule(".codicon-symbol-interface { color: "+q+" !important; }");var r=d.getColor(AY);r&&a.addRule(".codicon-symbol-key { color: "+r+" !important; }");var t=d.getColor(BY);t&&a.addRule(".codicon-symbol-keyword { color: "+t+" !important; }");var v=d.getColor(DY);v&&a.addRule(".codicon-symbol-module { color: "+v+" !important; }");var w=d.getColor(EY);w&&a.addRule(".codicon-symbol-namespace { color: "+w+" !important; }");var x=d.getColor(FY);x&&a.addRule(".codicon-symbol-null { color: "+x+" !important; }");var u=d.getColor(GY);u&&a.addRule(".codicon-symbol-number { color: "+u+" !important; }");var y=d.getColor(HY);y&&a.addRule(".codicon-symbol-object { color: "+y+" !important; }");var A=d.getColor(IY);A&&a.addRule(".codicon-symbol-operator { color: "+A+" !important; }");var F=d.getColor(JY);F&&a.addRule(".codicon-symbol-package { color: "+F+" !important; }");var B=d.getColor(KY);B&&a.addRule(".codicon-symbol-property { color: "+B+" !important; }");var D=d.getColor(LY);D&&a.addRule(".codicon-symbol-reference { color: "+D+" !important; }");var H=d.getColor(MY);H&&a.addRule(".codicon-symbol-snippet { color: "+H+" !important; }");var J=d.getColor(NY);J&&a.addRule(".codicon-symbol-string { color: "+J+" !important; }");var L=d.getColor(OY);L&&a.addRule(".codicon-symbol-struct { color: "+L+" !important; }");var O=d.getColor(PY);O&&a.addRule(".codicon-symbol-text { color: "+O+" !important; }");var T=d.getColor(QY);T&&a.addRule(".codicon-symbol-type-parameter { color: "+T+" !important; }");var $=d.getColor(RY);$&&a.addRule(".codicon-symbol-unit { color: "+$+" !important; }");var _=d.getColor(SY);_&&a.addRule(".codicon-symbol-variable { color: "+_+" !important; }")});var Re;(function(d){d[d.FILE=0]="FILE",d[d.FOLDER=1]="FOLDER",d[d.ROOT_FOLDER=2]="ROOT_FOLDER"})(Re||(Re={}));function Cm(d,a,b,c){var e=c===Re.ROOT_FOLDER?["rootfolder-icon"]:c===Re.FOLDER?["folder-icon"]:["file-icon"];if(b){var f;if(b.scheme===wa.data){var g=hf.parseMetaData(b);f=g.get(hf.META_DATA_LABEL)}else f=gG(Qo(b).toLowerCase());if(c===Re.FOLDER)e.push(f+"-name-folder-icon");else{if(f){e.push(f+"-name-file-icon");for(var h=f.split("."),i=1;i<h.length;i++)e.push(h.slice(i).join(".")+"-ext-file-icon");e.push("ext-file-icon")}var j=eW(d,a,b);j&&e.push(gG(j)+"-lang-file-icon")}}return e}function eW(d,a,b){if(!b)return null;var c=null;if(b.scheme===wa.data){var e=hf.parseMetaData(b),f=e.get(hf.META_DATA_MIME);f&&(c=a.getModeId(f))}else{var g=d.getModel(b);g&&(c=g.getModeId())}return c&&c!==Vp?c:a.getModeIdByFilepathOrFirstLine(b)}function gG(d){return d.replace(/\s/g,"\\$&")}var xx=function(){return xx=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},xx.apply(this,arguments)},yK=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Ye=function(d,a){return function(b,c){a(b,c,d)}},H0=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},I0=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},J0=!1,K0=K("editorSuggestWidget.background",{dark:cd,light:cd,hc:cd},s("editorSuggestWidgetBackground","Background color of the suggest widget.")),L0=K("editorSuggestWidget.border",{dark:tg,light:tg,hc:tg},s("editorSuggestWidgetBorder","Border color of the suggest widget.")),M0=K("editorSuggestWidget.foreground",{dark:je,light:je,hc:je},s("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),N0=K("editorSuggestWidget.selectedBackground",{dark:wg,light:wg,hc:wg},s("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),O0=K("editorSuggestWidget.highlightForeground",{dark:Zr,light:Zr,hc:Zr},s("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),zK=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function P0(d,a){var b=typeof d.completion.label==="string"?d.completion.label:d.completion.label.name;return b.match(zK)?(a[0]=b,!0):typeof d.completion.documentation==="string"&&d.completion.documentation.match(zK)?(a[0]=d.completion.documentation,!0):!1}function Sk(d){if(!d)return!1;var a=d.completion;return a.documentation?!0:a.detail&&a.detail!==a.label}function AK(d){return"suggest-aria-id:"+d}var Q0=function(){function d(a,b,c,e,f,g){this.widget=a,this.editor=b,this.triggerKeybindingLabel=c,this._modelService=e,this._modeService=f,this._themeService=g}return Object.defineProperty(d.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),d.prototype.renderTemplate=function(a){var b=this,c=Object.create(null);c.disposables=new P(),c.root=a,U(c.root,"show-file-icons"),c.icon=S(a,X(".icon")),c.colorspan=S(c.icon,X("span.colorspan"));var e=S(a,X(".contents")),f=S(e,X(".main"));c.left=S(f,X("span.left")),c.right=S(f,X("span.right")),c.iconContainer=S(c.left,X(".icon-label.codicon")),c.iconLabel=new gj(c.left,{supportHighlights:!0,supportCodicons:!0}),c.disposables.add(c.iconLabel),c.signatureLabel=S(c.left,X("span.signature-label")),c.qualifierLabel=S(c.left,X("span.qualifier-label")),c.detailsLabel=S(c.right,X("span.details-label")),c.readMore=S(c.right,X("span.readMore.codicon.codicon-info")),c.readMore.title=s("readMore","Read More...{0}",this.triggerKeybindingLabel);var g=function(){var h=b.editor.getOptions(),i=h.get(34),j=i.fontFamily,k=i.fontFeatureSettings,l=h.get(90)||i.fontSize,m=h.get(91)||i.lineHeight,n=i.fontWeight,o=l+"px",p=m+"px";c.root.style.fontSize=o,c.root.style.fontWeight=n,f.style.fontFamily=j,f.style.fontFeatureSettings=k,f.style.lineHeight=p,c.icon.style.height=p,c.icon.style.width=p,c.readMore.style.height=p,c.readMore.style.width=p};return g(),c.disposables.add(da.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(h){return h.hasChanged(34)||h.hasChanged(90)||h.hasChanged(91)}).on(g,null)),c},d.prototype.renderElement=function(a,b,c){var e=this,f=c,g=a.completion,h=typeof g.label==="string"?g.label:g.label.name;f.root.id=AK(b),f.icon.className="icon "+Ev(g.kind),f.colorspan.style.backgroundColor="";var i={labelEscapeNewLines:!0,matches:yl(a.score)},j=[];if(g.kind===19&&P0(a,j))f.icon.className="icon customcolor",f.iconContainer.className="icon hide",f.colorspan.style.backgroundColor=j[0];else if(g.kind===20&&this._themeService.getIconTheme().hasFileIcons){f.icon.className="icon hide",f.iconContainer.className="icon hide";var k=Cm(this._modelService,this._modeService,ja.from({scheme:"fake",path:h}),Re.FILE),l=Cm(this._modelService,this._modeService,ja.from({scheme:"fake",path:g.detail}),Re.FILE);i.extraClasses=k.length>l.length?k:l}else g.kind===23&&this._themeService.getIconTheme().hasFolderIcons?(f.icon.className="icon hide",f.iconContainer.className="icon hide",i.extraClasses=Ng([Cm(this._modelService,this._modeService,ja.from({scheme:"fake",path:h}),Re.FOLDER),Cm(this._modelService,this._modeService,ja.from({scheme:"fake",path:g.detail}),Re.FOLDER)])):(f.icon.className="icon hide",f.iconContainer.className="",Lf(f.iconContainer,"suggest-icon codicon codicon-symbol-"+Ev(g.kind)));g.tags&&g.tags.indexOf(1)>=0&&(i.extraClasses=(i.extraClasses||[]).concat(["deprecated"]),i.matches=[]),f.iconLabel.setLabel(h,void 0,i),typeof g.label==="string"?(f.signatureLabel.textContent="",f.qualifierLabel.textContent="",f.detailsLabel.textContent=(g.detail||"").replace(/\n.*$/m,""),fa(f.right,"always-show-details")):(f.signatureLabel.textContent=(g.label.signature||"").replace(/\n.*$/m,""),f.qualifierLabel.textContent=(g.label.qualifier||"").replace(/\n.*$/m,""),f.detailsLabel.textContent=(g.label.type||"").replace(/\n.*$/m,""),U(f.right,"always-show-details")),Sk(a)?(U(f.right,"can-expand-details"),Ob(f.readMore),f.readMore.onmousedown=function(m){m.stopPropagation(),m.preventDefault()},f.readMore.onclick=function(m){m.stopPropagation(),m.preventDefault(),e.widget.toggleDetails()}):(fa(f.right,"can-expand-details"),zb(f.readMore),f.readMore.onmousedown=null,f.readMore.onclick=null)},d.prototype.disposeTemplate=function(a){a.disposables.dispose()},d=yK([Ye(3,ub),Ye(4,xd),Ye(5,Ia)],d),d}(),R0=function(){function d(a,b,c,e,f){var g=this;this.widget=b,this.editor=c,this.markdownRenderer=e,this.kbToggleDetails=f,this.borderWidth=1,this.disposables=new P(),this.el=S(a,X(".details")),this.disposables.add(va(function(){return a.removeChild(g.el)})),this.body=X(".body"),this.scrollbar=new df(this.body,{}),S(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=S(this.body,X(".header")),this.close=S(this.header,X("span.codicon.codicon-close")),this.close.title=s("readLess","Read less...{0}",this.kbToggleDetails),this.type=S(this.header,X("p.type")),this.docs=S(this.body,X("p.docs")),this.configureFont(),da.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(h){return h.hasChanged(34)}).on(this.configureFont,this,this.disposables),e.onDidRenderCodeBlock(function(){return g.scrollbar.scanDomNode()},this,this.disposables)}return Object.defineProperty(d.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),d.prototype.renderLoading=function(){this.type.textContent=s("loading","Loading..."),this.docs.textContent=""},d.prototype.renderItem=function(a,b){var c=this;this.renderDisposeable=ca(this.renderDisposeable);var e=a.completion,f=e.documentation,g=e.detail;if(b){var h="";h+="score: "+a.score[0]+(a.word?", compared '"+(a.completion.filterText&&a.completion.filterText+" (filterText)"||a.completion.label)+"' with '"+a.word+"'":" (no prefix)")+`
`,h+="distance: "+a.distance+`, see localityBonus-setting
`,h+="index: "+a.idx+", based on "+(a.completion.sortText&&'sortText: "'+a.completion.sortText+'"'||"label")+`
`,f=new Fe().appendCodeblock("empty",h),g="Provider: "+a.provider._debugDisplayName}if(!b&&!Sk(a)){this.type.textContent="",this.docs.textContent="",U(this.el,"no-docs");return}fa(this.el,"no-docs");if(typeof f==="string")fa(this.docs,"markdown-docs"),this.docs.textContent=f;else{U(this.docs,"markdown-docs"),this.docs.innerHTML="";var i=this.markdownRenderer.render(f);this.renderDisposeable=i,this.docs.appendChild(i.element)}g?(this.type.innerText=g,Ob(this.type)):(this.type.innerText="",zb(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+this.borderWidth*2+"px",this.el.style.userSelect="text",this.el.tabIndex=-1,this.close.onmousedown=function(j){j.preventDefault(),j.stopPropagation()},this.close.onclick=function(j){j.preventDefault(),j.stopPropagation(),c.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode()},d.prototype.scrollDown=function(a){a===void 0&&(a=8),this.body.scrollTop+=a},d.prototype.scrollUp=function(a){a===void 0&&(a=8),this.body.scrollTop-=a},d.prototype.scrollTop=function(){this.body.scrollTop=0},d.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},d.prototype.pageDown=function(){this.scrollDown(80)},d.prototype.pageUp=function(){this.scrollUp(80)},d.prototype.setBorderWidth=function(a){this.borderWidth=a},d.prototype.configureFont=function(){var a=this.editor.getOptions(),b=a.get(34),c=b.fontFamily,e=a.get(90)||b.fontSize,f=a.get(91)||b.lineHeight,g=b.fontWeight,h=e+"px",i=f+"px";this.el.style.fontSize=h,this.el.style.fontWeight=g,this.el.style.fontFeatureSettings=b.fontFeatureSettings,this.type.style.fontFamily=c,this.close.style.height=i,this.close.style.width=i},d.prototype.dispose=function(){this.disposables.dispose(),this.renderDisposeable=ca(this.renderDisposeable)},d}(),sK=function(){function d(a,b,c,e,f,g,h,i,j){var k=this,l,m;this.editor=a,this.telemetryService=b,this.keybindingService=c,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.state=null,this.isAuto=!1,this.loadingTimeout=I.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new rb(),this.toDispose=new P(),this.onDidSelectEmitter=new E(),this.onDidFocusEmitter=new E(),this.onDidHideEmitter=new E(),this.onDidShowEmitter=new E(),this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._onDetailsKeydown=new E(),this.onDetailsKeyDown=this._onDetailsKeydown.event;var n=this.toDispose.add(new wh(a,h,i)),o=(m=(l=c.lookupKeybinding("toggleSuggestionDetails"))===null||l===void 0?void 0:l.getLabel())!==null&&m!==void 0?m:"";this.msgDetailsLess=s("detail.less","{0} for less...",o),this.msgDetailMore=s("detail.more","{0} for more...",o),this.isAuto=!1,this.focusedItem=null,this.storageService=g,this.element=X(".editor-widget.suggest-widget"),this.toDispose.add(R(this.element,"click",function(t){t.target===k.element&&k.hideWidget()})),this.messageElement=S(this.element,X(".message")),this.listElement=S(this.element,X(".tree"));var p=function(){return qa(k.element,"with-status-bar",!k.editor.getOption(89).hideStatusBar)};p(),this.statusBarElement=S(this.element,X(".suggest-status-bar")),this.statusBarLeftSpan=S(this.statusBarElement,X("span")),this.statusBarRightSpan=S(this.statusBarElement,X("span")),this.setStatusBarLeftText(""),this.setStatusBarRightText(""),this.details=j.createInstance(R0,this.element,this,this.editor,n,o);var q=function(){return qa(k.element,"no-icons",!k.editor.getOption(89).showIcons)};q();var r=j.createInstance(Q0,this,this.editor,o);this.list=new eo("SuggestWidget",this.listElement,this,[r],{useShadows:!1,openController:{shouldOpen:function(){return!1}},mouseSupport:!1,accessibilityProvider:{getAriaLabel:function(t){var v=typeof t.completion.label==="string"?t.completion.label:t.completion.label.name;if(t.isResolved&&k.expandDocsSettingFromStorage()){var w=t.completion,x=w.documentation,u=w.detail,y=Ba("{0}{1}",u||"",x?typeof x==="string"?x:x.value:"");return s("ariaCurrenttSuggestionReadDetails","Item {0}, docs: {1}",v,y)}else return v}}}),this.toDispose.add(tn(this.list,f,{listInactiveFocusBackground:N0,listInactiveFocusOutline:Sb})),this.toDispose.add(f.onThemeChange(function(t){return k.onThemeChange(t)})),this.toDispose.add(a.onDidLayoutChange(function(){return k.onEditorLayoutChange()})),this.toDispose.add(this.list.onMouseDown(function(t){return k.onListMouseDownOrTap(t)})),this.toDispose.add(this.list.onTap(function(t){return k.onListMouseDownOrTap(t)})),this.toDispose.add(this.list.onSelectionChange(function(t){return k.onListSelection(t)})),this.toDispose.add(this.list.onFocusChange(function(t){return k.onListFocus(t)})),this.toDispose.add(this.editor.onDidChangeCursorSelection(function(){return k.onCursorSelectionChanged()})),this.toDispose.add(this.editor.onDidChangeConfiguration(function(t){t.hasChanged(89)&&(p(),q())})),this.suggestWidgetVisible=hb.Visible.bindTo(e),this.suggestWidgetMultipleSuggestions=hb.MultipleSuggestions.bindTo(e),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(f.getTheme()),this.toDispose.add(Ua(this.details.element,"keydown",function(t){k._onDetailsKeydown.fire(t)})),this.toDispose.add(this.editor.onMouseDown(function(t){return k.onEditorMouseDown(t)}))}return d.prototype.onEditorMouseDown=function(a){this.details.element.contains(a.target.element)?this.details.element.focus():this.element.contains(a.target.element)&&this.editor.focus()},d.prototype.onCursorSelectionChanged=function(){if(this.state===0)return;this.editor.layoutContentWidget(this)},d.prototype.onEditorLayoutChange=function(){(this.state===3||this.state===5)&&this.expandDocsSettingFromStorage()&&this.expandSideOrBelow()},d.prototype.onListMouseDownOrTap=function(a){if(typeof a.element==="undefined"||typeof a.index==="undefined")return;a.browserEvent.preventDefault(),a.browserEvent.stopPropagation(),this.select(a.element,a.index)},d.prototype.onListSelection=function(a){if(!a.elements.length)return;this.select(a.elements[0],a.indexes[0])},d.prototype.select=function(a,b){var c=this.completionModel;if(!c)return;this.onDidSelectEmitter.fire({item:a,index:b,model:c}),this.editor.focus()},d.prototype.onThemeChange=function(a){var b=a.getColor(K0);b&&(this.listElement.style.backgroundColor=b.toString(),this.statusBarElement.style.backgroundColor=b.toString(),this.details.element.style.backgroundColor=b.toString(),this.messageElement.style.backgroundColor=b.toString());var c=a.getColor(L0);c&&(this.listElement.style.borderColor=c.toString(),this.statusBarElement.style.borderColor=c.toString(),this.details.element.style.borderColor=c.toString(),this.messageElement.style.borderColor=c.toString(),this.detailsBorderColor=c.toString());var e=a.getColor(th);e&&(this.detailsFocusBorderColor=e.toString()),this.details.setBorderWidth(a.type==="hc"?2:1)},d.prototype.onListFocus=function(a){var b=this,c,e;if(this.ignoreFocusEvents)return;if(!a.elements.length){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this.completionModel)return;var f=a.elements[0],g=a.indexes[0];this.firstFocusInCurrentList=!this.focusedItem;if(f!==this.focusedItem){var h=this.editor.getOption(89).insertMode==="insert",i=(c=this.keybindingService.lookupKeybinding("acceptSelectedSuggestion"))===null||c===void 0?void 0:c.getLabel(),j=(e=this.keybindingService.lookupKeybinding("acceptAlternativeSelectedSuggestion"))===null||e===void 0?void 0:e.getLabel();G.equals(f.editInsertEnd,f.editReplaceEnd)?this.setStatusBarLeftText(s("accept","{0} to accept",i)):h?this.setStatusBarLeftText(s("insert","{0} to insert, {1} to replace",i,j)):this.setStatusBarLeftText(s("replace","{0} to replace, {1} to insert",i,j)),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=f,this.list.reveal(g),this.currentSuggestionDetails=bb(function(k){return H0(b,void 0,void 0,function(){var l,m,n=this;return I0(this,function(o){switch(o.label){case 0:return l=cf(function(){return n.showDetails(!0)},250),k.onCancellationRequested(function(){return l.dispose()}),[4,f.resolve(k)];case 1:return m=o.sent(),l.dispose(),[2,m]}})})}),this.currentSuggestionDetails.then(function(){if(g>=b.list.length||f!==b.list.element(g))return;b.ignoreFocusEvents=!0,b.list.splice(g,1,[f]),b.list.setFocus([g]),b.ignoreFocusEvents=!1,b.expandDocsSettingFromStorage()?b.showDetails(!1):fa(b.element,"docs-side"),Sk(b.focusedItem)?b.expandDocsSettingFromStorage()?b.setStatusBarRightText(b.msgDetailsLess):b.setStatusBarRightText(b.msgDetailMore):b.statusBarRightSpan.innerText="",b.editor.setAriaOptions({activeDescendant:AK(g)})}).catch(W)}this.onDidFocusEmitter.fire({item:f,index:g,model:this.completionModel})},d.prototype.setState=function(a){if(!this.element)return;var b=this.state!==a;this.state=a,qa(this.element,"frozen",a===4);switch(a){case 0:zb(this.messageElement,this.details.element,this.listElement,this.statusBarElement),this.hide(),this.listHeight=0,b&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=d.LOADING_MESSAGE,zb(this.listElement,this.details.element,this.statusBarElement),Ob(this.messageElement),fa(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=d.NO_SUGGESTIONS_MESSAGE,zb(this.listElement,this.details.element,this.statusBarElement),Ob(this.messageElement),fa(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:zb(this.messageElement),Ob(this.listElement,this.statusBarElement),this.show();break;case 4:zb(this.messageElement),Ob(this.listElement),this.show();break;case 5:zb(this.messageElement),Ob(this.details.element,this.listElement,this.statusBarElement),this.show();break}},d.prototype.showTriggered=function(a,b){var c=this;if(this.state!==0)return;this.isAuto=!!a,this.isAuto||(this.loadingTimeout=cf(function(){return c.setState(1)},b))},d.prototype.showSuggestions=function(a,b,c,e){this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==a&&(this.completionModel=a);if(c&&this.state!==2&&this.state!==0){this.setState(4);return}var f=this.completionModel.items.length,g=f===0;this.suggestWidgetMultipleSuggestions.set(f>1);if(g)e?this.setState(0):this.setState(2),this.completionModel=null;else{if(this.state!==3){var h=this.completionModel.stats;h.wasAutomaticallyTriggered=!!e,this.telemetryService.publicLog("suggestWidget",xx({},h))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),c?this.setState(4):this.setState(3),this.list.reveal(b,0),this.list.setFocus([b]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}},d.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},d.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},d.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},d.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},d.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},d.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},d.prototype.getFocusedItem=function(){return this.state!==0&&this.state!==2&&this.state!==1&&this.completionModel?{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}:void 0},d.prototype.toggleDetailsFocus=function(){this.state===5?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):this.state===3&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")},d.prototype.toggleDetails=function(){if(!Sk(this.list.getFocusedElements()[0]))return;if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),zb(this.details.element),fa(this.element,"docs-side"),fa(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.setStatusBarRightText(this.msgDetailMore),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(this.state!==3&&this.state!==5&&this.state!==4)return;this.updateExpandDocsSetting(!0),this.showDetails(!1),this.setStatusBarRightText(this.msgDetailsLess),this.telemetryService.publicLog2("suggestWidget:expandDetails")}},d.prototype.showDetails=function(a){a||this.expandSideOrBelow(),Ob(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",a?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},d.prototype.toggleExplainMode=function(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))},d.prototype.show=function(){var a=this,b=this.updateListHeight();b!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=b),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet(function(){U(a.element,"visible"),a.onDidShowEmitter.fire(a)},100)},d.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),fa(this.element,"visible")},d.prototype.hideWidget=function(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)},d.prototype.getPosition=function(){if(this.state===0)return null;var a=[2,1];return this.preferDocPositionTop&&(a=[1]),{position:this.editor.getPosition(),preference:a}},d.prototype.getDomNode=function(){return this.element},d.prototype.getId=function(){return d.ID},d.prototype.isFrozen=function(){return this.state===4},d.prototype.updateListHeight=function(){var a=0;if(this.state===2||this.state===1)a=this.unfocusedHeight;else{var b=this.list.contentHeight/this.unfocusedHeight,c=this.editor.getOption(89).maxVisibleSuggestions;a=Math.min(b,c)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=a+"px",this.statusBarElement.style.top=a+"px",this.list.layout(a),a},d.prototype.adjustDocsPosition=function(){if(!this.editor.hasModel())return;var a=this.editor.getOption(49),b=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),c=ab(this.editor.getDomNode()),e=c.left+b.left,f=c.top+b.top+b.height,g=ab(this.element),h=g.left,i=g.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<i&&!this.preferDocPositionTop){this.preferDocPositionTop=!0,this.adjustDocsPosition();return}this.docsPositionPreviousWidgetY=i,h<e-this.listWidth?U(this.element,"list-right"):fa(this.element,"list-right"),Kc(this.element,"docs-side")&&f-a>i&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")},d.prototype.expandSideOrBelow=function(){if(!Sk(this.focusedItem)&&this.firstFocusInCurrentList){fa(this.element,"docs-side"),fa(this.element,"docs-below");return}var a=this.element.style.maxWidth.match(/(\d+)px/);!a||Number(a[1])<this.maxWidgetWidth?(U(this.element,"docs-below"),fa(this.element,"docs-side")):Sk(this.focusedItem)&&(U(this.element,"docs-side"),fa(this.element,"docs-below"))},Object.defineProperty(d.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*this.editor.getOption(89).maxVisibleSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"unfocusedHeight",{get:function(){var a=this.editor.getOptions();return a.get(91)||a.get(34).lineHeight},enumerable:!0,configurable:!0}),d.prototype.getHeight=function(a){return this.unfocusedHeight},d.prototype.getTemplateId=function(a){return"suggestion"},d.prototype.expandDocsSettingFromStorage=function(){return this.storageService.getBoolean("expandSuggestionDocs",0,J0)},d.prototype.updateExpandDocsSetting=function(a){this.storageService.store("expandSuggestionDocs",a,0)},d.prototype.setStatusBarLeftText=function(a){this.statusBarLeftSpan.innerText=a},d.prototype.setStatusBarRightText=function(a){this.statusBarRightSpan.innerText=a},d.prototype.dispose=function(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose()},d.ID="editor.widget.suggestWidget",d.LOADING_MESSAGE=s("suggestWidget.loading","Loading..."),d.NO_SUGGESTIONS_MESSAGE=s("suggestWidget.noSuggestions","No suggestions."),d=yK([Ye(1,Le),Ye(2,Ja),Ye(3,ha),Ye(4,Ia),Ye(5,zd),Ye(6,xd),Ye(7,Uc),Ye(8,Aa)],d),d}();la(function(d,a){var b=d.getColor(O0);b&&a.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+b+"; }");var c=d.getColor(M0);c&&a.addRule(".monaco-editor .suggest-widget { color: "+c+"; }");var e=d.getColor(Ff);e&&a.addRule(".monaco-editor .suggest-widget a { color: "+e+"; }");var f=d.getColor(Kk);f&&a.addRule(".monaco-editor .suggest-widget code { background-color: "+f+"; }")});var S0=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),T0=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},U0=function(d,a){return function(b,c){a(b,c,d)}},vx=function(d){S0(a,d);function a(b,c){var e=d.call(this)||this;return e._editor=b,e._enabled=!1,e._ckAtEnd=a.AtEnd.bindTo(c),e._register(e._editor.onDidChangeConfiguration(function(f){return f.hasChanged(94)&&e._update()})),e._update(),e}return a.prototype.dispose=function(){d.prototype.dispose.call(this),ca(this._selectionListener),this._ckAtEnd.reset()},a.prototype._update=function(){var b=this,c=this._editor.getOption(94)==="on";if(this._enabled===c)return;this._enabled=c;if(this._enabled){var e=function(){if(!b._editor.hasModel()){b._ckAtEnd.set(!1);return}var f=b._editor.getModel(),g=b._editor.getSelection(),h=f.getWordAtPosition(g.getStartPosition());if(!h){b._ckAtEnd.set(!1);return}b._ckAtEnd.set(h.endColumn===g.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)},a.AtEnd=new ea("atEndOfWord",!1),a=T0([U0(1,ha)],a),a}(I);var pK=function(){function d(a,b,c){var e=this;this._disposables=new P(),this._disposables.add(b.onDidShow(function(){return e._onItem(b.getFocusedItem())})),this._disposables.add(b.onDidFocus(this._onItem,this)),this._disposables.add(b.onDidHide(this.reset,this)),this._disposables.add(a.onWillType(function(f){if(e._active&&!b.isFrozen()){var g=f.charCodeAt(f.length-1);e._active.acceptCharacters.has(g)&&a.getOption(0)&&c(e._active.item)}}))}return d.prototype._onItem=function(a){if(!a||!Ib(a.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===a.item)return;for(var b=new ig(),c=0,e=a.item.completion.commitCharacters;c<e.length;c++){var f=e[c];f.length>0&&b.add(f.charCodeAt(0))}this._active={acceptCharacters:b,item:a}},d.prototype.reset=function(){this._active=void 0},d.prototype.dispose=function(){this._disposables.dispose()},d}();var G0=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),tK=function(){function d(a){var b=this;this._controller=a,this._disposables=new P(),this._decorations=[],this._disposables.add(a.model.onDidSuggest(function(c){if(!c.shy){var e=b._controller.widget.getValue(),f=e.getFocusedItem();f&&b._highlight(f.item),b._widgetListener||(b._widgetListener=e.onDidFocus(function(g){return b._highlight(g.item)}))}})),this._disposables.add(a.model.onDidCancel(function(){b._reset()}))}return d.prototype.dispose=function(){this._reset(),this._disposables.dispose(),ca(this._widgetListener),ca(this._shiftKeyListener)},d.prototype._reset=function(){this._decorations=this._controller.editor.deltaDecorations(this._decorations,[]),this._shiftKeyListener&&(this._shiftKeyListener.dispose(),this._shiftKeyListener=void 0)},d.prototype._highlight=function(a){var b=this,c;this._currentItem=a;var e=this._controller.editor.getOption(89),f=[];if(e.insertHighlight){this._shiftKeyListener||(this._shiftKeyListener=xK.event(function(){return b._highlight(b._currentItem)}));var g=this._controller.getOverwriteInfo(a,xK.isPressed),h=this._controller.editor.getPosition();if(e.insertMode==="insert"&&g.overwriteAfter>0)f=[{range:new z(h.lineNumber,h.column,h.lineNumber,h.column+g.overwriteAfter),options:{inlineClassName:"suggest-insert-unexpected"}}];else if(e.insertMode==="replace"&&g.overwriteAfter===0){var i=(c=this._controller.editor.getModel())===null||c===void 0?void 0:c.getWordAtPosition(h);i&&i.endColumn>h.column&&(f=[{range:new z(h.lineNumber,h.column,h.lineNumber,i.endColumn),options:{inlineClassName:"suggest-insert-unexpected"}}])}}this._decorations=this._controller.editor.deltaDecorations(this._decorations,f)},d}(),xK=new(function(d){G0(a,d);function a(){var b=d.call(this)||this;return b._subscriptions=new P(),b._isPressed=!1,b._subscriptions.add(ua(document.body,"keydown")(function(c){return b.isPressed=c.shiftKey})),b._subscriptions.add(ua(document.body,"keyup")(function(){return b.isPressed=!1})),b._subscriptions.add(ua(document.body,"mouseleave")(function(){return b.isPressed=!1})),b._subscriptions.add(ua(document.body,"blur")(function(){return b.isPressed=!1})),b}return Object.defineProperty(a.prototype,"isPressed",{get:function(){return this._isPressed},set:function(b){this._isPressed!==b&&(this._isPressed=b,this.fire(b))},enumerable:!0,configurable:!0}),a.prototype.dispose=function(){this._subscriptions.dispose(),d.prototype.dispose.call(this)},a}(E))();var x0=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),tx=function(){return tx=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++){a=arguments[b];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},tx.apply(this,arguments)},y0=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},rn=function(d,a){return function(b,c){a(b,c,d)}},qK=function(){for(var d=0,a=0,b=arguments.length;a<b;a++)d+=arguments[a].length;for(var c=Array(d),e=0,a=0;a<b;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,e++)c[e]=f[g];return c},z0=!1,A0=function(){function d(a,b){this._model=a,this._position=b;var c=a.getLineMaxColumn(b.lineNumber);if(c!==b.column){var e=a.getOffsetAt(b),f=a.getPositionAt(e+1);this._marker=a.deltaDecorations([],[{range:z.fromPositions(b,f),options:{stickiness:1}}])}}return d.prototype.dispose=function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])},d.prototype.delta=function(a){if(this._model.isDisposed()||this._position.lineNumber!==a.lineNumber)return 0;if(this._marker){var b=this._model.getDecorationRange(this._marker[0]),c=this._model.getOffsetAt(b.getStartPosition());return c-this._model.getOffsetAt(a)}else return this._model.getLineMaxColumn(a.lineNumber)-a.column},d}(),Xr=function(){function d(a,b,c,e,f,g){var h=this;this._memoryService=c,this._commandService=e,this._contextKeyService=f,this._instantiationService=g,this._lineSuffix=new Pc(),this._toDispose=new P(),this.editor=a,this.model=new rK(this.editor,b),this.widget=this._toDispose.add(new Th(function(){var k=h._instantiationService.createInstance(sK,h.editor);h._toDispose.add(k),h._toDispose.add(k.onDidSelect(function(n){return h._insertSuggestion(n,0)},h));var l=new pK(h.editor,k,function(n){return h._insertSuggestion(n,2)});h._toDispose.add(l),h._toDispose.add(h.model.onDidSuggest(function(n){n.completionModel.items.length===0&&l.reset()}));var m=hb.MakesTextEdit.bindTo(h._contextKeyService);return h._toDispose.add(k.onDidFocus(function(n){var o=n.item,p=h.editor.getPosition(),q=o.editStart.column,r=p.column,t=!0;if(h.editor.getOption(1)==="smart"&&h.model.state===2&&!o.completion.command&&!o.completion.additionalTextEdits&&!(o.completion.insertTextRules&4)&&r-q===o.completion.insertText.length){var v=h.editor.getModel().getValueInRange({startLineNumber:p.lineNumber,startColumn:q,endLineNumber:p.lineNumber,endColumn:r});t=v!==o.completion.insertText}m.set(t)})),h._toDispose.add(va(function(){return m.reset()})),h._toDispose.add(k.onDetailsKeyDown(function(n){if(n.toKeybinding().equals(new Cg(!0,!1,!1,!1,33))||ka&&n.toKeybinding().equals(new Cg(!1,!1,!1,!0,33))){n.stopPropagation();return}n.toKeybinding().isModifierKey()||h.editor.focus()})),k})),this._alternatives=this._toDispose.add(new Th(function(){return h._toDispose.add(new qn(h.editor,h._contextKeyService))})),this._toDispose.add(g.createInstance(vx,a)),this._toDispose.add(this.model.onDidTrigger(function(k){h.widget.getValue().showTriggered(k.auto,k.shy?250:50),h._lineSuffix.value=new A0(h.editor.getModel(),k.position)})),this._toDispose.add(this.model.onDidSuggest(function(k){if(!k.shy){var l=h._memoryService.select(h.editor.getModel(),h.editor.getPosition(),k.completionModel.items);h.widget.getValue().showSuggestions(k.completionModel,l,k.isFrozen,k.auto)}})),this._toDispose.add(this.model.onDidCancel(function(k){k.retrigger||h.widget.getValue().hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(function(){z0||(h.model.cancel(),h.model.clear())}));var i=hb.AcceptSuggestionsOnEnter.bindTo(f),j=function(){var k=h.editor.getOption(1);i.set(k==="on"||k==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(function(){return j()})),j(),this._toDispose.add(new tK(this))}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()},d.prototype._insertSuggestion=function(a,b){var c,e=this;if(!a||!a.item){this._alternatives.getValue().reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;var f=this.editor.getModel(),g=f.getAlternativeVersionId(),h=a.item,i=h.completion;b&1||this.editor.pushUndoStop();var j=this.getOverwriteInfo(h,Boolean(b&8));this._memoryService.memorize(f,this.editor.getPosition(),h),Array.isArray(i.additionalTextEdits)&&this.editor.executeEdits("suggestController.additionalTextEdits",i.additionalTextEdits.map(function(l){return jb.replace(z.lift(l.range),l.text)}));var k=i.insertText;i.insertTextRules&4||(k=Tr.escape(k)),ed.get(this.editor).insert(k,{overwriteBefore:j.overwriteBefore,overwriteAfter:j.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(i.insertTextRules&1)}),b&2||this.editor.pushUndoStop(),i.command?i.command.id===uK.id?this.model.trigger({auto:!0,shy:!1},!0):((c=this._commandService).executeCommand.apply(c,qK([i.command.id],i.command.arguments?qK(i.command.arguments):[])).catch(W).finally(function(){return e.model.clear()}),this.model.cancel()):(this.model.cancel(),this.model.clear()),b&4&&this._alternatives.getValue().set(a,function(l){for(;f.canUndo();){g!==f.getAlternativeVersionId()&&f.undo(),e._insertSuggestion(l,1|2|(b&8?8:0));break}}),this._alertCompletionItem(a.item)},d.prototype.getOverwriteInfo=function(a,b){Ub(this.editor.hasModel());var c=this.editor.getOption(89).insertMode==="replace";b&&(c=!c);var e=a.position.column-a.editStart.column,f=(c?a.editReplaceEnd.column:a.editInsertEnd.column)-a.position.column,g=this.editor.getPosition().column-a.position.column,h=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:e+g,overwriteAfter:f+h}},d.prototype._alertCompletionItem=function(a){var b=a.completion,c=typeof b.label==="string"?b.label:b.label.name;if(Ib(b.additionalTextEdits)){var e=s("arai.alert.snippet","Accepting '{0}' made {1} additional edits",c,b.additionalTextEdits.length);Gb(e)}},d.prototype.triggerSuggest=function(a){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,a),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())},d.prototype.triggerSuggestAndAcceptBest=function(a){var b=this;if(!this.editor.hasModel())return;var c=this.editor.getPosition(),e=function(){c.equals(b.editor.getPosition())&&b._commandService.executeCommand(a.fallback)},f=function(g){if(g.completion.insertTextRules&4||g.completion.additionalTextEdits)return!0;var h=b.editor.getPosition(),i=g.editStart.column,j=h.column;if(j-i!==g.completion.insertText.length)return!0;var k=b.editor.getModel().getValueInRange({startLineNumber:h.lineNumber,startColumn:i,endLineNumber:h.lineNumber,endColumn:j});return k!==g.completion.insertText};da.once(this.model.onDidTrigger)(function(g){var h=[];da.any(b.model.onDidTrigger,b.model.onDidCancel)(function(){ca(h),e()},void 0,h),b.model.onDidSuggest(function(i){var j=i.completionModel;ca(h);if(j.items.length===0){e();return}var k=b._memoryService.select(b.editor.getModel(),b.editor.getPosition(),j.items),l=j.items[k];if(!f(l)){e();return}b.editor.pushUndoStop(),b._insertSuggestion({index:k,item:l,model:j},4|1|2)},void 0,h)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(c.lineNumber,0),this.editor.focus()},d.prototype.acceptSelectedSuggestion=function(a,b){var c=this.widget.getValue().getFocusedItem(),e=0;a&&(e|=4),b&&(e|=8),this._insertSuggestion(c,e)},d.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},d.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},d.prototype.cancelSuggestWidget=function(){this.model.cancel(),this.model.clear(),this.widget.getValue().hideWidget()},d.prototype.selectNextSuggestion=function(){this.widget.getValue().selectNext()},d.prototype.selectNextPageSuggestion=function(){this.widget.getValue().selectNextPage()},d.prototype.selectLastSuggestion=function(){this.widget.getValue().selectLast()},d.prototype.selectPrevSuggestion=function(){this.widget.getValue().selectPrevious()},d.prototype.selectPrevPageSuggestion=function(){this.widget.getValue().selectPreviousPage()},d.prototype.selectFirstSuggestion=function(){this.widget.getValue().selectFirst()},d.prototype.toggleSuggestionDetails=function(){this.widget.getValue().toggleDetails()},d.prototype.toggleExplainMode=function(){this.widget.getValue().toggleExplainMode()},d.prototype.toggleSuggestionFocus=function(){this.widget.getValue().toggleDetailsFocus()},d.ID="editor.contrib.suggestController",d=y0([rn(1,pc),rn(2,ux),rn(3,db),rn(4,ha),rn(5,Aa)],d),d}(),uK=function(d){x0(a,d);function a(){return d.call(this,{id:a.id,label:s("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Z.and(C.writable,C.hasCompletionItemProvider),kbOpts:{kbExpr:C.textInputFocus,primary:2048|10,mac:{primary:256|10,secondary:[512|9]},weight:100}})||this}return a.prototype.run=function(b,c){var e=Xr.get(c);if(!e)return;e.triggerSuggest()},a.id="editor.action.triggerSuggest",a}(aa);ra(Xr.ID,Xr);N(uK);var $d=100+90,Bd=ob.bindToContribution(Xr.get);Q(new Bd({id:"acceptSelectedSuggestion",precondition:hb.Visible,handler:function(d){d.acceptSelectedSuggestion(!0,!1)}}));nc.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Z.and(hb.Visible,C.textInputFocus),primary:2,weight:$d});nc.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Z.and(hb.Visible,C.textInputFocus,hb.AcceptSuggestionsOnEnter,hb.MakesTextEdit),primary:3,weight:$d});Q(new Bd({id:"acceptAlternativeSelectedSuggestion",precondition:Z.and(hb.Visible,C.textInputFocus),kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:1024|3,secondary:[1024|2]},handler:function(d){d.acceptSelectedSuggestion(!1,!0)}}));Ca.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");Q(new Bd({id:"hideSuggestWidget",precondition:hb.Visible,handler:function(d){return d.cancelSuggestWidget()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:9,secondary:[1024|9]}}));Q(new Bd({id:"selectNextSuggestion",precondition:Z.and(hb.Visible,hb.MultipleSuggestions),handler:function(d){return d.selectNextSuggestion()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}}));Q(new Bd({id:"selectNextPageSuggestion",precondition:Z.and(hb.Visible,hb.MultipleSuggestions),handler:function(d){return d.selectNextPageSuggestion()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:12,secondary:[2048|12]}}));Q(new Bd({id:"selectLastSuggestion",precondition:Z.and(hb.Visible,hb.MultipleSuggestions),handler:function(d){return d.selectLastSuggestion()}}));Q(new Bd({id:"selectPrevSuggestion",precondition:Z.and(hb.Visible,hb.MultipleSuggestions),handler:function(d){return d.selectPrevSuggestion()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}}));Q(new Bd({id:"selectPrevPageSuggestion",precondition:Z.and(hb.Visible,hb.MultipleSuggestions),handler:function(d){return d.selectPrevPageSuggestion()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:11,secondary:[2048|11]}}));Q(new Bd({id:"selectFirstSuggestion",precondition:Z.and(hb.Visible,hb.MultipleSuggestions),handler:function(d){return d.selectFirstSuggestion()}}));Q(new Bd({id:"toggleSuggestionDetails",precondition:hb.Visible,handler:function(d){return d.toggleSuggestionDetails()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:2048|10,mac:{primary:256|10}}}));Q(new Bd({id:"toggleExplainMode",precondition:hb.Visible,handler:function(d){return d.toggleExplainMode()},kbOpts:{weight:100,primary:2048|85}}));Q(new Bd({id:"toggleSuggestionFocus",precondition:hb.Visible,handler:function(d){return d.toggleSuggestionFocus()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}}));Q(new Bd({id:"insertBestCompletion",precondition:Z.and(Z.equals("config.editor.tabCompletion","on"),vx.AtEnd,hb.Visible.toNegated(),qn.OtherSuggestions.toNegated(),ed.InSnippetMode.toNegated()),handler:function(d,a){d.triggerSuggestAndAcceptBest(Ab(a)?tx({fallback:"tab"},a):{fallback:"tab"})},kbOpts:{weight:$d,primary:2}}));Q(new Bd({id:"insertNextSuggestion",precondition:Z.and(Z.equals("config.editor.tabCompletion","on"),qn.OtherSuggestions,hb.Visible.toNegated(),ed.InSnippetMode.toNegated()),handler:function(d){return d.acceptNextSuggestion()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:2}}));Q(new Bd({id:"insertPrevSuggestion",precondition:Z.and(Z.equals("config.editor.tabCompletion","on"),qn.OtherSuggestions,hb.Visible.toNegated(),ed.InSnippetMode.toNegated()),handler:function(d){return d.acceptPrevSuggestion()},kbOpts:{weight:$d,kbExpr:C.textInputFocus,primary:1024|2}}));var Y0=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Z0=function(d){Y0(a,d);function a(){return d.call(this,{id:"editor.action.forceRetokenize",label:s("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})||this}return a.prototype.run=function(b,c){if(!c.hasModel())return;var e=c.getModel();e.resetTokenization();var f=new wj(!0);e.forceTokenization(e.getLineCount()),f.stop(),console.log("tokenization took "+f.elapsed())},a}(aa);N(Z0);var X0=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),_r=function(d){X0(a,d);function a(){return d.call(this,{id:a.ID,label:s({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})||this}return a.prototype.run=function(b,c){var e=hm.getTabFocusMode(),f=!e;hm.setTabFocusMode(f),f?Gb(s("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Gb(s("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))},a.ID="editor.action.toggleTabFocusMode",a}(aa);N(_r);var Mi=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),_0=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},$0=function(d,a){return function(b,c){a(b,c,d)}},a1=K("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},s("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),b1=K("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},s("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),c1=K("editor.wordHighlightBorder",{light:null,dark:null,hc:Sb},s("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),d1=K("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Sb},s("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),e1=K("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},s("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),f1=K("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},s("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),$r=new ea("hasWordHighlights",!1);function DK(d,a,b){var c=vf.ordered(d);return mj(c.map(function(e){return function(){return Promise.resolve(e.provideDocumentHighlights(d,a,b)).then(void 0,tb)}}),Ib)}var EK=function(){function d(a,b,c){var e=this;this._wordRange=this._getCurrentWordRange(a,b),this.result=bb(function(f){return e._compute(a,b,c,f)})}return d.prototype._getCurrentWordRange=function(a,b){var c=a.getWordAtPosition(b.getPosition());return c?new z(b.startLineNumber,c.startColumn,b.startLineNumber,c.endColumn):null},d.prototype.isValid=function(a,b,c){for(var e=b.startLineNumber,f=b.startColumn,g=b.endColumn,h=this._getCurrentWordRange(a,b),i=Boolean(this._wordRange&&this._wordRange.equalsRange(h)),j=0,k=c.length;!i&&j<k;j++){var l=a.getDecorationRange(c[j]);l&&l.startLineNumber===e&&(l.startColumn<=f&&l.endColumn>=g&&(i=!0))}return i},d.prototype.cancel=function(){this.result.cancel()},d}(),g1=function(d){Mi(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._compute=function(b,c,e,f){return DK(b,c.getPosition(),f).then(function(g){return g||[]})},a}(EK),h1=function(d){Mi(a,d);function a(b,c,e){var f=d.call(this,b,c,e)||this;return f._selectionIsEmpty=c.isEmpty(),f}return a.prototype._compute=function(b,c,e,f){return Sf(250,f).then(function(){if(!c.isEmpty())return[];var g=b.getWordAtPosition(c.getPosition());if(!g)return[];var h=b.findMatches(g.word,!0,!1,!0,e,!1);return h.map(function(i){return{range:i.range,kind:fk.Text}})})},a.prototype.isValid=function(b,c,e){var f=c.isEmpty();return this._selectionIsEmpty!==f?!1:d.prototype.isValid.call(this,b,c,e)},a}(EK);function i1(d,a,b){return vf.has(d)?new g1(d,a,b):new h1(d,a,b)}nf("_executeDocumentHighlights",function(d,a){return DK(d,a,xa.None)});var j1=function(){function d(a,b){var c=this;this.toUnhook=new P(),this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=a,this._hasWordHighlights=$r.bindTo(b),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(61),this.model=this.editor.getModel(),this.toUnhook.add(a.onDidChangeCursorPosition(function(e){if(c._ignorePositionChangeEvent)return;if(!c.occurrencesHighlight)return;c._onPositionChanged(e)})),this.toUnhook.add(a.onDidChangeModelContent(function(e){c._stopAll()})),this.toUnhook.add(a.onDidChangeConfiguration(function(e){var f=c.editor.getOption(61);c.occurrencesHighlight!==f&&(c.occurrencesHighlight=f,c._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return d.prototype.hasDecorations=function(){return this._decorationIds.length>0},d.prototype.restore=function(){if(!this.occurrencesHighlight)return;this._run()},d.prototype._getSortedHighlights=function(){var a=this;return Cd(this._decorationIds.map(function(b){return a.model.getDecorationRange(b)}).sort(z.compareRangesUsingStarts))},d.prototype.moveNext=function(){var a=this,b=this._getSortedHighlights(),c=Ce(b,function(g){return g.containsPosition(a.editor.getPosition())}),e=(c+1)%b.length,f=b[e];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(f.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(f)}finally{this._ignorePositionChangeEvent=!1}},d.prototype.moveBack=function(){var a=this,b=this._getSortedHighlights(),c=Ce(b,function(g){return g.containsPosition(a.editor.getPosition())}),e=(c-1+b.length)%b.length,f=b[e];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(f.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(f)}finally{this._ignorePositionChangeEvent=!1}},d.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))},d.prototype._stopAll=function(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},d.prototype._onPositionChanged=function(a){if(!this.occurrencesHighlight){this._stopAll();return}if(a.reason!==3){this._stopAll();return}this._run()},d.prototype._run=function(){var a=this,b=this.editor.getSelection();if(b.startLineNumber!==b.endLineNumber){this._stopAll();return}var c=b.startLineNumber,e=b.startColumn,f=b.endColumn,g=this.model.getWordAtPosition({lineNumber:c,column:e});if(!g||g.startColumn>e||g.endColumn<f){this._stopAll();return}var h=this.workerRequest&&this.workerRequest.isValid(this.model,b,this._decorationIds);this.lastCursorPositionChangeTime=new Date().getTime();if(h)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var i=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=i1(this.model,this.editor.getSelection(),this.editor.getOption(96)),this.workerRequest.result.then(function(j){i===a.workerRequestTokenId&&(a.workerRequestCompleted=!0,a.workerRequestValue=j||[],a._beginRenderDecorations())},W)}},d.prototype._beginRenderDecorations=function(){var a=this,b=new Date().getTime(),c=this.lastCursorPositionChangeTime+250;b>=c?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){a.renderDecorations()},c-b)},d.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var a=[],b=0,c=this.workerRequestValue.length;b<c;b++){var e=this.workerRequestValue[b];a.push({range:e.range,options:d._getDecorationOptions(e.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,a),this._hasWordHighlights.set(this.hasDecorations())},d._getDecorationOptions=function(a){return a===fk.Write?this._WRITE_OPTIONS:a===fk.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},d.prototype.dispose=function(){this._stopAll(),this.toUnhook.dispose()},d._WRITE_OPTIONS=na.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:sc(f1),position:oc.Center}}),d._TEXT_OPTIONS=na.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:sc(Ir),position:oc.Center}}),d._REGULAR_OPTIONS=na.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:sc(e1),position:oc.Center}}),d}(),as=function(d){Mi(a,d);function a(b,c){var e=d.call(this)||this;e.wordHighligher=null;var f=function(){b.hasModel()&&(e.wordHighligher=new j1(b,c))};return e._register(b.onDidChangeModel(function(g){e.wordHighligher&&(e.wordHighligher.dispose(),e.wordHighligher=null),f()})),f(),e}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.saveViewState=function(){return this.wordHighligher&&this.wordHighligher.hasDecorations()?!0:!1},a.prototype.moveNext=function(){this.wordHighligher&&this.wordHighligher.moveNext()},a.prototype.moveBack=function(){this.wordHighligher&&this.wordHighligher.moveBack()},a.prototype.restoreViewState=function(b){this.wordHighligher&&b&&this.wordHighligher.restore()},a.prototype.dispose=function(){this.wordHighligher&&(this.wordHighligher.dispose(),this.wordHighligher=null),d.prototype.dispose.call(this)},a.ID="editor.contrib.wordHighlighter",a=_0([$0(1,ha)],a),a}(I),FK=function(d){Mi(a,d);function a(b,c){var e=d.call(this,c)||this;return e._isNext=b,e}return a.prototype.run=function(b,c){var e=as.get(c);if(!e)return;this._isNext?e.moveNext():e.moveBack()},a}(aa),k1=function(d){Mi(a,d);function a(){return d.call(this,!0,{id:"editor.action.wordHighlight.next",label:s("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:$r,kbOpts:{kbExpr:C.editorTextFocus,primary:65,weight:100}})||this}return a}(FK),l1=function(d){Mi(a,d);function a(){return d.call(this,!1,{id:"editor.action.wordHighlight.prev",label:s("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:$r,kbOpts:{kbExpr:C.editorTextFocus,primary:1024|65,weight:100}})||this}return a}(FK),m1=function(d){Mi(a,d);function a(){return d.call(this,{id:"editor.action.wordHighlight.trigger",label:s("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:$r.toNegated(),kbOpts:{kbExpr:C.editorTextFocus,primary:0,weight:100}})||this}return a.prototype.run=function(b,c,e){var f=as.get(c);if(!f)return;f.restoreViewState(!0)},a}(aa);ra(as.ID,as);N(k1);N(l1);N(m1);la(function(d,a){var b=d.getColor(un);b&&(a.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+b+"; }"),a.addRule(".monaco-editor .selectionHighlight { background-color: "+b.transparent(.5)+"; }"));var c=d.getColor(a1);c&&a.addRule(".monaco-editor .wordHighlight { background-color: "+c+"; }");var e=d.getColor(b1);e&&a.addRule(".monaco-editor .wordHighlightStrong { background-color: "+e+"; }");var f=d.getColor(CK);f&&a.addRule(".monaco-editor .selectionHighlight { border: 1px "+(d.type==="hc"?"dotted":"solid")+" "+f+"; box-sizing: border-box; }");var g=d.getColor(c1);g&&a.addRule(".monaco-editor .wordHighlight { border: 1px "+(d.type==="hc"?"dashed":"solid")+" "+g+"; box-sizing: border-box; }");var h=d.getColor(d1);h&&a.addRule(".monaco-editor .wordHighlightStrong { border: 1px "+(d.type==="hc"?"dashed":"solid")+" "+h+"; box-sizing: border-box; }")});var wb=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),vn=function(d){wb(a,d);function a(b){var c=d.call(this,b)||this;return c._inSelectionMode=b.inSelectionMode,c._wordNavigationType=b.wordNavigationType,c}return a.prototype.runEditorCommand=function(b,c,e){var f=this;if(!c.hasModel())return;var g=qd(c.getOption(96)),h=c.getModel(),i=c.getSelections(),j=i.map(function(l){var m=new G(l.positionLineNumber,l.positionColumn),n=f._move(g,h,m,f._wordNavigationType);return f._moveTo(l,n,f._inSelectionMode)});c._getCursors().setStates("moveWordCommand",0,j.map(function(l){return za.fromModelSelection(l)}));if(j.length===1){var k=new G(j[0].positionLineNumber,j[0].positionColumn);c.revealPosition(k,0)}},a.prototype._moveTo=function(b,c,e){return e?new V(b.selectionStartLineNumber,b.selectionStartColumn,c.lineNumber,c.column):new V(c.lineNumber,c.column,c.lineNumber,c.column)},a}(ob),zh=function(d){wb(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._move=function(b,c,e,f){return qc.moveWordLeft(b,c,e,f)},a}(vn),Ah=function(d){wb(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._move=function(b,c,e,f){return qc.moveWordRight(b,c,e,f)},a}(vn),n1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:2048|15,mac:{primary:512|15},weight:100}})||this}return a}(zh),o1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})||this}return a}(zh),p1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0})||this}return a}(zh),q1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})||this}return a}(zh),r1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})||this}return a}(zh),s1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0})||this}return a}(zh),t1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:Z.and(C.textInputFocus,Ni),win:{primary:2048|15},weight:100+1}})||this}return a.prototype._move=function(b,c,e,f){return d.prototype._move.call(this,qd($c.wordSeparators.defaultValue),c,e,f)},a}(zh),u1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:Z.and(C.textInputFocus,Ni),win:{primary:2048|1024|15},weight:100+1}})||this}return a.prototype._move=function(b,c,e,f){return d.prototype._move.call(this,qd($c.wordSeparators.defaultValue),c,e,f)},a}(zh),v1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})||this}return a}(Ah),w1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:2048|17,mac:{primary:512|17},weight:100}})||this}return a}(Ah),x1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})||this}return a}(Ah),y1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})||this}return a}(Ah),z1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})||this}return a}(Ah),A1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})||this}return a}(Ah),B1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:Z.and(C.textInputFocus,Ni),win:{primary:2048|17},weight:100+1}})||this}return a.prototype._move=function(b,c,e,f){return d.prototype._move.call(this,qd($c.wordSeparators.defaultValue),c,e,f)},a}(Ah),C1=function(d){wb(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:Z.and(C.textInputFocus,Ni),win:{primary:2048|1024|17},weight:100+1}})||this}return a.prototype._move=function(b,c,e,f){return d.prototype._move.call(this,qd($c.wordSeparators.defaultValue),c,e,f)},a}(Ah),wn=function(d){wb(a,d);function a(b){var c=d.call(this,b)||this;return c._whitespaceHeuristics=b.whitespaceHeuristics,c._wordNavigationType=b.wordNavigationType,c}return a.prototype.runEditorCommand=function(b,c,e){var f=this;if(!c.hasModel())return;var g=qd(c.getOption(96)),h=c.getModel(),i=c.getSelections(),j=i.map(function(k){var l=f._delete(g,h,k,f._whitespaceHeuristics,f._wordNavigationType);return new Lb(l,"")});c.pushUndoStop(),c.executeCommands(this.id,j),c.pushUndoStop()},a}(ob),yx=function(d){wb(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._delete=function(b,c,e,f,g){var h=qc.deleteWordLeft(b,c,e,f,g);return h?h:new z(1,1,1,1)},a}(wn),zx=function(d){wb(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._delete=function(b,c,e,f,g){var h=qc.deleteWordRight(b,c,e,f,g);if(h)return h;var i=c.getLineCount(),j=c.getLineMaxColumn(i);return new z(i,j,i,j)},a}(wn),D1=function(d){wb(a,d);function a(){return d.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:C.writable})||this}return a}(yx),E1=function(d){wb(a,d);function a(){return d.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:C.writable})||this}return a}(yx),F1=function(d){wb(a,d);function a(){return d.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:C.writable,kbOpts:{kbExpr:C.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})||this}return a}(yx),G1=function(d){wb(a,d);function a(){return d.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:C.writable})||this}return a}(zx),H1=function(d){wb(a,d);function a(){return d.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:C.writable})||this}return a}(zx),I1=function(d){wb(a,d);function a(){return d.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:C.writable,kbOpts:{kbExpr:C.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})||this}return a}(zx);Q(new n1());Q(new o1());Q(new p1());Q(new q1());Q(new r1());Q(new s1());Q(new v1());Q(new w1());Q(new x1());Q(new y1());Q(new z1());Q(new A1());Q(new t1());Q(new u1());Q(new B1());Q(new C1());Q(new D1());Q(new E1());Q(new F1());Q(new G1());Q(new H1());Q(new I1());var Bh=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),J1=function(d){Bh(a,d);function a(){return d.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:C.writable,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})||this}return a.prototype._delete=function(b,c,e,f,g){var h=jm.deleteWordPartLeft(b,c,e,f);return h?h:new z(1,1,1,1)},a}(wn),K1=function(d){Bh(a,d);function a(){return d.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:C.writable,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})||this}return a.prototype._delete=function(b,c,e,f,g){var h=jm.deleteWordPartRight(b,c,e,f);if(h)return h;var i=c.getLineCount(),j=c.getLineMaxColumn(i);return new z(i,j,i,j)},a}(wn),GK=function(d){Bh(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._move=function(b,c,e,f){return jm.moveWordPartLeft(b,c,e)},a}(vn),L1=function(d){Bh(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})||this}return a}(GK);Ca.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var M1=function(d){Bh(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})||this}return a}(GK);Ca.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var HK=function(d){Bh(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype._move=function(b,c,e,f){return jm.moveWordPartRight(b,c,e)},a}(vn),N1=function(d){Bh(a,d);function a(){return d.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})||this}return a}(HK),O1=function(d){Bh(a,d);function a(){return d.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:C.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})||this}return a}(HK);Q(new J1());Q(new K1());Q(new L1());Q(new M1());Q(new N1());Q(new O1());var Ax=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),LK=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},cs=function(d,a){return function(b,c){a(b,c,d)}},MK=new ea("accessibilityHelpWidgetVisible",!1),ds=function(d){Ax(a,d);function a(b,c){var e=d.call(this)||this;return e._editor=b,e._widget=e._register(c.createInstance(V1,e._editor)),e}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.show=function(){this._widget.show()},a.prototype.hide=function(){this._widget.hide()},a.ID="editor.contrib.accessibilityHelpController",a=LK([cs(1,Aa)],a),a}(I);function U1(d,a){return!d||d.length===0?Mb.noSelection:d.length===1?a?Ba(Mb.singleSelectionRange,d[0].positionLineNumber,d[0].positionColumn,a):Ba(Mb.singleSelection,d[0].positionLineNumber,d[0].positionColumn):a?Ba(Mb.multiSelectionRange,d.length,a):d.length>0?Ba(Mb.multiSelection,d.length):""}var V1=function(d){Ax(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g._contextKeyService=c,g._keybindingService=e,g._openerService=f,g._editor=b,g._isVisibleKey=MK.bindTo(g._contextKeyService),g._domNode=ma(document.createElement("div")),g._domNode.setClassName("accessibilityHelpWidget"),g._domNode.setDisplay("none"),g._domNode.setAttribute("role","dialog"),g._domNode.setAttribute("aria-hidden","true"),g._contentDomNode=ma(document.createElement("div")),g._contentDomNode.setAttribute("role","document"),g._domNode.appendChild(g._contentDomNode),g._isVisible=!1,g._register(g._editor.onDidLayoutChange(function(){g._isVisible&&g._layout()})),g._register(Ua(g._contentDomNode.domNode,"keydown",function(h){if(!g._isVisible)return;h.equals(2048|35)&&(Gb(Mb.emergencyConfOn),g._editor.updateOptions({accessibilitySupport:"on"}),$b(g._contentDomNode.domNode),g._buildContent(),g._contentDomNode.domNode.focus(),h.preventDefault(),h.stopPropagation());if(h.equals(2048|38)){Gb(Mb.openingDocs);var i=g._editor.getRawOptions().accessibilityHelpUrl;typeof i==="undefined"&&(i="https://go.microsoft.com/fwlink/?linkid=852450"),g._openerService.open(ja.parse(i)),h.preventDefault(),h.stopPropagation()}})),g.onblur(g._contentDomNode.domNode,function(){g.hide()}),g._editor.addOverlayWidget(g),g}return a.prototype.dispose=function(){this._editor.removeOverlayWidget(this),d.prototype.dispose.call(this)},a.prototype.getId=function(){return a.ID},a.prototype.getDomNode=function(){return this._domNode.domNode},a.prototype.getPosition=function(){return{preference:null}},a.prototype.show=function(){if(this._isVisible)return;this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus()},a.prototype._descriptionForCommand=function(b,c,e){var f=this._keybindingService.lookupKeybinding(b);return f?Ba(c,f.getAriaLabel()):Ba(e,b)},a.prototype._buildContent=function(){var b=this._editor.getOptions(),c=this._editor.getSelections(),e=0;if(c){var f=this._editor.getModel();f&&c.forEach(function(j){e+=f.getValueLengthInRange(j)})}var g=U1(c,e);b.get(45)?b.get(68)?g+=Mb.readonlyDiffEditor:g+=Mb.editableDiffEditor:b.get(68)?g+=Mb.readonlyEditor:g+=Mb.editableEditor;var h=ka?Mb.changeConfigToOnMac:Mb.changeConfigToOnWinLinux;switch(b.get(2)){case 0:g+=`

 - `+h;break;case 2:g+=`

 - `+Mb.auto_on;break;case 1:g+=`

 - `+Mb.auto_off,g+=" "+h;break}b.get(106)?g+=`

 - `+this._descriptionForCommand(_r.ID,Mb.tabFocusModeOnMsg,Mb.tabFocusModeOnMsgNoKb):g+=`

 - `+this._descriptionForCommand(_r.ID,Mb.tabFocusModeOffMsg,Mb.tabFocusModeOffMsgNoKb);var i=ka?Mb.openDocMac:Mb.openDocWinLinux;g+=`

 - `+i,g+=`

`+Mb.outroMsg,this._contentDomNode.domNode.appendChild(On(g)),this._contentDomNode.domNode.setAttribute("aria-label",g)},a.prototype.hide=function(){if(!this._isVisible)return;this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,$b(this._contentDomNode.domNode),this._editor.focus()},a.prototype._layout=function(){var b=this._editor.getLayoutInfo(),c=Math.max(5,Math.min(a.WIDTH,b.width-40)),e=Math.max(5,Math.min(a.HEIGHT,b.height-40));this._domNode.setWidth(c),this._domNode.setHeight(e);var f=Math.round((b.height-e)/2);this._domNode.setTop(f);var g=Math.round((b.width-c)/2);this._domNode.setLeft(g)},a.ID="editor.contrib.accessibilityHelpWidget",a.WIDTH=500,a.HEIGHT=300,a=LK([cs(1,ha),cs(2,Ja),cs(3,Uc)],a),a}(Hb),W1=function(d){Ax(a,d);function a(){return d.call(this,{id:"editor.action.showAccessibilityHelp",label:Mb.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:xb?2048|59:512|59,weight:100}})||this}return a.prototype.run=function(b,c){var e=ds.get(c);e&&e.show()},a}(aa);ra(ds.ID,ds);N(W1);var X1=ob.bindToContribution(ds.get);Q(new X1({id:"closeAccessibilityHelp",precondition:MK,handler:function(d){return d.hide()},kbOpts:{weight:100+100,kbExpr:C.focus,primary:9,secondary:[1024|9]}}));la(function(d,a){var b=d.getColor(cd);b&&a.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+b+"; }");var c=d.getColor(sg);c&&a.addRule(".monaco-editor .accessibilityHelpWidget { color: "+c+"; }");var e=d.getColor(re);e&&a.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+e+"; }");var f=d.getColor(Fb);f&&a.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+f+"; }")});var OK=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),PK=function(d){OK(a,d);function a(b){var c=d.call(this)||this;return c.editor=b,c.widget=null,Ih&&(c._register(b.onDidChangeConfiguration(function(){return c.update()})),c.update()),c}return a.prototype.update=function(){var b=!this.editor.getOption(68);!this.widget&&b?this.widget=new Z1(this.editor):this.widget&&!b&&(this.widget.dispose(),this.widget=null)},a.prototype.dispose=function(){d.prototype.dispose.call(this),this.widget&&(this.widget.dispose(),this.widget=null)},a.ID="editor.contrib.iPadShowKeyboard",a}(I),Z1=function(d){OK(a,d);function a(b){var c=d.call(this)||this;return c.editor=b,c._domNode=document.createElement("textarea"),c._domNode.className="iPadShowKeyboard",c._register(R(c._domNode,"touchstart",function(e){c.editor.focus()})),c._register(R(c._domNode,"focus",function(e){c.editor.focus()})),c.editor.addOverlayWidget(c),c}return a.prototype.dispose=function(){this.editor.removeOverlayWidget(this),d.prototype.dispose.call(this)},a.prototype.getId=function(){return a.ID},a.prototype.getDomNode=function(){return this._domNode},a.prototype.getPosition=function(){return{preference:1}},a.ID="editor.contrib.ShowKeyboardWidget",a}(I);ra(PK.ID,PK);var Dx=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),_1=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},QK=function(d,a){return function(b,c){a(b,c,d)}},Ex=function(d){Dx(a,d);function a(b,c,e){var f=d.call(this)||this;return f._editor=b,f._modeService=e,f._widget=null,f._register(f._editor.onDidChangeModel(function(g){return f.stop()})),f._register(f._editor.onDidChangeModelLanguage(function(g){return f.stop()})),f._register(Ga.onDidChange(function(g){return f.stop()})),f}return a.get=function(b){return b.getContribution(a.ID)},a.prototype.dispose=function(){this.stop(),d.prototype.dispose.call(this)},a.prototype.launch=function(){if(this._widget)return;if(!this._editor.hasModel())return;this._widget=new c2(this._editor,this._modeService)},a.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},a.ID="editor.contrib.inspectTokens",a=_1([QK(1,ve),QK(2,xd)],a),a}(I),$1=function(d){Dx(a,d);function a(){return d.call(this,{id:"editor.action.inspectTokens",label:Lq.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})||this}return a.prototype.run=function(b,c){var e=Ex.get(c);e&&e.launch()},a}(aa);function a2(d){for(var a="",b=0,c=d.length;b<c;b++){var e=d.charCodeAt(b);switch(e){case 9:a+="&rarr;";break;case 32:a+="&middot;";break;case 60:a+="&lt;";break;case 62:a+="&gt;";break;case 38:a+="&amp;";break;default:a+=String.fromCharCode(e)}}return a}function b2(d){var a=Ga.get(d.language);return a?a:{getInitialState:function(){return qg},tokenize:function(b,c,e){return Wp(d.language,b,c,e)},tokenize2:function(b,c,e){return dk(d.id,b,c,e)}}}var c2=function(d){Dx(a,d);function a(b,c){var e=d.call(this)||this;return e.allowEditorOverflow=!0,e._editor=b,e._modeService=c,e._model=e._editor.getModel(),e._domNode=document.createElement("div"),e._domNode.className="tokens-inspect-widget",e._tokenizationSupport=b2(e._model.getLanguageIdentifier()),e._compute(e._editor.getPosition()),e._register(e._editor.onDidChangeCursorPosition(function(f){return e._compute(e._editor.getPosition())})),e._editor.addContentWidget(e),e}return a.prototype.dispose=function(){this._editor.removeContentWidget(this),d.prototype.dispose.call(this)},a.prototype.getId=function(){return a._ID},a.prototype._compute=function(b){for(var c=this._getTokensAtLine(b.lineNumber),e=0,f=c.tokens1.length-1;f>=0;f--){var g=c.tokens1[f];if(b.column-1>=g.offset){e=f;break}}for(var h=0,f=c.tokens2.length>>>1;f>=0;f--)if(b.column-1>=c.tokens2[f<<1]){h=f;break}var i="",j=this._model.getLineContent(b.lineNumber),k="";if(e<c.tokens1.length){var l=c.tokens1[e].offset,m=e+1<c.tokens1.length?c.tokens1[e+1].offset:j.length;k=j.substring(l,m)}i+='<h2 class="tm-token">'+a2(k)+'<span class="tm-token-length">('+k.length+" "+(k.length===1?"char":"chars")+")</span></h2>",i+='<hr class="tokens-inspect-separator" style="clear:both"/>';var n=this._decodeMetadata(c.tokens2[(h<<1)+1]);i+='<table class="tm-metadata-table"><tbody>',i+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+Xb(n.languageIdentifier.language)+"</td>",i+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(n.tokenType)+"</td>",i+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(n.fontStyle)+"</td>",i+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+M.Format.CSS.formatHex(n.foreground)+"</td>",i+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+M.Format.CSS.formatHex(n.background)+"</td>",i+="</tbody></table>",i+='<hr class="tokens-inspect-separator"/>',e<c.tokens1.length&&(i+='<span class="tm-token-type">'+Xb(c.tokens1[e].type)+"</span>"),this._domNode.innerHTML=i,this._editor.layoutContentWidget(this)},a.prototype._decodeMetadata=function(b){var c=Ga.getColorMap(),e=Sc.getLanguageId(b),f=Sc.getTokenType(b),g=Sc.getFontStyle(b),h=Sc.getForeground(b),i=Sc.getBackground(b);return{languageIdentifier:this._modeService.getLanguageIdentifier(e),tokenType:f,fontStyle:g,foreground:c[h],background:c[i]}},a.prototype._tokenTypeToString=function(b){switch(b){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"},a.prototype._fontStyleToString=function(b){var c="";return b&1&&(c+="italic "),b&2&&(c+="bold "),b&4&&(c+="underline "),c.length===0&&(c="---"),c},a.prototype._getTokensAtLine=function(b){var c=this._getStateBeforeLine(b),e=this._tokenizationSupport.tokenize(this._model.getLineContent(b),c,0),f=this._tokenizationSupport.tokenize2(this._model.getLineContent(b),c,0);return{startState:c,tokens1:e.tokens,tokens2:f.tokens,endState:e.endState}},a.prototype._getStateBeforeLine=function(b){for(var c=this._tokenizationSupport.getInitialState(),e=1;e<b;e++){var f=this._tokenizationSupport.tokenize(this._model.getLineContent(e),c,0);c=f.endState}return c},a.prototype.getDomNode=function(){return this._domNode},a.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[2,1]}},a._ID="editor.contrib.inspectTokensWidget",a}(I);ra(Ex.ID,Ex);N($1);la(function(d,a){var b=d.getColor(Jk);if(b){var c=d.type===rf?2:1;a.addRule(".monaco-editor .tokens-inspect-widget { border: "+c+"px solid "+b+"; }"),a.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+b+"; }")}var e=d.getColor(Se);e&&a.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+e+"; }");var f=d.getColor(Lk);f&&a.addRule(".monaco-editor .tokens-inspect-widget { color: "+f+"; }")});var kl=X,lz=function(){function d(a,b,c){this.os=b,this.options=c,this.domNode=S(a,kl(".monaco-keybinding")),this.didEverRender=!1,a.appendChild(this.domNode)}return d.prototype.set=function(a,b){if(this.didEverRender&&this.keybinding===a&&d.areSame(this.matches,b))return;this.keybinding=a,this.matches=b,this.render()},d.prototype.render=function(){$b(this.domNode);if(this.keybinding){var a=this.keybinding.getParts(),b=a[0],c=a[1];b&&this.renderPart(this.domNode,b,this.matches?this.matches.firstPart:null),c&&(S(this.domNode,kl("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,c,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0},d.prototype.renderPart=function(a,b,c){var e=_n.modifierLabels[this.os];b.ctrlKey&&this.renderKey(a,e.ctrlKey,Boolean(c===null||c===void 0?void 0:c.ctrlKey),e.separator),b.shiftKey&&this.renderKey(a,e.shiftKey,Boolean(c===null||c===void 0?void 0:c.shiftKey),e.separator),b.altKey&&this.renderKey(a,e.altKey,Boolean(c===null||c===void 0?void 0:c.altKey),e.separator),b.metaKey&&this.renderKey(a,e.metaKey,Boolean(c===null||c===void 0?void 0:c.metaKey),e.separator);var f=b.keyLabel;f&&this.renderKey(a,f,Boolean(c===null||c===void 0?void 0:c.keyCode),"")},d.prototype.renderKey=function(a,b,c,e){S(a,kl("span.monaco-keybinding-key"+(c?".highlight":""),void 0,b)),e&&S(a,kl("span.monaco-keybinding-key-separator",void 0,e))},d.prototype.renderUnbound=function(a){S(a,kl("span.monaco-keybinding-key",void 0,s("unbound","Unbound")))},d.areSame=function(a,b){return a===b||!a&&!b?!0:!!a&&!!b&&Be(a.firstPart,b.firstPart)&&Be(a.chordPart,b.chordPart)},d}();var nR=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),oR=0,Zo=function(){function d(a){a===void 0&&(a=[]),this.id=(oR++).toString(),this.labelHighlights=a,this.descriptionHighlights=[]}return d.prototype.getId=function(){return this.id},d.prototype.getLabel=function(){return},d.prototype.getLabelOptions=function(){return},d.prototype.getAriaLabel=function(){return Cd([this.getLabel(),this.getDescription(),this.getDetail()]).join(", ")},d.prototype.getDetail=function(){return},d.prototype.getIcon=function(){return},d.prototype.getDescription=function(){return},d.prototype.getTooltip=function(){return},d.prototype.getDescriptionTooltip=function(){return},d.prototype.getKeybinding=function(){return},d.prototype.isHidden=function(){return!!this.hidden},d.prototype.setHighlights=function(a,b,c){this.labelHighlights=a,this.descriptionHighlights=b,this.detailHighlights=c},d.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},d.prototype.run=function(a,b){return!1},d}(),$h=function(d){nR(a,d);function a(b,c,e){var f=d.call(this)||this;return f.entry=b,f.groupLabel=c,f.withBorder=e,f}return a.prototype.getGroupLabel=function(){return this.groupLabel},a.prototype.setGroupLabel=function(b){this.groupLabel=b},a.prototype.showBorder=function(){return!!this.withBorder},a.prototype.setShowBorder=function(b){this.withBorder=b},a.prototype.getLabel=function(){return this.entry?this.entry.getLabel():d.prototype.getLabel.call(this)},a.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():d.prototype.getLabelOptions.call(this)},a.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():d.prototype.getAriaLabel.call(this)},a.prototype.getDetail=function(){return this.entry?this.entry.getDetail():d.prototype.getDetail.call(this)},a.prototype.getIcon=function(){return this.entry?this.entry.getIcon():d.prototype.getIcon.call(this)},a.prototype.getDescription=function(){return this.entry?this.entry.getDescription():d.prototype.getDescription.call(this)},a.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():d.prototype.getHighlights.call(this)},a.prototype.isHidden=function(){return this.entry?this.entry.isHidden():d.prototype.isHidden.call(this)},a.prototype.setHighlights=function(b,c,e){this.entry?this.entry.setHighlights(b,c,e):d.prototype.setHighlights.call(this,b,c,e)},a.prototype.run=function(b,c){return this.entry?this.entry.run(b,c):d.prototype.run.call(this,b,c)},a}(Zo),SB=function(){function d(){}return d.prototype.hasActions=function(a,b){return!1},d.prototype.getActions=function(a,b){return null},d}(),pR="quickOpenEntry",TB="quickOpenEntryGroup",qR=function(){function d(a,b){a===void 0&&(a=new SB()),this.actionProvider=a,this.actionRunner=b}return d.prototype.getHeight=function(a){return a.getDetail()?44:22},d.prototype.getTemplateId=function(a){return a instanceof $h?TB:pR},d.prototype.renderTemplate=function(a,b,c){var e=document.createElement("div");U(e,"sub-content"),b.appendChild(e);var f=X(".quick-open-row"),g=X(".quick-open-row"),h=X(".quick-open-entry",void 0,f,g);e.appendChild(h);var i=document.createElement("span");f.appendChild(i);var j=new gj(f,{supportHighlights:!0,supportDescriptionHighlights:!0,supportCodicons:!0}),k=document.createElement("span");f.appendChild(k),U(k,"quick-open-entry-keybinding");var l=new lz(k,Gd),m=document.createElement("div");g.appendChild(m),U(m,"quick-open-entry-meta");var n=new Nf(m,!0),o;a===TB&&(o=document.createElement("div"),U(o,"results-group"),b.appendChild(o)),U(b,"actions");var p=document.createElement("div");U(p,"primary-action-bar"),b.appendChild(p);var q=new bf(p,{actionRunner:this.actionRunner});return{container:b,entry:h,icon:i,label:j,detail:n,keybinding:l,group:o,actionBar:q}},d.prototype.renderElement=function(a,b,c,e){this.actionProvider.hasActions(null,a)?U(c.container,"has-actions"):fa(c.container,"has-actions"),c.actionBar.context=a;var f=this.actionProvider.getActions(null,a);c.actionBar.isEmpty()&&f&&f.length>0?c.actionBar.push(f,{icon:!0,label:!1}):!c.actionBar.isEmpty()&&(!f||f.length===0)&&c.actionBar.clear(),a instanceof $h&&a.getGroupLabel()?U(c.container,"has-group-label"):fa(c.container,"has-group-label");if(a instanceof $h){var g=a,h=c;g.showBorder()?(U(h.container,"results-group-separator"),e.pickerGroupBorder&&(h.container.style.borderTopColor=e.pickerGroupBorder.toString())):(fa(h.container,"results-group-separator"),h.container.style.borderTopColor="");var i=g.getGroupLabel()||"";h.group&&(h.group.textContent=i,e.pickerGroupForeground&&(h.group.style.color=e.pickerGroupForeground.toString()))}if(a instanceof Zo){var j=a.getHighlights(),k=j[0],l=j[1],m=j[2],n=a.getIcon()?"quick-open-entry-icon "+a.getIcon():"";c.icon.className=n;var o=a.getLabelOptions()||Object.create(null);o.matches=k||[],o.title=a.getTooltip(),o.descriptionTitle=a.getDescriptionTooltip()||a.getDescription(),o.descriptionMatches=l||[],c.label.setLabel(a.getLabel()||"",a.getDescription(),o),c.detail.set(a.getDetail(),m),c.keybinding.set(a.getKeybinding())}},d.prototype.disposeTemplate=function(a,b){b.actionBar.dispose(),b.actionBar=null,b.container=null,b.entry=null,b.keybinding=null,b.detail=null,b.group=null,b.icon=null,b.label.dispose(),b.label=null},d}(),Cj=function(){function d(a,b){a===void 0&&(a=[]),b===void 0&&(b=new SB()),this._entries=a,this._dataSource=this,this._renderer=new qR(b),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(d.prototype,"entries",{get:function(){return this._entries},set:function(a){this._entries=a},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),d.prototype.getId=function(a){return a.getId()},d.prototype.getLabel=function(a){return ag(a.getLabel())},d.prototype.getAriaLabel=function(a){var b=a.getAriaLabel();return b?s("quickOpenAriaLabelEntry","{0}, picker",a.getAriaLabel()):s("quickOpenAriaLabel","picker")},d.prototype.isVisible=function(a){return!a.isHidden()},d.prototype.run=function(a,b,c){return a.run(b,c)},d}();var UB=function(){function d(a){this.modelProvider=Kh(a.getModel)?a:{getModel:function(){return a}}}return d.prototype.getId=function(a,b){if(!b)return null;var c=this.modelProvider.getModel();return c===b?"__root__":c.dataSource.getId(b)},d.prototype.hasChildren=function(a,b){var c=this.modelProvider.getModel();return!!(c&&c===b&&c.entries.length>0)},d.prototype.getChildren=function(a,b){var c=this.modelProvider.getModel();return Promise.resolve(c===b?c.entries:[])},d.prototype.getParent=function(a,b){return Promise.resolve(null)},d}(),VB=function(){function d(a){this.modelProvider=a}return d.prototype.getAriaLabel=function(a,b){var c=this.modelProvider.getModel();return c.accessibilityProvider?c.accessibilityProvider.getAriaLabel(b):null},d.prototype.getPosInSet=function(a,b){var c=this.modelProvider.getModel(),e=0;if(c.filter)for(var f=0,g=c.entries;f<g.length;f++){var h=g[f];c.filter.isVisible(h)&&e++;if(h===b)break}else e=c.entries.indexOf(b)+1;return String(e)},d.prototype.getSetSize=function(){var a=this.modelProvider.getModel(),b=0;if(a.filter)for(var c=0,e=a.entries;c<e.length;c++){var f=e[c];a.filter.isVisible(f)&&b++}else b=a.entries.length;return String(b)},d}(),WB=function(){function d(a){this.modelProvider=a}return d.prototype.isVisible=function(a,b){var c=this.modelProvider.getModel();return c.filter?c.filter.isVisible(b):!0},d}(),XB=function(){function d(a,b){this.modelProvider=a,this.styles=b}return d.prototype.updateStyles=function(a){this.styles=a},d.prototype.getHeight=function(a,b){var c=this.modelProvider.getModel();return c.renderer.getHeight(b)},d.prototype.getTemplateId=function(a,b){var c=this.modelProvider.getModel();return c.renderer.getTemplateId(b)},d.prototype.renderTemplate=function(a,b,c){var e=this.modelProvider.getModel();return e.renderer.renderTemplate(b,c,this.styles)},d.prototype.renderElement=function(a,b,c,e){var f=this.modelProvider.getModel();f.renderer.renderElement(b,c,e,this.styles)},d.prototype.disposeTemplate=function(a,b,c){var e=this.modelProvider.getModel();e.renderer.disposeTemplate(b,c)},d}();var eC=function(){function d(){this._arr=[]}return d.prototype.set=function(a,b){this._arr.push({keybinding:Vh(a,Gd),callback:b})},d.prototype.dispatch=function(a){for(var b=this._arr.length-1;b>=0;b--){var c=this._arr[b];if(a.toChord().equals(c.keybinding))return c.callback}return null},d}(),_o=function(){function d(a){var b=this;a===void 0&&(a={clickBehavior:0,keyboardSupport:!0,openMode:0}),this.options=a,this.downKeyBindingDispatcher=new eC(),this.upKeyBindingDispatcher=new eC(),(typeof a.keyboardSupport!=="boolean"||a.keyboardSupport)&&(this.downKeyBindingDispatcher.set(16,function(c,e){return b.onUp(c,e)}),this.downKeyBindingDispatcher.set(18,function(c,e){return b.onDown(c,e)}),this.downKeyBindingDispatcher.set(15,function(c,e){return b.onLeft(c,e)}),this.downKeyBindingDispatcher.set(17,function(c,e){return b.onRight(c,e)}),ka&&(this.downKeyBindingDispatcher.set(2048|16,function(c,e){return b.onLeft(c,e)}),this.downKeyBindingDispatcher.set(256|44,function(c,e){return b.onDown(c,e)}),this.downKeyBindingDispatcher.set(256|46,function(c,e){return b.onUp(c,e)})),this.downKeyBindingDispatcher.set(11,function(c,e){return b.onPageUp(c,e)}),this.downKeyBindingDispatcher.set(12,function(c,e){return b.onPageDown(c,e)}),this.downKeyBindingDispatcher.set(14,function(c,e){return b.onHome(c,e)}),this.downKeyBindingDispatcher.set(13,function(c,e){return b.onEnd(c,e)}),this.downKeyBindingDispatcher.set(10,function(c,e){return b.onSpace(c,e)}),this.downKeyBindingDispatcher.set(9,function(c,e){return b.onEscape(c,e)}),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2048|3,this.onEnter.bind(this)))}return d.prototype.onMouseDown=function(a,b,c,e){e===void 0&&(e="mouse");if(this.options.clickBehavior===0&&(c.leftButton||c.middleButton)){if(c.target){if(c.target.tagName&&c.target.tagName.toLowerCase()==="input")return!1;if(dl(c.target,"scrollbar","monaco-tree"))return!1;if(dl(c.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(a,b,c,e)}return!1},d.prototype.onClick=function(a,b,c){var e=ka;return e&&c.ctrlKey?(c.preventDefault(),c.stopPropagation(),!1):c.target&&c.target.tagName&&c.target.tagName.toLowerCase()==="input"?!1:this.options.clickBehavior===0&&(c.leftButton||c.middleButton)?!1:this.onLeftClick(a,b,c)},d.prototype.onLeftClick=function(a,b,c,e){e===void 0&&(e="mouse");var f=c,g={origin:e,originalEvent:c,didClickOnTwistie:this.isClickOnTwistie(f)};if(a.getInput()===b)a.clearFocus(g),a.clearSelection(g);else{var h=c&&f.browserEvent&&f.browserEvent.type==="mousedown"&&f.browserEvent.detail===1;h||c.preventDefault(),c.stopPropagation(),a.domFocus(),a.setSelection([b],g),a.setFocus(b,g),this.shouldToggleExpansion(b,f,e)&&(a.isExpanded(b)?a.collapse(b).then(void 0,W):a.expand(b).then(void 0,W))}return!0},d.prototype.shouldToggleExpansion=function(a,b,c){var e=c==="mouse"&&b.detail===2;return this.openOnSingleClick||e||this.isClickOnTwistie(b)},Object.defineProperty(d.prototype,"openOnSingleClick",{get:function(){return this.options.openMode===0},enumerable:!0,configurable:!0}),d.prototype.isClickOnTwistie=function(a){var b=a.target;if(!Kc(b,"content"))return!1;var c=window.getComputedStyle(b,":before");if(c.backgroundImage==="none"||c.display==="none")return!1;var e=parseInt(c.width)+parseInt(c.paddingRight);return a.browserEvent.offsetX<=e},d.prototype.onContextMenu=function(a,b,c){return c.target&&c.target.tagName&&c.target.tagName.toLowerCase()==="input"?!1:(c&&(c.preventDefault(),c.stopPropagation()),!1)},d.prototype.onTap=function(a,b,c){var e=c.initialTarget;return e&&e.tagName&&e.tagName.toLowerCase()==="input"?!1:this.onLeftClick(a,b,c,"touch")},d.prototype.onKeyDown=function(a,b){return this.onKey(this.downKeyBindingDispatcher,a,b)},d.prototype.onKeyUp=function(a,b){return this.onKey(this.upKeyBindingDispatcher,a,b)},d.prototype.onKey=function(a,b,c){var e=a.dispatch(c.toKeybinding());if(e){if(e(b,c))return c.preventDefault(),c.stopPropagation(),!0}return!1},d.prototype.onUp=function(a,b){var c={origin:"keyboard",originalEvent:b};return a.getHighlight()?a.clearHighlight(c):(a.focusPrevious(1,c),a.reveal(a.getFocus()).then(void 0,W)),!0},d.prototype.onPageUp=function(a,b){var c={origin:"keyboard",originalEvent:b};return a.getHighlight()?a.clearHighlight(c):(a.focusPreviousPage(c),a.reveal(a.getFocus()).then(void 0,W)),!0},d.prototype.onDown=function(a,b){var c={origin:"keyboard",originalEvent:b};return a.getHighlight()?a.clearHighlight(c):(a.focusNext(1,c),a.reveal(a.getFocus()).then(void 0,W)),!0},d.prototype.onPageDown=function(a,b){var c={origin:"keyboard",originalEvent:b};return a.getHighlight()?a.clearHighlight(c):(a.focusNextPage(c),a.reveal(a.getFocus()).then(void 0,W)),!0},d.prototype.onHome=function(a,b){var c={origin:"keyboard",originalEvent:b};return a.getHighlight()?a.clearHighlight(c):(a.focusFirst(c),a.reveal(a.getFocus()).then(void 0,W)),!0},d.prototype.onEnd=function(a,b){var c={origin:"keyboard",originalEvent:b};return a.getHighlight()?a.clearHighlight(c):(a.focusLast(c),a.reveal(a.getFocus()).then(void 0,W)),!0},d.prototype.onLeft=function(a,b){var c={origin:"keyboard",originalEvent:b};if(a.getHighlight())a.clearHighlight(c);else{var e=a.getFocus();a.collapse(e).then(function(f){return e&&!f?(a.focusParent(c),a.reveal(a.getFocus())):void 0}).then(void 0,W)}return!0},d.prototype.onRight=function(a,b){var c={origin:"keyboard",originalEvent:b};if(a.getHighlight())a.clearHighlight(c);else{var e=a.getFocus();a.expand(e).then(function(f){return e&&!f?(a.focusFirstChild(c),a.reveal(a.getFocus())):void 0}).then(void 0,W)}return!0},d.prototype.onEnter=function(a,b){var c={origin:"keyboard",originalEvent:b};if(a.getHighlight())return!1;var e=a.getFocus();return e&&a.setSelection([e],c),!0},d.prototype.onSpace=function(a,b){if(a.getHighlight())return!1;var c=a.getFocus();return c&&a.toggleExpansion(c),!0},d.prototype.onEscape=function(a,b){var c={origin:"keyboard",originalEvent:b};return a.getHighlight()?(a.clearHighlight(c),!0):a.getSelection().length?(a.clearSelection(c),!0):a.getFocus()?(a.clearFocus(c),!0):!1},d}(),fC=function(){function d(){}return d.prototype.getDragURI=function(a,b){return null},d.prototype.onDragStart=function(a,b,c){return},d.prototype.onDragOver=function(a,b,c,e){return null},d.prototype.drop=function(a,b,c,e){return},d}(),gC=function(){function d(){}return d.prototype.isVisible=function(a,b){return!0},d}(),hC=function(){function d(){}return d.prototype.getAriaLabel=function(a,b){return null},d}(),iC=function(){function d(a,b){this.styleElement=a,this.selectorSuffix=b}return d.prototype.style=function(a){var b=this.selectorSuffix?"."+this.selectorSuffix:"",c=[];a.listFocusBackground&&c.push(".monaco-tree"+b+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+a.listFocusBackground+"; }"),a.listFocusForeground&&c.push(".monaco-tree"+b+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+a.listFocusForeground+"; }"),a.listActiveSelectionBackground&&c.push(".monaco-tree"+b+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+a.listActiveSelectionBackground+"; }"),a.listActiveSelectionForeground&&c.push(".monaco-tree"+b+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+a.listActiveSelectionForeground+"; }"),a.listFocusAndSelectionBackground&&c.push(`
				.monaco-tree-drag-image,
				.monaco-tree`+b+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+a.listFocusAndSelectionBackground+`; }
			`),a.listFocusAndSelectionForeground&&c.push(`
				.monaco-tree-drag-image,
				.monaco-tree`+b+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+a.listFocusAndSelectionForeground+`; }
			`),a.listInactiveSelectionBackground&&c.push(".monaco-tree"+b+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+a.listInactiveSelectionBackground+"; }"),a.listInactiveSelectionForeground&&c.push(".monaco-tree"+b+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+a.listInactiveSelectionForeground+"; }"),a.listHoverBackground&&c.push(".monaco-tree"+b+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+a.listHoverBackground+"; }"),a.listHoverForeground&&c.push(".monaco-tree"+b+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+a.listHoverForeground+"; }"),a.listDropBackground&&c.push(`
				.monaco-tree`+b+` .monaco-tree-wrapper.drop-target,
				.monaco-tree`+b+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+a.listDropBackground+` !important; color: inherit !important; }
			`),a.listFocusOutline&&c.push(`
				.monaco-tree-drag-image																															{ border: 1px solid `+a.listFocusOutline+`; background: #000; }
				.monaco-tree`+b+` .monaco-tree-rows > .monaco-tree-row 														{ border: 1px solid transparent; }
				.monaco-tree`+b+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) 						{ border: 1px dotted "+a.listFocusOutline+`; }
				.monaco-tree`+b+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) 						{ border: 1px solid "+a.listFocusOutline+`; }
				.monaco-tree`+b+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  							{ border: 1px solid "+a.listFocusOutline+`; }
				.monaco-tree`+b+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  	{ border: 1px dashed "+a.listFocusOutline+`; }
				.monaco-tree`+b+` .monaco-tree-wrapper.drop-target,
				.monaco-tree`+b+" .monaco-tree-rows > .monaco-tree-row.drop-target												{ border: 1px dashed "+a.listFocusOutline+`; }
			`);var e=c.join(`
`);e!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=e)},d}();var vR=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),wR=function(){function d(a){this._onDispose=new E(),this.onDispose=this._onDispose.event,this._item=a}return Object.defineProperty(d.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),d.prototype.dispose=function(){this._onDispose&&(this._onDispose.fire(),this._onDispose.dispose(),this._onDispose=void 0)},d}(),xR=function(){function d(){this.locks=Object.create({})}return d.prototype.isLocked=function(a){return!!this.locks[a.id]},d.prototype.run=function(a,b){var c=this,e=this.getLock(a);if(e)return new Promise(function(g,h){da.once(e.onDispose)(function(){return c.run(a,b).then(g,h)})});var f;return new Promise(function(g,h){if(a.isDisposed())return h(new Error("Item is disposed."));var i=c.locks[a.id]=new wR(a);return f=b().then(function(j){return delete c.locks[a.id],i.dispose(),j}).then(g,h),f})},d.prototype.getLock=function(a){var b;for(b in this.locks){var c=this.locks[b];if(a.intersects(c.item))return c}return null},d}(),nC=function(){function d(){this._isDisposed=!1,this._onDidRevealItem=new fe(),this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new fe(),this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new fe(),this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new fe(),this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new fe(),this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new fe(),this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new fe(),this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new fe(),this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new fe(),this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new fe(),this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new fe(),this.onDidDisposeItem=this._onDidDisposeItem.event,this.items={}}return d.prototype.register=function(a){Uf(!this.isRegistered(a.id),"item already registered: "+a.id);var b=Mc(this._onDidRevealItem.add(a.onDidReveal),this._onExpandItem.add(a.onExpand),this._onDidExpandItem.add(a.onDidExpand),this._onCollapseItem.add(a.onCollapse),this._onDidCollapseItem.add(a.onDidCollapse),this._onDidAddTraitItem.add(a.onDidAddTrait),this._onDidRemoveTraitItem.add(a.onDidRemoveTrait),this._onDidRefreshItem.add(a.onDidRefresh),this._onRefreshItemChildren.add(a.onRefreshChildren),this._onDidRefreshItemChildren.add(a.onDidRefreshChildren),this._onDidDisposeItem.add(a.onDidDispose));this.items[a.id]={item:a,disposable:b}},d.prototype.deregister=function(a){Uf(this.isRegistered(a.id),"item not registered: "+a.id),this.items[a.id].disposable.dispose(),delete this.items[a.id]},d.prototype.isRegistered=function(a){return this.items.hasOwnProperty(a)},d.prototype.getItem=function(a){var b=this.items[a];return b?b.item:null},d.prototype.dispose=function(){this.items={},this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._isDisposed=!0},d.prototype.isDisposed=function(){return this._isDisposed},d}(),oC=function(){function d(a,b,c,e,f){this._onDidCreate=new E(),this._onDidReveal=new E(),this.onDidReveal=this._onDidReveal.event,this._onExpand=new E(),this.onExpand=this._onExpand.event,this._onDidExpand=new E(),this.onDidExpand=this._onDidExpand.event,this._onCollapse=new E(),this.onCollapse=this._onCollapse.event,this._onDidCollapse=new E(),this.onDidCollapse=this._onDidCollapse.event,this._onDidAddTrait=new E(),this.onDidAddTrait=this._onDidAddTrait.event,this._onDidRemoveTrait=new E(),this.onDidRemoveTrait=this._onDidRemoveTrait.event,this._onDidRefresh=new E(),this.onDidRefresh=this._onDidRefresh.event,this._onRefreshChildren=new E(),this.onRefreshChildren=this._onRefreshChildren.event,this._onDidRefreshChildren=new E(),this.onDidRefreshChildren=this._onDidRefreshChildren.event,this._onDidDispose=new E(),this.onDidDispose=this._onDidDispose.event,this.registry=b,this.context=c,this.lock=e,this.element=f,this.id=a,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.traits={},this.depth=0,this.expanded=!!(this.context.dataSource.shouldAutoexpand&&this.context.dataSource.shouldAutoexpand(this.context.tree,f)),this._onDidCreate.fire(this),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return d.prototype.getElement=function(){return this.element},d.prototype.hasChildren=function(){return this.doesHaveChildren},d.prototype.getDepth=function(){return this.depth},d.prototype.isVisible=function(){return this.visible},d.prototype.setVisible=function(a){this.visible=a},d.prototype.isExpanded=function(){return this.expanded},d.prototype._setExpanded=function(a){this.expanded=a},d.prototype.reveal=function(a){a===void 0&&(a=null);var b={item:this,relativeTop:a};this._onDidReveal.fire(b)},d.prototype.expand=function(){var a=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return Promise.resolve(!1);var b=this.lock.run(this,function(){if(a.isExpanded()||!a.doesHaveChildren)return Promise.resolve(!1);var c={item:a},e;return a._onExpand.fire(c),a.needsChildrenRefresh?e=a.refreshChildren(!1,!0,!0):e=Promise.resolve(null),e.then(function(){return a._setExpanded(!0),a._onDidExpand.fire(c),!0})});return b.then(function(c){return a.isDisposed()?!1:a.context.options.autoExpandSingleChildren&&c&&a.firstChild!==null&&a.firstChild===a.lastChild&&a.firstChild.isVisible()?a.firstChild.expand().then(function(){return!0}):c})},d.prototype.collapse=function(a){var b=this;a===void 0&&(a=!1);if(a){var c=Promise.resolve(null);return this.forEachChild(function(e){c=c.then(function(){return e.collapse(!0)})}),c.then(function(){return b.collapse(!1)})}else return!this.isExpanded()||this.lock.isLocked(this)?Promise.resolve(!1):this.lock.run(this,function(){var e={item:b};return b._onCollapse.fire(e),b._setExpanded(!1),b._onDidCollapse.fire(e),Promise.resolve(!0)})},d.prototype.addTrait=function(a){var b={item:this,trait:a};this.traits[a]=!0,this._onDidAddTrait.fire(b)},d.prototype.removeTrait=function(a){var b={item:this,trait:a};delete this.traits[a],this._onDidRemoveTrait.fire(b)},d.prototype.hasTrait=function(a){return this.traits[a]||!1},d.prototype.getAllTraits=function(){var a=[],b;for(b in this.traits)this.traits.hasOwnProperty(b)&&this.traits[b]&&a.push(b);return a},d.prototype.getHeight=function(){return this.height},d.prototype.refreshChildren=function(a,b,c){var e=this;b===void 0&&(b=!1),c===void 0&&(c=!1);if(!c&&!this.isExpanded()){var f=function(h){h.needsChildrenRefresh=!0,h.forEachChild(f)};return f(this),Promise.resolve(this)}this.needsChildrenRefresh=!1;var g=function(){var h={item:e,isNested:b};e._onRefreshChildren.fire(h);var i;e.doesHaveChildren?i=e.context.dataSource.getChildren(e.context.tree,e.element):i=Promise.resolve([]);var j=i.then(function(k){if(e.isDisposed()||e.registry.isDisposed())return Promise.resolve(null);if(!Array.isArray(k))return Promise.reject(new Error("Please return an array of children."));k=k?k.slice(0):[],k=e.sort(k);for(var l={};e.firstChild!==null;)l[e.firstChild.id]=e.firstChild,e.removeChild(e.firstChild);for(var m=0,n=k.length;m<n;m++){var o=k[m],p=e.context.dataSource.getId(e.context.tree,o),q=l[p]||new d(p,e.registry,e.context,e.lock,o);q.element=o,a&&(q.needsChildrenRefresh=a),delete l[p],e.addChild(q)}for(var r in l)l.hasOwnProperty(r)&&l[r].dispose();return a?Promise.all(e.mapEachChild(function(t){return t.doRefresh(a,!0)})):Promise.all(e.mapEachChild(function(t){return t.isExpanded()&&t.needsChildrenRefresh?t.doRefresh(a,!0):(t.updateVisibility(),Promise.resolve(null))}))});return j.then(void 0,W).then(function(){return e._onDidRefreshChildren.fire(h)})};return b?g():this.lock.run(this,g)},d.prototype.doRefresh=function(a,b){return b===void 0&&(b=!1),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.updateVisibility(),this._onDidRefresh.fire(this),this.refreshChildren(a,b)},d.prototype.updateVisibility=function(){this.setVisible(this._isVisible())},d.prototype.refresh=function(a){return this.doRefresh(a)},d.prototype.getNavigator=function(){return new pC(this)},d.prototype.intersects=function(a){return this.isAncestorOf(a)||a.isAncestorOf(this)},d.prototype.isAncestorOf=function(a){for(var b=a;b;){if(b.id===this.id)return!0;b=b.parent}return!1},d.prototype.addChild=function(a,b){b===void 0&&(b=this.lastChild);var c=this.firstChild===null,e=b===null,f=b===this.lastChild;if(c)this.firstChild=this.lastChild=a,a.next=a.previous=null;else if(e){if(!this.firstChild)throw new Error("Invalid tree state");this.firstChild.previous=a,a.next=this.firstChild,a.previous=null,this.firstChild=a}else if(f){if(!this.lastChild)throw new Error("Invalid tree state");this.lastChild.next=a,a.next=null,a.previous=this.lastChild,this.lastChild=a}else{a.previous=b;if(!b)throw new Error("Invalid tree state");a.next=b.next;if(!b.next)throw new Error("Invalid tree state");b.next.previous=a,b.next=a}a.parent=this,a.depth=this.depth+1},d.prototype.removeChild=function(a){var b=this.firstChild===a,c=this.lastChild===a;if(b&&c)this.firstChild=this.lastChild=null;else if(b){if(!a.next)throw new Error("Invalid tree state");a.next.previous=null,this.firstChild=a.next}else if(c){if(!a.previous)throw new Error("Invalid tree state");a.previous.next=null,this.lastChild=a.previous}else{if(!a.next)throw new Error("Invalid tree state");a.next.previous=a.previous;if(!a.previous)throw new Error("Invalid tree state");a.previous.next=a.next}a.parent=null,a.depth=NaN},d.prototype.forEachChild=function(a){for(var b=this.firstChild,c;b;)c=b.next,a(b),b=c},d.prototype.mapEachChild=function(a){var b=[];return this.forEachChild(function(c){b.push(a(c))}),b},d.prototype.sort=function(a){var b=this,c=this.context.sorter;return c?a.sort(function(e,f){return c.compare(b.context.tree,e,f)}):a},d.prototype._getHeight=function(){return this.context.renderer?this.context.renderer.getHeight(this.context.tree,this.element):0},d.prototype._isVisible=function(){return this.context.filter?this.context.filter.isVisible(this.context.tree,this.element):!1},d.prototype.isDisposed=function(){return this._isDisposed},d.prototype.dispose=function(){this.forEachChild(function(a){return a.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this._onDidDispose.fire(this),this.registry.deregister(this),this._onDidCreate.dispose(),this._onDidReveal.dispose(),this._onExpand.dispose(),this._onDidExpand.dispose(),this._onCollapse.dispose(),this._onDidCollapse.dispose(),this._onDidAddTrait.dispose(),this._onDidRemoveTrait.dispose(),this._onDidRefresh.dispose(),this._onRefreshChildren.dispose(),this._onDidRefreshChildren.dispose(),this._onDidDispose.dispose(),this._isDisposed=!0},d}(),tu=function(d){vR(a,d);function a(b,c,e,f,g){return d.call(this,b,c,e,f,g)||this}return a.prototype.isVisible=function(){return!1},a.prototype.setVisible=function(b){},a.prototype.isExpanded=function(){return!0},a.prototype._setExpanded=function(b){},a.prototype._getHeight=function(){return 0},a.prototype._isVisible=function(){return!1},a}(oC),pC=function(){function d(a,b){b===void 0&&(b=!0),this.item=a,this.start=b?a:null}return d.lastDescendantOf=function(a){return a?a instanceof tu?d.lastDescendantOf(a.lastChild):a.isVisible()?!a.isExpanded()||a.lastChild===null?a:d.lastDescendantOf(a.lastChild):d.lastDescendantOf(a.previous):null},d.prototype.current=function(){return this.item||null},d.prototype.next=function(){if(this.item)do if((this.item instanceof tu||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},d.prototype.previous=function(){if(this.item)do{var a=d.lastDescendantOf(this.item.previous);a?this.item=a:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},d.prototype.parent=function(){if(this.item){var a=this.item.parent;a&&a!==this.start&&a.isVisible()?this.item=a:this.item=null}return this.item||null},d.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},d.prototype.last=function(){return d.lastDescendantOf(this.start)},d}(),mC=function(){function d(a){this.registry=new nC(),this.registryDisposable=I.None,this._onSetInput=new E(),this.onSetInput=this._onSetInput.event,this._onDidSetInput=new E(),this.onDidSetInput=this._onDidSetInput.event,this._onRefresh=new E(),this.onRefresh=this._onRefresh.event,this._onDidRefresh=new E(),this.onDidRefresh=this._onDidRefresh.event,this._onDidHighlight=new E(),this.onDidHighlight=this._onDidHighlight.event,this._onDidSelect=new E(),this.onDidSelect=this._onDidSelect.event,this._onDidFocus=new E(),this.onDidFocus=this._onDidFocus.event,this._onDidRevealItem=new ec(),this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new ec(),this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new ec(),this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new ec(),this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new ec(),this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new ec(),this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new ec(),this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new ec(),this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new ec(),this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new ec(),this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new ec(),this.context=a,this.input=null,this.traitsToItems={}}return d.prototype.setInput=function(a){var b=this,c={item:this.input};this._onSetInput.fire(c),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new xR(),this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new nC(),this._onDidRevealItem.input=this.registry.onDidRevealItem,this._onExpandItem.input=this.registry.onExpandItem,this._onDidExpandItem.input=this.registry.onDidExpandItem,this._onCollapseItem.input=this.registry.onCollapseItem,this._onDidCollapseItem.input=this.registry.onDidCollapseItem,this._onDidAddTraitItem.input=this.registry.onDidAddTraitItem,this._onDidRemoveTraitItem.input=this.registry.onDidRemoveTraitItem,this._onDidRefreshItem.input=this.registry.onDidRefreshItem,this._onRefreshItemChildren.input=this.registry.onRefreshItemChildren,this._onDidRefreshItemChildren.input=this.registry.onDidRefreshItemChildren,this._onDidDisposeItem.input=this.registry.onDidDisposeItem,this.registryDisposable=this.registry.onDidDisposeItem(function(f){return f.getAllTraits().forEach(function(g){return delete b.traitsToItems[g][f.id]})});var e=this.context.dataSource.getId(this.context.tree,a);return this.input=new tu(e,this.registry,this.context,this.lock,a),c={item:this.input},this._onDidSetInput.fire(c),this.refresh(this.input)},d.prototype.getInput=function(){return this.input?this.input.getElement():null},d.prototype.refresh=function(a,b){var c=this;a===void 0&&(a=null),b===void 0&&(b=!0);var e=this.getItem(a);if(!e)return Promise.resolve(null);var f={item:e,recursive:b};return this._onRefresh.fire(f),e.refresh(b).then(function(){c._onDidRefresh.fire(f)})},d.prototype.expand=function(a){var b=this.getItem(a);return b?b.expand():Promise.resolve(!1)},d.prototype.collapse=function(a,b){b===void 0&&(b=!1);var c=this.getItem(a);return c?c.collapse(b):Promise.resolve(!1)},d.prototype.toggleExpansion=function(a,b){return b===void 0&&(b=!1),this.isExpanded(a)?this.collapse(a,b):this.expand(a)},d.prototype.isExpanded=function(a){var b=this.getItem(a);return b?b.isExpanded():!1},d.prototype.reveal=function(a,b){var c=this;return b===void 0&&(b=null),this.resolveUnknownParentChain(a).then(function(e){var f=Promise.resolve(null);return e.forEach(function(g){f=f.then(function(){return c.expand(g)})}),f}).then(function(){var e=c.getItem(a);if(e)return e.reveal(b)})},d.prototype.resolveUnknownParentChain=function(a){var b=this;return this.context.dataSource.getParent(this.context.tree,a).then(function(c){return c?b.resolveUnknownParentChain(c).then(function(e){return e.push(c),e}):Promise.resolve([])})},d.prototype.setHighlight=function(a,b){this.setTraits("highlighted",a?[a]:[]);var c={highlight:this.getHighlight(),payload:b};this._onDidHighlight.fire(c)},d.prototype.getHighlight=function(a){a===void 0&&(a=!1);var b=this.getElementsWithTrait("highlighted",a);return b.length===0?null:b[0]},d.prototype.setSelection=function(a,b){this.setTraits("selected",a);var c={selection:this.getSelection(),payload:b};this._onDidSelect.fire(c)},d.prototype.getSelection=function(a){return a===void 0&&(a=!1),this.getElementsWithTrait("selected",a)},d.prototype.setFocus=function(a,b){this.setTraits("focused",a?[a]:[]);var c={focus:this.getFocus(),payload:b};this._onDidFocus.fire(c)},d.prototype.getFocus=function(a){a===void 0&&(a=!1);var b=this.getElementsWithTrait("focused",a);return b.length===0?null:b[0]},d.prototype.focusNext=function(a,b){a===void 0&&(a=1);for(var c=this.getFocus()||this.input,e,f=this.getNavigator(c,!1),g=0;g<a;g++){e=f.next();if(!e)break;c=e}this.setFocus(c,b)},d.prototype.focusPrevious=function(a,b){a===void 0&&(a=1);for(var c=this.getFocus()||this.input,e,f=this.getNavigator(c,!1),g=0;g<a;g++){e=f.previous();if(!e)break;c=e}this.setFocus(c,b)},d.prototype.focusParent=function(a){var b=this.getFocus()||this.input,c=this.getNavigator(b,!1),e=c.parent();e&&this.setFocus(e,a)},d.prototype.focusFirstChild=function(a){var b=this.getItem(this.getFocus()||this.input),c=this.getNavigator(b,!1),e=c.next(),f=c.parent();f===b&&this.setFocus(e,a)},d.prototype.focusFirst=function(a,b){this.focusNth(0,a,b)},d.prototype.focusNth=function(a,b,c){for(var e=this.getParent(c),f=this.getNavigator(e),g=f.first(),h=0;h<a;h++)g=f.next();g&&this.setFocus(g,b)},d.prototype.focusLast=function(a,b){var c=this.getParent(b),e;if(b&&c)e=c.lastChild;else{var f=this.getNavigator(c);e=f.last()}e&&this.setFocus(e,a)},d.prototype.getParent=function(a){if(a){var b=this.getItem(a);if(b&&b.parent)return b.parent}return this.getItem(this.input)},d.prototype.getNavigator=function(a,b){return a===void 0&&(a=null),b===void 0&&(b=!0),new pC(this.getItem(a),b)},d.prototype.getItem=function(a){return a===void 0&&(a=null),a===null?this.input:a instanceof oC?a:typeof a==="string"?this.registry.getItem(a):this.registry.getItem(this.context.dataSource.getId(this.context.tree,a))},d.prototype.removeTraits=function(a,b){var c=this.traitsToItems[a]||{},e,f;if(b.length===0){for(f in c)c.hasOwnProperty(f)&&(e=c[f],e.removeTrait(a));delete this.traitsToItems[a]}else for(var g=0,h=b.length;g<h;g++)e=this.getItem(b[g]),e&&(e.removeTrait(a),delete c[e.id])},d.prototype.setTraits=function(a,b){if(b.length===0)this.removeTraits(a,b);else{for(var c={},e=void 0,f=0,g=b.length;f<g;f++)e=this.getItem(b[f]),e&&(c[e.id]=e);var h=this.traitsToItems[a]||{},i=[],j=void 0;for(j in h)h.hasOwnProperty(j)&&(c.hasOwnProperty(j)?delete c[j]:i.push(h[j]));for(var f=0,g=i.length;f<g;f++)e=i[f],e.removeTrait(a),delete h[e.id];for(j in c)c.hasOwnProperty(j)&&(e=c[j],e.addTrait(a),h[j]=e);this.traitsToItems[a]=h}},d.prototype.getElementsWithTrait=function(a,b){var c=[],e=this.traitsToItems[a]||{},f;for(f in e)e.hasOwnProperty(f)&&(e[f].isVisible()||b)&&c.push(e[f].getElement());return c},d.prototype.dispose=function(){this.registry.dispose(),this._onSetInput.dispose(),this._onDidSetInput.dispose(),this._onRefresh.dispose(),this._onDidRefresh.dispose(),this._onDidHighlight.dispose(),this._onDidSelect.dispose(),this._onDidFocus.dispose(),this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._onDidDisposeItem.dispose()},d}();var jC=function(){function d(a){this.elements=a}return d.prototype.update=function(a){},d.prototype.getData=function(){return this.elements},d}(),kC=function(){function d(a){this.elements=a}return d.prototype.update=function(a){},d.prototype.getData=function(){return this.elements},d}(),lC=function(){function d(){this.types=[],this.files=[]}return d.prototype.update=function(a){a.types&&(this.types=[],Array.prototype.push.apply(this.types,a.types)),a.files&&(this.files=[],Array.prototype.push.apply(this.files,a.files),this.files=this.files.filter(function(b){return b.size||b.type}))},d.prototype.getData=function(){return{types:this.types,files:this.files}},d}();var rC=function(){function d(){this.heightMap=[],this.indexes={}}return d.prototype.getContentHeight=function(){var a=this.heightMap[this.heightMap.length-1];return a?a.top+a.height:0},d.prototype.onInsertItems=function(a,b){b===void 0&&(b=null);var c=null,e,f,g,h,i=0;if(b===null)f=0,h=0;else{f=this.indexes[b]+1,e=this.heightMap[f-1];if(!e){console.error("view item doesnt exist");return}h=e.top+e.height}for(var j=this.heightMap.splice.bind(this.heightMap,f,0),k=[];c=a.next();)e=this.createViewItem(c),e.top=h+i,this.indexes[c.id]=f++,k.push(e),i+=e.height;for(j.apply(this.heightMap,k),g=f;g<this.heightMap.length;g++)e=this.heightMap[g],e.top+=i,this.indexes[e.model.id]=g;for(g=k.length-1;g>=0;g--)this.onInsertItem(k[g]);for(g=this.heightMap.length-1;g>=f;g--)this.onRefreshItem(this.heightMap[g]);return i},d.prototype.onInsertItem=function(a){},d.prototype.onRemoveItems=function(a){for(var b=null,c,e=null,f=0,g=0;b=a.next();){f=this.indexes[b],c=this.heightMap[f];if(!c){console.error("view item doesnt exist");return}g-=c.height,delete this.indexes[b],this.onRemoveItem(c),e===null&&(e=f)}if(g===0||e===null)return;for(this.heightMap.splice(e,f-e+1),f=e;f<this.heightMap.length;f++)c=this.heightMap[f],c.top+=g,this.indexes[c.model.id]=f,this.onRefreshItem(c)},d.prototype.onRemoveItem=function(a){},d.prototype.onRefreshItemSet=function(a){var b=this,c=a.sort(function(e,f){return b.indexes[e.id]-b.indexes[f.id]});this.onRefreshItems(new Tg(c))},d.prototype.onRefreshItems=function(a){for(var b=null,c,e,f,g=null,h=0;b=a.next();){for(f=this.indexes[b.id];h!==0&&g!==null&&g<f;g++)c=this.heightMap[g],c.top+=h,this.onRefreshItem(c);c=this.heightMap[f],e=b.getHeight(),c.top+=h,h+=e-c.height,c.height=e,this.onRefreshItem(c,!0),g=f+1}if(h!==0&&g!==null)for(;g<this.heightMap.length;g++)c=this.heightMap[g],c.top+=h,this.onRefreshItem(c)},d.prototype.onRefreshItem=function(a,b){b===void 0&&(b=!1)},d.prototype.indexAt=function(a){for(var b=0,c=this.heightMap.length,e,f;b<c;){e=Math.floor((b+c)/2),f=this.heightMap[e];if(a<f.top)c=e;else if(a>=f.top+f.height){if(b===e)break;b=e}else return e}return this.heightMap.length},d.prototype.indexAfter=function(a){return Math.min(this.indexAt(a)+1,this.heightMap.length)},d.prototype.itemAtIndex=function(a){return this.heightMap[a]},d.prototype.itemAfter=function(a){return this.heightMap[this.indexes[a.model.id]+1]||null},d.prototype.createViewItem=function(a){throw new Error("not implemented")},d.prototype.dispose=function(){this.heightMap=[],this.indexes={}},d}();var aC=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),bC=function(){function d(a,b,c){this._posx=a,this._posy=b,this._target=c}return d.prototype.preventDefault=function(){},d.prototype.stopPropagation=function(){},Object.defineProperty(d.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),d}(),cC=function(d){aC(a,d);function a(b){var c=d.call(this,b.posx,b.posy,b.target)||this;return c.originalEvent=b,c}return a.prototype.preventDefault=function(){this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},a}(bC),dC=function(d){aC(a,d);function a(b,c,e){var f=d.call(this,b,c,e.target)||this;return f.originalEvent=e,f}return a.prototype.preventDefault=function(){this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},a}(bC);var qC=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}();function yR(d){try{d.parentElement.removeChild(d)}catch(a){}}var zR=function(){function d(a){this.context=a,this._cache={"":[]}}return d.prototype.alloc=function(a){var b=this.cache(a).pop();if(!b){var c=document.createElement("div");c.className="content";var e=document.createElement("div");e.appendChild(c);var f=null;try{f=this.context.renderer.renderTemplate(this.context.tree,a,c)}catch(g){console.error("Tree usage error: exception while rendering template"),console.error(g)}b={element:e,templateId:a,templateData:f}}return b},d.prototype.release=function(a,b){yR(b.element),this.cache(a).push(b)},d.prototype.cache=function(a){return this._cache[a]||(this._cache[a]=[])},d.prototype.garbageCollect=function(){var a=this;this._cache&&Object.keys(this._cache).forEach(function(b){a._cache[b].forEach(function(c){a.context.renderer.disposeTemplate(a.context.tree,b,c.templateData),c.element=null,c.templateData=null}),delete a._cache[b]})},d.prototype.dispose=function(){this.garbageCollect(),this._cache=null},d}(),sC=function(){function d(a,b){var c=this;this.width=0,this.needsRender=!1,this.uri=null,this.unbindDragStart=I.None,this._draggable=!1,this.context=a,this.model=b,this.id=this.model.id,this.row=null,this.top=0,this.height=b.getHeight(),this._styles={},b.getAllTraits().forEach(function(e){return c._styles[e]=!0}),b.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(d.prototype,"expanded",{set:function(a){a?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"loading",{set:function(a){a?this.addClass("codicon-loading"):this.removeClass("codicon-loading")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"draggable",{get:function(){return this._draggable},set:function(a){this._draggable=a,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"dropTarget",{set:function(a){a?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),d.prototype.addClass=function(a){this._styles[a]=!0,this.render(!0)},d.prototype.removeClass=function(a){delete this._styles[a],this.render(!0)},d.prototype.render=function(a){var b=this;a===void 0&&(a=!1);if(!this.model||!this.element)return;var c=["monaco-tree-row"];c.push.apply(c,Object.keys(this._styles)),this.model.hasChildren()&&c.push("has-children"),this.element.className=c.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var e=this.context.accessibilityProvider,f=e.getAriaLabel(this.context.tree,this.model.getElement());f&&this.element.setAttribute("aria-label",f),e.getPosInSet&&e.getSetSize&&(this.element.setAttribute("aria-setsize",e.getSetSize()),this.element.setAttribute("aria-posinset",e.getPosInSet(this.context.tree,this.model.getElement())));if(this.model.hasTrait("focused")){var g=pu(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",g)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(!!this._styles.expanded)):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var h=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());h!==this.uri&&(this.unbindDragStart&&this.unbindDragStart.dispose(),h?(this.uri=h,this.draggable=!0,this.unbindDragStart=R(this.element,"dragstart",function(k){b.onDragStart(k)})):this.uri=null);if(!a&&this.element){var i=0;if(this.context.horizontalScrolling){var j=window.getComputedStyle(this.element);i=parseFloat(j.paddingLeft)}this.context.horizontalScrolling&&(this.element.style.width=uc?"-moz-fit-content":"fit-content");try{this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}catch(k){console.error("Tree usage error: exception while rendering element"),console.error(k)}this.context.horizontalScrolling&&(this.width=Zi(this.element)+i,this.element.style.width="")}},d.prototype.insertInDOM=function(a,b){this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[$o.BINDING]=this);if(this.element.parentElement)return;if(b===null)a.appendChild(this.element);else try{a.insertBefore(this.element,b)}catch(c){console.warn("Failed to locate previous tree element"),a.appendChild(this.element)}this.render()},d.prototype.removeFromDOM=function(){if(!this.row)return;this.unbindDragStart.dispose(),this.uri=null,this.element[$o.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null},d.prototype.dispose=function(){this.row=null},d}(),AR=function(d){qC(a,d);function a(b,c,e){var f=d.call(this,b,c)||this;return f.row={element:e,templateData:null,templateId:null},f}return a.prototype.render=function(){if(!this.model||!this.element)return;var b=["monaco-tree-wrapper"];b.push.apply(b,Object.keys(this._styles)),this.model.hasChildren()&&b.push("has-children"),this.element.className=b.join(" ")},a.prototype.insertInDOM=function(b,c){},a.prototype.removeFromDOM=function(){},a}(sC);function BR(d,a){return!d&&!a?!0:!d||!a?!1:d.accept!==a.accept?!1:d.bubble!==a.bubble?!1:d.effect!==a.effect?!1:!0}var $o=function(d){qC(a,d);function a(b,c){var e=d.call(this)||this;e.model=null,e.lastPointerType="",e.lastClickTimeStamp=0,e.contentWidthUpdateDelayer=new ee(50),e.isRefreshing=!1,e.refreshingPreviousChildrenIds={},e.currentDragAndDropData=null,e.currentDropTarget=null,e.currentDropTargets=null,e.currentDropDisposable=I.None,e.gestureDisposable=I.None,e.dragAndDropScrollInterval=null,e.dragAndDropScrollTimeout=null,e.dragAndDropMouseY=null,e.highlightedItemWasDraggable=!1,e.onHiddenScrollTop=null,e._onDOMFocus=new E(),e.onDOMFocus=e._onDOMFocus.event,e._onDOMBlur=new E(),e._onDidScroll=new E(),a.counter++,e.instance=a.counter;var f=typeof b.options.horizontalScrollMode==="undefined"?2:b.options.horizontalScrollMode;e.horizontalScrolling=f!==2,e.context={dataSource:b.dataSource,renderer:b.renderer,controller:b.controller,dnd:b.dnd,filter:b.filter,sorter:b.sorter,tree:b.tree,accessibilityProvider:b.accessibilityProvider,options:b.options,cache:new zR(b),horizontalScrolling:e.horizontalScrolling},e.modelListeners=[],e.viewListeners=[],e.items={},e.domNode=document.createElement("div"),e.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+e.instance,e.domNode.tabIndex=b.options.preventRootFocus?-1:0,e.styleElement=vc(e.domNode),e.treeStyler=b.styler||new iC(e.styleElement,"monaco-tree-instance-"+e.instance),e.domNode.setAttribute("role","tree"),e.context.options.ariaLabel&&e.domNode.setAttribute("aria-label",e.context.options.ariaLabel),e.context.options.alwaysFocused&&U(e.domNode,"focused"),e.context.options.paddingOnRow||U(e.domNode,"no-row-padding"),e.wrapper=document.createElement("div"),e.wrapper.className="monaco-tree-wrapper",e.scrollableElement=new Of(e.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:f,vertical:typeof b.options.verticalScrollMode!=="undefined"?b.options.verticalScrollMode:1,useShadows:b.options.useShadows}),e.scrollableElement.onScroll(function(h){e.render(h.scrollTop,h.height,h.scrollLeft,h.width,h.scrollWidth),e._onDidScroll.fire()}),xb?(e.wrapper.style.msTouchAction="none",e.wrapper.style.msContentZooming="none"):e.gestureDisposable=wc.addTarget(e.wrapper),e.rowsContainer=document.createElement("div"),e.rowsContainer.className="monaco-tree-rows",b.options.showTwistie&&(e.rowsContainer.className+=" show-twisties");var g=Mf(e.domNode);return e.viewListeners.push(g.onDidFocus(function(){return e.onFocus()})),e.viewListeners.push(g.onDidBlur(function(){return e.onBlur()})),e.viewListeners.push(g),e.viewListeners.push(R(e.domNode,"keydown",function(h){return e.onKeyDown(h)})),e.viewListeners.push(R(e.domNode,"keyup",function(h){return e.onKeyUp(h)})),e.viewListeners.push(R(e.domNode,"mousedown",function(h){return e.onMouseDown(h)})),e.viewListeners.push(R(e.domNode,"mouseup",function(h){return e.onMouseUp(h)})),e.viewListeners.push(R(e.wrapper,"auxclick",function(h){h&&h.button===1&&e.onMouseMiddleClick(h)})),e.viewListeners.push(R(e.wrapper,"click",function(h){return e.onClick(h)})),e.viewListeners.push(R(e.domNode,"contextmenu",function(h){return e.onContextMenu(h)})),e.viewListeners.push(R(e.wrapper,Xa.Tap,function(h){return e.onTap(h)})),e.viewListeners.push(R(e.wrapper,Xa.Change,function(h){return e.onTouchChange(h)})),xb&&(e.viewListeners.push(R(e.wrapper,"MSPointerDown",function(h){return e.onMsPointerDown(h)})),e.viewListeners.push(R(e.wrapper,"MSGestureTap",function(h){return e.onMsGestureTap(h)})),e.viewListeners.push($e(e.wrapper,"MSGestureChange",function(h){return e.onThrottledMsGestureChange(h)},function(h,i){i.stopPropagation(),i.preventDefault();var j={translationY:i.translationY,translationX:i.translationX};return h&&(j.translationY+=h.translationY,j.translationX+=h.translationX),j}))),e.viewListeners.push(R(window,"dragover",function(h){return e.onDragOver(h)})),e.viewListeners.push(R(e.wrapper,"drop",function(h){return e.onDrop(h)})),e.viewListeners.push(R(window,"dragend",function(h){return e.onDragEnd(h)})),e.viewListeners.push(R(window,"dragleave",function(h){return e.onDragOver(h)})),e.wrapper.appendChild(e.rowsContainer),e.domNode.appendChild(e.scrollableElement.getDomNode()),c.appendChild(e.domNode),e.lastRenderTop=0,e.lastRenderHeight=0,e.didJustPressContextMenuKey=!1,e.currentDropTarget=null,e.currentDropTargets=[],e.shouldInvalidateDropReaction=!1,e.dragAndDropScrollInterval=null,e.dragAndDropScrollTimeout=null,e.onRowsChanged(),e.layout(),e.setupMSGesture(),e.applyStyles(b.options),e}return a.prototype.applyStyles=function(b){this.treeStyler.style(b)},a.prototype.createViewItem=function(b){return new sC(this.context,b)},a.prototype.getHTMLElement=function(){return this.domNode},a.prototype.focus=function(){this.domNode.focus()},a.prototype.isFocused=function(){return document.activeElement===this.domNode},a.prototype.blur=function(){this.domNode.blur()},a.prototype.setupMSGesture=function(){var b=this;window.MSGesture&&(this.msGesture=new MSGesture(),setTimeout(function(){return b.msGesture.target=b.wrapper},100))},a.prototype.isTreeVisible=function(){return this.onHiddenScrollTop===null},a.prototype.layout=function(b,c){if(!this.isTreeVisible())return;this.viewHeight=b||Mn(this.wrapper),this.scrollHeight=this.getContentHeight(),this.horizontalScrolling&&(this.viewWidth=c||Zi(this.wrapper))},a.prototype.render=function(b,c,e,f,g){var h,i,j=b,k=b+c,l=this.lastRenderTop+this.lastRenderHeight;for(h=this.indexAfter(k)-1,i=this.indexAt(Math.max(l,j));h>=i;h--)this.insertItemInDOM(this.itemAtIndex(h));for(h=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(k))-1,i=this.indexAt(j);h>=i;h--)this.insertItemInDOM(this.itemAtIndex(h));for(h=this.indexAt(this.lastRenderTop),i=Math.min(this.indexAt(j),this.indexAfter(l));h<i;h++)this.removeItemFromDOM(this.itemAtIndex(h));for(h=Math.max(this.indexAfter(k),this.indexAt(this.lastRenderTop)),i=this.indexAfter(l);h<i;h++)this.removeItemFromDOM(this.itemAtIndex(h));var m=this.itemAtIndex(this.indexAt(j));m&&(this.rowsContainer.style.top=m.top-j+"px"),this.horizontalScrolling&&(this.rowsContainer.style.left=-e+"px",this.rowsContainer.style.width=Math.max(g,f)+"px"),this.lastRenderTop=j,this.lastRenderHeight=k-j},a.prototype.setModel=function(b){this.releaseModel(),this.model=b,this.model.onRefresh(this.onRefreshing,this,this.modelListeners),this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners),this.model.onSetInput(this.onClearingInput,this,this.modelListeners),this.model.onDidSetInput(this.onSetInput,this,this.modelListeners),this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners),this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners),this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners),this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners),this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners),this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners),this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners),this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners),this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners),this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)},a.prototype.onRefreshing=function(){this.isRefreshing=!0},a.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},a.prototype.onRowsChanged=function(b){b===void 0&&(b=this.scrollTop);if(this.isRefreshing)return;this.scrollTop=b,this.updateScrollWidth()},a.prototype.updateScrollWidth=function(){var b=this;if(!this.horizontalScrolling)return;this.contentWidthUpdateDelayer.trigger(function(){for(var c=Object.keys(b.items),e=0,f=0,g=c;f<g.length;f++){var h=g[f];e=Math.max(e,b.items[h].width)}b.scrollWidth=e+10})},a.prototype.focusNextPage=function(b){var c=this,e=this.indexAt(this.scrollTop+this.viewHeight);e=e===0?0:e-1;var f=this.itemAtIndex(e).model.getElement(),g=this.model.getFocus();if(g!==f)this.model.setFocus(f,b);else{var h=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==h&&setTimeout(function(){c.focusNextPage(b)},0)}},a.prototype.focusPreviousPage=function(b){var c=this,e;this.scrollTop===0?e=this.indexAt(this.scrollTop):e=this.indexAfter(this.scrollTop-1);var f=this.itemAtIndex(e).model.getElement(),g=this.model.getFocus();if(g!==f)this.model.setFocus(f,b);else{var h=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==h&&setTimeout(function(){c.focusPreviousPage(b)},0)}},Object.defineProperty(a.prototype,"viewHeight",{get:function(){var b=this.scrollableElement.getScrollDimensions();return b.height},set:function(b){this.scrollableElement.setScrollDimensions({height:b})},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scrollHeight",{set:function(b){b=b+(this.horizontalScrolling?10:0),this.scrollableElement.setScrollDimensions({scrollHeight:b})},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"viewWidth",{get:function(){var b=this.scrollableElement.getScrollDimensions();return b.width},set:function(b){this.scrollableElement.setScrollDimensions({width:b})},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scrollWidth",{set:function(b){this.scrollableElement.setScrollDimensions({scrollWidth:b})},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scrollTop",{get:function(){var b=this.scrollableElement.getScrollPosition();return b.scrollTop},set:function(b){var c=this.getContentHeight()+(this.horizontalScrolling?10:0);this.scrollableElement.setScrollDimensions({scrollHeight:c}),this.scrollableElement.setScrollPosition({scrollTop:b})},enumerable:!0,configurable:!0}),a.prototype.onClearingInput=function(b){var c=b.item;c&&(this.onRemoveItems(new Ut(c.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},a.prototype.onSetInput=function(b){this.context.cache.garbageCollect(),this.inputItem=new AR(this.context,b.item,this.wrapper)},a.prototype.onItemChildrenRefreshing=function(b){var c=b.item,e=this.items[c.id];e&&this.context.options.showLoading&&(e.loadingTimer=setTimeout(function(){e.loadingTimer=0,e.loading=!0},a.LOADING_DECORATION_DELAY));if(!b.isNested){for(var f=[],g=c.getNavigator(),h=void 0;h=g.next();)f.push(h.id);this.refreshingPreviousChildrenIds[c.id]=f}},a.prototype.onItemChildrenRefreshed=function(b){var c=this,e=b.item,f=this.items[e.id];f&&(f.loadingTimer&&(clearTimeout(f.loadingTimer),f.loadingTimer=0),f.loading=!1);if(!b.isNested){for(var g=this.refreshingPreviousChildrenIds[e.id],h=[],i=e.getNavigator(),j=void 0;j=i.next();)h.push(j);var k=Math.abs(g.length-h.length)>1e3,l=[],m=!1;if(!k){var n=new xl({getElements:function(){return g}},{getElements:function(){return h.map(function(t){return t.id})}},null);l=n.ComputeDiff(!1).changes,m=l.some(function(t){if(t.modifiedLength>0){for(var v=t.modifiedStart,w=t.modifiedStart+t.modifiedLength;v<w;v++)if(c.items.hasOwnProperty(h[v].id))return!0}return!1})}if(!k&&!m&&l.length<50)for(var o=0,p=l;o<p.length;o++){var q=p[o];q.originalLength>0&&this.onRemoveItems(new Tg(g,q.originalStart,q.originalStart+q.originalLength));if(q.modifiedLength>0){var r=h[q.modifiedStart-1]||e;r=r.getDepth()>0?r:null,this.onInsertItems(new Tg(h,q.modifiedStart,q.modifiedStart+q.modifiedLength),r?r.id:null)}}else(k||l.length)&&(this.onRemoveItems(new Tg(g)),this.onInsertItems(new Tg(h),e.getDepth()>0?e.id:null));(k||l.length)&&this.onRowsChanged()}},a.prototype.onItemRefresh=function(b){this.onItemsRefresh([b])},a.prototype.onItemsRefresh=function(b){var c=this;this.onRefreshItemSet(b.filter(function(e){return c.items.hasOwnProperty(e.id)})),this.onRowsChanged()},a.prototype.onItemExpanding=function(b){var c=this.items[b.item.id];c&&(c.expanded=!0)},a.prototype.onItemExpanded=function(b){var c=b.item,e=this.items[c.id];if(e){e.expanded=!0;var f=this.onInsertItems(c.getNavigator(),c.id)||0,g=this.scrollTop;e.top+e.height<=this.scrollTop&&(g+=f),this.onRowsChanged(g)}},a.prototype.onItemCollapsing=function(b){var c=b.item,e=this.items[c.id];e&&(e.expanded=!1,this.onRemoveItems(new Ut(c.getNavigator(),function(f){return f&&f.id})),this.onRowsChanged())},a.prototype.onItemReveal=function(b){var c=b.item,e=b.relativeTop,f=this.items[c.id];if(f)if(e!==null){e=e<0?0:e,e=e>1?1:e;var g=f.height-this.viewHeight;this.scrollTop=g*e+f.top}else{var h=f.top+f.height,i=this.scrollTop+this.viewHeight;f.top<this.scrollTop?this.scrollTop=f.top:h>=i&&(this.scrollTop=h-this.viewHeight)}},a.prototype.onItemAddTrait=function(b){var c=b.item,e=b.trait,f=this.items[c.id];f&&f.addClass(e),e==="highlighted"&&(U(this.domNode,e),f&&(this.highlightedItemWasDraggable=!!f.draggable,f.draggable&&(f.draggable=!1)))},a.prototype.onItemRemoveTrait=function(b){var c=b.item,e=b.trait,f=this.items[c.id];f&&f.removeClass(e),e==="highlighted"&&(fa(this.domNode,e),this.highlightedItemWasDraggable&&(f.draggable=!0),this.highlightedItemWasDraggable=!1)},a.prototype.onModelFocusChange=function(){var b=this.model&&this.model.getFocus();qa(this.domNode,"no-focused-item",!b),b?this.domNode.setAttribute("aria-activedescendant",pu(this.context.dataSource.getId(this.context.tree,b))):this.domNode.removeAttribute("aria-activedescendant")},a.prototype.onInsertItem=function(b){var c=this;b.onDragStart=function(e){c.onDragStart(b,e)},b.needsRender=!0,this.refreshViewItem(b),this.items[b.id]=b},a.prototype.onRefreshItem=function(b,c){c===void 0&&(c=!1),b.needsRender=b.needsRender||c,this.refreshViewItem(b)},a.prototype.onRemoveItem=function(b){this.removeItemFromDOM(b),b.dispose(),delete this.items[b.id]},a.prototype.refreshViewItem=function(b){b.render(),this.shouldBeRendered(b)?this.insertItemInDOM(b):this.removeItemFromDOM(b)},a.prototype.onClick=function(b){if(this.lastPointerType&&this.lastPointerType!=="mouse")return;var c=new yb(b),e=this.getItemAround(c.target);if(!e)return;xb&&Date.now()-this.lastClickTimeStamp<300&&(c.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,e.model.getElement(),c)},a.prototype.onMouseMiddleClick=function(b){if(!this.context.controller.onMouseMiddleClick)return;var c=new yb(b),e=this.getItemAround(c.target);if(!e)return;this.context.controller.onMouseMiddleClick(this.context.tree,e.model.getElement(),c)},a.prototype.onMouseDown=function(b){this.didJustPressContextMenuKey=!1;if(!this.context.controller.onMouseDown)return;if(this.lastPointerType&&this.lastPointerType!=="mouse")return;var c=new yb(b);if(c.ctrlKey&&lc&&ka)return;var e=this.getItemAround(c.target);if(!e)return;this.context.controller.onMouseDown(this.context.tree,e.model.getElement(),c)},a.prototype.onMouseUp=function(b){if(!this.context.controller.onMouseUp)return;if(this.lastPointerType&&this.lastPointerType!=="mouse")return;var c=new yb(b);if(c.ctrlKey&&lc&&ka)return;var e=this.getItemAround(c.target);if(!e)return;this.context.controller.onMouseUp(this.context.tree,e.model.getElement(),c)},a.prototype.onTap=function(b){var c=this.getItemAround(b.initialTarget);if(!c)return;this.context.controller.onTap(this.context.tree,c.model.getElement(),b)},a.prototype.onTouchChange=function(b){b.preventDefault(),b.stopPropagation(),this.scrollTop-=b.translationY},a.prototype.onContextMenu=function(b){var c,e;if(b instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var f=new Pa(b);e=this.model.getFocus();var g=void 0;if(!e)e=this.model.getInput(),g=ab(this.inputItem.element);else{var h=this.context.dataSource.getId(this.context.tree,e),i=this.items[h];g=ab(i.element)}c=new dC(g.left+g.width,g.top,f)}else{var j=new yb(b),k=this.getItemAround(j.target);if(!k)return;e=k.model.getElement(),c=new cC(j)}this.context.controller.onContextMenu(this.context.tree,e,c)},a.prototype.onKeyDown=function(b){var c=new Pa(b);this.didJustPressContextMenuKey=c.keyCode===58||c.shiftKey&&c.keyCode===68;if(c.target&&c.target.tagName&&c.target.tagName.toLowerCase()==="input")return;this.didJustPressContextMenuKey&&(c.preventDefault(),c.stopPropagation()),this.context.controller.onKeyDown(this.context.tree,c)},a.prototype.onKeyUp=function(b){this.didJustPressContextMenuKey&&this.onContextMenu(b),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new Pa(b))},a.prototype.onDragStart=function(b,c){if(this.model.getHighlight())return;var e=b.model.getElement(),f=this.model.getSelection(),g;f.indexOf(e)>-1?g=f:g=[e],c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setData(Vi.RESOURCES,JSON.stringify([b.uri]));if(c.dataTransfer.setDragImage){var h=void 0;this.context.dnd.getDragLabel?h=this.context.dnd.getDragLabel(this.context.tree,g):h=String(g.length);var i=document.createElement("div");i.className="monaco-tree-drag-image",i.textContent=h,document.body.appendChild(i),c.dataTransfer.setDragImage(i,-10,-10),setTimeout(function(){return document.body.removeChild(i)},0)}this.currentDragAndDropData=new jC(g),Wc.CurrentDragAndDropData=new kC(g),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new Sn(c))},a.prototype.setupDragAndDropScrollInterval=function(){var b=this,c=Yi(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(b.dragAndDropMouseY===null)return;var e=b.dragAndDropMouseY-c,f=0,g=b.viewHeight-35;e<35?f=Math.max(-14,.2*(e-35)):e>g&&(f=Math.min(14,.2*(e-g))),b.scrollTop+=f},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){b.cancelDragAndDropScrollInterval(),b.dragAndDropScrollTimeout=null},1e3))},a.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},a.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},a.prototype.onDragOver=function(b){var c=this;b.preventDefault();var e=new Sn(b),f=this.getItemAround(e.target);if(!f||e.posx===0&&e.posy===0&&e.browserEvent.type===pa.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(o){return o.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=e.posy;if(!this.currentDragAndDropData)if(Wc.CurrentDragAndDropData)this.currentDragAndDropData=Wc.CurrentDragAndDropData;else{if(!e.dataTransfer.types)return!1;this.currentDragAndDropData=new lC()}this.currentDragAndDropData.update(e.browserEvent.dataTransfer);var g,h=f.model,i;do{g=h?h.getElement():this.model.getInput(),i=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,g,e);if(!i||i.bubble!==1)break;h=h&&h.parent}while(h);if(!h)return this.currentDropElement=null,!1;var j=i&&i.accept;j?(this.currentDropElement=h.getElement(),e.preventDefault(),e.dataTransfer.dropEffect=i.effect===0?"copy":"move"):this.currentDropElement=null;var k=h.id===this.inputItem.id?this.inputItem:this.items[h.id];if(this.shouldInvalidateDropReaction||this.currentDropTarget!==k||!BR(this.currentDropElementReaction,i)){this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(o){return o.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.currentDropTarget=k,this.currentDropElementReaction=i;if(j){this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget));if(i.bubble===0)for(var l=h.getNavigator(),m=void 0;m=l.next();)f=this.items[m.id],f&&(f.dropTarget=!0,this.currentDropTargets.push(f));if(i.autoExpand){var n=Sf(500);this.currentDropDisposable=va(function(){return n.cancel()}),n.then(function(){return c.context.tree.expand(c.currentDropElement)}).then(function(){return c.shouldInvalidateDropReaction=!0})}}}return!0},a.prototype.onDrop=function(b){if(this.currentDropElement){var c=new Sn(b);c.preventDefault(),this.currentDragAndDropData.update(c.browserEvent.dataTransfer),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,c),this.onDragEnd(b)}this.cancelDragAndDropScrollInterval()},a.prototype.onDragEnd=function(b){this.currentDropTarget&&(this.currentDropTargets.forEach(function(c){return c.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropDisposable.dispose(),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,Wc.CurrentDragAndDropData=void 0,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},a.prototype.onFocus=function(){this.context.options.alwaysFocused||U(this.domNode,"focused"),this._onDOMFocus.fire()},a.prototype.onBlur=function(){this.context.options.alwaysFocused||fa(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},a.prototype.onMsPointerDown=function(b){if(!this.msGesture)return;var c=b.pointerType;if(c===(b.MSPOINTER_TYPE_MOUSE||"mouse")){this.lastPointerType="mouse";return}else if(c===(b.MSPOINTER_TYPE_TOUCH||"touch"))this.lastPointerType="touch";else return;b.stopPropagation(),b.preventDefault(),this.msGesture.addPointer(b.pointerId)},a.prototype.onThrottledMsGestureChange=function(b){this.scrollTop-=b.translationY},a.prototype.onMsGestureTap=function(b){b.initialTarget=document.elementFromPoint(b.clientX,b.clientY),this.onTap(b)},a.prototype.insertItemInDOM=function(b){var c=null,e=this.itemAfter(b);e&&e.element&&(c=e.element),b.insertInDOM(this.rowsContainer,c)},a.prototype.removeItemFromDOM=function(b){if(!b)return;b.removeFromDOM()},a.prototype.shouldBeRendered=function(b){return b.top<this.lastRenderTop+this.lastRenderHeight&&b.top+b.height>this.lastRenderTop},a.prototype.getItemAround=function(b){var c=this.inputItem,e=b;do{e[a.BINDING]&&(c=e[a.BINDING]);if(e===this.wrapper||e===this.domNode)return c;if(e===this.scrollableElement.getDomNode()||e===document.body)return}while(e=e.parentElement);return},a.prototype.releaseModel=function(){this.model&&(this.modelListeners=ca(this.modelListeners),this.model=null)},a.prototype.dispose=function(){var b=this;this.scrollableElement.dispose(),this.releaseModel(),this.viewListeners=ca(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.items&&Object.keys(this.items).forEach(function(c){return b.items[c].removeFromDOM()}),this.context.cache&&this.context.cache.dispose(),this.gestureDisposable.dispose(),d.prototype.dispose.call(this)},a.BINDING="monaco-tree-row",a.LOADING_DECORATION_DELAY=800,a.counter=0,a}(rC);var tR=function(){function d(a,b,c){c===void 0&&(c={}),this.tree=a,this.configuration=b,this.options=c;if(!b.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=b.dataSource,this.renderer=b.renderer,this.controller=b.controller||new _o({clickBehavior:1,keyboardSupport:typeof c.keyboardSupport!=="boolean"||c.keyboardSupport}),this.dnd=b.dnd||new fC(),this.filter=b.filter||new gC(),this.sorter=b.sorter,this.accessibilityProvider=b.accessibilityProvider||new hC(),this.styler=b.styler}return d}(),uR={listFocusBackground:M.fromHex("#073655"),listActiveSelectionBackground:M.fromHex("#0E639C"),listActiveSelectionForeground:M.fromHex("#FFFFFF"),listFocusAndSelectionBackground:M.fromHex("#094771"),listFocusAndSelectionForeground:M.fromHex("#FFFFFF"),listInactiveSelectionBackground:M.fromHex("#3F3F46"),listHoverBackground:M.fromHex("#2A2D2E"),listDropBackground:M.fromHex("#383B3D")},ZB=function(){function d(a,b,c){c===void 0&&(c={}),this._onDidChangeFocus=new ec(),this.onDidChangeFocus=this._onDidChangeFocus.event,this._onDidChangeSelection=new ec(),this.onDidChangeSelection=this._onDidChangeSelection.event,this._onHighlightChange=new ec(),this._onDidExpandItem=new ec(),this._onDidCollapseItem=new ec(),this._onDispose=new E(),this.onDidDispose=this._onDispose.event,this.container=a,Pb(c,uR,!1),c.twistiePixels=typeof c.twistiePixels==="number"?c.twistiePixels:32,c.showTwistie=c.showTwistie===!1?!1:!0,c.indentPixels=typeof c.indentPixels==="number"?c.indentPixels:12,c.alwaysFocused=c.alwaysFocused===!0?!0:!1,c.useShadows=c.useShadows===!1?!1:!0,c.paddingOnRow=c.paddingOnRow===!1?!1:!0,c.showLoading=c.showLoading===!1?!1:!0,this.context=new tR(this,b,c),this.model=new mC(this.context),this.view=new $o(this.context,this.container),this.view.setModel(this.model),this._onDidChangeFocus.input=this.model.onDidFocus,this._onDidChangeSelection.input=this.model.onDidSelect,this._onHighlightChange.input=this.model.onDidHighlight,this._onDidExpandItem.input=this.model.onDidExpandItem,this._onDidCollapseItem.input=this.model.onDidCollapseItem}return d.prototype.style=function(a){this.view.applyStyles(a)},Object.defineProperty(d.prototype,"onDidFocus",{get:function(){return this.view.onDOMFocus},enumerable:!0,configurable:!0}),d.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},d.prototype.layout=function(a,b){this.view.layout(a,b)},d.prototype.domFocus=function(){this.view.focus()},d.prototype.isDOMFocused=function(){return this.view.isFocused()},d.prototype.domBlur=function(){this.view.blur()},d.prototype.setInput=function(a){return this.model.setInput(a)},d.prototype.getInput=function(){return this.model.getInput()},d.prototype.expand=function(a){return this.model.expand(a)},d.prototype.collapse=function(a,b){return b===void 0&&(b=!1),this.model.collapse(a,b)},d.prototype.toggleExpansion=function(a,b){return b===void 0&&(b=!1),this.model.toggleExpansion(a,b)},d.prototype.isExpanded=function(a){return this.model.isExpanded(a)},d.prototype.reveal=function(a,b){return b===void 0&&(b=null),this.model.reveal(a,b)},d.prototype.getHighlight=function(){return this.model.getHighlight()},d.prototype.clearHighlight=function(a){this.model.setHighlight(null,a)},d.prototype.setSelection=function(a,b){this.model.setSelection(a,b)},d.prototype.getSelection=function(){return this.model.getSelection()},d.prototype.clearSelection=function(a){this.model.setSelection([],a)},d.prototype.setFocus=function(a,b){this.model.setFocus(a,b)},d.prototype.getFocus=function(){return this.model.getFocus()},d.prototype.focusNext=function(a,b){this.model.focusNext(a,b)},d.prototype.focusPrevious=function(a,b){this.model.focusPrevious(a,b)},d.prototype.focusParent=function(a){this.model.focusParent(a)},d.prototype.focusFirstChild=function(a){this.model.focusFirstChild(a)},d.prototype.focusFirst=function(a,b){this.model.focusFirst(a,b)},d.prototype.focusNth=function(a,b){this.model.focusNth(a,b)},d.prototype.focusLast=function(a,b){this.model.focusLast(a,b)},d.prototype.focusNextPage=function(a){this.view.focusNextPage(a)},d.prototype.focusPreviousPage=function(a){this.view.focusPreviousPage(a)},d.prototype.clearFocus=function(a){this.model.setFocus(null,a)},d.prototype.dispose=function(){this._onDispose.fire(),this.model.dispose(),this.view.dispose(),this._onDidChangeFocus.dispose(),this._onDidChangeSelection.dispose(),this._onHighlightChange.dispose(),this._onDidExpandItem.dispose(),this._onDidCollapseItem.dispose(),this._onDispose.dispose()},d}();var CO=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),DO="done",EO="active",wz="infinite",FO="discrete",GO="monaco-progress-container",HO="progress-bit",IO={progressBarBackground:M.fromHex("#0E70C0")},xz=function(d){CO(a,d);function a(b,c){var e=d.call(this)||this;return e.options=c||Object.create(null),Pb(e.options,IO,!1),e.workedVal=0,e.progressBarBackground=e.options.progressBarBackground,e._register(e.showDelayedScheduler=new Ka(function(){return Ob(e.element)},0)),e.create(b),e}return a.prototype.create=function(b){this.element=document.createElement("div"),U(this.element,GO),b.appendChild(this.element),this.bit=document.createElement("div"),U(this.bit,HO),this.element.appendChild(this.bit),this.applyStyles()},a.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",_e(this.element,EO,wz,FO),this.workedVal=0,this.totalWork=void 0},a.prototype.stop=function(){return this.doDone(!1)},a.prototype.doDone=function(b){var c=this;return U(this.element,DO),Kc(this.element,wz)?(this.bit.style.opacity="0",b?setTimeout(function(){return c.off()},200):this.off()):(this.bit.style.width="inherit",b?setTimeout(function(){return c.off()},200):this.off()),this},a.prototype.hide=function(){zb(this.element),this.showDelayedScheduler.cancel()},a.prototype.style=function(b){this.progressBarBackground=b.progressBarBackground,this.applyStyles()},a.prototype.applyStyles=function(){if(this.bit){var b=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=b}},a}(I);var YB=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),rR=function(d){YB(a,d);function a(){return d!==null&&d.apply(this,arguments)||this}return a.prototype.onContextMenu=function(b,c,e){return ka?this.onLeftClick(b,c,e):d.prototype.onContextMenu.call(this,b,c,e)},a}(_o),sR={background:M.fromHex("#1E1E1E"),foreground:M.fromHex("#CCCCCC"),pickerGroupForeground:M.fromHex("#0097FB"),pickerGroupBorder:M.fromHex("#3F3F46"),widgetShadow:M.fromHex("#000000"),progressBarBackground:M.fromHex("#0E70C0")},_B=s("quickOpenAriaLabel","Quick picker. Type to narrow down results."),$B=function(d){YB(a,d);function a(b,c,e){var f=d.call(this)||this;return f.isDisposed=!1,f.container=b,f.callbacks=c,f.options=e,f.styles=e||Object.create(null),Pb(f.styles,sR,!1),f.model=null,f}return a.prototype.getModel=function(){return this.model},a.prototype.create=function(){var b=this;this.element=document.createElement("div"),U(this.element,"monaco-quick-open-widget"),this.container.appendChild(this.element),this._register(R(this.element,pa.CONTEXT_MENU,function(e){return Ma.stop(e,!0)})),this._register(R(this.element,pa.FOCUS,function(e){return b.gainingFocus()},!0)),this._register(R(this.element,pa.BLUR,function(e){return b.loosingFocus(e)},!0)),this._register(R(this.element,pa.KEY_DOWN,function(e){var f=new Pa(e);if(f.keyCode===9)Ma.stop(e,!0),b.hide(2);else if(f.keyCode===2&&!f.altKey&&!f.ctrlKey&&!f.metaKey){var g=e.currentTarget.querySelectorAll("input, .monaco-tree, .monaco-tree-row.focused .action-label.icon");f.shiftKey&&f.target===g[0]?(Ma.stop(e,!0),g[g.length-1].focus()):!f.shiftKey&&f.target===g[g.length-1]&&(Ma.stop(e,!0),g[0].focus())}})),this.progressBar=this._register(new xz(this.element,{progressBarBackground:this.styles.progressBarBackground})),this.progressBar.hide(),this.inputContainer=document.createElement("div"),U(this.inputContainer,"quick-open-input"),this.element.appendChild(this.inputContainer),this.inputBox=this._register(new Zs(this.inputContainer,void 0,{placeholder:this.options.inputPlaceHolder||"",ariaLabel:_B,inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder})),this.inputElement=this.inputBox.inputElement,this.inputElement.setAttribute("role","combobox"),this.inputElement.setAttribute("aria-haspopup","false"),this.inputElement.setAttribute("aria-autocomplete","list"),this._register(R(this.inputBox.inputElement,pa.INPUT,function(e){return b.onType()})),this._register(R(this.inputBox.inputElement,pa.KEY_DOWN,function(e){var f=new Pa(e),g=b.shouldOpenInBackground(f);if(f.keyCode===2)return;if(f.keyCode===18||f.keyCode===16||f.keyCode===12||f.keyCode===11)Ma.stop(e,!0),b.navigateInTree(f.keyCode,f.shiftKey),b.inputBox.inputElement.selectionStart===b.inputBox.inputElement.selectionEnd&&(b.inputBox.inputElement.selectionStart=b.inputBox.value.length);else if(f.keyCode===3||g){Ma.stop(e,!0);var h=b.tree.getFocus();h&&b.elementSelected(h,e,g?2:1)}})),this.resultCount=document.createElement("div"),U(this.resultCount,"quick-open-result-count"),this.resultCount.setAttribute("aria-live","polite"),this.resultCount.setAttribute("aria-atomic","true"),this.element.appendChild(this.resultCount),this.treeContainer=document.createElement("div"),U(this.treeContainer,"quick-open-tree"),this.element.appendChild(this.treeContainer);var c=this.options.treeCreator||function(e,f,g){return new ZB(e,f,g)};return this.tree=this._register(c(this.treeContainer,{dataSource:new UB(this),controller:new rR({clickBehavior:1,keyboardSupport:this.options.keyboardSupport}),renderer:this.renderer=new XB(this,this.styles),filter:new WB(this),accessibilityProvider:new VB(this)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:3,horizontalScrollMode:2,ariaLabel:s("treeAriaLabel","Quick Picker"),keyboardSupport:this.options.keyboardSupport,preventRootFocus:!1})),this.treeElement=this.tree.getHTMLElement(),this._register(this.tree.onDidChangeFocus(function(e){b.elementFocused(e.focus,e)})),this._register(this.tree.onDidChangeSelection(function(e){if(e.selection&&e.selection.length>0){var f=e.payload&&e.payload.originalEvent instanceof yb?e.payload.originalEvent:void 0,g=f?b.shouldOpenInBackground(f):!1;b.elementSelected(e.selection[0],e,g?2:1)}})),this._register(R(this.treeContainer,pa.KEY_DOWN,function(e){var f=new Pa(e);if(!b.quickNavigateConfiguration)return;if(f.keyCode===18||f.keyCode===16||f.keyCode===12||f.keyCode===11)Ma.stop(e,!0),b.navigateInTree(f.keyCode);else if(f.keyCode===3){Ma.stop(e,!0);var g=b.tree.getFocus();g&&b.elementSelected(g,e)}})),this._register(R(this.treeContainer,pa.KEY_UP,function(e){var f=new Pa(e),g=f.keyCode;if(!b.quickNavigateConfiguration)return;var h=b.quickNavigateConfiguration.keybindings,i=h.some(function(k){var l=k.getParts(),m=l[0],n=l[1];return n?!1:m.shiftKey&&g===4?f.ctrlKey||f.altKey||f.metaKey?!1:!0:m.altKey&&g===6?!0:m.ctrlKey&&g===5?!0:m.metaKey&&g===57?!0:!1});if(i){var j=b.tree.getFocus();j&&b.elementSelected(j,e)}})),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),this._register(R(this.treeContainer,pa.KEY_DOWN,function(e){var f=new Pa(e);if(b.quickNavigateConfiguration)return;(f.keyCode===18||f.keyCode===16||f.keyCode===12||f.keyCode===11)&&(Ma.stop(e,!0),b.navigateInTree(f.keyCode,f.shiftKey),b.treeElement.focus())})),this.element},a.prototype.style=function(b){this.styles=b,this.applyStyles()},a.prototype.applyStyles=function(){if(this.element){var b=this.styles.foreground?this.styles.foreground.toString():"",c=this.styles.background?this.styles.background.toString():"",e=this.styles.borderColor?this.styles.borderColor.toString():"",f=this.styles.widgetShadow?this.styles.widgetShadow.toString():"";this.element.style.color=b,this.element.style.backgroundColor=c,this.element.style.borderColor=e,this.element.style.borderWidth=e?"1px":"",this.element.style.borderStyle=e?"solid":"",this.element.style.boxShadow=f?"0 5px 8px "+f:""}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&!this.options.treeCreator&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},a.prototype.shouldOpenInBackground=function(b){if(b instanceof Pa){if(b.keyCode!==17)return!1;if(b.metaKey||b.ctrlKey||b.shiftKey||b.altKey)return!1;var c=this.inputBox.inputElement;return c.selectionEnd===this.inputBox.value.length&&c.selectionStart===c.selectionEnd}return b.middleButton},a.prototype.onType=function(){var b=this.inputBox.value;this.helpText&&(b?zb(this.helpText):Ob(this.helpText)),this.callbacks.onType(b)},a.prototype.navigateInTree=function(b,c){var e=this.tree.getInput(),f=e?e.entries:[],g=this.tree.getFocus();switch(b){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:c?this.tree.focusPrevious():this.tree.focusNext();break}var h=this.tree.getFocus();f.length>1&&g===h&&(b===16||b===2&&c?this.tree.focusLast():(b===18||b===2&&!c)&&this.tree.focusFirst()),h=this.tree.getFocus(),h&&this.tree.reveal(h)},a.prototype.elementFocused=function(b,c){if(!b||!this.isVisible())return;var e=this.treeElement.getAttribute("aria-activedescendant");e?this.inputElement.setAttribute("aria-activedescendant",e):this.inputElement.removeAttribute("aria-activedescendant");var f={event:c,keymods:this.extractKeyMods(c),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(b,0,f)},a.prototype.elementSelected=function(b,c,e){var f=!0;if(this.isVisible()){var g=e||1,h={event:c,keymods:this.extractKeyMods(c),quickNavigateConfiguration:this.quickNavigateConfiguration};f=this.model.runner.run(b,g,h)}f&&this.hide(0)},a.prototype.extractKeyMods=function(b){return{ctrlCmd:b&&(b.ctrlKey||b.metaKey||b.payload&&b.payload.originalEvent&&(b.payload.originalEvent.ctrlKey||b.payload.originalEvent.metaKey)),alt:b&&(b.altKey||b.payload&&b.payload.originalEvent&&b.payload.originalEvent.altKey)}},a.prototype.show=function(b,c){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=c?c.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(zb(this.inputContainer),Ob(this.element),this.tree.domFocus()):(Ob(this.inputContainer),Ob(this.element),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||od(b)?zb(this.helpText):Ob(this.helpText)),od(b)?this.doShowWithPrefix(b):(c&&c.value&&this.restoreLastInput(c.value),this.doShowWithInput(b,c&&c.autoFocus?c.autoFocus:{})),c&&c.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(c.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},a.prototype.restoreLastInput=function(b){this.inputBox.value=b,this.inputBox.select(),this.callbacks.onType(b)},a.prototype.doShowWithPrefix=function(b){this.inputBox.value=b,this.callbacks.onType(b)},a.prototype.doShowWithInput=function(b,c){this.setInput(b,c)},a.prototype.setInputAndLayout=function(b,c){var e=this;this.treeContainer.style.height=this.getHeight(b)+"px",this.tree.setInput(null).then(function(){return e.model=b,e.inputElement.setAttribute("aria-haspopup",String(b&&b.entries&&b.entries.length>0)),e.tree.setInput(b)}).then(function(){e.tree.layout();var f=b?b.entries.filter(function(g){return e.isElementVisible(b,g)}):[];e.updateResultCount(f.length),f.length&&e.autoFocus(b,f,c)})},a.prototype.isElementVisible=function(b,c){return b.filter?b.filter.isVisible(c):!0},a.prototype.autoFocus=function(b,c,e){e===void 0&&(e={});if(e.autoFocusPrefixMatch){for(var f=void 0,g=void 0,h=e.autoFocusPrefixMatch,i=h.toLowerCase(),j=0,k=c;j<k.length;j++){var l=k[j],m=b.dataSource.getLabel(l)||"";!f&&m.indexOf(h)===0?f=l:!g&&m.toLowerCase().indexOf(i)===0&&(g=l);if(f&&g)break}var n=f||g;if(n){this.tree.setFocus(n),this.tree.reveal(n,.5);return}}e.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus())):typeof e.autoFocusIndex==="number"?c.length>e.autoFocusIndex&&(this.tree.focusNth(e.autoFocusIndex),this.tree.reveal(this.tree.getFocus())):e.autoFocusSecondEntry?c.length>1&&this.tree.focusNth(1):e.autoFocusLastEntry&&(c.length>1&&(this.tree.focusLast(),this.tree.reveal(this.tree.getFocus())))},a.prototype.getHeight=function(b){var c=this,e=b.renderer;if(!b){var f=e.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*f:0}var g=0,h;this.layoutDimensions&&this.layoutDimensions.height&&(h=(this.layoutDimensions.height-50)*.4),(!h||h>a.MAX_ITEMS_HEIGHT)&&(h=a.MAX_ITEMS_HEIGHT);for(var i=b.entries.filter(function(m){return c.isElementVisible(b,m)}),j=this.options.maxItemsToShow||i.length,k=0;k<j&&k<i.length;k++){var l=e.getHeight(i[k]);if(g+l<=h)g+=l;else break}return g},a.prototype.updateResultCount=function(b){this.resultCount.textContent=s({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results",b)},a.prototype.hide=function(b){if(!this.isVisible())return;this.visible=!1,zb(this.element),this.element.blur(),this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style.height=(this.options.minItemsToShow?this.options.minItemsToShow*22:0)+"px",this.progressBar.stop().hide(),this.tree.isDOMFocused()?this.tree.domBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),b===0?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(b)},a.prototype.setInput=function(b,c,e){if(!this.isVisible())return;this.getInput()&&this.onInputChanging(),this.setInputAndLayout(b,c),this.inputBox&&this.inputBox.setAriaLabel(e||_B)},a.prototype.onInputChanging=function(){var b=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),U(this.element,"content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){fa(b.element,"content-changing")},500)},a.prototype.getInput=function(){return this.tree.getInput()},a.prototype.isVisible=function(){return this.visible},a.prototype.layout=function(b){this.layoutDimensions=b;var c=Math.min(this.layoutDimensions.width*.62,a.MAX_WIDTH);this.element&&(this.element.style.width=c+"px",this.element.style.marginLeft="-"+c/2+"px",this.inputContainer.style.width=c-12+"px")},a.prototype.gainingFocus=function(){this.isLoosingFocus=!1},a.prototype.loosingFocus=function(b){var c=this;if(!this.isVisible())return;var e=b.relatedTarget;if(!this.quickNavigateConfiguration&&Xc(e,this.element))return;this.isLoosingFocus=!0,setTimeout(function(){if(!c.isLoosingFocus||c.isDisposed)return;var f=c.callbacks.onFocusLost&&c.callbacks.onFocusLost();f||c.hide(1)},0)},a.prototype.dispose=function(){d.prototype.dispose.call(this),this.isDisposed=!0},a.MAX_WIDTH=600,a.MAX_ITEMS_HEIGHT=20*22,a}(I);var RK=function(){function d(a,b,c,e,f,g){this.codeEditor=a,this.themeService=g,this.visible=!1,this.domNode=document.createElement("div"),this.quickOpenWidget=new $B(this.domNode,{onOk:b,onCancel:c,onType:e},{inputPlaceHolder:void 0,inputAriaLabel:f.inputAriaLabel,keyboardSupport:!0}),this.styler=UK(this.quickOpenWidget,this.themeService,{pickerGroupForeground:ga}),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)}return d.prototype.setInput=function(a,b){this.quickOpenWidget.setInput(a,b)},d.prototype.getId=function(){return d.ID},d.prototype.getDomNode=function(){return this.domNode},d.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose(),this.styler.dispose()},d.prototype.show=function(a){this.visible=!0;var b=this.codeEditor.getLayoutInfo();b&&this.quickOpenWidget.layout(new Jh(b.width,b.height)),this.quickOpenWidget.show(a),this.codeEditor.layoutOverlayWidget(this)},d.prototype.getPosition=function(){return this.visible?{preference:2}:null},d.ID="editor.contrib.quickOpenEditorWidget",d}();var d2=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),e2=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},f2=function(d,a){return function(b,c){a(b,c,d)}},Fx=function(){function d(a,b){this.themeService=b,this.widget=null,this.rangeHighlightDecorationId=null,this.lastKnownEditorSelection=null,this.editor=a}return d.get=function(a){return a.getContribution(d.ID)},d.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},d.prototype.run=function(a){var b=this;this.widget&&(this.widget.destroy(),this.widget=null);var c=function(e){b.clearDecorations(),e&&b.lastKnownEditorSelection&&(b.editor.setSelection(b.lastKnownEditorSelection),b.editor.revealRangeInCenterIfOutsideViewport(b.lastKnownEditorSelection,0)),b.lastKnownEditorSelection=null,(document.activeElement===document.body||!e)&&b.editor.focus()};this.widget=new RK(this.editor,function(){return c(!1)},function(){return c(!0)},function(e){b.widget.setInput(a.getModel(e),a.getAutoFocus(e))},{inputAriaLabel:a.inputAriaLabel},this.themeService),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),this.widget.show("")},d.prototype.decorateLine=function(a,b){var c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId),this.rangeHighlightDecorationId=null);var e=[{range:a,options:d._RANGE_HIGHLIGHT_DECORATION}],f=b.deltaDecorations(c,e);this.rangeHighlightDecorationId=f[0]},d.prototype.clearDecorations=function(){this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this.rangeHighlightDecorationId=null)},d.ID="editor.controller.quickOpenController",d._RANGE_HIGHLIGHT_DECORATION=na.register({className:"rangeHighlight",isWholeLine:!0}),d=e2([f2(1,Ia)],d),d}(),Tk=function(d){d2(a,d);function a(b,c){var e=d.call(this,c)||this;return e._inputAriaLabel=b,e}return a.prototype.getController=function(b){return Fx.get(b)},a.prototype._show=function(b,c){b.run({inputAriaLabel:this._inputAriaLabel,getModel:function(e){return c.getModel(e)},getAutoFocus:function(e){return c.getAutoFocus(e)}})},a}(aa);ra(Fx.ID,Fx);var SK=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),g2=function(d){SK(a,d);function a(b,c,e){var f=d.call(this)||this;return f.editor=c,f.decorator=e,f.parseResult=f.parseInput(b),f}return a.prototype.parseInput=function(b){var c=b.split(",").map(function(j){return parseInt(j,10)}).filter(function(j){return!isNaN(j)}),e;c.length===0?e=new G(-1,-1):c.length===1?e=new G(c[0],1):e=new G(c[0],c[1]);var f;if(Id(this.editor))f=this.editor.getModel();else{var g=this.editor.getModel();f=g?g.modified:null}var h=f?f.validatePosition(e).equals(e):!1,i;return h?e.column&&e.column>1?i=Ba(Af.gotoLineLabelValidLineAndColumn,e.lineNumber,e.column):i=Ba(Af.gotoLineLabelValidLine,e.lineNumber):e.lineNumber<1||e.lineNumber>(f?f.getLineCount():0)?i=Ba(Af.gotoLineLabelEmptyWithLineLimit,f?f.getLineCount():0):i=Ba(Af.gotoLineLabelEmptyWithLineAndColumnLimit,f?f.getLineMaxColumn(e.lineNumber):0),{position:e,isValid:h,label:i}},a.prototype.getLabel=function(){return this.parseResult.label},a.prototype.getAriaLabel=function(){var b=this.editor.getPosition(),c=b?b.lineNumber:0;return Ba(Af.gotoLineAriaLabel,c,this.parseResult.label)},a.prototype.run=function(b,c){return b===1?this.runOpen():this.runPreview()},a.prototype.runOpen=function(){if(!this.parseResult.isValid)return!1;var b=this.toSelection();return this.editor.setSelection(b),this.editor.revealRangeInCenter(b,0),this.editor.focus(),!0},a.prototype.runPreview=function(){if(!this.parseResult.isValid)return this.decorator.clearDecorations(),!1;var b=this.toSelection();return this.editor.revealRangeInCenter(b,0),this.decorator.decorateLine(b,this.editor),!1},a.prototype.toSelection=function(){return new z(this.parseResult.position.lineNumber,this.parseResult.position.column,this.parseResult.position.lineNumber,this.parseResult.position.column)},a}(Zo),h2=function(d){SK(a,d);function a(){return d.call(this,Af.gotoLineActionInput,{id:"editor.action.gotoLine",label:Af.gotoLineActionLabel,alias:"Go to Line...",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:2048|37,mac:{primary:256|37},weight:100}})||this}return a.prototype.run=function(b,c){var e=this;this._show(this.getController(c),{getModel:function(f){return new Cj([new g2(f,c,e.getController(c))])},getAutoFocus:function(f){return{autoFocusFirstEntry:f.length>0}}})},a}(Tk);N(h2);var TK=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),i2=function(d){TK(a,d);function a(b,c,e,f,g){var h=d.call(this)||this;return h.key=b,h.keyAriaLabel=c,h.setHighlights(e),h.action=f,h.editor=g,h}return a.prototype.getLabel=function(){return this.action.label},a.prototype.getAriaLabel=function(){return this.keyAriaLabel?Ba(zi.ariaLabelEntryWithKey,this.getLabel(),this.keyAriaLabel):Ba(zi.ariaLabelEntry,this.getLabel())},a.prototype.getGroupLabel=function(){return this.key},a.prototype.run=function(b,c){var e=this;return b===1?(setTimeout(function(){e.editor.focus();try{var f=e.action.run()||Promise.resolve();f.then(void 0,W)}catch(g){W(g)}},50),!0):!1},a}($h),j2=function(d){TK(a,d);function a(){return d.call(this,zi.quickCommandActionInput,{id:"editor.action.quickCommand",label:zi.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:C.focus,primary:xb?512|59:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})||this}return a.prototype.run=function(b,c){var e=this,f=b.get(Ja);this._show(this.getController(c),{getModel:function(g){return new Cj(e._editorActionsToEntries(f,c,g))},getAutoFocus:function(g){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:g}}})},a.prototype._sort=function(b,c){var e=(b.getLabel()||"").toLowerCase(),f=(c.getLabel()||"").toLowerCase();return e.localeCompare(f)},a.prototype._editorActionsToEntries=function(b,c,e){for(var f=c.getSupportedActions(),g=[],h=0,i=f;h<i.length;h++){var j=i[h],k=b.lookupKeybinding(j.id);if(j.label){var l=zo(e,j.label);l&&g.push(new i2(k?k.getLabel()||"":"",k?k.getAriaLabel()||"":"",l,j,c))}}return g=g.sort(this._sort),g},a}(Tk);N(j2);var qw=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),rk=function(){function d(){}return d.prototype.remove=function(){this.parent&&delete this.parent.children[this.id]},d.findId=function(a,b){var c;typeof a==="string"?c=b.id+"/"+a:(c=b.id+"/"+a.name,b.children[c]!==void 0&&(c=b.id+"/"+a.name+"_"+a.range.startLineNumber+"_"+a.range.startColumn));for(var e=c,f=0;b.children[e]!==void 0;f++)e=c+"_"+f;return e},d.empty=function(a){for(var b in a.children)return!1;return!0},d}(),rw=function(d){qw(a,d);function a(b,c,e){var f=d.call(this)||this;return f.id=b,f.parent=c,f.symbol=e,f.children=Object.create(null),f}return a}(rk),kY=function(d){qw(a,d);function a(b,c,e,f){var g=d.call(this)||this;return g.id=b,g.parent=c,g.provider=e,g.providerIndex=f,g.children=Object.create(null),g}return a}(rk),lY=function(){function d(){this._n=1,this._val=0}return d.prototype.update=function(a){return this._val=this._val+(a-this._val)/this._n,this._n+=1,this},d}(),CH=function(d){qw(a,d);function a(b){var c=d.call(this)||this;return c.textModel=b,c.id="root",c.parent=void 0,c._groups=Object.create(null),c.children=Object.create(null),c.id="root",c.parent=void 0,c}return a.create=function(b,c){var e=this,f=this._keys.for(b,!0),g=a._requests.get(f);if(!g){var h=new Oc();g={promiseCnt:0,source:h,promise:a._create(b,h.token),model:void 0},a._requests.set(f,g);var i=Date.now();g.promise.then(function(){var j=e._keys.for(b,!1),k=e._requestDurations.get(j);k||(k=new lY(),e._requestDurations.set(j,k)),k.update(Date.now()-i)})}return g.model?Promise.resolve(g.model):(g.promiseCnt+=1,c.onCancellationRequested(function(){--g.promiseCnt===0&&(g.source.cancel(),a._requests.delete(f))}),new Promise(function(j,k){g.promise.then(function(l){g.model=l,j(l)},function(l){a._requests.delete(f),k(l)})}))},a._create=function(b,c){var e=new Oc(c),f=new a(b),g=ke.ordered(b),h=g.map(function(j,k){var l=rk.findId("provider_"+k,f),m=new kY(l,f,j,k);return Promise.resolve(j.provideDocumentSymbols(f.textModel,e.token)).then(function(n){for(var o=0,p=n||[];o<p.length;o++){var q=p[o];a._makeOutlineElement(q,m)}return m},function(n){return tb(n),m}).then(function(n){rk.empty(n)?n.remove():f._groups[l]=n})}),i=ke.onDidChange(function(){var j=ke.ordered(b);xc(j,g)||e.cancel()});return Promise.all(h).then(function(){return e.token.isCancellationRequested&&!c.isCancellationRequested?a._create(b,c):f._compact()}).finally(function(){i.dispose()})},a._makeOutlineElement=function(b,c){var e=rk.findId(b,c),f=new rw(e,c,b);if(b.children)for(var g=0,h=b.children;g<h.length;g++){var i=h[g];a._makeOutlineElement(i,f)}c.children[f.id]=f},a.prototype._compact=function(){var b=0;for(var c in this._groups){var e=this._groups[c];Dt(e.children)===void 0?delete this._groups[c]:b+=1}if(b!==1)this.children=this._groups;else{var e=Dt(this._groups);for(var c in e.children){var f=e.children[c];f.parent=this,this.children[f.id]=f}}return this},a._requestDurations=new De(50,.7),a._requests=new De(9,.75),a._keys=new(function(){function b(){this._counter=1,this._data=new WeakMap()}return b.prototype.for=function(c,e){return c.id+"/"+(e?c.getVersionId():"")+"/"+this._hash(ke.all(c))},b.prototype._hash=function(c){for(var e="",f=0,g=c;f<g.length;f++){var h=g[f],i=this._data.get(h);typeof i==="undefined"&&(i=this._counter++,this._data.set(h,i)),e+=i}return e},b}())(),a}(rk);var KJ=function(d,a,b,c){function e(f){return f instanceof b?f:new b(function(g){g(f)})}return new(b||(b=Promise))(function(f,g){function h(k){try{j(c.next(k))}catch(l){g(l)}}function i(k){try{j(c.throw(k))}catch(l){g(l)}}function j(k){k.done?f(k.value):e(k.value).then(h,i)}j((c=c.apply(d,a||[])).next())})},LJ=function(d,a){var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,e,f,g;return g={next:h(0),throw:h(1),return:h(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function h(j){return function(k){return i([j,k])}}function i(j){if(c)throw new TypeError("Generator is already executing.");for(;b;)try{if(c=1,e&&(f=j[0]&2?e.return:j[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,j[1])).done)return f;(e=0,f)&&(j=[j[0]&2,f.value]);switch(j[0]){case 0:case 1:f=j;break;case 4:return b.label++,{value:j[1],done:!1};case 5:b.label++,e=j[1],j=[0];continue;case 7:j=b.ops.pop(),b.trys.pop();continue;default:if(!(f=b.trys,f=f.length>0&&f[f.length-1])&&(j[0]===6||j[0]===2)){b=0;continue}if(j[0]===3&&(!f||j[1]>f[0]&&j[1]<f[3])){b.label=j[1];break}if(j[0]===6&&b.label<f[1]){b.label=f[1],f=j;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(j);break}f[2]&&b.ops.pop(),b.trys.pop();continue}j=a.call(d,b)}catch(k){j=[6,k],e=0}finally{c=f=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};function Nr(d,a,b){return KJ(this,void 0,void 0,function(){var c,e,f,g,h,i;return LJ(this,function(j){switch(j.label){case 0:return[4,CH.create(d,b)];case 1:for(c=j.sent(),e=[],f=0,g=Ct(c.children);f<g.length;f++)h=g[f],h instanceof rw?e.push(h.symbol):e.push.apply(e,Ct(h.children).map(function(k){return k.symbol}));return i=[],b.isCancellationRequested?[2,i]:(a?MJ(i,e,""):i=e,[2,i.sort(a0)])}})})}function a0(d,a){return z.compareRangesUsingStarts(d.range,a.range)}function MJ(d,a,b){for(var c=0,e=a;c<e.length;c++){var f=e[c];d.push({kind:f.kind,tags:f.tags,name:f.name,detail:f.detail,containerName:f.containerName||b,range:f.range,selectionRange:f.selectionRange,children:void 0}),f.children&&MJ(d,f.children,f.name)}}Ca.registerCommand("_executeDocumentSymbolProvider",function(d){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];return KJ(this,void 0,void 0,function(){var c,e,f;return LJ(this,function(g){switch(g.label){case 0:return c=a[0],Ub(ja.isUri(c)),e=d.get(ub).getModel(c),e?[2,Nr(e,!1,xa.None)]:[4,d.get(rd).createModelReference(c)];case 1:f=g.sent(),g.label=2;case 2:return g.trys.push([2,,4,5]),[4,Nr(f.object.textEditorModel,!1,xa.None)];case 3:return[2,g.sent()];case 4:return f.dispose(),[7];case 5:return[2]}})})});var VK=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),Oi=":",k2=function(d){VK(a,d);function a(b,c,e,f,g,h,i){var j=d.call(this)||this;return j.name=b,j.type=c,j.description=e,j.range=f,j.setHighlights(g),j.editor=h,j.decorator=i,j}return a.prototype.getLabel=function(){return this.name},a.prototype.getAriaLabel=function(){return Ba(Tc.entryAriaLabel,this.name)},a.prototype.getIcon=function(){return this.type},a.prototype.getDescription=function(){return this.description},a.prototype.getType=function(){return this.type},a.prototype.getRange=function(){return this.range},a.prototype.run=function(b,c){return b===1?this.runOpen(c):this.runPreview()},a.prototype.runOpen=function(b){var c=this.toSelection();return this.editor.setSelection(c),this.editor.revealRangeInCenter(c,0),this.editor.focus(),!0},a.prototype.runPreview=function(){var b=this.toSelection();return this.editor.revealRangeInCenter(b,0),this.decorator.decorateLine(this.range,this.editor),!1},a.prototype.toSelection=function(){return new z(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)},a}($h),l2=function(d){VK(a,d);function a(){return d.call(this,Tc.quickOutlineActionInput,{id:"editor.action.quickOutline",label:Tc.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:C.hasDocumentSymbolProvider,kbOpts:{kbExpr:C.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})||this}return a.prototype.run=function(b,c){var e=this;if(!c.hasModel())return;var f=c.getModel();return ke.has(f)?Nr(f,!0,xa.None).then(function(g){if(g.length===0)return;e._run(c,g)}):void 0},a.prototype._run=function(b,c){var e=this;this._show(this.getController(b),{getModel:function(f){return new Cj(e.toQuickOpenEntries(b,c,f))},getAutoFocus:function(f){return f.indexOf(Oi)===0&&(f=f.substr(Oi.length)),{autoFocusPrefixMatch:f,autoFocusFirstEntry:!!f}}})},a.prototype.symbolEntry=function(b,c,e,f,g,h,i){return new k2(b,c,e,z.lift(f),g,h,i)},a.prototype.toQuickOpenEntries=function(b,c,e){var f=this.getController(b),g=[],h=e;e.indexOf(Oi)===0&&(h=h.substr(Oi.length));for(var i=0,j=c;i<j.length;i++){var k=j[i],l=vB(k.name),m=zo(h,l);if(m){var n=void 0;k.containerName&&(n=k.containerName),g.push(this.symbolEntry(l,Rp.toCssClassName(k.kind),n,k.range,m,b,f))}}e&&(e.indexOf(Oi)===0?g=g.sort(this.sortScoped.bind(this,e.toLowerCase())):g=g.sort(this.sortNormal.bind(this,e.toLowerCase())));if(g.length>0&&e.indexOf(Oi)===0){for(var o=null,p=null,q=0,r=0;r<g.length;r++){var t=g[r];o!==t.getType()?(p&&p.setGroupLabel(this.typeToLabel(o||"",q)),o=t.getType(),p=t,q=1,t.setShowBorder(r>0)):q++}p&&p.setGroupLabel(this.typeToLabel(o||"",q))}else g.length>0&&g[0].setGroupLabel(Ba(Tc._symbols_,g.length));return g},a.prototype.typeToLabel=function(b,c){switch(b){case"module":return Ba(Tc._modules_,c);case"class":return Ba(Tc._class_,c);case"interface":return Ba(Tc._interface_,c);case"method":return Ba(Tc._method_,c);case"function":return Ba(Tc._function_,c);case"property":return Ba(Tc._property_,c);case"variable":return Ba(Tc._variable_,c);case"var":return Ba(Tc._variable2_,c);case"constructor":return Ba(Tc._constructor_,c);case"call":return Ba(Tc._call_,c)}return b},a.prototype.sortNormal=function(b,c,e){var f=c.getLabel().toLowerCase(),g=e.getLabel().toLowerCase(),h=f.localeCompare(g);if(h!==0)return h;var i=c.getRange(),j=e.getRange();return i.startLineNumber-j.startLineNumber},a.prototype.sortScoped=function(b,c,e){b=b.substr(Oi.length);var f=c.getType(),g=e.getType(),h=f.localeCompare(g);if(h!==0)return h;if(b){var i=c.getLabel().toLowerCase(),j=e.getLabel().toLowerCase(),k=i.localeCompare(j);if(k!==0)return k}var l=c.getRange(),m=e.getRange();return l.startLineNumber-m.startLineNumber},a}(Tk);N(l2);var m2=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),n2=function(d,a,b,c){var e=arguments.length,f=e<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,b):c,g;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")f=Reflect.decorate(d,a,b,c);else for(var h=d.length-1;h>=0;h--)(g=d[h])&&(f=(e<3?g(f):e>3?g(a,b,f):g(a,b))||f);return e>3&&f&&Object.defineProperty(a,b,f),f},Uk=function(d,a){return function(b,c){a(b,c,d)}},o2=function(d){m2(a,d);function a(b,c,e,f,g,h,i){return d.call(this,!0,b,c,e,f,g,h,i)||this}return a=n2([Uk(1,ha),Uk(2,ya),Uk(3,Ra),Uk(4,Aa),Uk(5,zd),Uk(6,gb)],a),a}(Ki);ra(Ki.ID,o2);var D3=function(){var d=function(a,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])},d(a,b)};return function(a,b){d(a,b);function c(){this.constructor=a}a.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c())}}(),E3=function(d){D3(a,d);function a(){var b=d.call(this,{id:"editor.action.toggleHighContrast",label:Mq.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0})||this;return b._originalThemeName=null,b}return a.prototype.run=function(b,c){var e=b.get(ve);this._originalThemeName?(e.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=e.getTheme().themeName,e.setTheme("hc-black"))},a}(aa);N(E3);const Es=document.createElement("style");document.head.appendChild(Es);Es.innerHTML=".monaco-editor { display: none; }";fetch("./src/index.css").then(d=>d.text()).then(d=>Es.innerHTML=d);self.MonacoEnvironment={getWorkerUrl:function(d,a){return a==="json"?"./src/monaco/language/json/json.worker.js":a==="css"?"./src/monaco/language/css/css.worker.js":a==="html"?"./src/monaco/language/html/html.worker.js":a==="typescript"||a==="javascript"?"./src/monaco/language/typescript/ts.worker.js":"./src/monaco/editor/editor.worker.js"}};const oN={value:"",language:"typescript",theme:"vs-dark",formatOnType:!1,fontSize:16,tabSize:2,lineNumbersMinChars:3,minimap:{enabled:!0},scrollbar:{useShadows:!1},mouseWheelZoom:!0};var pN=d=>{const{container:a,...b}=d,c=Gn.create(a,{...oN,...b});d.theme==="vs-light"&&(a.style.backgroundColor="#fff"),(d.theme?.startsWith("http")||d.theme?.startsWith("./"))&&fetch(d.theme).then(g=>g.json()).then(g=>{Gn.defineTheme("theme",g),Gn.setTheme("theme"),a.style.backgroundColor=g.colors["editor.background"]}),addEventListener("resize",function(){c.layout()});const e=g=>navigator.platform.match("Mac")?g.metaKey:g.ctrlKey,f=g=>{e(g)&&g.keyCode==80&&(c.trigger("anyString","editor.action.quickCommand"),g.preventDefault()),e(g)&&g.keyCode==68&&g.preventDefault()};return a.addEventListener("keydown",f),c};export{pN as default};
/*!
Copyright (c) 2014 Taylor Hakes
Copyright (c) 2014 Forbes Lindesay
 */
